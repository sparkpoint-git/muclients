(function(t){function s(s){for(var i,r,o=s[0],u=s[1],l=s[2],d=0,h=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&h.push(a[r][0]),a[r]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);c&&c(s);while(h.length)h.shift()();return n.push.apply(n,l||[]),e()}function e(){for(var t,s=0;s<n.length;s++){for(var e=n[s],i=!0,o=1;o<e.length;o++){var u=e[o];0!==a[u]&&(i=!1)}i&&(n.splice(s--,1),t=r(r.s=e[0]))}return t}var i={},a={dashboard:0},n=[];function r(s){if(i[s])return i[s].exports;var e=i[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=i,r.d=function(t,s,e){r.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,s){if(1&s&&(t=r(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var i in t)r.d(e,i,function(s){return t[s]}.bind(null,i));return e},r.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(s,"a",s),s},r.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},r.p="/app/assets/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=s,o=o.slice();for(var l=0;l<o.length;l++)s(o[l]);var c=u;n.push([0,"chunk-vendors","chunk-common"]),e()})({0:function(t,s,e){t.exports=e("89f2")},"0150":function(t,s,e){},"89f2":function(t,s,e){"use strict";e.r(s);e("e260"),e("e6cf"),e("cca6"),e("a79d");var i=e("2b0e"),a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"sui-wrap",attrs:{id:"beehive-wrap"}},[s("sui-header",{attrs:{title:t.$i18n.title.dashboard},scopedSlots:t._u([{key:"right",fn:function(){return[s("refresh-button",{attrs:{loading:t.loading,notice:!1},on:{"update:loading":function(s){t.loading=s},refreshed:t.getSummary}}),s("sui-calendar-range",{attrs:{id:"beehive-stats-datepicker",periods:t.$vars.dates.periods,"start-date":t.$vars.dates.start_date,"end-date":t.$vars.dates.end_date,"selected-label":t.$vars.dates.selected_label},on:{periodChange:t.changePeriod}})]},proxy:!0}])}),s("summary-widget",{attrs:{stats:t.stats.summary,loading:t.loading}}),s("tutorial-slider"),s("div",{staticClass:"sui-row"},[s("div",{staticClass:"sui-col-lg-6"},[s("statistics-widget",{attrs:{stats:t.stats.list,loading:t.loading}})],1),s("div",{staticClass:"sui-col-lg-6"},[s("div",{staticClass:"sui-row"},[s("div",{staticClass:"sui-col-md-12"},[s("gtm-widget")],1)]),s("div",{staticClass:"sui-row"},[s("div",{staticClass:"sui-col"},[s("ga-widget")],1)])])]),s("sui-footer"),t.showOnboarding?s("onboarding"):t._e()],1)},n=[],r=e("7f2d"),o=function(){var t=this,s=t._self._c;return s("sui-box",{staticClass:"beehive-widget",attrs:{titleIcon:"gtm",title:t.$i18n.title.ga_box},scopedSlots:t._u([{key:"body",fn:function(){return[s("p",[t._v(t._s(t.$i18n.desc.ga_box))])]},proxy:!0},{key:"outside",fn:function(){return[s("table",{staticClass:"sui-table beehive-outside-table"},[s("tbody",[s("config-row",{attrs:{label:t.$i18n.label.ga4,status:t.getGA4Status}})],1),s("tfoot",[s("tr",[s("td",{attrs:{colspan:"3"}},[s("a",{staticClass:"sui-button sui-button-ghost",attrs:{href:"https://wpmudev.com/docs/wpmu-dev-plugins/beehive/#account-analytics",target:"_blank"}},[s("span",{staticClass:"sui-icon-open-new-window",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.button.learn_more)+" ")])])])])])]},proxy:!0}])})},u=[],l=function(){var t=this,s=t._self._c;return s("tr",[s("th",{staticClass:"content-title"},[t._v(t._s(t.label))]),s("td",{staticClass:"content-center"},[s("span",{class:t.tagClass},[t._v(" "+t._s(t.tagLabel)+" ")])]),s("td",{staticClass:"content-right"},[s("a",{staticClass:"sui-button-icon",attrs:{role:"button",href:t.$vars.urls.ga_account}},[s("span",{staticClass:"sui-icon-widget-settings-config",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sui-screen-reader-text"},[t._v(" "+t._s(t.$i18n.button.configure)+" ")])])])])},c=[],d={name:"ConfigRow",props:{label:String,status:String},computed:{tagClass:function(){return{"sui-tag":!0,"sui-tag-sm":!0,"sui-tag-red":"error"===this.status,"sui-tag-green":"active"===this.status}},tagLabel:function(){return"error"===this.status?this.$i18n.label.item_error:"active"===this.status?this.$i18n.label.item_active:this.$i18n.label.item_inactive}}},h=d,p=e("2877"),g=Object(p["a"])(h,l,c,!1,null,null,null),b=g.exports,_=e("e5d1"),v={name:"GaWidget",components:{SuiBox:_["a"],ConfigRow:b},computed:{isConnected:function(){return this.$store.state.helpers.google.logged_in},getGA4Status:function(){var t=!!this.getOption("stream","google");return this.isConnected&&!t?"error":t?"active":"inactive"}}},m=v,f=Object(p["a"])(m,o,u,!1,null,null,null),w=f.exports,C=function(){var t=this,s=t._self._c;return s("sui-box",{staticClass:"beehive-widget",attrs:{titleIcon:"gtm",title:t.$i18n.title.gtm_box},scopedSlots:t._u([{key:"body",fn:function(){return[s("p",[t._v(t._s(t.$i18n.desc.gtm_box))]),t.isActive?t._e():s("account-inactive"),t.isActive&&!t.isSetup?s("sui-notice",{attrs:{type:"warning"}},[s("p",[t._v(t._s(t.$i18n.notice.gtm_not_setup))]),s("p",[s("a",{staticClass:"sui-button",attrs:{role:"button",href:t.$vars.urls.gtm_account}},[t._v(" "+t._s(t.$i18n.button.finish_setup)+" ")])])]):t._e()]},proxy:!0},t.isActive&&t.isSetup?{key:"outside",fn:function(){return[s("account-active")]},proxy:!0}:null],null,!0)})},y=[],$=function(){var t=this,s=t._self._c;return s("fragment",[s("table",{staticClass:"sui-table beehive-outside-table"},[s("tbody",[s("tr",[s("th",{staticClass:"content-title"},[t._v(" "+t._s(t.$i18n.label.gtm_account)+" ")]),s("td",{staticClass:"content-center"},[s("span",{staticClass:"sui-tag sui-tag-blue sui-tag-sm"},[t._v(" "+t._s(t.$i18n.label.item_active)+" ")])]),s("td",{staticClass:"content-right"},[s("a",{staticClass:"sui-button-icon",attrs:{role:"button",href:t.$vars.urls.gtm_account}},[s("i",{staticClass:"sui-icon-widget-settings-config",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sui-screen-reader-text"},[t._v(" "+t._s(t.$i18n.button.configure)+" ")])])])]),s("tr",[s("th",{staticClass:"content-title"},[t._v(" "+t._s(t.$i18n.label.gtm_variables)+" ")]),s("td",{staticClass:"content-center"},[t._v(t._s(t.varsCount))]),s("td",{staticClass:"content-right"},[s("a",{staticClass:"sui-button-icon",attrs:{role:"button",href:t.$vars.urls.gtm_settings}},[s("i",{staticClass:"sui-icon-widget-settings-config",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sui-screen-reader-text"},[t._v(" "+t._s(t.$i18n.button.configure)+" ")])])])])]),s("tfoot",[s("tr",[s("td",{attrs:{colspan:"3"}},[s("a",{staticClass:"sui-button sui-button-ghost",attrs:{href:t.$vars.urls.gtm_settings}},[s("i",{staticClass:"sui-icon-eye",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.button.configure)+" ")])])])])])])},S=[],O=(e("b64b"),{name:"AccountActive",computed:{varsCount:function(){var t=this.getOption("enabled","gtm"),s=this.getOption("custom","gtm");return Object.keys(t).length+Object.keys(s).length}}}),x=O,k=Object(p["a"])(x,$,S,!1,null,null,null),j=k.exports,T=e("5659"),G=function(){var t=this,s=t._self._c;return s("a",{staticClass:"sui-button sui-button-blue",attrs:{role:"button",href:t.$vars.urls.gtm_account}},[t._v(" "+t._s(t.$i18n.button.activate)+" ")])},M=[],A={name:"AccountInactive"},P=A,W=Object(p["a"])(P,G,M,!1,null,null,null),N=W.exports,U={name:"GtmWidget",props:["stats","loading"],components:{SuiBox:_["a"],SuiNotice:T["a"],AccountActive:j,AccountInactive:N},computed:{isActive:function(){return this.getOption("active","gtm")},isSetup:function(){return!!this.getOption("container","gtm")}}},E=U,V=Object(p["a"])(E,C,y,!1,null,null,null),I=V.exports,L=e("23f7"),B=e("6e06"),R=e("2323"),q=e("c895"),D=(e("b0c0"),e("18a5"),function(){var t=this,s=t._self._c;return s("div",{class:t.summaryClass},[s("div",{staticClass:"sui-summary-image-space",style:t.reBrandedStyle,attrs:{"aria-hidden":"true"}}),s("div",{staticClass:"sui-summary-segment"},[t.loading?s("p",{staticClass:"beehive-loading-text"},[s("span",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.fetching_data)+" ")]):t._e(),s("div",{staticClass:"sui-summary-details"},[s("span",{staticClass:"sui-summary-large"},[t._v(" "+t._s(t.stats.pageviews.value||"-")+" ")]),s("span",{staticClass:"sui-summary-percent"},[t.pageViewsTrend<0?s("span",{staticClass:"beehive-stats-trend beehive-red"},[s("i",{staticClass:"sui-icon-arrow-down sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(Math.abs(t.pageViewsTrend))+"% ")]):t.pageViewsTrend>0?s("span",{staticClass:"beehive-stats-trend beehive-green"},[s("i",{staticClass:"sui-icon-arrow-up sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(Math.abs(t.pageViewsTrend))+"% ")]):0===t.pageViewsTrend?s("span",[t._v("0%")]):t._e()]),s("span",{staticClass:"sui-summary-sub"},[t._v(t._s(t.$i18n.label.pageviews))]),s("span",{staticClass:"sui-summary-detail"},[t._v(" "+t._s(t.stats.newUsers.trend||"")+" "),t.newUsersTrend<0?s("span",{staticClass:"beehive-stats-trend beehive-red"},[s("i",{staticClass:"sui-icon-arrow-down sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(Math.abs(t.newUsersTrend))+"% ")]):t.newUsersTrend>0?s("span",{staticClass:"beehive-stats-trend beehive-green"},[s("i",{staticClass:"sui-icon-arrow-up sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(Math.abs(t.newUsersTrend))+"% ")]):0===t.newUsersTrend?s("span",[t._v("0%")]):t._e()]),s("span",{staticClass:"sui-summary-sub"},[t._v(t._s(t.$i18n.label.new_users))])])]),s("div",{staticClass:"sui-summary-segment"},[s("ul",{staticClass:"sui-list"},[s("li",[s("span",{staticClass:"sui-list-label"},[t._v(" "+t._s(t.$i18n.label.top_page)+" ")]),s("span",{staticClass:"sui-list-detail",domProps:{innerHTML:t._s(t.stats.page.anchor||t.$i18n.label.none)}})]),s("li",[s("span",{staticClass:"sui-list-label"},[t._v(" "+t._s(t.$i18n.label.top_search_engine)+" ")]),s("span",{staticClass:"sui-list-detail"},[t._v(" "+t._s(t.stats.searchEngine.name||t.$i18n.label.none)+" ")])]),s("li",[s("span",{staticClass:"sui-list-label"},[t._v(" "+t._s(t.$i18n.label.top_medium)+" ")]),s("span",{staticClass:"sui-list-detail"},[t._v(" "+t._s(t.stats.medium.name||t.$i18n.label.none)+" ")])])])])])}),F=[],H={name:"SummaryWidget",props:["stats","loading"],computed:{pageViewsTrend:function(){return this.stats.pageviews.trend||""},newUsersTrend:function(){return this.stats.newUsers.trend||""},summaryClass:function(){return{"sui-box":!0,"sui-summary":!0,"sui-unbranded":this.$vars.whitelabel.is_unbranded,"sui-rebranded":this.$vars.whitelabel.is_rebranded,"beehive-loading":this.loading}},reBrandedStyle:function(){if(this.$vars.whitelabel.is_rebranded)return{"background-image":"url("+this.$vars.whitelabel.custom_image+")","background-size":"96px 96px"}}}},J=H,z=Object(p["a"])(J,D,F,!1,null,null,null),K=z.exports,Q=function(){var t=this,s=t._self._c;return s("sui-box",{staticClass:"beehive-widget",attrs:{id:"beehive-widget-stats",titleIcon:"graph-line","aria-live":"polite",loading:t.loading,title:t.$i18n.title.statistics_box},scopedSlots:t._u([{key:"body",fn:function(){return[t.loading?s("p",{staticClass:"beehive-loading-text"},[s("span",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.fetching_data)+" ")]):t._e(),s("p",[t._v(t._s(t.$i18n.desc.statistics_box))]),t.isConnected||t.canGetStats?t.isEmpty?s("sui-notice",{attrs:{type:"info"}},[s("p",[t._v(t._s(t.$i18n.notice.no_data))])]):t._e():s("fragment",[t.isNetwork()?s("sui-notice",{attrs:{type:"info"}},[s("p",[t._v(t._s(t.$i18n.notice.auth_required_network))])]):s("sui-notice",{attrs:{type:"info"}},[s("p",[t._v(t._s(t.$i18n.notice.auth_required))])]),s("a",{staticClass:"sui-button sui-button-blue",attrs:{role:"button",href:t.$vars.urls.accounts}},[s("i",{staticClass:"sui-icon-wrench-tool",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.configure_account)+" ")])],1)]},proxy:!0},{key:"outside",fn:function(){return[t.canGetStats&&!t.isEmpty?s("stats-list",{attrs:{stats:t.stats}}):t._e()]},proxy:!0}])})},X=[],Y=function(){var t=this,s=t._self._c;return s("table",{staticClass:"beehive-table"},[s("tbody",t._l(t.stats,(function(e,i){return s("fragment",{key:i},[t.canShow(i)?s("tr",[s("td",{staticClass:"beehive-stats-title"},[t._v(t._s(t.getTitle(i)))]),e.trend<0&&"bounce_rates"===i?s("td",{staticClass:"beehive-stats-trend beehive-green"},[s("i",{staticClass:"sui-icon-arrow-down sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(Math.abs(e.trend))+"% ")]):e.trend<0?s("td",{staticClass:"beehive-stats-trend beehive-red"},[s("i",{staticClass:"sui-icon-arrow-down sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(Math.abs(e.trend))+"% ")]):e.trend>0&&"bounce_rates"===i?s("td",{staticClass:"beehive-stats-trend beehive-red"},[s("i",{staticClass:"sui-icon-arrow-up sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(e.trend)+"% ")]):e.trend>0?s("td",{staticClass:"beehive-stats-trend beehive-green"},[s("i",{staticClass:"sui-icon-arrow-up sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(e.trend)+"% ")]):s("td",{staticClass:"beehive-stats-trend"},[t._v("0%")]),s("td",{staticClass:"beehive-stats-value"},"bounce_rates"===i?[t._v(" "+t._s(e.value)+"% ")]:[t._v(t._s(e.value))])]):t._e()])})),1),s("tfoot",[s("tr",[s("td",{attrs:{colspan:"5"}},[s("a",{staticClass:"sui-button sui-button-ghost",attrs:{href:t.$vars.urls.statistics}},[s("i",{staticClass:"sui-icon-eye",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.view_full_report)+" ")])])])])])},Z=[],tt=e("3f08"),st={name:"StatsList",props:["stats"],components:{Fragment:tt["a"]},data:function(){return{titles:{sessions:this.$i18n.label.sessions,users:this.$i18n.label.users,pageviews:this.$i18n.label.pageviews,page_sessions:this.$i18n.label.page_sessions,average_sessions:this.$i18n.label.average_sessions,bounce_rates:this.$i18n.label.bounce_rates}}},computed:{isEmpty:function(){return Object.keys(this.stats).length<=0}},methods:{canShow:function(t){return this.titles.hasOwnProperty(t)},getTitle:function(t){return this.titles[t]}}},et=st,it=Object(p["a"])(et,Y,Z,!1,null,null,null),at=it.exports,nt={name:"StatisticsWidget",props:["stats","loading"],components:{SuiBox:_["a"],SuiNotice:T["a"],StatsList:at},computed:{isConnected:function(){return this.$store.state.helpers.google.logged_in},canGetStats:function(){return this.$store.state.helpers.canGetStats||this.isConnected},isEmpty:function(){return Object.keys(this.stats).length<=0}},methods:{}},rt=nt,ot=Object(p["a"])(rt,Q,X,!1,null,null,null),ut=ot.exports,lt=e("da43"),ct=e("d5c7"),dt=e("e94b"),ht=function(){var t=this,s=t._self._c;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"beehive-tutorials-slider-box"},[t.show?s("tutorials-slider",{attrs:{title:t.$i18n.title.tutorials,category:"11229",viewAll:"https://wpmudev.com/blog/tutorials/tutorial-category/beehive-pro/"},on:{onCloseClick:t.dismissSlider}}):t._e()],1)},pt=[],gt=e("b8ae"),bt=e("ea62"),_t={name:"TutorialSlider",components:{"tutorials-slider":Object(gt["ReactInVue"])(bt["b"])},data:function(){return{visible:!0,show:!1}},created:function(){this.show=!this.$vars.whitelabel.hide_doc_link&&!this.getOption("hide_tutorials","misc")},methods:{dismissSlider:function(){this.visible=!1,this.setOption("hide_tutorials","misc",!0),this.saveOptions()}}},vt=_t,mt=Object(p["a"])(vt,ht,pt,!1,null,null,null),ft=mt.exports,wt={name:"App",components:{GaWidget:w,GtmWidget:I,SuiHeader:B["a"],SuiFooter:R["a"],SuiSelect:q["a"],SuiNotice:T["a"],Onboarding:L["a"],WelcomeModal:dt["a"],SummaryWidget:K,RefreshButton:lt["a"],StatisticsWidget:ut,SuiCalendarRange:ct["a"],TutorialSlider:ft},data:function(){return{loading:!1,periods:[],dateStart:this.$vars.dates.start_date,dateEnd:this.$vars.dates.end_date,stats:{summary:{pageviews:{},page:{},searchEngine:{},medium:{},newUsers:{}},list:{}}}},mounted:function(){this.getSummary()},created:function(){var t=this;this.$root.$on("googleLoginUpdate",(function(s){t.setOption("google_auth_redirect_success","misc",0),t.$store.dispatch("helpers/updateGoogleLogin",{reInit:!0,status:s})})),this.$root.$on("onboardingComplete",(function(s){""!==t.getOption("account_id","google","")&&s&&t.$root.$emit("showTopNotice",{dismiss:!0,message:t.sprintf(t.$i18n.notice.account_setup,t.$vars.urls.statistics)}),t.getSummary()})),this.$root.$on("googleConnectProcessed",(function(s){s.success&&(t.$store.dispatch("helpers/updateGoogleStreams",{}),t.$store.dispatch("helpers/updateGoogleProfiles",{reInit:!0}))}))},computed:{canGetStats:function(){return this.$store.state.helpers.canGetStats},isConnected:function(){return this.$store.state.helpers.google.logged_in},showOnboarding:function(){return!this.getOption("onboarding_done","misc")},showWelcome:function(){return!this.showOnboarding&&(this.isMultisite()&&this.isNetworkWide()&&this.isNetwork()?this.getOption("show_welcome","misc",0,!0)>0:(!this.isMultisite()||!this.isNetworkWide())&&this.getOption("show_welcome","misc")>0)}},methods:{getSummary:function(){var t=this;(this.canGetStats||this.isConnected)&&(this.loading=!0,Object(r["b"])({path:"stats/summary",params:{from:this.dateStart,to:this.dateEnd,network:this.isNetwork()?1:0}}).then((function(s){s.success&&s.data&&s.data.stats&&s.data.stats.summary&&(t.stats.list=s.data.stats.summary,t.setupSummary(s.data.stats)),t.loading=!1})))},setupSummary:function(t){this.stats.summary={pageviews:t.summary.pageviews,page:t.page,searchEngine:t.search_engine,medium:t.medium,newUsers:t.summary.new_users}},changePeriod:function(t){this.dateStart=t.startDate,this.dateEnd=t.endDate,this.getSummary()}}},Ct=wt,yt=(e("b2b0"),Object(p["a"])(Ct,a,n,!1,null,null,null)),$t=yt.exports,St=e("9d51"),Ot=e("e19f"),xt=e("5b5e");i["default"].config.productionTip=!1,i["default"].mixin({methods:{sprintf:Ot["sprintf"],getOption:xt["b"],setOption:xt["s"],saveOptions:xt["r"],isNetwork:xt["l"],isMultisite:xt["k"],isSubsite:xt["n"],isNetworkWide:xt["m"]}}),i["default"].prototype.$i18n=window.beehiveI18n,i["default"].prototype.$vars=window.beehiveVars,i["default"].prototype.$moduleVars=window.beehiveModuleVars,i["default"].use(tt["b"].Plugin),new i["default"]({render:function(t){return t($t)},store:St["a"]}).$mount("#beehive-dashboard-app")},b2b0:function(t,s,e){"use strict";e("0150")}});