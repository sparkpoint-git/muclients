(function(t){function e(e){for(var a,r,o=e[0],l=e[1],c=e[2],h=0,d=[];h<o.length;h++)r=o[h],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(d.length)d.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,o=1;o<s.length;o++){var l=s[o];0!==i[l]&&(a=!1)}a&&(n.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},i={"ga-dashboard-widget":0},n=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/app/assets/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;n.push([9,"chunk-vendors","chunk-common"]),s()})({8416:function(t,e,s){"use strict";s("ff14")},9:function(t,e,s){t.exports=s("db12")},db12:function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"beehive-widget-wrap",class:t.wrapClass},[t.loading?e("p",{staticClass:"beehive-loading-text"},[e("span",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.fetching_data)+" ")]):t._e(),e("widget-header",{on:{refreshStats:t.getStats,periodChange:t.periodChange}}),e("widget-body",{attrs:{stats:t.stats}})],1)},n=[],r=(s("b64b"),s("c96a"),s("7f2d")),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sui-tabs sui-tabs-overflow",attrs:{id:"beehive-widget-body"}},[t._m(0),e("div",{staticClass:"sui-tabs-menu",attrs:{role:"tablist"}},t._l(t.tabs,(function(s,a){return e("tab-button",{attrs:{name:a,label:s,"default-tab":t.defaultTab}})})),1),e("div",{staticClass:"sui-tabs-content"},[t.canView("general")?e("general-stats",{attrs:{stats:t.stats},on:{tabChange:t.tabChange}}):t._e(),t.canView("audience")?e("audience",{attrs:{stats:t.stats,"selected-item":t.audienceDefault,"active-tab":t.defaultTab}}):t._e(),t.canView("pages")?e("pages",{attrs:{stats:t.stats,"active-tab":t.defaultTab}}):t._e(),t.canView("traffic")?e("traffic",{attrs:{stats:t.stats,"active-tab":t.defaultTab}}):t._e()],1)])},l=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"sui-tabs-navigation",attrs:{tabindex:"-1","aria-hidden":"true"}},[e("button",{staticClass:"sui-button-icon sui-tabs-navigation--left",attrs:{type:"button"}},[e("i",{staticClass:"sui-icon-chevron-left"})]),e("button",{staticClass:"sui-button-icon sui-tabs-navigation--right",attrs:{type:"button"}},[e("i",{staticClass:"sui-icon-chevron-right"})])])}],c=(s("7db0"),s("e9f5"),s("f665"),s("d3b7"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"sui-tab-content",class:{active:"pages"===t.activeTab},attrs:{role:"tabpanel",tabindex:"0",id:"beehive-widget-content--pages","aria-labelledby":"beehive-widget-tab--pages",hidden:"pages"!==t.activeTab}},[t.canGetStats&&t.isEmpty?e("sui-notice",{attrs:{type:"info"}},[e("p",[t._v(t._s(t.$i18n.notice.empty_data))])]):t.canGetStats||t.isConnected?e("table",{staticClass:"beehive-table"},[e("thead",[e("tr",[e("th",{attrs:{colspan:"3"}},[t._v(" "+t._s(t.$i18n.label.top_pages_most_visited)+" ")]),e("th",{staticClass:"beehive-column-time"},[t._v(" "+t._s(t.$i18n.label.average_sessions)+" ")]),e("th",{staticClass:"beehive-column-views"},[t._v(" "+t._s(t.$i18n.label.views)+" ")])])]),e("tbody",t._l(t.stats.pages,(function(s,a){return e("tr",{key:a},[e("td",{attrs:{colspan:"3"},domProps:{innerHTML:t._s(s[0])}}),e("td",{staticClass:"beehive-column-time"},[t._v(t._s(s[1]))]),s[3]<0?e("td",{staticClass:"beehive-column-views"},[t._v(" "+t._s(s[2])+" "),e("i",{staticClass:"sui-icon-arrow-down sui-sm beehive-red",attrs:{"aria-hidden":"true"}})]):s[3]>0?e("td",{staticClass:"beehive-column-views"},[t._v(" "+t._s(s[2])+" "),e("i",{staticClass:"sui-icon-arrow-up sui-sm beehive-green",attrs:{"aria-hidden":"true"}})]):e("td",{staticClass:"beehive-column-views"},[t._v(" "+t._s(s[2])+" "),e("span",{staticClass:"empty-space"})])])})),0)]):e("sui-notice",{attrs:{type:"error"}},[e("p",{domProps:{innerHTML:t._s(t.$i18n.notice.auth_required)}})])],1)}),u=[],h=s("5659"),d={name:"Pages",props:["stats","activeTab"],components:{SuiNotice:h["a"]},computed:{isConnected:function(){return this.$store.state.helpers.google.logged_in},isEmpty:function(){return Object.keys(this.stats).length<=0||!this.stats.pages},canGetStats:function(){return this.$store.state.helpers.canGetStats}}},b=d,p=s("2877"),v=Object(p["a"])(b,c,u,!1,null,null,null),m=v.exports,g=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sui-tab-content",class:{active:"traffic"===t.activeTab},attrs:{role:"tabpanel",tabindex:"0",id:"beehive-widget-content--traffic","aria-labelledby":"beehive-widget-tab--traffic",hidden:"traffic"!==t.activeTab}},[t.canGetStats&&t.isEmpty?e("sui-notice",{attrs:{type:"info"}},[e("p",[t._v(t._s(t.$i18n.notice.empty_data))])]):t.canGetStats||t.isConnected?e("fragment",[e("table",{staticClass:"beehive-table"},[e("thead",[e("tr",[e("th",{staticClass:"beehive-column-country",attrs:{colspan:"3"}},[t._v(" "+t._s(t.$i18n.label.top_countries)+" ")]),e("th",{staticClass:"beehive-column-views"},[t._v(" "+t._s(t.$i18n.label.views)+" ")])])]),e("tbody",t._l(t.stats.countries,(function(s,a){return e("table-row",{key:a,attrs:{stats:s,total:t.getTotalValue}})})),1)]),e("div",{staticClass:"beehive-row"},t._l(t.summary,(function(s,a){return e("pie-box",{key:a,attrs:{name:a,stats:t.stats,item:s}})})),1)]):e("sui-notice",{attrs:{type:"error"}},[e("p",{domProps:{innerHTML:t._s(t.$i18n.notice.auth_required)}})])],1)},f=[],_=(s("7d54"),s("159b"),s("b0c0"),function(){var t=this,e=t._self._c;return e("fragment",[e("div",{staticClass:"beehive-col"},[e("div",{staticClass:"beehive-box"},[e("h3",{staticClass:"beehive-box-title",domProps:{innerHTML:t._s(t.getBoxTitle)}}),e("div",{staticClass:"beehive-box-content"},[e("p",{staticClass:"beehive-box-stat-value"},[t._v(" "+t._s(t.getStatValue+"%")+" ")]),e("p",{staticClass:"beehive-box-stat-name"},[t._v(" "+t._s(t.getStatName)+" ")]),e("sui-score",{attrs:{value:parseInt(t.getStatValue)}})],1)])]),"social_networks"!==t.name?e("span",{staticClass:"beehive-separator",attrs:{"aria-hidden":"true"}}):t._e()])}),C=[],y=s("53ca"),w=(s("b680"),function(){var t=this,e=t._self._c;return e("div",{ref:"score",staticClass:"sui-circle-score",attrs:{"data-score":t.value}})}),S=[],T=(s("a9e3"),{name:"SuiScore",props:{value:{type:Number,required:!0}},mounted:function(){jQuery(this.$refs.score).each((function(){SUI.loadCircleScore(this)}))}}),$=T,O=Object(p["a"])($,w,S,!1,null,null,null),j=O.exports,k={name:"PieBox",props:{stats:Array|Object,item:Object,name:String},components:{SuiScore:j},computed:{getBoxTitle:function(){var t="",e=this.item,s=this.item.title;return s&&""!==s?(e.icon&&""!==e.icon&&(t='<i class="sui-icon-'+e.icon+' sui-md" aria-hidden="true"></i>'),t+s):""},getStatValue:function(){var t=this,e=this.name,s=0,a=0,i=s>=0?1:-1,n=0;return null===Object(y["a"])(e)&&""===e||!this.stats[e]||(Object.keys(t.stats[e]).forEach((function(s){a+=parseInt(t.stats[e][s][1])})),s=100*parseInt(t.stats[e][0][1])/a,s>=0&&(s=(Math.round(s*Math.pow(10,n)+1e-4*i)/Math.pow(10,n)).toFixed(n))),s},getStatName:function(){var t=this.name,e=this.$i18n.label.none;return null===Object(y["a"])(t)&&""===t||!this.stats[t]||(e=this.stats[t][0][0]),e}}},x=k,V=Object(p["a"])(x,_,C,!1,null,null,null),E=V.exports,F=function(){var t=this,e=t._self._c;return e("tr",[e("td",{staticClass:"beehive-column-country",attrs:{colspan:"3"}},[e("div",{staticClass:"beehive-country-content"},[e("span",{class:t.flagClass,attrs:{"aria-hidden":"true"}}),e("p",{staticClass:"beehive-country-name"},[t._v(" "+t._s(t.stats[0])+" ")]),e("div",{staticClass:"beehive-country-percent",attrs:{"aria-hidden":"true"}},[e("span",{style:t.percentageStyle})])])]),e("td",{staticClass:"beehive-column-views"},[t._v(t._s(t.stats[2]))])])},B=[],G=s("ade3"),M={name:"TableRow",props:{stats:Array|Object,total:Number},computed:{flagClass:function(){var t="beehive-flag-"+this.stats[1];return Object(G["a"])({"beehive-flag":!0,"beehive-country-flag":!0},t,!0)},percentageStyle:function(){var t=100*parseInt(this.stats[2])/this.total;return{width:t+"%"}}}},A=M,D=Object(p["a"])(A,F,B,!1,null,null,null),P=D.exports,I={name:"Traffic",props:{stats:Object|Array,activeTab:String},components:{PieBox:E,TableRow:P,SuiScore:j,SuiNotice:h["a"]},data:function(){return{summary:{search_engines:{title:this.$i18n.label.top_search_engine,icon:"magnifying-glass-search"},mediums:{title:this.$i18n.label.top_medium,icon:"update"},social_networks:{title:this.$i18n.label.top_social_network,icon:"community-people"}}}},computed:{isConnected:function(){return this.$store.state.helpers.google.logged_in},isEmpty:function(){return Object.keys(this.stats).length<=0},canGetStats:function(){return this.$store.state.helpers.canGetStats},getTotalValue:function(){var t=this,e=0;return Object.keys(this.stats.countries).forEach((function(s){e+=parseInt(t.stats.countries[s][2])})),e}}},L=I,H=Object(p["a"])(L,g,f,!1,null,null,null),N=H.exports,R=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sui-tab-content",class:{active:"audience"===t.activeTab},attrs:{role:"tabpanel",tabindex:"0",id:"beehive-widget-content--audience","aria-labelledby":"beehive-widget-tab--audience",hidden:"audience"!==t.activeTab}},[e("div",{staticClass:"beehive-tabs"},[e("div",{staticClass:"beehive-tabs-menu"},[e("div",{staticClass:"beehive-tabs-menu-wrapper",attrs:{role:"tablist"}},t._l(t.sections,(function(s,a){return e("chart-button",{key:a,attrs:{title:s.title,name:a,stats:t.stats,"selected-item":t.selectedTab},on:{tabChange:t.changeTab}})})),1)]),e("div",{staticClass:"beehive-tab-panel",attrs:{id:"beehive-audience-chart"}},[e("line-chart",{staticClass:"beehive-chart",attrs:{role:"img","aria-hidden":"true",id:"beehive-audience-line-chart","chart-data":t.chartData,options:t.getOptions}}),t.isEmpty?t._e():e("users-donut",{attrs:{stats:t.stats}}),t.canGetStats&&t.isEmpty?e("sui-notice",{staticClass:"beehive-margin-top-bottom--30",attrs:{type:"info"}},[e("p",[t._v(t._s(t.$i18n.notice.empty_data))])]):t.canGetStats||t.isConnected?t._e():e("sui-notice",{attrs:{type:"error"}},[e("p",{domProps:{innerHTML:t._s(t.$i18n.notice.auth_required)}})])],1)])])},z=[],W=(s("14d9"),s("c1df")),Q=s.n(W),q=function(){var t=this,e=t._self._c;return e("div",{staticClass:"beehive-users-resume"},[e("pie-chart",{staticClass:"beehive-charts beehive-charts-pie",attrs:{id:t.chart,"chart-data":t.chartData,options:t.chartOptions,width:t.width,height:t.height}}),e("div",{staticClass:"beehive-users-stats"},[e("p",{staticClass:"beehive-visitors-empty"},[t._v(" "+t._s(t.$i18n.desc.no_donut_data)+" ")]),e("p",{staticClass:"beehive-visitors-old"},[e("span",[t._v(t._s(t.newVisitors)+"%")]),t._v(" "+t._s(t.$i18n.desc.new_visitors)+" ")]),e("p",{staticClass:"beehive-visitors-new"},[e("span",[t._v(t._s(t.returnVisitors)+"%")]),t._v(" "+t._s(t.$i18n.desc.returning_visitors)+" ")])])],1)},U=[],J=s("655a"),K={name:"UsersDonut",props:["stats"],components:{PieChart:J["a"]},data:function(){return{chart:"beehive-audience-pie-chart",chartData:{},width:40,height:40,chartOptions:{legend:{display:!1},tooltips:{enabled:!1},responsive:!1,maintainAspectRatio:!1,cutoutPercentage:50}}},mounted:function(){this.setupChartData()},watch:{stats:function(t){this.setupChartData()}},computed:{isLoggedIn:function(){return this.$store.state.helpers.google.logged_in},isEmpty:function(){return Object.keys(this.stats).length<=0||!this.stats.summary},newVisitors:function(){return this.isEmpty?0:Math.round(this.stats.summary.user_sessions.new)},returnVisitors:function(){return this.isEmpty?0:Math.round(this.stats.summary.user_sessions.returning)}},methods:{setupChartData:function(){this.isEmpty?this.chartData={}:this.chartData={datasets:[{label:this.$i18n.label.sessions,data:[this.newVisitors,this.returnVisitors],borderWidth:0,backgroundColor:["#17A8E3","#0073AA"]}],labels:[this.$i18n.label.new_visitors,this.$i18n.label.returning_visitors]}}}},X=K,Y=Object(p["a"])(X,q,U,!1,null,null,null),Z=Y.exports,tt=function(){var t=this,e=t._self._c;return e("button",{staticClass:"beehive-tab",class:t.buttonClass,attrs:{role:"tab","aria-controls":"beehive-audience-chart","aria-selected":t.ariaSelected,tabindex:t.tabIndex},on:{click:t.changeTab}},[e("span",{staticClass:"beehive-item-wrapper"},[e("span",{staticClass:"beehive-item-title"},[t._v(" "+t._s(t.title)+" ")]),!t.isConnected||t.isEmpty?e("span",{staticClass:"beehive-item-value"},[t._v(" 0 ")]):e("span",{staticClass:"beehive-item-stats"},[e("span",{staticClass:"beehive-item-value"},[t._v(" "+t._s(t.getValue)+" ")]),t.getTrendValue>0&&"bounce_rates"===t.name?e("span",{staticClass:"beehive-item-trend beehive-red"},[e("i",{staticClass:"sui-icon-arrow-up sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(Math.abs(t.getTrendValue))+"% ")]):t.getTrendValue>0?e("span",{staticClass:"beehive-item-trend beehive-green"},[e("i",{staticClass:"sui-icon-arrow-up sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(Math.abs(t.getTrendValue))+"% ")]):t.getTrendValue<0&&"bounce_rates"===t.name?e("span",{staticClass:"beehive-item-trend beehive-green"},[e("i",{staticClass:"sui-icon-arrow-down sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(Math.abs(t.getTrendValue))+"% ")]):t.getTrendValue<0?e("span",{staticClass:"beehive-item-trend beehive-red"},[e("i",{staticClass:"sui-icon-arrow-down sui-sm",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(Math.abs(t.getTrendValue))+"% ")]):e("span",{staticClass:"beehive-item-trend"},[t._v(" 0% ")])])])])},et=[],st={name:"ChartButton",props:{stats:Object|Array,name:String,title:String,selectedItem:String},data:function(){return{selectedTab:this.selectedItem,sections:{sessions:{color:"#17A8E3",title:this.$i18n.label.sessions},users:{color:"#2D8CE2",title:this.$i18n.label.users},pageviews:{color:"#8D00B1",title:this.$i18n.label.pageviews},page_sessions:{color:"#3DB8C2",title:this.$i18n.label.page_sessions},average_sessions:{color:"#2B7BA1",title:this.$i18n.label.average_sessions},bounce_rates:{color:"#FFB17C",title:this.$i18n.label.bounce_rates}}}},watch:{selectedItem:function(t){this.selectedTab=t}},computed:{isEmpty:function(){return Object.keys(this.stats).length<=0},isConnected:function(){return this.$store.state.helpers.google.logged_in},buttonClass:function(){return{"beehive-active":this.selectedTab===this.name,"beehive-empty-tab":this.isEmpty}},ariaSelected:function(){return this.name===this.selectedTab?"true":"false"},tabIndex:function(){return this.name===this.selectedTab&&-1},getValue:function(){var t=0;return this.stats.summary&&this.stats.summary[this.name]&&this.stats.summary[this.name].value&&(t=this.stats.summary[this.name].value),"bounce_rates"===this.name&&(t+="%"),t},getTrendValue:function(){var t=0;return this.stats.summary&&this.stats.summary[this.name]&&this.stats.summary[this.name].trend&&(t=this.stats.summary[this.name].trend),t}},methods:{changeTab:function(){this.selectedTab=this.name,this.$emit("tabChange",this.name)}}},at=st,it=Object(p["a"])(at,tt,et,!1,null,null,null),nt=it.exports,rt=s("f7cd"),ot={name:"Audience",props:{stats:Object|Array,selectedItem:String,activeTab:String},components:{LineChart:rt["a"],SuiNotice:h["a"],UsersDonut:Z,ChartButton:nt},data:function(){return{selectedTab:this.selectedItem,sections:{sessions:{color:"#17A8E3",title:this.$i18n.label.sessions},users:{color:"#2D8CE2",title:this.$i18n.label.users},pageviews:{color:"#8D00B1",title:this.$i18n.label.pageviews},page_sessions:{color:"#3DB8C2",title:this.$i18n.label.page_sessions},average_sessions:{color:"#2B7BA1",title:this.$i18n.label.average_sessions},bounce_rates:{color:"#FFB17C",title:this.$i18n.label.bounce_rates}},chartData:{labels:[],datasets:[]},chartOptions:{}}},watch:{stats:function(t){this.changeStatsChart()},selectedTab:function(t){this.changeStatsChart()},selectedItem:function(t){this.selectedTab=t}},computed:{isEmpty:function(){return Object.keys(this.stats).length<=0},isConnected:function(){return this.$store.state.helpers.google.logged_in},getOptions:function(){return this.isEmpty?{responsive:!0,maintainAspectRatio:!1}:this.chartOptions},canGetStats:function(){return this.$store.state.helpers.canGetStats},defaultChartOptions:function(){return{legend:{display:!1},scales:{yAxes:[{gridLines:{display:!0,color:"#E6E6E6",zeroLineColor:"#E6E6E6",drawBorder:!1},ticks:{fontColor:"#676767",fontSize:11}}],xAxes:[{gridLines:{display:!0,zeroLineColor:"rgba(0,0,0,0)",drawBorder:!1},ticks:{fontColor:"#676767",fontSize:11}}]},tooltips:{xPadding:15,yPadding:15,backgroundColor:"rgba(51,51,51,0.85)",titleFontColor:"#FFFFFF",titleFontSize:14,titleFontFamily:"Roboto",titleFontStyle:"bold",titleAlign:"left",titleSpacing:0,titleMarginBottom:10,bodyFontColor:"#FFFFFF",bodyFontSize:14,bodyFontFamily:"Roboto",bodyFontStyle:"normal",bodyAlign:"left",cornerRadius:4,displayColors:!1},responsive:!0,maintainAspectRatio:!1}}},methods:{getTitle:function(t){return this.sections[t]?this.sections[t].title:""},changeTab:function(t){this.selectedTab=t},changeStatsChart:function(){if(this.isEmpty)this.chartData={labels:[],datasets:[]};else if(this.sections[this.selectedTab]&&this.stats[this.selectedTab]){var t=[],e=[],s=[],a=this.defaultChartOptions,i=this.getTitle(this.selectedTab),n=this.sections[this.selectedTab].color,r={labels:[],datasets:[{label:i,data:[],borderWidth:2,borderColor:n,backgroundColor:"rgba(0,0,0,0)",pointRadius:4,pointBorderColor:n,pointBackgroundColor:"#FFFFFF",pointHoverBackgroundColor:n}]},o=this.stats[this.selectedTab];a.tooltips.callbacks={},"average_sessions"===this.selectedTab?a.tooltips.callbacks.label=function(t){var e=Q.a.utc(1e3*t.value).format("HH:mm:ss");return i+" : "+e}:"bounce_rates"===this.selectedTab&&(a.tooltips.callbacks.label=function(t){return i+" : "+t.value+"%"}),Object.keys(o).forEach((function(a,i,n){t.push(o[a][0]),e.push(o[a][1]),i===n.length-1?s.push("rgba(0,0,0,0)"):s.push("#E6E6E6")})),r.labels=t,r.datasets[0].data=e,this.chartData=r,this.chartOptions=a}}}},lt=ot,ct=Object(p["a"])(lt,R,z,!1,null,null,null),ut=ct.exports,ht=s("5b5e"),dt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sui-tab-content active",attrs:{role:"tabpanel",tabindex:"0",id:"beehive-widget-content--general","aria-labelledby":"beehive-widget-tab--general"}},[t.canGetStats&&t.isEmpty?e("sui-notice",{attrs:{type:"info"}},[e("p",[t._v(t._s(t.$i18n.notice.empty_data))])]):t.canGetStats||t.isConnected?t._e():e("sui-notice",{attrs:{type:"error"}},[e("p",{domProps:{innerHTML:t._s(t.$i18n.notice.auth_required)}})]),e("div",{staticClass:"beehive-buttons-wrapper"},[t._l(t.summarySections,(function(s,a){return e("top-button",{key:a,attrs:{name:a,title:s.title,tab:s.tab,stats:t.stats},on:{tabChange:t.tabChange}})})),t._l(t.topSections,(function(s,a){return e("bottom-button",{key:a,attrs:{name:a,title:s.title,tab:s.tab,stats:t.stats},on:{tabChange:t.tabChange}})}))],2)],1)},bt=[],pt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"beehive-button-holder"},[!t.canGetStats&&!t.isConnected||t.isEmpty||""===t.getValue?e("button",{staticClass:"beehive-button",on:{click:t.openTab}},[e("span",{staticClass:"beehive-button-name"},[t._v(" "+t._s(t.title)+" ")]),e("span",{staticClass:"beehive-button-value"},[t._v("-")]),e("i",{staticClass:"beehive-button-icon sui-icon-chevron-right sui-lg",attrs:{"aria-hidden":"true"}})]):e("button",{staticClass:"beehive-button",on:{click:t.openTab}},[e("span",{staticClass:"beehive-button-name"},[t._v(" "+t._s(t.title)+" ")]),e("span",{staticClass:"beehive-button-stats"},[e("span",{staticClass:"beehive-button-value beehive-blue beehive-lg"},[t._v(" "+t._s(t.getValue)+" ")]),e("span",{staticClass:"beehive-button-trend",class:t.getTrendClass,domProps:{innerHTML:t._s(t.getTrendHtml)}})]),e("i",{staticClass:"beehive-button-icon sui-icon-chevron-right sui-lg",attrs:{"aria-hidden":"true"}})])])},vt=[],mt={name:"TopButton",props:{stats:Object,tab:String,title:String,name:String},computed:{canGetStats:function(){return this.$store.state.helpers.canGetStats},isConnected:function(){return this.$store.state.helpers.google.logged_in},isEmpty:function(){return Object.keys(this.stats).length<=0},getTrendClass:function(){return{"beehive-red":this.getTrendValue<0,"beehive-green":this.getTrendValue>=0}},getValue:function(){var t="";return this.stats.summary&&this.stats.summary[this.name]&&this.stats.summary[this.name].value&&(t=this.stats.summary[this.name].value),t},getTrendValue:function(){var t=0;return this.stats.summary&&this.stats.summary[this.name]&&this.stats.summary[this.name].trend&&(t=this.stats.summary[this.name].trend),t},getTrendHtml:function(){var t=this.getTrendValue,e=Math.abs(t);return t<0?e+'% <i class="sui-icon-arrow-down sui-sm" aria-hidden="true"></i>':t>0?'<i class="sui-icon-arrow-up sui-sm" aria-hidden="true"></i>'+e+"%":"0%"}},methods:{openTab:function(){this.$emit("tabChange",this.name);var t=jQuery("#beehive-widget-tab--"+this.tab);t.click()}}},gt=mt,ft=Object(p["a"])(gt,pt,vt,!1,null,null,null),_t=ft.exports,Ct=function(){var t=this,e=t._self._c;return e("div",{staticClass:"beehive-button-holder"},[!t.canGetStats&&!t.isConnected||t.isEmpty||""===t.getValue?e("button",{staticClass:"beehive-button",on:{click:t.openTab}},[e("span",{staticClass:"beehive-button-name"},[t._v(" "+t._s(t.title)+" ")]),e("span",{staticClass:"beehive-button-value"},[t._v("-")]),e("i",{staticClass:"beehive-button-icon sui-icon-chevron-right sui-lg",attrs:{"aria-hidden":"true"}})]):e("button",{staticClass:"beehive-button",on:{click:t.openTab}},[e("span",{staticClass:"beehive-button-name"},[t._v(" "+t._s(t.title)+" ")]),e("span",{staticClass:"beehive-button-value beehive-blue"},[t._v(" "+t._s(t.getValue)+" ")]),e("i",{staticClass:"beehive-button-icon sui-icon-chevron-right sui-lg",attrs:{"aria-hidden":"true"}})])])},yt=[],wt={name:"BottomButton",props:{stats:Object,tab:String,title:String,name:String},computed:{canGetStats:function(){return this.$store.state.helpers.canGetStats},isConnected:function(){return this.$store.state.helpers.google.logged_in},isEmpty:function(){return Object.keys(this.stats).length<=0},getValue:function(){var t="";return this.stats.summary&&this.stats.summary[this.name]&&this.stats.summary[this.name].value&&(t=this.stats.summary[this.name].value),t}},methods:{openTab:function(){this.$emit("tabChange",this.name);var t=jQuery("#beehive-widget-tab--"+this.tab);t.click()}}},St=wt,Tt=Object(p["a"])(St,Ct,yt,!1,null,null,null),$t=Tt.exports,Ot={name:"GeneralStats",props:{stats:Object|Array},components:{SuiNotice:h["a"],TopButton:_t,BottomButton:$t},data:function(){return{summarySections:{users:{title:this.$i18n.label.users,tab:"audience"},pageviews:{title:this.$i18n.label.pageviews,tab:"audience"}},topSections:{page:{title:this.$i18n.label.top_page,tab:"pages"},country:{title:this.$i18n.label.top_country,tab:"traffic"},medium:{title:this.$i18n.label.top_referral,tab:"traffic"},search_engine:{title:this.$i18n.label.top_search_engine,tab:"traffic"}}}},computed:{canGetStats:function(){return this.$store.state.helpers.canGetStats},isConnected:function(){return this.$store.state.helpers.google.logged_in},isEmpty:function(){return Object.keys(this.stats).length<=0}},methods:{tabChange:function(t){this.$emit("tabChange",t)}}},jt=Ot,kt=Object(p["a"])(jt,dt,bt,!1,null,null,null),xt=kt.exports,Vt=function(){var t=this,e=t._self._c;return t.canView?e("button",{staticClass:"sui-tab-item",class:{active:t.isSelected},attrs:{type:"button",role:"tab",id:"beehive-widget-tab--".concat(t.name),"aria-controls":"beehive-widget-content--".concat(t.name),tabindex:!t.isSelected&&"-1","aria-selected":t.isSelected?"true":"false"}},[t._v(" "+t._s(t.label)+" ")]):t._e()},Et=[],Ft={name:"TabButton",props:{name:String,label:String,defaultTab:String},computed:{isSelected:function(){return this.name===this.defaultTab},canView:function(){return Object(ht["a"])(this.name,"dashboard")}}},Bt=Ft,Gt=Object(p["a"])(Bt,Vt,Et,!1,null,null,null),Mt=Gt.exports,At={name:"WidgetBody",props:["stats"],components:{TabButton:Mt,GeneralStats:xt,Audience:ut,Pages:m,Traffic:N},data:function(){return{audienceDefault:"sessions",tabs:{general:this.$i18n.label.general_stats,audience:this.$i18n.label.audience,pages:this.$i18n.label.top_pages,traffic:this.$i18n.label.traffic}}},mounted:function(){var t=jQuery("#beehive-widget-body"),e=t.find(".sui-tabs-navigation");SUI.tabs(),e.each((function(){SUI.tabsOverflow(jQuery(this))}))},computed:{defaultTab:function(){return this.canView("general")?"general":this.canView("audience")?"audience":this.canView("pages")?"pages":"traffic"}},methods:{canView:function(t){return Object(ht["a"])(t,"dashboard")},tabChange:function(t){this.audienceDefault=t}}},Dt=At,Pt=Object(p["a"])(Dt,o,l,!1,null,null,null),It=Pt.exports,Lt=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"beehive-widget-header"}},[e("div",{staticClass:"beehive-left-actions"},[t.canShowStatisticsMenu?e("a",{attrs:{href:t.$vars.urls.statistics}},[e("i",{staticClass:"sui-icon-graph-bar",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.all_stats)+" ")]):t._e(),t.canShowStatisticsMenu?e("span",{staticClass:"beehive-separator",attrs:{"aria-hidden":"true"}}):t._e(),e("button",{on:{click:function(e){return e.preventDefault(),t.refreshStats.apply(null,arguments)}}},[e("i",{staticClass:"sui-icon-refresh",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.refresh_data)+" ")])]),e("div",{staticClass:"beehive-right-actions"},[e("sui-calendar-range",{attrs:{id:"beehive-stats-datepicker",periods:t.$vars.dates.periods,"start-date":t.$vars.dates.start_date,"end-date":t.$vars.dates.end_date,"selected-label":t.$vars.dates.selected_label},on:{periodChange:t.periodChange}})],1)])},Ht=[],Nt=s("d5c7"),Rt={name:"WidgetHeader",components:{SuiCalendarRange:Nt["a"]},computed:{canShowStatisticsMenu:function(){return Object(ht["e"])()}},methods:{refreshStats:function(){this.$emit("refreshStats")},periodChange:function(t){this.$emit("periodChange",t)}}},zt=Rt,Wt=Object(p["a"])(zt,Lt,Ht,!1,null,null,null),Qt=Wt.exports,qt={name:"App",components:{WidgetHeader:Qt,WidgetBody:It},data:function(){return{stats:{},dateStart:this.$vars.dates.start_date,dateEnd:this.$vars.dates.end_date,loading:!1,small:!1}},created:function(){window.addEventListener("resize",this.smallClass)},mounted:function(){this.getStats(),this.smallClass()},destroyed:function(){window.removeEventListener("resize",this.smallClass)},computed:{wrapClass:function(){return{"beehive-widget-small":this.small,"beehive-loading":this.loading}},canGetStats:function(){return this.$store.state.helpers.canGetStats}},methods:{getStats:function(){var t=this;this.canGetStats&&(this.loading=!0,Object(r["b"])({path:"stats/dashboard",params:{from:this.dateStart,to:this.dateEnd,network:this.isNetwork()?1:0}}).then((function(e){e.success&&e.data&&e.data.stats&&Object.keys(e.data.stats).length>0?t.stats=e.data.stats:t.stats={},t.loading=!1})))},periodChange:function(t){this.dateStart=t.startDate,this.dateEnd=t.endDate,this.getStats()},smallClass:function(){var t=jQuery("#beehive-widget-body"),e=t.closest(".postbox");t.length&&(this.small=e.outerWidth(!0)<500)}}},Ut=qt,Jt=(s("8416"),Object(p["a"])(Ut,i,n,!1,null,null,null)),Kt=Jt.exports,Xt=s("9d51"),Yt=s("3f08"),Zt=s("e19f");a["default"].config.productionTip=!1,a["default"].mixin({methods:{sprintf:Zt["sprintf"],getOption:ht["b"],setOption:ht["s"],saveOptions:ht["r"],isNetwork:ht["l"],isMultisite:ht["k"],isSubsite:ht["n"],isNetworkWide:ht["m"],isSuperAdmin:ht["o"],isAdmin:ht["j"]}}),a["default"].prototype.$i18n=window.beehiveI18n,a["default"].prototype.$vars=window.beehiveVars,a["default"].prototype.$moduleVars=window.beehiveModuleVars,a["default"].use(Yt["b"].Plugin),new a["default"]({render:function(t){return t(Kt)},store:Xt["a"]}).$mount("#beehive-dashboard-statistics-app")},ff14:function(t,e,s){}});