(function(t){function e(e){for(var o,a,r=e[0],c=e[1],l=e[2],d=0,g=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&g.push(i[a][0]),i[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(g.length)g.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],o=!0,r=1;r<s.length;r++){var c=s[r];0!==i[c]&&(o=!1)}o&&(n.splice(e--,1),t=a(a.s=s[0]))}return t}var o={},i={accounts:0},n=[];function a(e){if(o[e])return o[e].exports;var s=o[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=o,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(s,o,function(e){return t[e]}.bind(null,o));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/app/assets/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;n.push([2,"chunk-vendors","chunk-common"]),s()})({"054d":function(t,e,s){},2:function(t,e,s){t.exports=s("de1f")},b3ff:function(t,e,s){"use strict";s("054d")},de1f:function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var o=s("2b0e"),i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sui-wrap",attrs:{id:"beehive-wrap"}},[e("sui-header",{attrs:{title:t.$i18n.title.accounts}}),e("div",{staticClass:"sui-row-with-sidenav"},[e("div",{staticClass:"sui-sidenav",attrs:{role:"navigation"}},[e("div",{staticClass:"sui-sidenav-settings"},[e("ul",{staticClass:"sui-vertical-tabs sui-sidenav-hide-md"},[e("router-link",{staticClass:"sui-vertical-tab",attrs:{tag:"li",to:"/google"}},[e("a",[t._v(t._s(t.$i18n.label.google_account))])])],1),e("mobile-nav",{attrs:{selected:t.$route.path,paths:t.nav}})],1)]),e("router-view")],1),e("sui-footer")],1)},n=[],a=s("6e06"),r=s("2323"),c=s("c895"),l=s("a943"),u={name:"App",components:{SuiHeader:a["a"],SuiFooter:r["a"],SuiSelect:c["a"],MobileNav:l["a"]},data:function(){return{nav:{"/google":this.$i18n.label.google_account}}},created:function(){var t=this;this.$root.$on("googleLoginUpdate",(function(e){t.$store.dispatch("helpers/updateGoogleLogin",{reInit:!0,status:e})}))},mounted:function(){this.$store.state.helpers.google.logged_in&&this.$store.dispatch("helpers/updateGoogleApi",{})}},d=u,g=(s("b3ff"),s("2877")),p=Object(g["a"])(d,i,n,!1,null,null,null),h=p.exports,b=s("8c4f"),f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sui-box"},[e("box-header",{attrs:{title:t.$i18n.label.google_account}}),e("div",{staticClass:"sui-box-body"},[t.isApiUp?t._e():e("sui-notice",{attrs:{type:"error"}},[e("p",[t._v(t._s(t.apiErrorMessage))])]),t.isConnected?e("sui-notice",{attrs:{type:"info"}},[e("p",[t._v(t._s(t.$i18n.notice.account_setup))])]):t._e(),e("div",{staticClass:"sui-box-settings-row"},[e("div",{staticClass:"sui-box-settings-col-1"},[e("span",{staticClass:"sui-settings-label"},[t._v(" "+t._s(t.$i18n.label.account)+" ")]),t.isNetwork()?e("span",{staticClass:"sui-description"},[t._v(" "+t._s(t.$i18n.desc.google_account_network)+" ")]):t.isSubsite()?e("span",{staticClass:"sui-description"},[t._v(" "+t._s(t.$i18n.desc.google_account_subsite)+" ")]):e("span",{staticClass:"sui-description"},[t._v(" "+t._s(t.$i18n.desc.google_account_single)+" ")])]),e("div",{staticClass:"sui-box-settings-col-2"},[t.isConnected?e("account-details"):e("auth-form")],1)])],1)],1)},m=[],v=function(){var t=this,e=t._self._c;return e("fragment",[t.showSetupNotice?e("sui-notice",{staticClass:"sui-notice-spacing-bottom--10",attrs:{type:"info"}},[e("p",[t._v(" "+t._s(t.sprintf(t.$i18n.notice.google_already_connected,t.$vars.urls.statistics))+" ")])]):t._e(),t.showSimpleConnect?e("simple-connect-form"):e("div",{staticClass:"sui-side-tabs sui-tabs"},[e("div",{attrs:{"data-tabs":""}},[e("div",{staticClass:"active"},[t._v(" "+t._s(t.$i18n.label.connect_google)+" ")]),e("div",[t._v(t._s(t.$i18n.label.google_api))])]),e("div",{attrs:{"data-panes":""}},[e("div",{staticClass:"sui-tab-boxed beehive-google-setup-connect active"},[e("default-connect-form",{on:{success:function(t){}}})],1),e("div",{staticClass:"sui-tab-boxed"},[e("api-project-form"),e("api-project-form-uri")],1)])])],1)},_=[],C=s("5659"),$=(s("caad"),s("2532"),function(){var t=this,e=t._self._c;return e("fragment",[e("p",{staticClass:"sui-description",domProps:{innerHTML:t._s(t.$i18n.desc.google_setup)}}),e("div",{staticClass:"sui-form-field",class:{"sui-form-field-error":t.errors.includes("clientId")},staticStyle:{"margin-bottom":"20px"}},[e("label",{staticClass:"sui-label",attrs:{for:"google-accounts-client-id",id:"google-accounts-client-id-label"}},[t._v(" "+t._s(t.$i18n.label.client_id)+" ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.clientId,expression:"clientId"}],staticClass:"sui-form-control",attrs:{type:"text",id:"google-accounts-client-id","aria-labelledby":"google-accounts-client-id-label","aria-describedby":"google-accounts-client-id-error",placeholder:t.$i18n.placeholder.client_id},domProps:{value:t.clientId},on:{input:function(e){e.target.composing||(t.clientId=e.target.value)}}}),t.errors.includes("clientId")?e("span",{staticClass:"sui-error-message",attrs:{id:"google-accounts-client-id-error"}},[t._v(" "+t._s(t.$i18n.error.client_id)+" ")]):t._e()]),e("div",{staticClass:"sui-form-field",class:{"sui-form-field-error":t.errors.includes("clientSecret")},staticStyle:{"margin-bottom":"10px"}},[e("label",{staticClass:"sui-label",attrs:{for:"google-accounts-client-secret",id:"google-accounts-client-secret-label"}},[t._v(" "+t._s(t.$i18n.label.client_secret)+" ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.clientSecret,expression:"clientSecret"}],staticClass:"sui-form-control",attrs:{type:"text",id:"google-accounts-client-secret","aria-labelledby":"google-accounts-client-secret-label","aria-describedby":"google-accounts-client-secret-error",placeholder:t.$i18n.placeholder.client_secret},domProps:{value:t.clientSecret},on:{input:function(e){e.target.composing||(t.clientSecret=e.target.value)}}}),t.errors.includes("clientSecret")?e("span",{staticClass:"sui-error-message",attrs:{id:"google-accounts-client-secret-error"}},[t._v(" "+t._s(t.$i18n.error.client_secret)+" ")]):t._e()]),e("button",{staticClass:"sui-button sui-button-sm sui-button-blue",class:t.authButtonClass,attrs:{type:"button","aria-live":"polite"},on:{click:t.authorize}},[e("span",{staticClass:"sui-button-text-default"},[t._v(" "+t._s(t.$i18n.button.authorize)+" ")]),e("span",{staticClass:"sui-button-text-onload"},[e("span",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.button.processing)+" ")])])])}),y=[],w=(s("14d9"),s("7f2d")),x={name:"ApiProjectForm",data:function(){return{errors:[],processing:!1,clientId:this.getOption("client_id","google",""),clientSecret:this.getOption("client_secret","google","")}},computed:{hasError:function(){return this.errors.length>0},authButtonClass:function(){return{"sui-button-onload-text":this.processing}}},methods:{validateForm:function(){this.errors=[],this.clientId||this.errors.push("clientId"),this.clientSecret||this.errors.push("clientSecret")},authorize:function(){var t=this;this.validateForm(),this.hasError||(this.processing=!0,Object(w["a"])({path:"v1/auth/auth-url",params:{client_id:this.clientId,client_secret:this.clientSecret,network:this.isNetwork()?1:0,context:"settings"}}).then((function(e){e.success&&e.data.url?window.location.href=e.data.url:(t.processing=!1,t.processError())})))},processError:function(){this.$root.$emit("googleConnectProcessed",{type:"api",success:!1}),this.$root.$emit("showTopNotice",{type:"error",dismiss:!0,message:this.$i18n.notice.auth_failed})}}},S=x,O=Object(g["a"])(S,$,y,!1,null,null,null),N=O.exports,j=function(){var t=this,e=t._self._c;return e("div",{staticClass:"beehive-google-setup-connect"},[e("div",{staticClass:"sui-form-field"},[e("a",{staticClass:"sui-button sui-button-lg beehive-connect-google-btn",attrs:{type:"button",href:t.$moduleVars.google.login_url}},[e("i",{staticClass:"sui-icon-google-connect",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.connect_google)+" ")])])])},k=[],P={},A=Object(g["a"])(P,j,k,!1,null,null,null),I=A.exports,V=function(){var t=this,e=t._self._c;return e("fragment",[e("div",{attrs:{role:"separator",id:"google-accounts-accordion-separator--start","aria-labelledby":"google-accounts-accordion-separator--start","aria-label":t.$i18n.label.start_auth_redirect}}),e("div",{staticClass:"beehive-accordion last-child"},[e("h4",{staticClass:"beehive-accordion-item--header"},[e("button",{class:t.openButtonClass,attrs:{id:"google-accounts-accordion-section-label--redirects","aria-controls":"google-accounts-accordion-section--redirects","aria-expanded":t.open?"true":"false"},on:{click:t.openSection}},[e("span",{staticClass:"sui-icon-copy sui-md",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.uri_redirects)+" "),e("span",{staticClass:"sui-sm handler",class:t.openIconClass,attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"beehive-accordion-item--body",class:t.bodyClass,attrs:{role:"region",id:"google-accounts-accordion-section--redirects","aria-labelledby":"google-accounts-accordion-section-label--redirects",hidden:!t.open}},[e("p",{staticClass:"sui-description",staticStyle:{"margin-bottom":"18px"}},[t._v(" "+t._s(t.$i18n.desc.uri_redirects)+" ")]),e("div",{staticClass:"sui-form-field"},[e("label",{staticClass:"sui-label",attrs:{id:"google-accounts-uri-redirects--label"}},[t._v(" "+t._s(t.$i18n.label.uri_redirects)+" ")]),e("div",{staticClass:"sui-row",staticStyle:{"margin-top":"5px"}},[e("div",{staticClass:"sui-col-md-6"},[e("div",{staticClass:"sui-with-button sui-with-button-icon"},[e("input",{staticClass:"sui-form-control",attrs:{type:"url",id:"google-accounts-uri-redirects--one","aria-labelledby":"google-accounts-uri-redirects--label",readonly:""},domProps:{value:t.$moduleVars.google.redirect_uri1}}),e("button",{staticClass:"sui-button-icon beehive-copy-uri",attrs:{"data-clipboard-text":t.$moduleVars.google.redirect_uri1},on:{click:t.copiedNotice}},[e("span",{staticClass:"sui-icon-copy",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"sui-screen-reader-text"},[t._v(" "+t._s(t.$i18n.button.copy)+" ")])])])]),e("div",{staticClass:"sui-col-md-6"},[e("div",{staticClass:"sui-with-button sui-with-button-icon"},[e("input",{staticClass:"sui-form-control",attrs:{type:"url",id:"google-accounts-uri-redirects--two","aria-labelledby":"uri-redirects--label",readonly:""},domProps:{value:t.$moduleVars.google.redirect_uri2}}),e("button",{staticClass:"sui-button-icon beehive-copy-uri",attrs:{"data-clipboard-text":t.$moduleVars.google.redirect_uri2},on:{click:t.copiedNotice}},[e("span",{staticClass:"sui-icon-copy",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"sui-screen-reader-text"},[t._v(" "+t._s(t.$i18n.button.copy)+" ")])])])])])])])]),e("div",{attrs:{role:"separator",id:"google-accounts-accordion-separator--end","aria-labelledby":"google-accounts-accordion-separator--end","aria-label":t.$i18n.label.end_auth_redirect}})])},M=[],F={name:"ApiProjectFormUri",data:function(){return{open:!1}},mounted:function(){new ClipboardJS(".beehive-copy-uri")},computed:{openButtonClass:function(){return{open:this.open}},bodyClass:function(){return{open:this.open}},openIconClass:function(){return{"sui-icon-chevron-up":this.open,"sui-icon-chevron-down":!this.open}}},methods:{openSection:function(){this.open=!this.open},copiedNotice:function(){this.$root.$emit("showTopNotice",{message:this.$i18n.notice.uri_copied})}}},T=F,E=Object(g["a"])(T,V,M,!1,null,null,null),L=E.exports,U=function(){var t=this,e=t._self._c;return e("default-connection-parts",{attrs:{context:t.context},on:{notify:t.showNotification}})},D=[],B=s("5e17"),G={name:"DefaultConnectForm",components:{DefaultConnectionParts:B["a"]},props:{context:{type:String,default:"settings"}},methods:{showNotification:function(t){t?this.$root.$emit("showTopNotice",{message:this.$i18n.notice.auth_success}):this.$root.$emit("showTopNotice",{dismiss:!0,type:"error",message:this.$i18n.notice.google_connect_error})}}},z=G,H=Object(g["a"])(z,U,D,!1,null,null,null),J=H.exports,R={name:"AuthForm",components:{SuiNotice:C["a"],ApiProjectForm:N,SimpleConnectForm:I,ApiProjectFormUri:L,DefaultConnectForm:J},mounted:function(){SUI.suiTabs()},computed:{showSimpleConnect:function(){if(!this.$moduleVars.google)return!1;var t=this.$moduleVars.google.network_setup,e=this.$moduleVars.google.network_logged_in,s=this.$moduleVars.google.network_login_method;return this.isSubsite()&&t&&e&&"api"===s},showSetupNotice:function(){return!!this.$moduleVars.google&&(this.isSubsite()&&this.$moduleVars.google.network_logged_in)}}},q=R,W=Object(g["a"])(q,v,_,!1,null,null,null),K=W.exports,Q=function(){var t=this,e=t._self._c;return e("fragment",[e("label",{staticClass:"sui-label"},[t._v(" "+t._s(t.$i18n.tooltip.connected_account)+" ")]),e("div",{staticClass:"sui-border-frame google-account-overview"},[e("div",{staticClass:"sui-box-builder sui-flushed"},[e("div",{staticClass:"sui-builder-fields"},[e("div",{staticClass:"sui-builder-field"},[e("div",{staticClass:"sui-builder-field-label"},[t.userPhoto?e("span",{staticClass:"beehive-google-user-photo"},[e("img",{attrs:{src:t.userPhoto,alt:t.userName}})]):t._e(),e("span",[e("span",{staticClass:"beehive-google-user-name"},[t._v(" "+t._s(t.userName)+" ")]),e("span",{staticClass:"beehive-google-user-email"},[t._v(" "+t._s(t.userEmail)+" ")])])]),e("div",{staticClass:"sui-dropdown"},[e("button",{staticClass:"sui-button-icon sui-dropdown-anchor"},[e("i",{staticClass:"sui-icon-widget-settings-config",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"sui-screen-reader-text"},[t._v(" "+t._s(t.$i18n.button.open_options)+" ")])]),e("ul",[e("li",[e("button",{attrs:{type:"button",id:"google-logout-user","data-modal-open":"beehive-google-logout-confirm"}},[e("i",{staticClass:"sui-icon-logout",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.logout)+" ")])])])])])])])]),e("logout-modal")],1)},X=[],Y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sui-modal sui-modal-sm"},[e("div",{staticClass:"sui-modal-content sui-content-fade-out",attrs:{role:"dialog","aria-modal":"true","aria-labelledby":"beehive-google-logout-confirm-title","aria-describedby":"beehive-google-logout-confirm-description",id:t.modal}},[e("div",{staticClass:"sui-box"},[e("div",{staticClass:"sui-box-header sui-flatten sui-content-center sui-spacing-top--60"},[e("button",{staticClass:"sui-button-icon sui-button-float--right",attrs:{"data-modal-close":""}},[e("i",{staticClass:"sui-icon-close sui-md",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"sui-screen-reader-text"},[t._v(" "+t._s(t.$i18n.dialog.close)+" ")])]),e("h3",{staticClass:"sui-box-title sui-lg",attrs:{id:"beehive-google-logout-confirm-title"}},[t._v(" "+t._s(t.$i18n.label.logout)+" ")]),e("p",{staticClass:"sui-description",attrs:{id:"beehive-google-logout-confirm-description"}},[t._v(" "+t._s(t.$i18n.desc.logout_first)+" "),e("br"),t._v(" "+t._s(t.$i18n.desc.logout_second)+" ")])]),e("div",{staticClass:"sui-box-footer sui-flatten sui-content-center"},[e("button",{staticClass:"sui-button sui-button-ghost",attrs:{"data-modal-close":""}},[t._v(" "+t._s(t.$i18n.dialog.cancel)+" ")]),e("button",{staticClass:"sui-button sui-button-red",class:t.buttonClass,attrs:{type:"button","aria-live":"polite",id:"beehive-google-logout-confirm-button"},on:{click:t.logoutAccount}},[e("span",{staticClass:"sui-button-text-default"},[e("i",{staticClass:"sui-icon-logout",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.logout)+" ")]),e("span",{staticClass:"sui-button-text-onload"},[e("i",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.button.logging_out)+" ")])])])])])])},Z=[],tt=s("8f47"),et={name:"LogoutModal",mixins:[tt["a"]],data:function(){return{modal:"beehive-google-logout-confirm",processing:!1}},computed:{buttonClass:function(){return{"sui-button-ghost":!this.processing,"sui-button-onload-text":this.processing}}},methods:{logoutAccount:function(){var t=this;this.processing=!0,Object(w["a"])({path:"v1/auth/logout",params:{network:this.isNetwork()?1:0}}).then((function(e){t.$root.$emit("googleLoginUpdate",!1),t.processing=!1,t.closeModal(),e.success&&t.$root.$emit("showTopNotice",{message:t.$i18n.notice.logged_out})}))}}},st=et,ot=Object(g["a"])(st,Y,Z,!1,null,null,null),it=ot.exports,nt={name:"AccountDetails",components:{LogoutModal:it},computed:{userName:function(){var t=this.getOption("name","google_login","");return t||this.$i18n.label.no_account_info},userEmail:function(){return this.getOption("email","google_login","")},userPhoto:function(){return this.getOption("photo","google_login","")}}},at=nt,rt=Object(g["a"])(at,Q,X,!1,null,null,null),ct=rt.exports,lt=s("b380"),ut=s("5b5e"),dt={name:"GoogleAccount",components:{AuthForm:K,BoxHeader:lt["a"],SuiNotice:C["a"],AccountDetails:ct},mounted:function(){this.authRedirectNotice()},computed:{isConnected:function(){return this.$store.state.helpers.google.logged_in},isApiUp:function(){return this.$store.state.helpers.googleApi.status},apiErrorMessage:function(){return this.$store.state.helpers.googleApi.error}},methods:{authRedirectNotice:function(){var t=this.getOption("google_auth_redirect_success","misc");t&&("success"===t?(this.$root.$emit("showTopNotice",{message:this.$i18n.notice.auth_success}),Object(ut["q"])()):"error"===t&&this.$root.$emit("showTopNotice",{dismiss:!0,type:"error",message:this.$i18n.notice.auth_failed}),this.setOption("google_auth_redirect_success","misc",0),this.saveOptions())}}},gt=dt,pt=Object(g["a"])(gt,f,m,!1,null,null,null),ht=pt.exports;o["default"].use(b["a"]);var bt=[{path:"/",redirect:"/google"},{path:"/google",name:"GoogleAccount",component:ht},{path:"*",redirect:"/google"}],ft=new b["a"]({linkActiveClass:"current",routes:bt}),mt=s("b8ae"),vt=s("9d51"),_t=s("3f08"),Ct=s("e19f");o["default"].config.productionTip=!1,o["default"].mixin({methods:{sprintf:Ct["sprintf"],getOption:ut["b"],setOption:ut["s"],saveOptions:ut["r"],isNetwork:ut["l"],isMultisite:ut["k"],isSubsite:ut["n"],isNetworkWide:ut["m"],hideDocLinks:ut["f"]}}),o["default"].prototype.$i18n=window.beehiveI18n,o["default"].prototype.$vars=window.beehiveVars,o["default"].prototype.$moduleVars=window.beehiveModuleVars,o["default"].use(mt["VuePlugin"]),o["default"].use(_t["b"].Plugin),new o["default"]({router:ft,render:function(t){return t(h)},store:vt["a"]}).$mount("#beehive-accounts-app")}});