(function(){var __webpack_modules__={135:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Bt: function() { return /* reexport safe */ _ListThumb__WEBPACK_IMPORTED_MODULE_8__.B; },\n/* harmony export */   E0: function() { return /* reexport safe */ _ImageTag__WEBPACK_IMPORTED_MODULE_0__.E; },\n/* harmony export */   FM: function() { return /* reexport safe */ _PageFooter__WEBPACK_IMPORTED_MODULE_2__.F; },\n/* harmony export */   S3: function() { return /* reexport safe */ _WhiteLabelBanner__WEBPACK_IMPORTED_MODULE_1__.S; },\n/* harmony export */   c1: function() { return /* reexport safe */ _SortableElements__WEBPACK_IMPORTED_MODULE_7__.c; },\n/* harmony export */   cd: function() { return /* reexport safe */ _UploadThumb__WEBPACK_IMPORTED_MODULE_11__.c; },\n/* harmony export */   fo: function() { return /* reexport safe */ _UserRoles__WEBPACK_IMPORTED_MODULE_6__.f; }\n/* harmony export */ });\n/* harmony import */ var _ImageTag__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8844);\n/* harmony import */ var _WhiteLabelBanner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6057);\n/* harmony import */ var _PageFooter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(5132);\n/* harmony import */ var _UpgradeNotice__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(837);\n/* harmony import */ var _ExpiredNotice__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(3778);\n/* harmony import */ var _DashNotice__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(1319);\n/* harmony import */ var _UserRoles__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(7122);\n/* harmony import */ var _SortableElements__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(3423);\n/* harmony import */ var _ListThumb__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(3603);\n/* harmony import */ var _VideoIframe__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(5841);\n/* harmony import */ var _GoTopButton__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(4460);\n/* harmony import */ var _UploadThumb__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(5320);\n/* harmony import */ var _VideoSearchForm__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(5498);\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM1LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvY29tcG9uZW50cy9pbmRleC5qcz8yZDRmIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vSW1hZ2VUYWcnO1xuZXhwb3J0ICogZnJvbSAnLi9XaGl0ZUxhYmVsQmFubmVyJztcbmV4cG9ydCAqIGZyb20gJy4vUGFnZUZvb3Rlcic7XG5leHBvcnQgKiBmcm9tICcuL1VwZ3JhZGVOb3RpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9FeHBpcmVkTm90aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vRGFzaE5vdGljZSc7XG5leHBvcnQgKiBmcm9tICcuL1VzZXJSb2xlcyc7XG5leHBvcnQgKiBmcm9tICcuL1NvcnRhYmxlRWxlbWVudHMnO1xuZXhwb3J0ICogZnJvbSAnLi9MaXN0VGh1bWInO1xuZXhwb3J0ICogZnJvbSAnLi9WaWRlb0lmcmFtZSc7XG5leHBvcnQgKiBmcm9tICcuL0dvVG9wQnV0dG9uJztcbmV4cG9ydCAqIGZyb20gJy4vVXBsb2FkVGh1bWInO1xuZXhwb3J0ICogZnJvbSAnLi9WaWRlb1NlYXJjaEZvcm0nOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///135\n")},9571:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $n: function() { return /* reexport safe */ _Button__WEBPACK_IMPORTED_MODULE_11__.$; },\n/* harmony export */   B8: function() { return /* reexport safe */ _List__WEBPACK_IMPORTED_MODULE_19__.B; },\n/* harmony export */   In: function() { return /* reexport safe */ _Icon__WEBPACK_IMPORTED_MODULE_0__.I; },\n/* harmony export */   JU: function() { return /* reexport safe */ _Label__WEBPACK_IMPORTED_MODULE_22__.J; },\n/* harmony export */   K0: function() { return /* reexport safe */ _IconButton__WEBPACK_IMPORTED_MODULE_26__.K; },\n/* harmony export */   Q8: function() { return /* reexport safe */ _MediaUpload__WEBPACK_IMPORTED_MODULE_24__.Q; },\n/* harmony export */   RL: function() { return /* reexport safe */ _StaticNotice__WEBPACK_IMPORTED_MODULE_15__.R; },\n/* harmony export */   Sc: function() { return /* reexport safe */ _Checkbox__WEBPACK_IMPORTED_MODULE_12__.S; },\n/* harmony export */   TM: function() { return /* reexport safe */ _Textarea__WEBPACK_IMPORTED_MODULE_23__.T; },\n/* harmony export */   XI: function() { return /* reexport safe */ _Table__WEBPACK_IMPORTED_MODULE_21__.X; },\n/* harmony export */   Y9: function() { return /* reexport safe */ _Header__WEBPACK_IMPORTED_MODULE_1__.Y; },\n/* harmony export */   ZL: function() { return /* reexport safe */ _Portal__WEBPACK_IMPORTED_MODULE_25__.Z; },\n/* harmony export */   aF: function() { return /* reexport safe */ _Modal__WEBPACK_IMPORTED_MODULE_14__.a; },\n/* harmony export */   az: function() { return /* reexport safe */ _Box__WEBPACK_IMPORTED_MODULE_7__.a; },\n/* harmony export */   ii: function() { return /* reexport safe */ _TopNotice__WEBPACK_IMPORTED_MODULE_4__.i; },\n/* harmony export */   iw: function() { return /* reexport safe */ _WhiteLabelSummary__WEBPACK_IMPORTED_MODULE_18__.i; },\n/* harmony export */   l6: function() { return /* reexport safe */ _Select__WEBPACK_IMPORTED_MODULE_3__.l; },\n/* harmony export */   nD: function() { return /* reexport safe */ _Accordion__WEBPACK_IMPORTED_MODULE_20__.n; },\n/* harmony export */   pd: function() { return /* reexport safe */ _Input__WEBPACK_IMPORTED_MODULE_10__.p; },\n/* harmony export */   wi: function() { return /* reexport safe */ _Footer__WEBPACK_IMPORTED_MODULE_2__.w; }\n/* harmony export */ });\n/* harmony import */ var _Icon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7028);\n/* harmony import */ var _Header__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7347);\n/* harmony import */ var _Footer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(5528);\n/* harmony import */ var _Select__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8216);\n/* harmony import */ var _TopNotice__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(3564);\n/* harmony import */ var _MobileNav__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(6386);\n/* harmony import */ var _SideNav__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(3734);\n/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(9907);\n/* harmony import */ var _Toggle__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(4377);\n/* harmony import */ var _BorderFrame__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(2740);\n/* harmony import */ var _Input__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(2546);\n/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(9590);\n/* harmony import */ var _Checkbox__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(4268);\n/* harmony import */ var _FileUpload__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(8811);\n/* harmony import */ var _Modal__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(6744);\n/* harmony import */ var _StaticNotice__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(9906);\n/* harmony import */ var _ProgressBar__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(4113);\n/* harmony import */ var _RadioTabs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(7385);\n/* harmony import */ var _WhiteLabelSummary__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(5390);\n/* harmony import */ var _List__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(7735);\n/* harmony import */ var _Accordion__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(3057);\n/* harmony import */ var _Table__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(7670);\n/* harmony import */ var _Label__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(6686);\n/* harmony import */ var _Textarea__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(2868);\n/* harmony import */ var _MediaUpload__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(9847);\n/* harmony import */ var _Portal__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(5071);\n/* harmony import */ var _IconButton__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(9850);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTU3MS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9saWIvY29tcG9uZW50cy9pbmRleC5qcz9hYTNjIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vSWNvbic7XG5leHBvcnQgKiBmcm9tICcuL0hlYWRlcic7XG5leHBvcnQgKiBmcm9tICcuL0Zvb3Rlcic7XG5leHBvcnQgKiBmcm9tICcuL1NlbGVjdCc7XG5leHBvcnQgKiBmcm9tICcuL1RvcE5vdGljZSc7XG5leHBvcnQgKiBmcm9tICcuL01vYmlsZU5hdic7XG5leHBvcnQgKiBmcm9tICcuL1NpZGVOYXYnO1xuZXhwb3J0ICogZnJvbSAnLi9Cb3gnO1xuZXhwb3J0ICogZnJvbSAnLi9Ub2dnbGUnO1xuZXhwb3J0ICogZnJvbSAnLi9Cb3JkZXJGcmFtZSc7XG5leHBvcnQgKiBmcm9tICcuL0lucHV0JztcbmV4cG9ydCAqIGZyb20gJy4vQnV0dG9uJztcbmV4cG9ydCAqIGZyb20gJy4vQ2hlY2tib3gnO1xuZXhwb3J0ICogZnJvbSAnLi9GaWxlVXBsb2FkJztcbmV4cG9ydCAqIGZyb20gJy4vTW9kYWwnO1xuZXhwb3J0ICogZnJvbSAnLi9TdGF0aWNOb3RpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9Qcm9ncmVzc0Jhcic7XG5leHBvcnQgKiBmcm9tICcuL1JhZGlvVGFicyc7XG5leHBvcnQgKiBmcm9tICcuL1doaXRlTGFiZWxTdW1tYXJ5JztcbmV4cG9ydCAqIGZyb20gJy4vTGlzdCc7XG5leHBvcnQgKiBmcm9tICcuL0FjY29yZGlvbic7XG5leHBvcnQgKiBmcm9tICcuL1RhYmxlJztcbmV4cG9ydCAqIGZyb20gJy4vTGFiZWwnO1xuZXhwb3J0ICogZnJvbSAnLi9UZXh0YXJlYSc7XG5leHBvcnQgKiBmcm9tICcuL01lZGlhVXBsb2FkJztcbmV4cG9ydCAqIGZyb20gJy4vUG9ydGFsJztcbmV4cG9ydCAqIGZyb20gJy4vSWNvbkJ1dHRvbic7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9571\n")},3754:function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(6540);\n// EXTERNAL MODULE: ./node_modules/react-dom/client.js\nvar client = __webpack_require__(5338);\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 11 modules\nvar es = __webpack_require__(7040);\n// EXTERNAL MODULE: ./app/src/store/store.js\nvar store = __webpack_require__(9457);\n// EXTERNAL MODULE: ./node_modules/react-router-dom/dist/index.js\nvar dist = __webpack_require__(4976);\n// EXTERNAL MODULE: ./app/src/lib/components/index.js\nvar components = __webpack_require__(9571);\n// EXTERNAL MODULE: ./app/src/lib/hooks/index.js + 4 modules\nvar hooks = __webpack_require__(1635);\n// EXTERNAL MODULE: ./app/src/store/slices/notice.js\nvar notice = __webpack_require__(9472);\n// EXTERNAL MODULE: ./app/src/helpers/api/index.js + 1 modules\nvar api = __webpack_require__(9331);\n// EXTERNAL MODULE: ./node_modules/@wordpress/i18n/build-module/index.js + 10 modules\nvar build_module = __webpack_require__(4214);\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(4848);\n;// CONCATENATED MODULE: ./app/src/pages/playlists/partials/SummaryBox/SummaryBox.js\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n/**\n * External dependencies\n */\n\n\n\nvar initialRecentState = (0,build_module.__)(\'Never\', \'wpmudev_vids\');\nfunction SummaryBox() {\n  var _useState = (0,react.useState)(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    count = _useState2[0],\n    setCount = _useState2[1];\n  var _useState3 = (0,react.useState)(initialRecentState),\n    _useState4 = _slicedToArray(_useState3, 2),\n    recentlyUpdated = _useState4[0],\n    setRecentlyUpdated = _useState4[1];\n  var _useState5 = (0,react.useState)(initialRecentState),\n    _useState6 = _slicedToArray(_useState5, 2),\n    recentlyCreated = _useState6[0],\n    setRecentlyCreated = _useState6[1];\n\n  // on mount\n  (0,react.useEffect)(function () {\n    // Update summary stats\n    updateStats();\n  }, []);\n\n  /**\n   * Set the summary stats from the API response.\n   *\n   * @returns {void}\n   */\n  function setStats(data) {\n    var recent = data.recent;\n    var counts = data.count;\n\n    // Last updated playlist.\n    if (recent.updated_playlist.title) {\n      setRecentlyUpdated(recent.updated_playlist.title);\n    }\n\n    // Last created playlist.\n    if (recent.created_playlist.title) {\n      setRecentlyCreated(recent.created_playlist.title);\n    }\n\n    // Total playlist count.\n    if (counts.playlists) {\n      setCount(counts.playlists);\n    }\n  }\n\n  /**\n   * Update the summary stats using the API.\n   *\n   * @returns {void}\n   */\n  function updateStats() {\n    (0,api/* restGet */.B8)({\n      path: \'summary\'\n    }).then(function (response) {\n      if (response.success && response.data) {\n        setStats(response.data);\n      }\n    });\n  }\n\n  // Items\n  var listItems = [{\n    label: (0,build_module.__)(\'Recently created playlist\', \'wpmudev_vids\'),\n    details: recentlyCreated\n  }, {\n    label: (0,build_module.__)(\'Recently updated playlist\', \'wpmudev_vids\'),\n    details: recentlyUpdated\n  }];\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* WhiteLabelSummary */.iw, {\n    isSmall: true,\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* WhiteLabelSummary */.iw.Segment, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* WhiteLabelSummary */.iw.Details, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n          className: "sui-summary-large",\n          children: count\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n          className: "sui-summary-sub",\n          children: (0,build_module.__)(\'Playlists\', \'wpmudev_vids\')\n        })]\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* WhiteLabelSummary */.iw.Segment, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* List */.B8, {\n        items: listItems\n      })\n    })]\n  });\n}\n/* harmony default export */ var SummaryBox_SummaryBox = ((/* unused pure expression or super */ null && (SummaryBox)));\n;// CONCATENATED MODULE: ./app/src/pages/playlists/partials/SummaryBox/index.js\n\n// EXTERNAL MODULE: ./node_modules/clipboard/dist/clipboard.js\nvar clipboard = __webpack_require__(7576);\nvar clipboard_default = /*#__PURE__*/__webpack_require__.n(clipboard);\n// EXTERNAL MODULE: ./app/src/components/index.js\nvar src_components = __webpack_require__(135);\n// EXTERNAL MODULE: ./app/src/store/slices/playlists.js\nvar slices_playlists = __webpack_require__(9317);\n// EXTERNAL MODULE: ./app/src/store/slices/videos.js\nvar slices_videos = __webpack_require__(4084);\n// EXTERNAL MODULE: ./node_modules/prop-types/index.js\nvar prop_types = __webpack_require__(5556);\nvar prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types);\n// EXTERNAL MODULE: ./node_modules/moment/moment.js\nvar moment = __webpack_require__(5093);\nvar moment_default = /*#__PURE__*/__webpack_require__.n(moment);\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\nvar classnames = __webpack_require__(6942);\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n;// CONCATENATED MODULE: ./app/src/pages/playlists/components/PlaylistVideos/VideoRow.js\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator.return && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, catch: function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\nfunction VideoRow_slicedToArray(r, e) { return VideoRow_arrayWithHoles(r) || VideoRow_iterableToArrayLimit(r, e) || VideoRow_unsupportedIterableToArray(r, e) || VideoRow_nonIterableRest(); }\nfunction VideoRow_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction VideoRow_unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return VideoRow_arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? VideoRow_arrayLikeToArray(r, a) : void 0; } }\nfunction VideoRow_arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction VideoRow_iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction VideoRow_arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\n/**\n * External dependencies\n */\n\n\n\n\n\n\n\nfunction VideoRow(_ref) {\n  var playlist = _ref.playlist,\n    video = _ref.video;\n  var dispatch = (0,es/* useDispatch */.wA)();\n  var _useState = (0,react.useState)(false),\n    _useState2 = VideoRow_slicedToArray(_useState, 2),\n    isDeleting = _useState2[0],\n    setIsDeleting = _useState2[1];\n  var _ref2 = playlist !== null && playlist !== void 0 ? playlist : {},\n    playlistID = _ref2.id;\n  var _ref3 = video !== null && video !== void 0 ? video : {},\n    videoID = _ref3.id,\n    video_slug = _ref3.video_slug,\n    video_title = _ref3.video_title,\n    thunmbnail = _ref3.thunmbnail,\n    date = _ref3.date,\n    video_type = _ref3.video_type;\n  var videoSelected = (0,es/* useSelector */.d4)(function (state) {\n    return (0,slices_playlists/* isVideoSelected */.V4)(state, {\n      videoID: videoID,\n      playlistID: playlistID\n    });\n  });\n\n  /**\n   * Get the video creation date as per the design.\n   *\n   * @returns {string}\n   */\n  var getDate = function getDate() {\n    // Only if date set.\n    if (date && \'\' !== date) {\n      var formattedDate = moment_default()(date);\n\n      // Format to human time.\n      return formattedDate.format(\'MMMM D/YYYY @ hh:mm A\');\n    } else {\n      return \'\';\n    }\n  };\n\n  /**\n   * Remove the deleted video from playlist and update playlists\n   *\n   * @return {void}\n   */\n  var removeFromPlaylist = function removeFromPlaylist() {\n    var newPlaylist = _objectSpread(_objectSpread({}, playlist), {}, {\n      videos: playlist.videos.filter(function (id) {\n        return id !== videoID;\n      })\n    });\n    dispatch((0,slices_playlists/* setPlaylist */.xu)({\n      playlist: newPlaylist\n    }));\n  };\n\n  /**\n   * Delete video\n   *\n   * @returns {void}\n   */\n  var deleteVideoFromPlaylist = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            setIsDeleting(true);\n            dispatch((0,slices_videos/* unAssignVideo */.oA)({\n              playlistID: playlistID,\n              videoID: videoID\n            })).then(function (response) {\n              var _response$payload;\n              if (response !== null && response !== void 0 && (_response$payload = response.payload) !== null && _response$payload !== void 0 && _response$payload.success) {\n                removeFromPlaylist();\n              }\n              setIsDeleting(false);\n            });\n          case 2:\n          case "end":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return function deleteVideoFromPlaylist() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var deleteButtonClasses = classnames_default()({\n    \'sui-button-icon\': true,\n    \'sui-tooltip\': true,\n    \'sui-tooltip-top-right\': true,\n    \'sui-button-onload\': isDeleting\n  });\n\n  /**\n   * Update selected videos list\n   *\n   * @return {void}\n   */\n  var updateVideoSelection = function updateVideoSelection() {\n    dispatch((0,slices_playlists/* toggleVideo */.WM)({\n      videoID: videoID,\n      playlistID: playlistID\n    }));\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Table */.XI.Tr, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Td, {\n      className: "sui-table-item-title",\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n        className: "wpmudev-videos-table--title",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Checkbox */.Sc, {\n          checked: videoSelected,\n          onChange: updateVideoSelection,\n          label: false,\n          id: "wpmudev-playlists-".concat(playlistID, "-videos-item-").concat(videoID)\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(src_components/* ListThumb */.Bt, {\n          url: thunmbnail === null || thunmbnail === void 0 ? void 0 : thunmbnail.url,\n          icon: video_slug,\n          className: "playlist-video-thumb",\n          isCustom: \'custom\' === video_type\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n          children: video_title\n        })]\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Td, {\n      className: "wpmudev-videos-table--date",\n      children: getDate()\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Td, {\n      className: "wpmudev-videos-table--actions",\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)("button", {\n        type: "button",\n        role: "button",\n        className: deleteButtonClasses,\n        "data-tooltip": (0,build_module.__)(\'Remove video from playlist\', \'wpmudev_vids\'),\n        onClick: deleteVideoFromPlaylist,\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n          className: "sui-loading-text",\n          "aria-hidden": "true",\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n            icon: "trash"\n          })\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n          icon: "loader",\n          className: "sui-loading"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n          className: "sui-screen-reader-text",\n          children: (0,build_module.__)(\'Delete\', \'wpmudev_vids\')\n        })]\n      })\n    })]\n  });\n}\nVideoRow.propTypes = {\n  video: (prop_types_default()).object,\n  playlist: (prop_types_default()).object\n};\n/* harmony default export */ var PlaylistVideos_VideoRow = ((/* unused pure expression or super */ null && (VideoRow)));\n;// CONCATENATED MODULE: ./app/src/pages/playlists/components/PlaylistVideos/PlaylistVideos.js\n/**\n * Library dependencies\n */\n\n\n\n/**\n * Internal dependencies\n */\n\n\n/**\n * External dependencies\n */\n\n\n\n\nfunction PlaylistVideos(_ref) {\n  var playlist = _ref.playlist,\n    setCurrentPlaylist = _ref.setCurrentPlaylist,\n    openVideosModal = _ref.openVideosModal;\n  var ids = playlist.videos;\n  var videos = (0,es/* useSelector */.d4)(function (state) {\n    return (0,slices_videos/* getVideos */.fY)(state, ids);\n  });\n  var hasVideos = !!videos && videos.length > 0;\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az, {\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Table */.XI, {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Thead, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Table */.XI.Tr, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Th, {\n            className: "sui-table-item-title",\n            children: (0,build_module.__)(\'Video title\', \'wpmudev_vids\')\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Th, {\n            className: "wpmudev-videos-table--date",\n            children: (0,build_module.__)(\'Date added\', \'wpmudev_vids\')\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Th, {\n            className: "wpmudev-videos-table--actions",\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n              className: "sui-screen-reader-text",\n              children: (0,build_module.__)(\'Row actions\', \'wpmudev_vids\')\n            })\n          })]\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Tbody, {\n        children: hasVideos ? videos.map(function (video) {\n          return /*#__PURE__*/(0,jsx_runtime.jsx)(VideoRow, {\n            playlist: playlist,\n            video: video\n          }, video.id);\n        }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Tr, {\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Td, {\n            colSpan: "3",\n            children: (0,build_module.__)(\'No videos assigned.\', \'wpmudev_vids\')\n          })\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Tfoot, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Tr, {\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Td, {\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n              onClick: function onClick() {\n                setCurrentPlaylist(playlist);\n                openVideosModal();\n              },\n              color: "blue",\n              icon: "plus",\n              children: (0,build_module.__)(\'Add Video\', \'wpmudev_vids\')\n            })\n          })\n        })\n      })]\n    })\n  });\n}\nPlaylistVideos.defaultProps = {\n  playlist: {},\n  openVisibilityModal: function openVisibilityModal() {\n    return null;\n  },\n  setCurrentPlaylist: function setCurrentPlaylist() {\n    return null;\n  }\n};\nPlaylistVideos.propTypes = {\n  playlist: (prop_types_default()).object,\n  openVisibilityModal: (prop_types_default()).func,\n  setCurrentPlaylist: (prop_types_default()).func\n};\n/* harmony default export */ var PlaylistVideos_PlaylistVideos = ((/* unused pure expression or super */ null && (PlaylistVideos)));\n;// CONCATENATED MODULE: ./app/src/pages/playlists/components/PlaylistVideos/index.js\n\n\n// EXTERNAL MODULE: ./node_modules/interweave/esm/index.js\nvar esm = __webpack_require__(5013);\n;// CONCATENATED MODULE: ./app/src/pages/playlists/components/UpgradeNotice/UpgradeNotice.js\n/**\n * Library dependencies\n */\n\n\n/**\n * External dependencies\n */\n\n\n\n/* When membership is not valid for videos */\n\nfunction UpgradeNotice() {\n  var videos = window.ivtVars.urls.videos;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* StaticNotice */.RL, {\n    type: "purple",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n      children: (0,build_module.__)("You don\'t have any custom videos available to add to this playlist. You can unlock WPMU DEV white-labeled video tutorials by activating a full membership. Click the button below for more information on the WPMU DEV pricing structure.", \'wpmudev_vids\')\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n      style: {\n        display: \'none\'\n      },\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(esm/* Interweave */.BW, {\n        content: (0,build_module/* sprintf */.nv)((0,build_module.__)(\'<strong>Note:</strong> You can still <a href="%s">create and add custom videos</a> to this playlist.\', \'wmpudev_vids\'), videos)\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)("a", {\n        href: "https://wpmudev.com/project/unbranded-video-tutorials/?utm_source=integrated_video_tutorials&utm_medium=plugin&utm_campaign=integrated_video_tutorials_notice_upgrade",\n        target: "_blank",\n        className: "sui-button sui-button-purple",\n        children: (0,build_module.__)(\'Get Full Membership\', \'wpmudev_vids\')\n      })\n    })]\n  });\n}\n/* harmony default export */ var UpgradeNotice_UpgradeNotice = ((/* unused pure expression or super */ null && (UpgradeNotice)));\n;// CONCATENATED MODULE: ./app/src/pages/playlists/components/UpgradeNotice/index.js\n\n;// CONCATENATED MODULE: ./app/src/pages/playlists/components/ExpiredNotice/ExpiredNotice.js\n/**\n * Library dependencies\n */\n\n\n/**\n * External dependencies\n */\n\n\n\n/* When no custom videos are found and Dash plugin is inactive */\n\nfunction ExpiredNotice() {\n  var videos = window.ivtVars.urls.videos;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* StaticNotice */.RL, {\n    type: "purple",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(esm/* Interweave */.BW, {\n        content: sprintf((0,build_module.__)("WPMU DEV Videos are locked. To continue displaying WPMU DEV\'s white label tutorial videos to your customers, renew your membership today.", \'wmpudev_vids\'), videos)\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)("a", {\n        href: "https://wpmudev.com/?utm_source=integrated_video_tutorials&utm_medium=plugin&utm_campaign=integrated_video_tutorials_notice_renew",\n        target: "_blank",\n        className: "sui-button sui-button-purple",\n        children: (0,build_module.__)(\'Renew Membership\', \'wpmudev_vids\')\n      })\n    })]\n  });\n}\n/* harmony default export */ var ExpiredNotice_ExpiredNotice = ((/* unused pure expression or super */ null && (ExpiredNotice)));\n;// CONCATENATED MODULE: ./app/src/pages/playlists/components/ExpiredNotice/index.js\n\n;// CONCATENATED MODULE: ./app/src/pages/playlists/components/RenewNotice/RenewNotice.js\n/**\n * Library dependencies\n */\n\n\n/**\n * External dependencies\n */\n\n\n\n/* When membership is not valid for videos */\n\nfunction RenewNotice() {\n  var videos = window.ivtVars.urls.videos;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* StaticNotice */.RL, {\n    type: "purple",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)("p", {\n      children: [(0,build_module.__)("You don\'t have any custom videos available to add to this playlist. To unlock WPMU DEV tutorial videos you\'ll need to renew your membership. ", \'wpmudev_vids\'), /*#__PURE__*/(0,jsx_runtime.jsx)(esm/* Interweave */.BW, {\n        content: (0,build_module/* sprintf */.nv)((0,build_module.__)(\'Note: You can still <a href="%s">create and add custom videos</a> to this playlist.\', \'wmpudev_vids\'), videos)\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)("a", {\n        href: "https://wpmudev.com/project/unbranded-video-tutorials/?utm_source=integrated_video_tutorials&utm_medium=plugin&utm_campaign=integrated_video_tutorials_notice_upgrade",\n        target: "_blank",\n        className: "sui-button sui-button-purple",\n        children: (0,build_module.__)(\'Renew Membership\', \'wpmudev_vids\')\n      })\n    })]\n  });\n}\n/* harmony default export */ var RenewNotice_RenewNotice = ((/* unused pure expression or super */ null && (RenewNotice)));\n;// CONCATENATED MODULE: ./app/src/pages/playlists/components/RenewNotice/index.js\n\n// EXTERNAL MODULE: ./app/src/helpers/utils/utils.js\nvar utils = __webpack_require__(7755);\n;// CONCATENATED MODULE: ./app/src/pages/playlists/components/DashNotice/DashNotice.js\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n/**\n * External dependencies\n */\n\n\nfunction DashNotice() {\n  var _window$ivtVars;\n  // Global Variables\n  var _ref = (_window$ivtVars = window.ivtVars) !== null && _window$ivtVars !== void 0 ? _window$ivtVars : {},\n    _ref$urls = _ref.urls,\n    dash_install = _ref$urls.dash_install,\n    plugins = _ref$urls.plugins,\n    dash_login = _ref$urls.dash_login,\n    videos = _ref$urls.videos;\n\n  /**\n   * Get labels and links for the notice.\n   *\n   * Based on the status of WPMUDEV Dash plugin status,\n   * set the labels and links for the notice.\n   *\n   * @return {*}\n   */\n  function getLabels() {\n    if (!(0,utils/* dashInstalled */.v9)()) {\n      return {\n        desc: (0,build_module.__)(\'WPMU DEV videos are locked, and you only have access to custom videos because the WPMU DEV Dashboard plugin is not installed. Install and log into the WPMU DEV dashboard plugin to unlock the complete library of WPMU DEV video tutorials.\', \'wpmudev_vids\'),\n        button: (0,build_module.__)(\'Install Plugin\', \'wpmudev_vids\'),\n        link: dash_install,\n        target: \'_blank\'\n      };\n    } else if (!(0,utils/* dashActive */.n4)()) {\n      return {\n        desc: (0,build_module.__)(\'WPMU DEV videos are locked, and you only have access to custom videos because the WPMU DEV Dashboard plugin is not active. Activate the WPMU DEV dashboard plugin to unlock the complete library of WPMU DEV video tutorials.\', \'wpmudev_vids\'),\n        button: (0,build_module.__)(\'Activate Plugin\', \'wpmudev_vids\'),\n        link: plugins,\n        target: \'_self\'\n      };\n    } else {\n      return {\n        desc: (0,build_module.__)(\'WPMU DEV videos are locked and you only have access to custom videos in Video Tutorials page. Log into the plugin to begin setting up your video tutorials.\', \'wpmudev_vids\'),\n        button: (0,build_module.__)(\'Login\', \'wpmudev_vids\'),\n        link: dash_login,\n        target: \'_self\'\n      };\n    }\n  }\n  var labels = getLabels();\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* StaticNotice */.RL, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n      children: labels.desc\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)("a", {\n        className: "sui-button sui-button-blue",\n        target: labels.target,\n        href: labels.link,\n        children: labels.button\n      })\n    })]\n  });\n}\n/* harmony default export */ var DashNotice_DashNotice = ((/* unused pure expression or super */ null && (DashNotice)));\n;// CONCATENATED MODULE: ./app/src/pages/playlists/components/DashNotice/index.js\n\n;// CONCATENATED MODULE: ./app/src/pages/playlists/components/VideoSearchInput/VideoSearchInput.js\nfunction VideoSearchInput_slicedToArray(r, e) { return VideoSearchInput_arrayWithHoles(r) || VideoSearchInput_iterableToArrayLimit(r, e) || VideoSearchInput_unsupportedIterableToArray(r, e) || VideoSearchInput_nonIterableRest(); }\nfunction VideoSearchInput_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction VideoSearchInput_unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return VideoSearchInput_arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? VideoSearchInput_arrayLikeToArray(r, a) : void 0; } }\nfunction VideoSearchInput_arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction VideoSearchInput_iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction VideoSearchInput_arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Library dependencies\n */\n\n\n\n/**\n * Internal dependencies\n */\n\n\n\n/**\n * External dependencies\n */\n\n\n\n\n\nfunction VideoSearchInput(_ref) {\n  var id = _ref.id;\n  var dispatch = (0,es/* useDispatch */.wA)();\n  var _useState = (0,react.useState)(\'\'),\n    _useState2 = VideoSearchInput_slicedToArray(_useState, 2),\n    search = _useState2[0],\n    setSearch = _useState2[1];\n  var _useDebouncedValue = (0,hooks/* useDebouncedValue */.o)({\n      value: search,\n      delay: 300\n    }),\n    _useDebouncedValue2 = VideoSearchInput_slicedToArray(_useDebouncedValue, 2),\n    debouncedSearch = _useDebouncedValue2[0],\n    setDebouncedSearch = _useDebouncedValue2[1];\n  (0,react.useEffect)(function () {\n    searchVideos();\n  }, [debouncedSearch]);\n  var updateSearch = function updateSearch(value) {\n    // Update search value\n    setSearch(value);\n\n    // Update debounced value\n    setDebouncedSearch(value);\n  };\n\n  /**\n   * Search the videos and filter.\n   *\n   * Get the video ids using the search term\n   * and sync back to parent.\n   *\n   */\n  var searchVideos = function searchVideos() {\n    (0,api/* restGet */.B8)({\n      path: \'videos\',\n      params: {\n        search: search,\n        field: \'ids\'\n      }\n    }).then(function (response) {\n      if (response.success && response.data) {\n        // Update the filtered ids.\n        dispatch((0,slices_videos/* setFiltered */.kZ)({\n          ids: response.data\n        }));\n      }\n    });\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Input */.pd, {\n    icon: "magnifying-glass-search",\n    value: search,\n    onChange: updateSearch,\n    placeholder: (0,build_module.__)(\'Search videos\', \'wpmudev_videos\'),\n    id: id\n  });\n}\nVideoSearchInput.propTypes = {\n  id: \'id\'\n};\nVideoSearchInput.propTypes = {\n  id: (prop_types_default()).string\n};\n/* harmony default export */ var VideoSearchInput_VideoSearchInput = ((/* unused pure expression or super */ null && (VideoSearchInput)));\n;// CONCATENATED MODULE: ./app/src/pages/playlists/components/VideoSearchInput/index.js\n\n;// CONCATENATED MODULE: ./app/src/pages/playlists/components/VideosList/VideosList.js\nfunction VideosList_slicedToArray(r, e) { return VideosList_arrayWithHoles(r) || VideosList_iterableToArrayLimit(r, e) || VideosList_unsupportedIterableToArray(r, e) || VideosList_nonIterableRest(); }\nfunction VideosList_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction VideosList_unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return VideosList_arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? VideosList_arrayLikeToArray(r, a) : void 0; } }\nfunction VideosList_arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction VideosList_iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction VideosList_arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\n/**\n * External dependencies\n */\n\n\n\n\n\nfunction VideosList(_ref) {\n  var playlist = _ref.playlist,\n    setVideoCount = _ref.setVideoCount,\n    setCurrentPlaylist = _ref.setCurrentPlaylist;\n  // list of added videos to the playlist\n  var _ref2 = playlist !== null && playlist !== void 0 ? playlist : {},\n    videos = _ref2.videos;\n\n  // Number of videos added\n  var _ref3 = videos !== null && videos !== void 0 ? videos : [],\n    length = _ref3.length;\n\n  // Displayed count\n  var _useState = (0,react.useState)(0),\n    _useState2 = VideosList_slicedToArray(_useState, 2),\n    displayedCount = _useState2[0],\n    setDisplayedCount = _useState2[1];\n\n  // Filtered Videos Ids\n  var filteredIds = (0,es/* useSelector */.d4)(function (state) {\n    return (0,slices_videos/* getFilteredIds */.Q6)(state);\n  });\n\n  // Videos objects list\n  var filteredVideos = (0,es/* useSelector */.d4)(function (state) {\n    return (0,slices_videos/* getVideos */.fY)(state, filteredIds);\n  });\n\n  // Videos Provided for members\n  var defaultVideos = filteredVideos.filter(function (video) {\n    return video.video_type === \'default\';\n  });\n\n  // Custom videos added by admin\n  var customVideos = filteredVideos.filter(function (video) {\n    return video.video_type !== \'default\';\n  });\n\n  // Update displayed count\n  (0,react.useEffect)(function () {\n    var count = length;\n    if (!showDefaultVideos()) {\n      // Videos without defaultVideos\n      var displayedVideos = videos === null || videos === void 0 ? void 0 : videos.filter(function (item) {\n        return !defaultVideos.some(function (obj) {\n          return obj.id === item;\n        });\n      });\n\n      // Count without default videos\n      count = displayedVideos === null || displayedVideos === void 0 ? void 0 : displayedVideos.length;\n      setDisplayedCount(count);\n    } else {\n      setDisplayedCount(count);\n    }\n  }, [videos]);\n\n  // Update videos count variable\n  (0,react.useEffect)(function () {\n    var count = 0;\n    if (showDefaultVideos()) {\n      var _videos$default, _videos$custom;\n      count = (videos === null || videos === void 0 || (_videos$default = videos.default) === null || _videos$default === void 0 ? void 0 : _videos$default.length) + (videos === null || videos === void 0 || (_videos$custom = videos.custom) === null || _videos$custom === void 0 ? void 0 : _videos$custom.length);\n      setVideoCount(count);\n    } else {\n      var _videos$custom2;\n      count = videos === null || videos === void 0 || (_videos$custom2 = videos.custom) === null || _videos$custom2 === void 0 ? void 0 : _videos$custom2.length;\n      setVideoCount(count);\n    }\n  }, [defaultVideos, customVideos]);\n\n  /**\n   * Check if current membership is valid.\n   *\n   * Default videos are available only if current\n   * membership is valid.\n   *\n   * @return {boolean}\n   */\n  var showDefaultVideos = function showDefaultVideos() {\n    return (0,utils/* validMember */.xH)() && (0,utils/* dashConnected */.YT)();\n  };\n\n  /**\n   * Check if videos are not empty.\n   *\n   * @since 1.8.2\n   *\n   * @return {boolean}\n   */\n  var videosAvailable = function videosAvailable() {\n    return defaultVideos.length && showDefaultVideos() || customVideos.length;\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n    children: videosAvailable() ? /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Table */.XI, {\n      isFlushed: true,\n      className: "wpmudev-videos-table-videos",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Thead, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Table */.XI.Tr, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Th, {\n            className: "wpmudev-videos-table-videos--cell-left",\n            children: (0,build_module.__)(\'Videos\', \'wpmudev_vids\')\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Th, {\n            className: "wpmudev-videos-table-videos--cell-right",\n            "aria-live": "assertive",\n            children: (0,build_module/* sprintf */.nv)((0,build_module.__)(\'%s videos selected\', \'wpmudev_vids\'), displayedCount)\n          })]\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Table */.XI.Tbody, {\n        children: [customVideos.map(function (video) {\n          return /*#__PURE__*/(0,jsx_runtime.jsx)(VideoListRow, {\n            playlist: playlist,\n            video: video,\n            setCurrentPlaylist: setCurrentPlaylist\n          }, video.id);\n        }), showDefaultVideos() && defaultVideos.map(function (video) {\n          return /*#__PURE__*/(0,jsx_runtime.jsx)(VideoListRow, {\n            playlist: playlist,\n            video: video,\n            setCurrentPlaylist: setCurrentPlaylist\n          }, video.id);\n        })]\n      })]\n    }) :\n    // Display Nothing if there\'re no videos\n    \'\'\n  });\n}\nVideosList.defaultProps = {\n  playlist: {},\n  setVideoCount: function setVideoCount() {\n    return null;\n  },\n  setCurrentPlaylist: function setCurrentPlaylist() {\n    return null;\n  }\n};\nVideosList.propTypes = {\n  playlist: (prop_types_default()).object,\n  setVideoCount: (prop_types_default()).func,\n  setCurrentPlaylist: (prop_types_default()).func\n};\n/* harmony default export */ var VideosList_VideosList = ((/* unused pure expression or super */ null && (VideosList)));\n;// CONCATENATED MODULE: ./app/src/pages/playlists/components/VideosList/VideoListRow.js\nfunction VideoListRow_typeof(o) { "@babel/helpers - typeof"; return VideoListRow_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, VideoListRow_typeof(o); }\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || VideoListRow_unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return VideoListRow_arrayLikeToArray(r); }\nfunction VideoListRow_ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction VideoListRow_objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? VideoListRow_ownKeys(Object(t), !0).forEach(function (r) { VideoListRow_defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : VideoListRow_ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction VideoListRow_defineProperty(e, r, t) { return (r = VideoListRow_toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction VideoListRow_toPropertyKey(t) { var i = VideoListRow_toPrimitive(t, "string"); return "symbol" == VideoListRow_typeof(i) ? i : i + ""; }\nfunction VideoListRow_toPrimitive(t, r) { if ("object" != VideoListRow_typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != VideoListRow_typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\nfunction VideoListRow_slicedToArray(r, e) { return VideoListRow_arrayWithHoles(r) || VideoListRow_iterableToArrayLimit(r, e) || VideoListRow_unsupportedIterableToArray(r, e) || VideoListRow_nonIterableRest(); }\nfunction VideoListRow_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction VideoListRow_unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return VideoListRow_arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? VideoListRow_arrayLikeToArray(r, a) : void 0; } }\nfunction VideoListRow_arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction VideoListRow_iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction VideoListRow_arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n/**\n * External dependencies\n */\n\n\n\nfunction VideoListRow(_ref) {\n  var video = _ref.video,\n    playlist = _ref.playlist,\n    setCurrentPlaylist = _ref.setCurrentPlaylist;\n  var _useState = (0,react.useState)(false),\n    _useState2 = VideoListRow_slicedToArray(_useState, 2),\n    buttonIsHovered = _useState2[0],\n    setButtonIsHovered = _useState2[1];\n  var _ref2 = playlist !== null && playlist !== void 0 ? playlist : {},\n    videos = _ref2.videos;\n  var _ref3 = video !== null && video !== void 0 ? video : {},\n    id = _ref3.id,\n    video_slug = _ref3.video_slug,\n    thumbnail = _ref3.thumbnail,\n    video_title = _ref3.video_title,\n    video_type = _ref3.video_type;\n  var _ref4 = thumbnail !== null && thumbnail !== void 0 ? thumbnail : {},\n    url = _ref4.url;\n\n  /**\n   * Check if the current video is already added.\n   *\n   * @returns {boolean}\n   */\n  var isAdded = function isAdded() {\n    return videos === null || videos === void 0 ? void 0 : videos.includes(id);\n  };\n\n  /**\n   * Remove a video from the playlist.\n   *\n   * @returns {void}\n   */\n  var removeVideo = function removeVideo() {\n    var newPlaylist = VideoListRow_objectSpread(VideoListRow_objectSpread({}, playlist), {}, {\n      videos: videos.filter(function (id) {\n        return id !== video.id;\n      })\n    });\n    setCurrentPlaylist(newPlaylist);\n  };\n\n  /**\n   * Adds the video to the playlist\n   *\n   * @returns {void}\n   */\n  var addVideo = function addVideo() {\n    var newPlaylist = VideoListRow_objectSpread({}, playlist);\n    if (!(videos !== null && videos !== void 0 && videos.includes(video === null || video === void 0 ? void 0 : video.id))) {\n      newPlaylist[\'videos\'] = [].concat(_toConsumableArray(videos), [video === null || video === void 0 ? void 0 : video.id]);\n    }\n    setCurrentPlaylist(newPlaylist);\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Table */.XI.Tr, {\n    "aria-live": "polite",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Table */.XI.Td, {\n      className: "wpmudev-videos-table-videos--cell-left sui-table-item-title",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(src_components/* ListThumb */.Bt, {\n        url: url,\n        icon: video_slug,\n        className: "playlist-video-thumb-wide",\n        isCustom: \'custom\' === video_type\n      }), video_title]\n    }), isAdded() && /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Table */.XI.Td, {\n      className: "wpmudev-videos-table-videos--cell-right wpmudev-videos-table-videos--show-mobiles",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n        disabled: true,\n        icon: "check",\n        children: (0,build_module.__)(\'Added\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n        icon: "trash",\n        color: "red",\n        type: "ghost",\n        onClick: removeVideo,\n        children: (0,build_module.__)(\'Remove\', \'wpmudev_vids\')\n      })]\n    }), isAdded() && /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Table */.XI.Td, {\n      className: "wpmudev-videos-table-videos--cell-right wpmudev-videos-table-videos--show-desktop",\n      children: [buttonIsHovered && /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n        onMouseLeave: function onMouseLeave() {\n          return setButtonIsHovered(false);\n        },\n        color: "red",\n        icon: "trash",\n        onClick: removeVideo,\n        children: (0,build_module.__)(\'Remove\', \'wpmudev_vids\')\n      }), !buttonIsHovered && /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n        onMouseEnter: function onMouseEnter() {\n          return setButtonIsHovered(true);\n        },\n        icon: "check",\n        children: (0,build_module.__)(\'Added\', \'wpmudev_vids\')\n      })]\n    }), !isAdded() && /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Td, {\n      className: "wpmudev-videos-table-videos--cell-right",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n        onClick: addVideo,\n        icon: "plus",\n        type: "ghost",\n        children: (0,build_module.__)(\'Add\', \'wpmudev_vids\')\n      })\n    })]\n  });\n}\n/* harmony default export */ var VideosList_VideoListRow = ((/* unused pure expression or super */ null && (VideoListRow)));\n;// CONCATENATED MODULE: ./app/src/pages/playlists/components/VideosList/index.js\n\n\n;// CONCATENATED MODULE: ./app/src/pages/playlists/components/PlaylistTitle/PlaylistTitle.js\n/**\n * Library depenedencies\n */\n\n\n/**\n * External dependencies\n */\n\n\n\nfunction PlaylistTitle(_ref) {\n  var modalID = _ref.modalID,\n    title = _ref.title,\n    onChange = _ref.onChange;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n    className: "sui-form-field",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Label */.JU, {\n      id: "".concat(modalID, "-playlist-title-label"),\n      htmlFor: "".concat(modalID, "-playlist-title"),\n      children: (0,build_module.__)(\'Playlist name\', \'wpmudev_vids\')\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Input */.pd, {\n      placeholder: (0,build_module.__)(\'E.g. New playlist\', \'wpmudev_vids\'),\n      id: "".concat(modalID, "-playlist-title"),\n      value: title,\n      onChange: onChange\n    })]\n  });\n}\nPlaylistTitle.defaultProps = {\n  modalID: \'modal-id\',\n  title: \'Title\',\n  onChange: function onChange() {\n    return null;\n  }\n};\nPlaylistTitle.propTypes = {\n  modalID: (prop_types_default()).string,\n  title: (prop_types_default()).string,\n  onChange: (prop_types_default()).func\n};\n/* harmony default export */ var PlaylistTitle_PlaylistTitle = ((/* unused pure expression or super */ null && (PlaylistTitle)));\n;// CONCATENATED MODULE: ./app/src/pages/playlists/components/PlaylistTitle/index.js\n\n;// CONCATENATED MODULE: ./app/src/pages/playlists/components/PlaylistDesc/PlaylistDesc.js\n/**\n * Library dependencies\n */\n\n\n/**\n * External dependencies\n */\n\n\n\nfunction PlaylistDesc(_ref) {\n  var modalID = _ref.modalID,\n    onChange = _ref.onChange,\n    description = _ref.description;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n    className: "sui-form-field",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Label */.JU, {\n      htmlFor: "".concat(modalID, "-playlist-desc"),\n      id: "".concat(modalID, "-playlist-desc-label"),\n      children: (0,build_module.__)(\'Playlist description\', \'wpmudev_vids\')\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Textarea */.TM, {\n      id: "".concat(modalID, "-playlist-desc"),\n      "aria-labelledby": "".concat(modalID, "-playlist-desc-label"),\n      "aria-describedby": "".concat(modalID, "-playlist-desc-desc"),\n      value: description,\n      onChange: onChange\n    })]\n  });\n}\nPlaylistDesc.defaultProps = {\n  modalID: \'modal-id\',\n  description: \'description\',\n  onChange: function onChange() {\n    return null;\n  }\n};\nPlaylistDesc.propTypes = {\n  modalID: (prop_types_default()).string,\n  description: (prop_types_default()).string,\n  onChange: (prop_types_default()).func\n};\n/* harmony default export */ var PlaylistDesc_PlaylistDesc = ((/* unused pure expression or super */ null && (PlaylistDesc)));\n;// CONCATENATED MODULE: ./app/src/pages/playlists/components/PlaylistDesc/index.js\n\n;// CONCATENATED MODULE: ./app/src/pages/playlists/components/DropDown/DropDown.js\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n/**\n * External dependencies\n */\n\n\n\n\nfunction DropDown(_ref) {\n  var openEditModal = _ref.openEditModal,\n    openVisibilityModal = _ref.openVisibilityModal,\n    setCurrentPlaylist = _ref.setCurrentPlaylist,\n    openVideosModal = _ref.openVideosModal,\n    openDeleteModal = _ref.openDeleteModal,\n    playlist = _ref.playlist;\n  var dispatch = (0,es/* useDispatch */.wA)();\n  var isCustom = \'custom\' === playlist.playlist_type;\n\n  /**\n   * Displays a notice that shortcode was copied successfully\n   *\n   * @return {void}\n   */\n  var displayCopyNotice = function displayCopyNotice() {\n    dispatch((0,notice/* addNotice */.Mp)({\n      message: (0,build_module.__)(\'Shortcode has been copied successfully.\', \'wpmudev_vids\')\n    }));\n  };\n\n  // Playlist shortcode\n  var shortcode = "[wpmudev-video group=\\"".concat(playlist.slug, "\\"]");\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)("ul", {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)("li", {\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)("button", {\n          onClick: function onClick() {\n            setCurrentPlaylist(playlist);\n            openEditModal();\n          },\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n            icon: "pencil"\n          }), (0,build_module.__)(\'Edit\', \'wpmudev_vids\')]\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("li", {\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)("button", {\n          onClick: function onClick() {\n            setCurrentPlaylist(playlist);\n            openVideosModal();\n          },\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n            icon: "align-justify"\n          }), (0,build_module.__)(\'Add videos\', \'wpmudev_vids\')]\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("li", {\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)("button", {\n          onClick: function onClick() {\n            setCurrentPlaylist(playlist);\n            openVisibilityModal();\n          },\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n            icon: "widget-settings-config"\n          }), (0,build_module.__)(\'Visibility settings\', \'wpmudev_vids\')]\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("li", {\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)("button", {\n          className: "ivt-copy-shortcode",\n          onClick: displayCopyNotice,\n          "data-clipboard-text": shortcode,\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n            icon: "code"\n          }), (0,build_module.__)(\'Copy shortcode\', \'wpmudev_vids\')]\n        })\n      }), isCustom && /*#__PURE__*/(0,jsx_runtime.jsx)("li", {\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)("button", {\n          onClick: function onClick() {\n            setCurrentPlaylist(playlist);\n            openDeleteModal();\n          },\n          className: "wpmudev-videos-red",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n            icon: "trash"\n          }), (0,build_module.__)(\'Delete\', \'wpmudev_vids\')]\n        })\n      })]\n    })\n  });\n}\nDropDown.defaultProps = {\n  openEditModal: function openEditModal() {\n    return null;\n  },\n  openVisibilityModal: function openVisibilityModal() {\n    return null;\n  },\n  setCurrentPlaylist: function setCurrentPlaylist() {\n    return null;\n  },\n  openVideosModal: function openVideosModal() {\n    return null;\n  },\n  openDeleteModal: function openDeleteModal() {\n    return null;\n  },\n  playlist: {}\n};\nDropDown.propTypes = {\n  openEditModal: (prop_types_default()).func,\n  openVisibilityModal: (prop_types_default()).func,\n  setCurrentPlaylist: (prop_types_default()).func,\n  openVideosModal: (prop_types_default()).func,\n  openDeleteModal: (prop_types_default()).func,\n  playlist: (prop_types_default()).object\n};\n/* harmony default export */ var DropDown_DropDown = ((/* unused pure expression or super */ null && (DropDown)));\n;// CONCATENATED MODULE: ./app/src/pages/playlists/components/DropDown/index.js\n\n;// CONCATENATED MODULE: ./app/src/pages/playlists/components/index.js\n\n\n\n\n\n\n\n\n\n\n;// CONCATENATED MODULE: ./app/src/pages/playlists/partials/Playlists/PlaylistItem.js\nfunction PlaylistItem_slicedToArray(r, e) { return PlaylistItem_arrayWithHoles(r) || PlaylistItem_iterableToArrayLimit(r, e) || PlaylistItem_unsupportedIterableToArray(r, e) || PlaylistItem_nonIterableRest(); }\nfunction PlaylistItem_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction PlaylistItem_unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return PlaylistItem_arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? PlaylistItem_arrayLikeToArray(r, a) : void 0; } }\nfunction PlaylistItem_arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction PlaylistItem_iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction PlaylistItem_arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\n/**\n * External dependencies\n */\n\n\n\n\n\nfunction PlaylistItem(_ref) {\n  var playlist = _ref.playlist,\n    openEditModal = _ref.openEditModal,\n    setCurrentPlaylist = _ref.setCurrentPlaylist,\n    openVisibilityModal = _ref.openVisibilityModal,\n    openVideosModal = _ref.openVideosModal,\n    openDeleteModal = _ref.openDeleteModal;\n  var id = playlist.id,\n    title = playlist.title,\n    description = playlist.description,\n    thumbnail = playlist.thumbnail;\n  var dispatch = (0,es/* useDispatch */.wA)();\n  var playlistSelected = (0,es/* useSelector */.d4)(function (state) {\n    return (0,slices_playlists/* isPlaylistSelected */.ko)(state, id);\n  });\n  var _useState = (0,react.useState)(),\n    _useState2 = PlaylistItem_slicedToArray(_useState, 2),\n    checkboxPortal = _useState2[0],\n    setCheckboxPortal = _useState2[1];\n  var portalRef = (0,react.useRef)();\n\n  /**\n   * Select or deselect a playlist\n   *\n   * @return {void}\n   */\n  var updatePlaylistSelection = function updatePlaylistSelection(val) {\n    dispatch((0,slices_playlists/* togglePlaylist */.fk)({\n      id: id,\n      checked: val\n    }));\n  };\n  (0,react.useEffect)(function () {\n    setCheckboxPortal(portalRef.current);\n  }, [portalRef]);\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Portal */.ZL, {\n      container: checkboxPortal,\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Checkbox */.Sc, {\n        label: false,\n        checked: playlistSelected,\n        onChange: updatePlaylistSelection,\n        id: "wpmudev-playlists-item-".concat(id)\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Accordion */.nD.Item, {\n      className: "wpmudev-videos-accordion",\n      id: "wpmudev-videos-playlist-item-".concat(id),\n      "data-id": id,\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Accordion */.nD.Header, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Accordion */.nD.Title, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n            className: "sui-icon-drag sui-md sortable",\n            "aria-hidden": "true"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n            ref: portalRef\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(src_components/* ListThumb */.Bt, {\n            url: thumbnail === null || thumbnail === void 0 ? void 0 : thumbnail.url,\n            className: "playlist-thumb",\n            hideIcon: true\n          }), title]\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Accordion */.nD.Date, {\n          children: description\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Accordion */.nD.AutoCol, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n            className: "sui-dropdown sui-accordion-item-action",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* IconButton */.K0, {\n              className: "sui-dropdown-anchor",\n              icon: "widget-settings-config",\n              outlined: false\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(DropDown, {\n              playlist: playlist,\n              openEditModal: openEditModal,\n              openVisibilityModal: openVisibilityModal,\n              setCurrentPlaylist: setCurrentPlaylist,\n              openVideosModal: openVideosModal,\n              openDeleteModal: openDeleteModal\n            })]\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* IconButton */.K0, {\n            className: "sui-accordion-open-indicator",\n            icon: "chevron-down",\n            "aria-label": (0,build_module.__)(\'Open Item\', \'wpmudev_vids\'),\n            label: (0,build_module.__)(\'Open Item\', \'wpmudev_vids\'),\n            outlined: false\n          })]\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Accordion */.nD.Body, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(PlaylistVideos, {\n          openVideosModal: openVideosModal,\n          setCurrentPlaylist: setCurrentPlaylist,\n          playlist: playlist\n        })\n      })]\n    })]\n  });\n}\nPlaylistItem.defaultProps = {\n  playlist: {},\n  editModalID: \'\',\n  openEditModal: function openEditModal() {\n    return null;\n  },\n  closeEditModal: function closeEditModal() {\n    return null;\n  },\n  openDeleteModal: function openDeleteModal() {\n    return null;\n  },\n  setCurrentPlaylist: function setCurrentPlaylist() {\n    return null;\n  }\n};\nPlaylistItem.propTypes = {\n  playlist: (prop_types_default()).object,\n  editModalID: (prop_types_default()).string,\n  openEditModal: (prop_types_default()).func,\n  closeEditModal: (prop_types_default()).func,\n  openDeleteModal: (prop_types_default()).func,\n  setCurrentPlaylist: (prop_types_default()).func\n};\n/* harmony default export */ var Playlists_PlaylistItem = (/*#__PURE__*/(/* unused pure expression or super */ null && (React.memo(PlaylistItem))));\n;// CONCATENATED MODULE: ./app/src/pages/playlists/modals/EditPlaylist.js\nfunction EditPlaylist_typeof(o) { "@babel/helpers - typeof"; return EditPlaylist_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, EditPlaylist_typeof(o); }\nfunction EditPlaylist_ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction EditPlaylist_objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? EditPlaylist_ownKeys(Object(t), !0).forEach(function (r) { EditPlaylist_defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : EditPlaylist_ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction EditPlaylist_defineProperty(e, r, t) { return (r = EditPlaylist_toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction EditPlaylist_toPropertyKey(t) { var i = EditPlaylist_toPrimitive(t, "string"); return "symbol" == EditPlaylist_typeof(i) ? i : i + ""; }\nfunction EditPlaylist_toPrimitive(t, r) { if ("object" != EditPlaylist_typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != EditPlaylist_typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\n/**\n * External dependencies\n */\n\n\n\n\nfunction EditPlaylist(_ref) {\n  var playlist = _ref.playlist,\n    modalID = _ref.modalID,\n    closeModal = _ref.closeModal,\n    setCurrentPlaylist = _ref.setCurrentPlaylist;\n  var dispatch = (0,es/* useDispatch */.wA)();\n  var isSaving = (0,es/* useSelector */.d4)(function (state) {\n    return (0,slices_playlists/* getLoadingStatus */.H)(state);\n  });\n  var _ref2 = playlist !== null && playlist !== void 0 ? playlist : {},\n    title = _ref2.title,\n    description = _ref2.description,\n    thumbnail = _ref2.thumbnail;\n\n  /**\n   * Updates playlist title\n   *\n   * @return {void}\n   */\n  var updatePlaylistTitle = function updatePlaylistTitle(value) {\n    setCurrentPlaylist(EditPlaylist_objectSpread(EditPlaylist_objectSpread({}, playlist), {}, {\n      title: value\n    }));\n  };\n\n  /**\n   * Updates playlist description\n   *\n   * @return {void}\n   */\n  var updatePlaylistDesc = function updatePlaylistDesc(value) {\n    setCurrentPlaylist(EditPlaylist_objectSpread(EditPlaylist_objectSpread({}, playlist), {}, {\n      description: value\n    }));\n  };\n\n  /**\n   * Updates playlist thumbnail\n   *\n   * @return {void}\n   */\n  var updatePlaylistThumb = function updatePlaylistThumb(value) {\n    setCurrentPlaylist(EditPlaylist_objectSpread(EditPlaylist_objectSpread({}, playlist), {}, {\n      thumbnail: value\n    }));\n  };\n\n  /**\n   * Save Changes\n   *\n   * @return {void}\n   */\n  var saveChanges = function saveChanges() {\n    var _ref3 = playlist !== null && playlist !== void 0 ? playlist : {},\n      id = _ref3.id,\n      title = _ref3.title,\n      description = _ref3.description,\n      thumbnail = _ref3.thumbnail;\n    dispatch((0,slices_playlists/* savePlaylist */.SX)({\n      id: id,\n      playlist: {\n        title: title,\n        description: description,\n        thumbnail: thumbnail.id\n      }\n    })).then(function (response) {\n      var _response$payload;\n      if (response !== null && response !== void 0 && (_response$payload = response.payload) !== null && _response$payload !== void 0 && _response$payload.success) {\n        var _response$payload2;\n        // Close the modal\n        closeModal();\n\n        // Show Succssful Notice\n        dispatch((0,notice/* addNotice */.Mp)({\n          message: (0,build_module/* sprintf */.nv)((0,build_module.__)(\'Playlist “%s” updated successfully.\', \'wpmudev_vids\'), response === null || response === void 0 || (_response$payload2 = response.payload) === null || _response$payload2 === void 0 || (_response$payload2 = _response$payload2.data) === null || _response$payload2 === void 0 ? void 0 : _response$payload2.title)\n        }));\n      } else {\n        // Show Error Notice\n        dispatch((0,notice/* addNotice */.Mp)({\n          message: (0,build_module.__)(\'Updating playlist failed..\', \'wpmudev_vids\'),\n          type: \'error\'\n        }));\n      }\n    });\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Header, {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* IconButton */.K0, {\n        className: "sui-button-float--right",\n        icon: "close",\n        onClick: closeModal,\n        size: "md",\n        outlined: false,\n        label: (0,build_module.__)(\'Close this dialog.\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("h3", {\n        id: "".concat(modalID, "-title"),\n        className: "sui-box-title",\n        children: (0,build_module.__)(\'Edit Playlist\', \'wpmudev_vids\')\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Body, {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Row, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Col2, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(PlaylistTitle, {\n            title: title,\n            onChange: updatePlaylistTitle,\n            modalID: modalID\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(PlaylistDesc, {\n            description: description,\n            onChange: updatePlaylistDesc,\n            modalID: modalID\n          })]\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Row, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Col2, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n            className: "sui-form-field wpmudev-videos-field--thumbnail",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Label */.JU, {\n              children: (0,build_module.__)(\'Playlist thumbnail image\', \'wpmudev_vids\')\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n              className: "sui-description",\n              children: (0,build_module.__)("Add a custom thumbnail to your playlist, otherwise we\'ll just use the first video\'s thumbnail.", \'wpmudev_vids\')\n            })]\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(src_components/* UploadThumb */.cd, {\n            thumbnail: Array.isArray(thumbnail) ? {} : thumbnail,\n            onSelect: updatePlaylistThumb,\n            modalID: modalID\n          })]\n        })\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Footer, {\n      isFlatten: true,\n      isCentered: true,\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n        color: "blue",\n        isLoading: isSaving,\n        disabled: isSaving,\n        onLoadingText: (0,build_module.__)(\'Saving Changes\', \'wpmudev_vids\'),\n        onClick: saveChanges,\n        children: (0,build_module.__)(\'Save Changes\', \'wpmudev_vids\')\n      })\n    })]\n  });\n}\n/* harmony default export */ var modals_EditPlaylist = ((/* unused pure expression or super */ null && (EditPlaylist)));\n// EXTERNAL MODULE: ./app/src/store/slices/settings.js\nvar settings = __webpack_require__(9569);\n;// CONCATENATED MODULE: ./app/src/pages/playlists/modals/VisibilitySettings.js\nfunction VisibilitySettings_typeof(o) { "@babel/helpers - typeof"; return VisibilitySettings_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, VisibilitySettings_typeof(o); }\nvar _window$ivtModuleVars, _window$ivtVars;\nfunction VisibilitySettings_ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction VisibilitySettings_objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? VisibilitySettings_ownKeys(Object(t), !0).forEach(function (r) { VisibilitySettings_defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : VisibilitySettings_ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction VisibilitySettings_defineProperty(e, r, t) { return (r = VisibilitySettings_toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction VisibilitySettings_toPropertyKey(t) { var i = VisibilitySettings_toPrimitive(t, "string"); return "symbol" == VisibilitySettings_typeof(i) ? i : i + ""; }\nfunction VisibilitySettings_toPrimitive(t, r) { if ("object" != VisibilitySettings_typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != VisibilitySettings_typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\n\n/**\n * External Depnedencies\n */\n\n\n\n\n// Global Variables\n\nvar _ref = (_window$ivtModuleVars = window.ivtModuleVars) !== null && _window$ivtModuleVars !== void 0 ? _window$ivtModuleVars : {},\n  locations = _ref.locations;\nvar _ref2 = (_window$ivtVars = window.ivtVars) !== null && _window$ivtVars !== void 0 ? _window$ivtVars : {},\n  VisibilitySettings_settings = _ref2.urls.settings;\nfunction VisibilitySettings(_ref3) {\n  var playlist = _ref3.playlist,\n    setCurrentPlaylist = _ref3.setCurrentPlaylist,\n    closeModal = _ref3.closeModal,\n    modalID = _ref3.modalID;\n  var dispatch = (0,es/* useDispatch */.wA)();\n  var _ref4 = playlist !== null && playlist !== void 0 ? playlist : {},\n    id = _ref4.id,\n    playlist_roles = _ref4.playlist_roles,\n    playlist_locations = _ref4.playlist_locations;\n  var contextualHelp = (0,es/* useSelector */.d4)(function (state) {\n    return (0,settings/* getOption */.om)(state, \'contextual_help\');\n  });\n  var isSaving = (0,es/* useSelector */.d4)(function (state) {\n    return (0,slices_playlists/* getLoadingStatus */.H)(state);\n  });\n\n  /**\n   * Update playlist state with new roles\n   */\n  var updatePlaylistRoles = function updatePlaylistRoles(roles) {\n    var newPlaylist = VisibilitySettings_objectSpread(VisibilitySettings_objectSpread({}, playlist), {}, {\n      playlist_roles: roles\n    });\n    setCurrentPlaylist(newPlaylist);\n  };\n\n  /**\n   * Update playlist locations\n   */\n  var updatePlaylistLocations = function updatePlaylistLocations(locations) {\n    var newPlaylist = VisibilitySettings_objectSpread(VisibilitySettings_objectSpread({}, playlist), {}, {\n      playlist_locations: locations\n    });\n    setCurrentPlaylist(newPlaylist);\n  };\n\n  /**\n   * Save Changes\n   */\n  var saveChanges = function saveChanges() {\n    dispatch((0,slices_playlists/* savePlaylist */.SX)({\n      id: id,\n      playlist: {\n        locations: playlist_locations,\n        roles: playlist_roles\n      }\n    })).then(function (response) {\n      var _response$payload;\n      if (response !== null && response !== void 0 && (_response$payload = response.payload) !== null && _response$payload !== void 0 && _response$payload.success) {\n        // close the modal\n        closeModal();\n\n        // Show Succssful Notice\n        dispatch((0,notice/* addNotice */.Mp)({\n          message: (0,build_module.__)(\'Playlist settings updated successfully.\', \'wpmudev_vids\')\n        }));\n      } else {\n        // Show Error Notice\n        dispatch((0,notice/* addNotice */.Mp)({\n          message: (0,build_module.__)(\'Playlist settings update failed.\', \'wpmudev_vids\'),\n          type: \'error\'\n        }));\n      }\n    });\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Header, {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* IconButton */.K0, {\n        className: "sui-button-float--right",\n        icon: "close",\n        onClick: closeModal,\n        size: "md",\n        outlined: false,\n        label: (0,build_module.__)(\'Close this dialog.\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("h3", {\n        id: "".concat(modalID, "-title"),\n        className: "sui-box-title",\n        children: (0,build_module.__)(\'Visibility settings\', \'wpmudev_vids\')\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Body, {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n        children: (0,build_module.__)(\'Control which user roles are able to see this playlist, in addition to where it will be displayed as an available WordPress widget\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Row, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Col2, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Label, {\n            children: (0,build_module.__)(\'Permissions\', \'wpmudev_vids\')\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Description, {\n            children: (0,build_module.__)(\'Choose which user roles will be able to view this playlist.\', \'wpmudev_vids\')\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(src_components/* UserRoles */.fo, {\n            rolesValues: playlist_roles,\n            onChange: updatePlaylistRoles\n          })]\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Row, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Col2, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Label, {\n            children: (0,build_module.__)(\'Location\', \'wpmudev_vids\')\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Description, {\n            children: (0,build_module.__)(\'Choose which default locations will show this video playlist to the user roles selected above.\', \'wpmudev_vids\')\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n            className: "sui-form-field",\n            "v-if": "showLocationSettings",\n            children: !!contextualHelp ? /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n              children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Label */.JU, {\n                htmlFor: "wpmudev-videos-playlist-location",\n                children: (0,build_module.__)(\'Choose WP Admin pages\', \'wpmudev_vids\')\n              }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Select */.l6, {\n                id: "wpmudev-videos-playlist-location",\n                labelID: "wpmudev-videos-playlist-location-label",\n                options: locations,\n                multiple: true,\n                value: playlist_locations,\n                placeholder: (0,build_module.__)(\'Choose WP Admin pages\', \'wpmudev_vids\'),\n                onChange: updatePlaylistLocations,\n                parentElement: modalID\n              })]\n            }) : /*#__PURE__*/(0,jsx_runtime.jsx)(components/* StaticNotice */.RL, {\n              children: /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n                children: /*#__PURE__*/(0,jsx_runtime.jsx)(esm/* Interweave */.BW, {\n                  content: sprintf((0,build_module.__)(\'To configure locations for this playlist, please enable the <a href="%s">Add Videos to Contextual Help</a> feature on the Settings page.\', \'wpmudev_vid\'), VisibilitySettings_settings)\n                })\n              })\n            })\n          })]\n        })\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Footer, {\n      isCentered: true,\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n        isLoading: isSaving,\n        disabled: isSaving,\n        onClick: saveChanges,\n        onLoadingText: (0,build_module.__)(\'Saving Changes\', \'wpmudev_vids\'),\n        color: "blue",\n        children: (0,build_module.__)(\'Save Changes\', \'wpmudev_vids\')\n      })\n    })]\n  });\n}\n/* harmony default export */ var modals_VisibilitySettings = ((/* unused pure expression or super */ null && (VisibilitySettings)));\n;// CONCATENATED MODULE: ./app/src/pages/playlists/modals/AddVideos.js\nfunction AddVideos_slicedToArray(r, e) { return AddVideos_arrayWithHoles(r) || AddVideos_iterableToArrayLimit(r, e) || AddVideos_unsupportedIterableToArray(r, e) || AddVideos_nonIterableRest(); }\nfunction AddVideos_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction AddVideos_unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return AddVideos_arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? AddVideos_arrayLikeToArray(r, a) : void 0; } }\nfunction AddVideos_arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction AddVideos_iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction AddVideos_arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\n\n\n/**\n * External dependencies\n */\n\n\n\n\n\nfunction AddVideos(_ref) {\n  var modalID = _ref.modalID,\n    closeModal = _ref.closeModal,\n    playlist = _ref.playlist,\n    setCurrentPlaylist = _ref.setCurrentPlaylist;\n  var dispatch = (0,es/* useDispatch */.wA)();\n  var _ref2 = playlist !== null && playlist !== void 0 ? playlist : {},\n    id = _ref2.id,\n    videos = _ref2.videos;\n  var _useState = (0,react.useState)(0),\n    _useState2 = AddVideos_slicedToArray(_useState, 2),\n    videoCount = _useState2[0],\n    setVideoCount = _useState2[1];\n  var isSaving = (0,es/* useSelector */.d4)(function (state) {\n    return (0,slices_playlists/* getLoadingStatus */.H)(state);\n  });\n  var BoxHeaderClasses = classnames_default()(\'sui-box-header\', \'sui-flatten\', \'sui-content-center\', \'sui-spacing-top--60\', \'sui-spacing-sides--100\');\n\n  /**\n   * Check if we need to show the membership upgrade notice.\n   */\n  var showUpgradeNotice = !(0,utils/* expiredMember */.gL)() && !(0,utils/* validMember */.xH)() && (0,utils/* dashConnected */.YT)() && (typeof videoCount === \'undefined\' || videoCount <= 0);\n\n  /**\n   * Check if we need to show the membership expired notice.\n   */\n  var showExpiredNotice = (0,utils/* expiredMember */.gL)() && (0,utils/* dashConnected */.YT)() && (typeof videoCount === \'undefined\' || videoCount <= 0);\n\n  /**\n   * Save Changes\n   */\n  var saveChanges = function saveChanges() {\n    dispatch((0,slices_playlists/* savePlaylist */.SX)({\n      id: id,\n      playlist: {\n        videos: videos\n      }\n    })).then(function (response) {\n      var _response$payload;\n      if (response !== null && response !== void 0 && (_response$payload = response.payload) !== null && _response$payload !== void 0 && _response$payload.success) {\n        // close the modal\n        closeModal();\n\n        // Show Successful Notice\n        dispatch((0,notice/* addNotice */.Mp)({\n          message: (0,build_module.__)(\'Playlist videos updated successfully.\', \'wpmudev_vids\')\n        }));\n      } else {\n        // show error message\n        dispatch((0,notice/* addNotice */.Mp)({\n          message: (0,build_module.__)(\'Could not update the playlist videos. Please try again.\', \'wpmudev_vids\'),\n          type: \'error\'\n        }));\n      }\n    });\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)("button", {\n      className: "sui-screen-reader-text",\n      onClick: closeModal,\n      children: (0,build_module.__)(\'Close this dialog.\', \'wpmudev_vids\')\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Header, {\n      className: BoxHeaderClasses,\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(src_components/* WhiteLabelBanner */.S3, {\n        src: "modal/modal-header-videos.png",\n        alt: (0,build_module.__)(\'Add videos\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* IconButton */.K0, {\n        className: "sui-button-float--right",\n        icon: "close",\n        onClick: closeModal,\n        size: "md",\n        outlined: false,\n        label: (0,build_module.__)(\'Close this dialog.\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("h3", {\n        id: "".concat(modalID, "-title"),\n        className: "sui-box-title sui-lg",\n        children: (0,build_module.__)(\'Add videos\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n        id: "".concat(modalID, "-desc"),\n        className: "sui-description",\n        children: (0,build_module.__)(\'Choose which videos you want to assign to this playlist. You can add as many as you like.\', \'wpmudev_vids\')\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Body, {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(VideoSearchInput, {\n        setVideoCount: setVideoCount\n      }), showUpgradeNotice && /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)("br", {}), /*#__PURE__*/(0,jsx_runtime.jsx)(UpgradeNotice, {})]\n      }), !showUpgradeNotice && showExpiredNotice && /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)("br", {}), /*#__PURE__*/(0,jsx_runtime.jsx)(RenewNotice, {})]\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(VideosList, {\n      setCurrentPlaylist: setCurrentPlaylist,\n      playlist: playlist,\n      setVideoCount: setVideoCount\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Footer, {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n        type: "ghost",\n        onClick: closeModal,\n        children: (0,build_module.__)(\'Cancel\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Right, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n          isLoading: isSaving,\n          disabled: isSaving,\n          onClick: saveChanges,\n          onLoadingText: (0,build_module.__)(\'Adding Videos\', \'wpmudev_vids\'),\n          children: (0,build_module.__)(\'Add videos\', \'wpmudev_vids\')\n        })\n      })]\n    })]\n  });\n}\n/* harmony default export */ var modals_AddVideos = ((/* unused pure expression or super */ null && (AddVideos)));\n;// CONCATENATED MODULE: ./app/src/pages/playlists/modals/slides/PlaylistSettings.js\nfunction PlaylistSettings_typeof(o) { "@babel/helpers - typeof"; return PlaylistSettings_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, PlaylistSettings_typeof(o); }\nfunction PlaylistSettings_ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction PlaylistSettings_objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? PlaylistSettings_ownKeys(Object(t), !0).forEach(function (r) { PlaylistSettings_defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : PlaylistSettings_ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction PlaylistSettings_defineProperty(e, r, t) { return (r = PlaylistSettings_toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction PlaylistSettings_toPropertyKey(t) { var i = PlaylistSettings_toPrimitive(t, "string"); return "symbol" == PlaylistSettings_typeof(i) ? i : i + ""; }\nfunction PlaylistSettings_toPrimitive(t, r) { if ("object" != PlaylistSettings_typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != PlaylistSettings_typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n/**\n * Library components\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n/**\n * External dependencies\n */\n\n\n\nfunction PlaylistSettings(_ref) {\n  var modalID = _ref.modalID,\n    playlist = _ref.playlist,\n    setPlaylist = _ref.setPlaylist,\n    closeModal = _ref.closeModal;\n  var thumbnail = playlist.thumbnail,\n    description = playlist.description,\n    title = playlist.title;\n  /**\n   * Updates playlist title\n   *\n   * @return {void}\n   */\n  var updatePlaylistTitle = function updatePlaylistTitle(value) {\n    setPlaylist(PlaylistSettings_objectSpread(PlaylistSettings_objectSpread({}, playlist), {}, {\n      title: value\n    }));\n  };\n\n  /**\n   * Updates playlist description\n   *\n   * @return {void}\n   */\n  var updatePlaylistDesc = function updatePlaylistDesc(value) {\n    setPlaylist(PlaylistSettings_objectSpread(PlaylistSettings_objectSpread({}, playlist), {}, {\n      description: value\n    }));\n  };\n\n  /**\n   * Updates playlist thumbnail\n   *\n   * @return {void}\n   */\n  var updatePlaylistThumb = function updatePlaylistThumb(value) {\n    setPlaylist(PlaylistSettings_objectSpread(PlaylistSettings_objectSpread({}, playlist), {}, {\n      thumbnail: value\n    }));\n  };\n  var BoxHeaderClasses = classnames_default()(\'sui-box-header\', \'sui-flatten\', \'sui-content-center\', \'sui-spacing-top--60\', \'sui-spacing-sides--100\');\n  return /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n    id: "".concat(modalID, "-playlist-settings"),\n    className: "sui-modal-slide sui-active sui-loaded",\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az, {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Header, {\n        className: BoxHeaderClasses,\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(src_components/* WhiteLabelBanner */.S3, {\n          src: "modal/modal-header-videos.png",\n          alt: (0,build_module.__)(\'Create a new playlist\', \'wpmudev_vids\')\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)("button", {\n          onClick: closeModal,\n          className: classnames_default()(\'sui-button-icon\', \'sui-button-float--right\'),\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n            icon: "close",\n            size: "md"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n            className: "sui-screen-reader-text",\n            children: (0,build_module.__)(\'Close this dialog.\', \'wpmudev_vids\')\n          })]\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)("h3", {\n          id: "".concat(modalID, "-title"),\n          className: "sui-box-title sui-lg",\n          children: (0,build_module.__)(\'Create a new playlist\', \'wpmudev_vids\')\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n          id: "".concat(modalID, "-desc"),\n          className: "sui-description",\n          children: (0,build_module.__)(\'Choose a title, description and custom thumbnail for your playlist and then start adding videos to it.\', \'wpmudev_vids\')\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Body, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(PlaylistTitle, {\n          title: title,\n          onChange: updatePlaylistTitle,\n          modalID: modalID\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(PlaylistDesc, {\n          description: description,\n          onChange: updatePlaylistDesc,\n          modalID: modalID\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)("hr", {\n          className: "wpmudev-videos-break"\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n          className: "sui-form-field wpmudev-videos-field--thumbnail",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Label */.JU, {\n            children: (0,build_module.__)(\'Playlist thumbnail image\', \'wpmudev_vids\')\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n            className: "sui-description",\n            children: (0,build_module.__)("Add a custom thumbnail to your playlist, otherwise we\'ll just use the first video\'s thumbnail.", \'wpmudev_vids\')\n          })]\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(src_components/* UploadThumb */.cd, {\n          thumbnail: thumbnail,\n          onSelect: updatePlaylistThumb,\n          modalID: modalID\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Footer, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n          type: "ghost",\n          onClick: closeModal,\n          children: (0,build_module.__)(\'Cancel\', \'wpmudev_vids\')\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Right, {\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n            disabled: !title,\n            "data-modal-slide": "".concat(modalID, "-playlist-videos"),\n            "data-modal-slide-intro": "next",\n            children: (0,build_module.__)(\'Continue\', \'wpmudev_vids\')\n          })\n        })]\n      })]\n    })\n  });\n}\n/* harmony default export */ var slides_PlaylistSettings = ((/* unused pure expression or super */ null && (PlaylistSettings)));\n;// CONCATENATED MODULE: ./app/src/pages/playlists/modals/slides/PlaylistVideos.js\nfunction PlaylistVideos_slicedToArray(r, e) { return PlaylistVideos_arrayWithHoles(r) || PlaylistVideos_iterableToArrayLimit(r, e) || PlaylistVideos_unsupportedIterableToArray(r, e) || PlaylistVideos_nonIterableRest(); }\nfunction PlaylistVideos_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction PlaylistVideos_unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return PlaylistVideos_arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? PlaylistVideos_arrayLikeToArray(r, a) : void 0; } }\nfunction PlaylistVideos_arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction PlaylistVideos_iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction PlaylistVideos_arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\n\n\n/**\n * External dependencies\n */\n\n\n\n\n\nfunction slides_PlaylistVideos_PlaylistVideos(_ref) {\n  var modalID = _ref.modalID,\n    closeModal = _ref.closeModal,\n    playlist = _ref.playlist,\n    setPlaylist = _ref.setPlaylist,\n    errorMessage = _ref.errorMessage,\n    setErrorMessage = _ref.setErrorMessage;\n  var dispatch = (0,es/* useDispatch */.wA)();\n  var _ref2 = playlist !== null && playlist !== void 0 ? playlist : {},\n    title = _ref2.title,\n    description = _ref2.description,\n    videos = _ref2.videos,\n    locations = _ref2.locations,\n    thumbnail = _ref2.thumbnail;\n  var _useState = (0,react.useState)(0),\n    _useState2 = PlaylistVideos_slicedToArray(_useState, 2),\n    videoCount = _useState2[0],\n    setVideoCount = _useState2[1];\n  var isSaving = (0,es/* useSelector */.d4)(function (state) {\n    return (0,slices_playlists/* getLoadingStatus */.H)(state);\n  });\n  var BoxHeaderClasses = classnames_default()(\'sui-box-header\', \'sui-flatten\', \'sui-content-center\', \'sui-spacing-top--60\', \'sui-spacing-sides--100\');\n\n  /**\n   * Check if we need to show the membership upgrade notice.\n   */\n  var showUpgradeNotice = !(0,utils/* expiredMember */.gL)() && !(0,utils/* validMember */.xH)() && (0,utils/* dashConnected */.YT)() && videoCount <= 0;\n\n  /**\n   * Check if we need to show the membership expired notice.\n   */\n  var showExpiredNotice = (0,utils/* expiredMember */.gL)() && (0,utils/* dashConnected */.YT)() && videoCount <= 0;\n\n  /**\n   * Get error message.\n   *\n   * @since 1.8.4\n   *\n   * @return {string}\n   */\n  var getErrorMessage = function getErrorMessage() {\n    return !!errorMessage ? errorMessage : (0,build_module.__)(\'Could not create the playlist. Please try again.\', \'wpmudev_vids\');\n  };\n\n  /**\n   * Scroll to top of the modal.\n   *\n   * Use this to show error messages after scrolling\n   * down for the form submit.\n   *\n   * @since 1.8.4\n   */\n  var scrollTop = function scrollTop() {\n    document.getElementById(\'wpmudev-videos-playlist-create-modal\').scrollIntoView({\n      behavior: \'smooth\',\n      block: \'start\',\n      inline: \'nearest\'\n    });\n  };\n\n  /**\n   * Create the playlist\n   */\n  var submitPlaylist = function submitPlaylist() {\n    dispatch((0,slices_playlists/* createPlaylist */.Nt)({\n      playlist: {\n        title: title,\n        description: description,\n        videos: videos || [],\n        locations: locations || [],\n        thumbnail: thumbnail.id || 0\n      }\n    })).then(function (response) {\n      var _response$payload = response.payload,\n        success = _response$payload.success,\n        data = _response$payload.data;\n      if (success === true) {\n        // close the modal\n        closeModal();\n\n        // Show Successful Notice\n        dispatch((0,notice/* addNotice */.Mp)({\n          message: (0,build_module.__)(\'Playlist created successfully.\', \'wpmudev_vids\'),\n          dismiss: true\n        }));\n      } else if (data) {\n        // If error message available from reponse.\n        if (data !== null && data !== void 0 && data.params) {\n          var error = Object.values(data.params)[0];\n          setErrorMessage(error);\n\n          // Scroll top to see the error message\n          scrollTop();\n        }\n      }\n    });\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n    id: "".concat(modalID, "-playlist-videos"),\n    className: "sui-modal-slide",\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az, {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n        className: "sui-screen-reader-text",\n        onClick: closeModal,\n        children: (0,build_module.__)(\'Close this dialog.\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Header, {\n        className: BoxHeaderClasses,\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(src_components/* WhiteLabelBanner */.S3, {\n          src: "modal/modal-header-videos.png",\n          alt: (0,build_module.__)(\'Create a new playlist\', \'wpmudev_vids\')\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* IconButton */.K0, {\n          className: "sui-button-float--right",\n          icon: "close",\n          onClick: closeModal,\n          size: "md",\n          outlined: false,\n          label: (0,build_module.__)(\'Close this dialog.\', \'wpmudev_vids\')\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* IconButton */.K0, {\n          className: "sui-button-float--left",\n          icon: "chevron-left",\n          "data-modal-slide": "".concat(modalID, "-playlist-settings"),\n          "data-modal-slide-intro": "back",\n          size: "md",\n          outlined: false,\n          label: (0,build_module.__)(\'Go back to previous slide.\', \'wpmudev_vids\')\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)("h3", {\n          id: "".concat(modalID, "-title"),\n          className: "sui-box-title sui-lg",\n          children: (0,build_module.__)(\'Create a new playlist\', \'wpmudev_vids\')\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n          id: "".concat(modalID, "-desc"),\n          className: "sui-description",\n          children: (0,build_module.__)(\'Choose which videos you want to assign to this playlist. You can add as many as you like.\', \'wpmudev_vids\')\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Body, {\n        children: [!!errorMessage && /*#__PURE__*/(0,jsx_runtime.jsx)(components/* StaticNotice */.RL, {\n          type: "error",\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n            children: getErrorMessage()\n          })\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(VideoSearchInput, {\n          setVideoCount: setVideoCount\n        }), showUpgradeNotice && /*#__PURE__*/(0,jsx_runtime.jsx)(UpgradeNotice, {}), !showUpgradeNotice && showExpiredNotice && /*#__PURE__*/(0,jsx_runtime.jsx)(ExpiredNotice, {})]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(VideosList, {\n        setCurrentPlaylist: setPlaylist,\n        playlist: playlist,\n        setVideoCount: setVideoCount\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Footer, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n          type: "ghost",\n          "data-modal-slide-intro": "back",\n          "data-modal-slide": "".concat(modalID, "-playlist-settings"),\n          children: (0,build_module.__)(\'Back\', \'wpmudev_vids\')\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Right, {\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n            isLoading: isSaving,\n            disabled: isSaving,\n            onClick: submitPlaylist,\n            onLoadingText: (0,build_module.__)(\'Creating Playlist\', \'wpmudev_vids\'),\n            children: (0,build_module.__)(\'Create Playlist\', \'wpmudev_vids\')\n          })\n        })]\n      })]\n    })\n  });\n}\n/* harmony default export */ var slides_PlaylistVideos = ((/* unused pure expression or super */ null && (slides_PlaylistVideos_PlaylistVideos)));\n;// CONCATENATED MODULE: ./app/src/pages/playlists/modals/slides/index.js\n\n\n;// CONCATENATED MODULE: ./app/src/pages/playlists/modals/CreatePlaylist.js\nfunction CreatePlaylist_slicedToArray(r, e) { return CreatePlaylist_arrayWithHoles(r) || CreatePlaylist_iterableToArrayLimit(r, e) || CreatePlaylist_unsupportedIterableToArray(r, e) || CreatePlaylist_nonIterableRest(); }\nfunction CreatePlaylist_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction CreatePlaylist_unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return CreatePlaylist_arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? CreatePlaylist_arrayLikeToArray(r, a) : void 0; } }\nfunction CreatePlaylist_arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction CreatePlaylist_iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction CreatePlaylist_arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Internal dependencies\n */\n\n\n/**\n * External dependencies\n */\n\n\n// Playlist data structure\n\nvar emptyPlaylist = {\n  title: \'\',\n  description: \'\',\n  videos: [],\n  locations: [],\n  thumbnail: {\n    id: 0,\n    file: \'\',\n    url: \'\'\n  },\n  type: \'custom\'\n};\nfunction CreatePlaylist(_ref) {\n  var modalID = _ref.modalID,\n    closeModal = _ref.closeModal;\n  var _useState = (0,react.useState)(emptyPlaylist),\n    _useState2 = CreatePlaylist_slicedToArray(_useState, 2),\n    playlist = _useState2[0],\n    setPlaylist = _useState2[1];\n  var _useState3 = (0,react.useState)(\'\'),\n    _useState4 = CreatePlaylist_slicedToArray(_useState3, 2),\n    errorMessage = _useState4[0],\n    setErrorMessage = _useState4[1];\n\n  /**\n   * close and resets modal state\n   *\n   * @return {void}\n   */\n  var closeAndReset = function closeAndReset() {\n    // Reset state\n    setPlaylist(emptyPlaylist);\n    setErrorMessage(\'\');\n\n    // Close the modal\n    closeModal();\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(PlaylistSettings, {\n      modalID: modalID,\n      closeModal: closeAndReset,\n      playlist: playlist,\n      setPlaylist: setPlaylist\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(slides_PlaylistVideos_PlaylistVideos, {\n      modalID: modalID,\n      playlist: playlist,\n      setPlaylist: setPlaylist,\n      closeModal: closeAndReset,\n      errorMessage: errorMessage,\n      setErrorMessage: setErrorMessage\n    })]\n  });\n}\n/* harmony default export */ var modals_CreatePlaylist = ((/* unused pure expression or super */ null && (CreatePlaylist)));\n;// CONCATENATED MODULE: ./app/src/pages/playlists/modals/DeletePlaylist.js\n/**\n * Library components\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n/**\n * External dependencies\n */\n\n\n\n\nfunction DeletePlaylist(_ref) {\n  var _playlist$videos;\n  var playlist = _ref.playlist,\n    closeModal = _ref.closeModal,\n    modalID = _ref.modalID;\n  var id = playlist.id;\n  var dispatch = (0,es/* useDispatch */.wA)();\n  var isDeleting = (0,es/* useSelector */.d4)(function (state) {\n    return (0,slices_playlists/* getLoadingStatus */.H)(state);\n  });\n  var boxHeaderClasses = classnames_default()(\'sui-box-header\', \'sui-flatten\', \'sui-content-center\', \'sui-spacing-top--60\');\n  var videosCount = (playlist === null || playlist === void 0 || (_playlist$videos = playlist.videos) === null || _playlist$videos === void 0 ? void 0 : _playlist$videos.length) || 0;\n\n  /**\n   * Delete the playlist\n   *\n   * @return {void}\n   */\n  var onDelete = function onDelete() {\n    dispatch((0,slices_playlists/* deletePlaylist */.ag)({\n      id: id\n    })).then(function (response) {\n      var payload = response.payload;\n      if ((payload === null || payload === void 0 ? void 0 : payload.success) === true) {\n        // close the modal\n        closeModal();\n\n        // Show success notice\n        dispatch((0,notice/* addNotice */.Mp)({\n          message: (0,build_module.__)(\'Playlist deleted successfully.\', \'wpmudev_vids\')\n        }));\n      } else {\n        // Show error notice\n        dispatch((0,notice/* addNotice */.Mp)({\n          message: response.payload.data,\n          type: \'error\'\n        }));\n      }\n    });\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Header, {\n      className: boxHeaderClasses,\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* IconButton */.K0, {\n        className: "sui-button-float--right",\n        icon: "close",\n        onClick: closeModal,\n        size: "md",\n        outlined: false,\n        label: (0,build_module.__)(\'Close this dialog.\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("h3", {\n        id: modalID,\n        className: "sui-box-title sui-lg",\n        children: (0,build_module.__)(\'Delete playlist\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n        id: "".concat(modalID, "-desc"),\n        className: "sui-description",\n        children: (0,build_module/* sprintf */.nv)((0,build_module.__)(\'This playlist contains %d video(s). These videos will be unassigned from this playlist. Are you sure you want to delete this playlist?\'), videosCount)\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Footer, {\n      isFlatten: true,\n      isCentered: true,\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n        type: "ghost",\n        onClick: closeModal,\n        children: (0,build_module.__)(\'Cancel\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n        id: "".concat(modalID, "-submit"),\n        color: "red",\n        onClick: onDelete,\n        onLoadingText: (0,build_module.__)(\'Deleting\', \'wpmudev_vids\'),\n        disabled: isDeleting,\n        isLoading: isDeleting,\n        type: "ghost",\n        children: (0,build_module.__)(\'Delete\', \'wpmudev_vids\')\n      })]\n    })]\n  });\n}\n/* harmony default export */ var modals_DeletePlaylist = ((/* unused pure expression or super */ null && (DeletePlaylist)));\n;// CONCATENATED MODULE: ./app/src/pages/playlists/modals/index.js\n\n\n\n\n\n// EXTERNAL MODULE: ./node_modules/react-router/dist/index.js\nvar react_router_dist = __webpack_require__(7767);\n;// CONCATENATED MODULE: ./app/src/pages/playlists/partials/Playlists/Playlists.js\nfunction Playlists_slicedToArray(r, e) { return Playlists_arrayWithHoles(r) || Playlists_iterableToArrayLimit(r, e) || Playlists_unsupportedIterableToArray(r, e) || Playlists_nonIterableRest(); }\nfunction Playlists_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction Playlists_unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return Playlists_arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? Playlists_arrayLikeToArray(r, a) : void 0; } }\nfunction Playlists_arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction Playlists_iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction Playlists_arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Library dependencies\n */\n\n\n\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\n\n/**\n * External dependencies\n */\n\n\n\n\nfunction Playlists() {\n  // dispatch function\n  var dispatch = (0,es/* useDispatch */.wA)();\n\n  // Filtered List\n  var _useState = (0,react.useState)([]),\n    _useState2 = Playlists_slicedToArray(_useState, 2),\n    filteredList = _useState2[0],\n    setFilteredList = _useState2[1];\n\n  // Playlist being edited\n  var _useState3 = (0,react.useState)({}),\n    _useState4 = Playlists_slicedToArray(_useState3, 2),\n    currentPlaylist = _useState4[0],\n    setCurrentPlaylist = _useState4[1];\n\n  // Checked playlists and videos\n  var _useState5 = (0,react.useState)({}),\n    _useState6 = Playlists_slicedToArray(_useState5, 2),\n    selected = _useState6[0],\n    setSelected = _useState6[1];\n\n  // playlists object\n  var playlists = (0,es/* useSelector */.d4)(function (state) {\n    return (0,slices_playlists/* getPlaylists */.Eo)(state);\n  });\n\n  // playlist ids to filter playlists\n  var filtered = (0,es/* useSelector */.d4)(function (state) {\n    return (0,slices_playlists/* getFiltered */.A1)(state);\n  });\n\n  // Loading state\n  var isLoading = (0,es/* useSelector */.d4)(function (state) {\n    return (0,slices_playlists/* getLoadingStatus */.H)(state);\n  });\n\n  // Edit Modal\n  var editModalID = \'wpmudev-videos-playlist-edit-modal\';\n  var _useModal = (0,hooks/* useModal */.h)({\n      id: editModalID,\n      onClose: function onClose() {\n        return setCurrentPlaylist({});\n      }\n    }),\n    _useModal2 = Playlists_slicedToArray(_useModal, 2),\n    openEditModal = _useModal2[0],\n    closeEditModal = _useModal2[1];\n\n  // Visibility Modal\n  var visibilityModalID = \'wpmudev-videos-playlist-settings-modal\';\n  var _useModal3 = (0,hooks/* useModal */.h)({\n      id: visibilityModalID,\n      onClose: function onClose() {\n        return setCurrentPlaylist({});\n      }\n    }),\n    _useModal4 = Playlists_slicedToArray(_useModal3, 2),\n    openVisibilityModal = _useModal4[0],\n    closeVisibilityModal = _useModal4[1];\n\n  // Videos Modal\n  var videosModalID = \'wpmudev-videos-playlist-videos-modal\';\n  var _useModal5 = (0,hooks/* useModal */.h)({\n      id: videosModalID,\n      onClose: function onClose() {\n        return setCurrentPlaylist({});\n      }\n    }),\n    _useModal6 = Playlists_slicedToArray(_useModal5, 2),\n    openVideosModal = _useModal6[0],\n    closeVideosModal = _useModal6[1];\n\n  // Delete Modal\n  var deleteModalID = \'wpmudev-videos-playlist-delete-modal\';\n  var _useModal7 = (0,hooks/* useModal */.h)({\n      id: deleteModalID,\n      onClose: function onClose() {\n        return setCurrentPlaylist({});\n      }\n    }),\n    _useModal8 = Playlists_slicedToArray(_useModal7, 2),\n    openDeleteModal = _useModal8[0],\n    closeDeleteModal = _useModal8[1];\n  (0,react.useEffect)(function () {\n    var newFilteredList = [];\n\n    // Only if filtered is an array.\n    if (Array.isArray(filtered)) {\n      filtered.forEach(function (id) {\n        if (playlists[id]) {\n          newFilteredList.push(playlists[id]);\n        }\n      });\n    }\n    setFilteredList(newFilteredList);\n  }, [playlists, filtered]);\n\n  // Initialize clipboard library\n  (0,react.useEffect)(function () {\n    new (clipboard_default())(\'.ivt-copy-shortcode\');\n  }, []);\n\n  /**\n   * Handle order change of the playlist.\n   *\n   * @param {object} event Event\n   *\n   */\n  var onChangeOrder = function onChangeOrder(event) {\n    // Get moved playlist ID.\n    var playlistID = event.item.getAttribute(\'data-id\');\n    dispatch((0,slices_playlists/* orderChange */.FN)({\n      playlistID: playlistID,\n      oldIndex: event.oldIndex,\n      newIndex: event.newIndex\n    }));\n  };\n  var playlistsHasInitiated = filteredList.length > 0;\n  var location = (0,react_router_dist/* useLocation */.zy)();\n\n  // Handling routes coming from dashboard page\n  (0,react.useEffect)(function () {\n    if (playlistsHasInitiated) {\n      var pathname = location.pathname;\n\n      // regex to match with url pathname for multiple actions\n      var pattern = /^(\\/(videos|edit|settings))\\/(\\d+)$/;\n      var matches = pathname.match(pattern);\n      if (matches) {\n        var _matches = Playlists_slicedToArray(matches, 4),\n          action = _matches[2],\n          playlistID = _matches[3];\n\n        // videos: open add videos model\n        if (playlists[playlistID] && action === \'videos\') {\n          setCurrentPlaylist(playlists[playlistID]);\n          openVideosModal();\n          return;\n        }\n        // edit: Open edit modal\n        if (playlists[playlistID] && action === \'edit\') {\n          setCurrentPlaylist(playlists[playlistID]);\n          openEditModal();\n        }\n\n        // settings: Open visibility settings modal\n        if (playlists[playlistID] && action === \'settings\') {\n          setCurrentPlaylist(playlists[playlistID]);\n          openVisibilityModal();\n        }\n      }\n    }\n  }, [playlistsHasInitiated]);\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Modal */.aF, {\n      size: "lg",\n      id: editModalID,\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(EditPlaylist, {\n        modalID: editModalID,\n        openModal: openEditModal,\n        closeModal: closeEditModal,\n        playlist: currentPlaylist,\n        setCurrentPlaylist: setCurrentPlaylist\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Modal */.aF, {\n      id: visibilityModalID,\n      size: "lg",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(VisibilitySettings, {\n        modalID: visibilityModalID,\n        closeModal: closeVisibilityModal,\n        playlist: currentPlaylist,\n        setCurrentPlaylist: setCurrentPlaylist\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Modal */.aF, {\n      id: videosModalID,\n      size: "lg",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(AddVideos, {\n        modalID: videosModalID,\n        closeModal: closeVideosModal,\n        playlist: currentPlaylist,\n        setCurrentPlaylist: setCurrentPlaylist\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Modal */.aF, {\n      id: deleteModalID,\n      size: "sm",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(DeletePlaylist, {\n        modalID: deleteModalID,\n        closeModal: closeDeleteModal,\n        playlist: currentPlaylist\n      })\n    }), isLoading && /*#__PURE__*/(0,jsx_runtime.jsx)(PlaylistsLoader, {}), !isLoading && /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Accordion */.nD, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(src_components/* SortableElements */.c1, {\n        onUpdate: onChangeOrder,\n        children: filteredList === null || filteredList === void 0 ? void 0 : filteredList.map(function (playlist) {\n          return /*#__PURE__*/(0,jsx_runtime.jsx)(PlaylistItem, {\n            openEditModal: openEditModal,\n            openVisibilityModal: openVisibilityModal,\n            openVideosModal: openVideosModal,\n            openDeleteModal: openDeleteModal,\n            playlist: playlist,\n            selected: selected,\n            setSelected: setSelected,\n            setCurrentPlaylist: setCurrentPlaylist\n          }, playlist.id);\n        })\n      })\n    })]\n  });\n}\n/* harmony default export */ var Playlists_Playlists = ((/* unused pure expression or super */ null && (Playlists)));\n;// CONCATENATED MODULE: ./app/src/pages/playlists/partials/Playlists/index.js\n\n\n;// CONCATENATED MODULE: ./app/src/pages/playlists/partials/PlaylistsLoader/PlaylistsLoader.js\n/**\n * Library dependencies\n */\n\n\n/**\n * External components\n */\n\n\nfunction PlaylistsLoader() {\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n    className: "wpmudev-videos-loader sui-box",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n      className: "wpmudev-videos-loader--mask",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n        icon: "loader",\n        animate: true\n      }), (0,build_module.__)(\'Loading...\', \'wpmudev_vids\')]\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n      className: "wpmudev-videos-loader--content",\n      "aria-hidden": "true",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n        className: "wpmudev-videos-loader--checkbox"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n        className: "wpmudev-videos-loader--image"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n        className: "wpmudev-videos-loader--name",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)("span", {})\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n        className: "wpmudev-videos-loader--actions",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* IconButton */.K0, {\n          tag: "div",\n          outlined: false,\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n            className: "sui-icon-widget-settings-config",\n            "aria-hidden": "true"\n          })\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* IconButton */.K0, {\n          tag: "div",\n          outlined: false,\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n            className: "sui-icon-chevron-down",\n            "aria-hidden": "true"\n          })\n        })]\n      })]\n    })]\n  });\n}\n/* harmony default export */ var PlaylistsLoader_PlaylistsLoader = ((/* unused pure expression or super */ null && (PlaylistsLoader)));\n;// CONCATENATED MODULE: ./app/src/pages/playlists/partials/PlaylistsLoader/index.js\n\n;// CONCATENATED MODULE: ./app/src/pages/playlists/partials/BulkActions/BulkActions.js\nfunction BulkActions_slicedToArray(r, e) { return BulkActions_arrayWithHoles(r) || BulkActions_iterableToArrayLimit(r, e) || BulkActions_unsupportedIterableToArray(r, e) || BulkActions_nonIterableRest(); }\nfunction BulkActions_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction BulkActions_unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return BulkActions_arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? BulkActions_arrayLikeToArray(r, a) : void 0; } }\nfunction BulkActions_arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction BulkActions_iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction BulkActions_arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\n/**\n * External dependencies\n */\n\n\n\n\nfunction BulkActions() {\n  var _useState = (0,react.useState)(\'\'),\n    _useState2 = BulkActions_slicedToArray(_useState, 2),\n    action = _useState2[0],\n    setAction = _useState2[1];\n  var dispatch = (0,es/* useDispatch */.wA)();\n  var selectedPlaylists = (0,es/* useSelector */.d4)(function (state) {\n    return (0,slices_playlists/* getSelectedPlaylists */.dC)(state);\n  });\n  var allSelected = (0,es/* useSelector */.d4)(function (state) {\n    return (0,slices_playlists/* areAllSelected */.tc)(state);\n  });\n  var _useState3 = (0,react.useState)(false),\n    _useState4 = BulkActions_slicedToArray(_useState3, 2),\n    isDeleting = _useState4[0],\n    setIsDeleting = _useState4[1];\n  var options = {\n    delete: (0,build_module.__)(\'Delete\', \'wpmudev_vids\')\n  };\n\n  /**\n   * Bulk Delete Selected playlists & videos\n   *\n   * @return {void}\n   */\n  var applyActions = function applyActions() {\n    setIsDeleting(true);\n    dispatch((0,slices_playlists/* bulkDelete */.QY)({\n      selected: selectedPlaylists\n    })).then(function (response) {\n      if (response.payload.success && response.payload.data) {\n        // Reload playlists\n        dispatch((0,slices_playlists/* initPlaylists */.cM)());\n\n        // Reload videos\n        dispatch((0,slices_videos/* initVideos */.r2)());\n      }\n    }).finally(function () {\n      setIsDeleting(false);\n    });\n  };\n\n  /**\n   * Conditions to disable button\n   *\n   * @returns {boolean}\n   */\n  var isDisabled = function isDisabled() {\n    return action === \'\' || Object.keys(selectedPlaylists).length === 0;\n  };\n\n  /**\n   * Update checked status\n   *\n   * @returns {void}\n   */\n  var updateAllSelection = function updateAllSelection(value) {\n    dispatch((0,slices_playlists/* toggleAll */.E9)({\n      checked: value\n    }));\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az, {\n    className: "sui-box-sticky",\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n      className: "sui-box-search",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)("label", {\n        htmlFor: "wpmudev-videos-playlists-bulk-check",\n        className: "sui-checkbox",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Checkbox */.Sc, {\n          id: "wpmudev-videos-playlists-bulk-check",\n          label: false,\n          checked: allSelected,\n          onChange: updateAllSelection\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Select */.l6, {\n        value: action,\n        onChange: setAction,\n        placeholder: (0,build_module.__)(\'Bulk actions\', \'wpmudev_vids\'),\n        options: options,\n        id: "wpmudev-videos-playlists-bulk-actions",\n        isSmall: true,\n        className: "sui-select-inline",\n        dataWidth: "120px"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n        onLoadingText: (0,build_module.__)(\'Processing\', \'wpmudev_vids\'),\n        icon: "check",\n        disabled: isDisabled(),\n        onClick: applyActions,\n        isLoading: isDeleting,\n        children: (0,build_module.__)(\'Apply\', \'wpmudev_vids\')\n      })]\n    })\n  });\n}\n/* harmony default export */ var BulkActions_BulkActions = ((/* unused pure expression or super */ null && (BulkActions)));\n;// CONCATENATED MODULE: ./app/src/pages/playlists/partials/BulkActions/index.js\n\n;// CONCATENATED MODULE: ./app/src/pages/playlists/partials/index.js\n\n\n\n\n;// CONCATENATED MODULE: ./app/src/pages/playlists/App.js\nfunction App_slicedToArray(r, e) { return App_arrayWithHoles(r) || App_iterableToArrayLimit(r, e) || App_unsupportedIterableToArray(r, e) || App_nonIterableRest(); }\nfunction App_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction App_unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return App_arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? App_arrayLikeToArray(r, a) : void 0; } }\nfunction App_arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction App_iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction App_arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Library dependencies\n */\n\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\n\n\n\n\n\n\n\n/**\n * External dependencies\n */\n\n\n\n\n\nfunction App() {\n  var _window$ivtVars;\n  var currentNotice = (0,es/* useSelector */.d4)(function (state) {\n    return (0,notice/* getCurrentNotice */.Og)(state);\n  });\n  var dispatch = (0,es/* useDispatch */.wA)();\n\n  // Notice Data\n  var id = currentNotice.id,\n    message = currentNotice.message,\n    type = currentNotice.type,\n    dismiss = currentNotice.dismiss;\n\n  // CreatePlaylist Modal\n  var playlistModalID = \'wpmudev-videos-playlist-create-modal\';\n  var _useModal = (0,hooks/* useModal */.h)({\n      id: playlistModalID\n    }),\n    _useModal2 = App_slicedToArray(_useModal, 2),\n    openPlaylistModal = _useModal2[0],\n    closePlaylistModal = _useModal2[1];\n\n  /**\n   * Check if current membership needs an upgrade.\n   *\n   * @return {boolean}\n   */\n  function shouldUpgrade() {\n    return !(0,utils/* expiredMember */.gL)() && !(0,utils/* validMember */.xH)() && (0,utils/* dashConnected */.YT)();\n  }\n\n  /**\n   * Load data on mount\n   */\n  (0,react.useEffect)(function () {\n    // Load videos\n    dispatch((0,slices_videos/* initVideos */.r2)());\n\n    // Load Playlists\n    dispatch((0,slices_playlists/* initPlaylists */.cM)());\n  }, []);\n\n  // Global Variables\n  var _ref = (_window$ivtVars = window.ivtVars) !== null && _window$ivtVars !== void 0 ? _window$ivtVars : {},\n    hide_doc_link = _ref.whitelabel.hide_doc_link;\n  var location = (0,react_router_dist/* useLocation */.zy)();\n\n  // Handling routes coming from dashboard\n  (0,react.useEffect)(function () {\n    var pathname = location.pathname;\n    if (pathname.slice(1) === \'create\') {\n      openPlaylistModal();\n    }\n  }, []);\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n    className: "sui-wrap",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Modal */.aF, {\n      size: "lg",\n      id: playlistModalID,\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(CreatePlaylist, {\n        closeModal: closePlaylistModal,\n        modalID: playlistModalID\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Header */.Y9, {\n      showDocLink: !hide_doc_link,\n      docLink: "https://wpmudev.com/docs/wpmu-dev-plugins/integrated-video-tutorials/",\n      docText: (0,build_module.__)(\'View Documentation\', \'wpmudev_vids\'),\n      title: (0,build_module.__)(\'Playlists\', \'wpmudev_vids\'),\n      actionsLeft: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n        onClick: openPlaylistModal,\n        icon: "plus",\n        color: "blue",\n        children: (0,build_module.__)(\'Create Playlist\', \'wpmudev_vids\')\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n      className: "sui-floating-notices",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* TopNotice */.ii, {\n        id: id,\n        dismiss: dismiss,\n        message: message,\n        type: type,\n        label: (0,build_module.__)(\'Dismiss this notice\', \'wpmudev_vids\')\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(SummaryBox, {}), shouldUpgrade() && /*#__PURE__*/(0,jsx_runtime.jsx)(UpgradeNotice, {}), !shouldUpgrade() && (0,utils/* expiredMember */.gL)() && /*#__PURE__*/(0,jsx_runtime.jsx)(ExpiredNotice, {}), !shouldUpgrade() && !(0,utils/* expiredMember */.gL)() && !(0,utils/* validMember */.xH)() && /*#__PURE__*/(0,jsx_runtime.jsx)(DashNotice, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(BulkActions, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(Playlists, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(src_components/* PageFooter */.FM, {})]\n  });\n}\n/* harmony default export */ var playlists_App = (App);\n;// CONCATENATED MODULE: ./app/src/pages/playlists/main.js\n\n\n\n\n\n\n\nvar root = client.createRoot(document.getElementById(\'wpmudev-videos-playlists-app\'));\nroot.render( /*#__PURE__*/(0,jsx_runtime.jsx)(react.StrictMode, {\n  children: /*#__PURE__*/(0,jsx_runtime.jsx)(es/* Provider */.Kq, {\n    store: store/* default */.A,\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(dist/* HashRouter */.I9, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(playlists_App, {})\n    })\n  })\n}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzc1NC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUU5R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekZBOzs7OztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FFcENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUUvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FFL0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBRXZFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FFeEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeklBOzs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUV6Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUUxQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FFMUhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUN4S0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbE1BOzs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakdBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvT0E7OztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBRWxEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUV2SEE7QUFDQTtBQUNBOzs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvcGxheWxpc3RzL3BhcnRpYWxzL1N1bW1hcnlCb3gvU3VtbWFyeUJveC5qcz84N2FjIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9wbGF5bGlzdHMvcGFydGlhbHMvU3VtbWFyeUJveC9pbmRleC5qcz9jODk4Iiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9wbGF5bGlzdHMvY29tcG9uZW50cy9QbGF5bGlzdFZpZGVvcy9WaWRlb1Jvdy5qcz9lNjEyIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9wbGF5bGlzdHMvY29tcG9uZW50cy9QbGF5bGlzdFZpZGVvcy9QbGF5bGlzdFZpZGVvcy5qcz9lMjU2Iiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9wbGF5bGlzdHMvY29tcG9uZW50cy9QbGF5bGlzdFZpZGVvcy9pbmRleC5qcz85MzIzIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9wbGF5bGlzdHMvY29tcG9uZW50cy9VcGdyYWRlTm90aWNlL1VwZ3JhZGVOb3RpY2UuanM/ZjUyNCIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvcGxheWxpc3RzL2NvbXBvbmVudHMvVXBncmFkZU5vdGljZS9pbmRleC5qcz8yN2ZmIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9wbGF5bGlzdHMvY29tcG9uZW50cy9FeHBpcmVkTm90aWNlL0V4cGlyZWROb3RpY2UuanM/MGMwYyIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvcGxheWxpc3RzL2NvbXBvbmVudHMvRXhwaXJlZE5vdGljZS9pbmRleC5qcz9kNmRiIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9wbGF5bGlzdHMvY29tcG9uZW50cy9SZW5ld05vdGljZS9SZW5ld05vdGljZS5qcz8wOWU1Iiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9wbGF5bGlzdHMvY29tcG9uZW50cy9SZW5ld05vdGljZS9pbmRleC5qcz9jN2NjIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9wbGF5bGlzdHMvY29tcG9uZW50cy9EYXNoTm90aWNlL0Rhc2hOb3RpY2UuanM/MDEyMiIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvcGxheWxpc3RzL2NvbXBvbmVudHMvRGFzaE5vdGljZS9pbmRleC5qcz9iNGQxIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9wbGF5bGlzdHMvY29tcG9uZW50cy9WaWRlb1NlYXJjaElucHV0L1ZpZGVvU2VhcmNoSW5wdXQuanM/ZTkxMSIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvcGxheWxpc3RzL2NvbXBvbmVudHMvVmlkZW9TZWFyY2hJbnB1dC9pbmRleC5qcz84ODFmIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9wbGF5bGlzdHMvY29tcG9uZW50cy9WaWRlb3NMaXN0L1ZpZGVvc0xpc3QuanM/OTMzNyIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvcGxheWxpc3RzL2NvbXBvbmVudHMvVmlkZW9zTGlzdC9WaWRlb0xpc3RSb3cuanM/NTRhNiIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvcGxheWxpc3RzL2NvbXBvbmVudHMvVmlkZW9zTGlzdC9pbmRleC5qcz9lZDdhIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9wbGF5bGlzdHMvY29tcG9uZW50cy9QbGF5bGlzdFRpdGxlL1BsYXlsaXN0VGl0bGUuanM/NGVmMSIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvcGxheWxpc3RzL2NvbXBvbmVudHMvUGxheWxpc3RUaXRsZS9pbmRleC5qcz9mNGE3Iiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9wbGF5bGlzdHMvY29tcG9uZW50cy9QbGF5bGlzdERlc2MvUGxheWxpc3REZXNjLmpzPzRmODgiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL3BsYXlsaXN0cy9jb21wb25lbnRzL1BsYXlsaXN0RGVzYy9pbmRleC5qcz8wZDBmIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9wbGF5bGlzdHMvY29tcG9uZW50cy9Ecm9wRG93bi9Ecm9wRG93bi5qcz9kMjcxIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9wbGF5bGlzdHMvY29tcG9uZW50cy9Ecm9wRG93bi9pbmRleC5qcz9hNjgxIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9wbGF5bGlzdHMvY29tcG9uZW50cy9pbmRleC5qcz9mZDIwIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9wbGF5bGlzdHMvcGFydGlhbHMvUGxheWxpc3RzL1BsYXlsaXN0SXRlbS5qcz84NThlIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9wbGF5bGlzdHMvbW9kYWxzL0VkaXRQbGF5bGlzdC5qcz9mMDY5Iiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9wbGF5bGlzdHMvbW9kYWxzL1Zpc2liaWxpdHlTZXR0aW5ncy5qcz9mYTIwIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9wbGF5bGlzdHMvbW9kYWxzL0FkZFZpZGVvcy5qcz9lZTg3Iiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9wbGF5bGlzdHMvbW9kYWxzL3NsaWRlcy9QbGF5bGlzdFNldHRpbmdzLmpzP2I3NDciLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL3BsYXlsaXN0cy9tb2RhbHMvc2xpZGVzL1BsYXlsaXN0VmlkZW9zLmpzP2JmZTMiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL3BsYXlsaXN0cy9tb2RhbHMvc2xpZGVzL2luZGV4LmpzP2EwNGIiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL3BsYXlsaXN0cy9tb2RhbHMvQ3JlYXRlUGxheWxpc3QuanM/MGZiYiIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvcGxheWxpc3RzL21vZGFscy9EZWxldGVQbGF5bGlzdC5qcz84NDZmIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9wbGF5bGlzdHMvbW9kYWxzL2luZGV4LmpzPzE0NGQiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL3BsYXlsaXN0cy9wYXJ0aWFscy9QbGF5bGlzdHMvUGxheWxpc3RzLmpzP2RhMWYiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL3BsYXlsaXN0cy9wYXJ0aWFscy9QbGF5bGlzdHMvaW5kZXguanM/MTk5NiIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvcGxheWxpc3RzL3BhcnRpYWxzL1BsYXlsaXN0c0xvYWRlci9QbGF5bGlzdHNMb2FkZXIuanM/NjliZCIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvcGxheWxpc3RzL3BhcnRpYWxzL1BsYXlsaXN0c0xvYWRlci9pbmRleC5qcz83N2QxIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9wbGF5bGlzdHMvcGFydGlhbHMvQnVsa0FjdGlvbnMvQnVsa0FjdGlvbnMuanM/NTk1MiIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvcGxheWxpc3RzL3BhcnRpYWxzL0J1bGtBY3Rpb25zL2luZGV4LmpzPzc2MjMiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL3BsYXlsaXN0cy9wYXJ0aWFscy9pbmRleC5qcz8yZjM2Iiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9wbGF5bGlzdHMvQXBwLmpzPzYxNDkiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL3BsYXlsaXN0cy9tYWluLmpzP2FhYWIiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkociwgZSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKHIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBlKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgZSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkgeyBpZiAocikgeyBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gXCJPYmplY3RcIiA9PT0gdCAmJiByLmNvbnN0cnVjdG9yICYmICh0ID0gci5jb25zdHJ1Y3Rvci5uYW1lKSwgXCJNYXBcIiA9PT0gdCB8fCBcIlNldFwiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6IFwiQXJndW1lbnRzXCIgPT09IHQgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkgPyBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSA6IHZvaWQgMDsgfSB9XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQociwgbCkgeyB2YXIgdCA9IG51bGwgPT0gciA/IG51bGwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgcltTeW1ib2wuaXRlcmF0b3JdIHx8IHJbXCJAQGl0ZXJhdG9yXCJdOyBpZiAobnVsbCAhPSB0KSB7IHZhciBlLCBuLCBpLCB1LCBhID0gW10sIGYgPSAhMCwgbyA9ICExOyB0cnkgeyBpZiAoaSA9ICh0ID0gdC5jYWxsKHIpKS5uZXh0LCAwID09PSBsKSB7IGlmIChPYmplY3QodCkgIT09IHQpIHJldHVybjsgZiA9ICExOyB9IGVsc2UgZm9yICg7ICEoZiA9IChlID0gaS5jYWxsKHQpKS5kb25lKSAmJiAoYS5wdXNoKGUudmFsdWUpLCBhLmxlbmd0aCAhPT0gbCk7IGYgPSAhMCk7IH0gY2F0Y2ggKHIpIHsgbyA9ICEwLCBuID0gcjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFmICYmIG51bGwgIT0gdC5yZXR1cm4gJiYgKHUgPSB0LnJldHVybigpLCBPYmplY3QodSkgIT09IHUpKSByZXR1cm47IH0gZmluYWxseSB7IGlmIChvKSB0aHJvdyBuOyB9IH0gcmV0dXJuIGE7IH0gfVxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKHIpIHsgaWYgKEFycmF5LmlzQXJyYXkocikpIHJldHVybiByOyB9XG4vKipcbiAqIExpYnJhcnkgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IFdoaXRlTGFiZWxTdW1tYXJ5LCBMaXN0IH0gZnJvbSAnLi4vLi4vLi4vLi4vbGliL2NvbXBvbmVudHMnO1xuXG4vKipcbiAqIEludGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyByZXN0R2V0IH0gZnJvbSAnLi4vLi4vLi4vLi4vaGVscGVycy9hcGknO1xuXG4vKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgX18gfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBpbml0aWFsUmVjZW50U3RhdGUgPSBfXygnTmV2ZXInLCAnd3BtdWRldl92aWRzJyk7XG5leHBvcnQgZnVuY3Rpb24gU3VtbWFyeUJveCgpIHtcbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKDApLFxuICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgIGNvdW50ID0gX3VzZVN0YXRlMlswXSxcbiAgICBzZXRDb3VudCA9IF91c2VTdGF0ZTJbMV07XG4gIHZhciBfdXNlU3RhdGUzID0gdXNlU3RhdGUoaW5pdGlhbFJlY2VudFN0YXRlKSxcbiAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksXG4gICAgcmVjZW50bHlVcGRhdGVkID0gX3VzZVN0YXRlNFswXSxcbiAgICBzZXRSZWNlbnRseVVwZGF0ZWQgPSBfdXNlU3RhdGU0WzFdO1xuICB2YXIgX3VzZVN0YXRlNSA9IHVzZVN0YXRlKGluaXRpYWxSZWNlbnRTdGF0ZSksXG4gICAgX3VzZVN0YXRlNiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTUsIDIpLFxuICAgIHJlY2VudGx5Q3JlYXRlZCA9IF91c2VTdGF0ZTZbMF0sXG4gICAgc2V0UmVjZW50bHlDcmVhdGVkID0gX3VzZVN0YXRlNlsxXTtcblxuICAvLyBvbiBtb3VudFxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIC8vIFVwZGF0ZSBzdW1tYXJ5IHN0YXRzXG4gICAgdXBkYXRlU3RhdHMoKTtcbiAgfSwgW10pO1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHN1bW1hcnkgc3RhdHMgZnJvbSB0aGUgQVBJIHJlc3BvbnNlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGZ1bmN0aW9uIHNldFN0YXRzKGRhdGEpIHtcbiAgICB2YXIgcmVjZW50ID0gZGF0YS5yZWNlbnQ7XG4gICAgdmFyIGNvdW50cyA9IGRhdGEuY291bnQ7XG5cbiAgICAvLyBMYXN0IHVwZGF0ZWQgcGxheWxpc3QuXG4gICAgaWYgKHJlY2VudC51cGRhdGVkX3BsYXlsaXN0LnRpdGxlKSB7XG4gICAgICBzZXRSZWNlbnRseVVwZGF0ZWQocmVjZW50LnVwZGF0ZWRfcGxheWxpc3QudGl0bGUpO1xuICAgIH1cblxuICAgIC8vIExhc3QgY3JlYXRlZCBwbGF5bGlzdC5cbiAgICBpZiAocmVjZW50LmNyZWF0ZWRfcGxheWxpc3QudGl0bGUpIHtcbiAgICAgIHNldFJlY2VudGx5Q3JlYXRlZChyZWNlbnQuY3JlYXRlZF9wbGF5bGlzdC50aXRsZSk7XG4gICAgfVxuXG4gICAgLy8gVG90YWwgcGxheWxpc3QgY291bnQuXG4gICAgaWYgKGNvdW50cy5wbGF5bGlzdHMpIHtcbiAgICAgIHNldENvdW50KGNvdW50cy5wbGF5bGlzdHMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIHN1bW1hcnkgc3RhdHMgdXNpbmcgdGhlIEFQSS5cbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBmdW5jdGlvbiB1cGRhdGVTdGF0cygpIHtcbiAgICByZXN0R2V0KHtcbiAgICAgIHBhdGg6ICdzdW1tYXJ5J1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBpZiAocmVzcG9uc2Uuc3VjY2VzcyAmJiByZXNwb25zZS5kYXRhKSB7XG4gICAgICAgIHNldFN0YXRzKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gSXRlbXNcbiAgdmFyIGxpc3RJdGVtcyA9IFt7XG4gICAgbGFiZWw6IF9fKCdSZWNlbnRseSBjcmVhdGVkIHBsYXlsaXN0JywgJ3dwbXVkZXZfdmlkcycpLFxuICAgIGRldGFpbHM6IHJlY2VudGx5Q3JlYXRlZFxuICB9LCB7XG4gICAgbGFiZWw6IF9fKCdSZWNlbnRseSB1cGRhdGVkIHBsYXlsaXN0JywgJ3dwbXVkZXZfdmlkcycpLFxuICAgIGRldGFpbHM6IHJlY2VudGx5VXBkYXRlZFxuICB9XTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4cyhXaGl0ZUxhYmVsU3VtbWFyeSwge1xuICAgIGlzU21hbGw6IHRydWUsXG4gICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChXaGl0ZUxhYmVsU3VtbWFyeS5TZWdtZW50LCB7XG4gICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3hzKFdoaXRlTGFiZWxTdW1tYXJ5LkRldGFpbHMsIHtcbiAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChcInNwYW5cIiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJzdWktc3VtbWFyeS1sYXJnZVwiLFxuICAgICAgICAgIGNoaWxkcmVuOiBjb3VudFxuICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJzcGFuXCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwic3VpLXN1bW1hcnktc3ViXCIsXG4gICAgICAgICAgY2hpbGRyZW46IF9fKCdQbGF5bGlzdHMnLCAnd3BtdWRldl92aWRzJylcbiAgICAgICAgfSldXG4gICAgICB9KVxuICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChXaGl0ZUxhYmVsU3VtbWFyeS5TZWdtZW50LCB7XG4gICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goTGlzdCwge1xuICAgICAgICBpdGVtczogbGlzdEl0ZW1zXG4gICAgICB9KVxuICAgIH0pXVxuICB9KTtcbn1cbmV4cG9ydCBkZWZhdWx0IFN1bW1hcnlCb3g7IiwiZXhwb3J0ICogZnJvbSAnLi9TdW1tYXJ5Qm94JzsiLCJmdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5mdW5jdGlvbiBfcmVnZW5lcmF0b3JSdW50aW1lKCkgeyBcInVzZSBzdHJpY3RcIjsgLyohIHJlZ2VuZXJhdG9yLXJ1bnRpbWUgLS0gQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuIC0tIGxpY2Vuc2UgKE1JVCk6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9ibG9iL21haW4vTElDRU5TRSAqLyBfcmVnZW5lcmF0b3JSdW50aW1lID0gZnVuY3Rpb24gX3JlZ2VuZXJhdG9yUnVudGltZSgpIHsgcmV0dXJuIGU7IH07IHZhciB0LCBlID0ge30sIHIgPSBPYmplY3QucHJvdG90eXBlLCBuID0gci5oYXNPd25Qcm9wZXJ0eSwgbyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB8fCBmdW5jdGlvbiAodCwgZSwgcikgeyB0W2VdID0gci52YWx1ZTsgfSwgaSA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sID8gU3ltYm9sIDoge30sIGEgPSBpLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiLCBjID0gaS5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCIsIHUgPSBpLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiOyBmdW5jdGlvbiBkZWZpbmUodCwgZSwgcikgeyByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIGUsIHsgdmFsdWU6IHIsIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAgfSksIHRbZV07IH0gdHJ5IHsgZGVmaW5lKHt9LCBcIlwiKTsgfSBjYXRjaCAodCkgeyBkZWZpbmUgPSBmdW5jdGlvbiBkZWZpbmUodCwgZSwgcikgeyByZXR1cm4gdFtlXSA9IHI7IH07IH0gZnVuY3Rpb24gd3JhcCh0LCBlLCByLCBuKSB7IHZhciBpID0gZSAmJiBlLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IGUgOiBHZW5lcmF0b3IsIGEgPSBPYmplY3QuY3JlYXRlKGkucHJvdG90eXBlKSwgYyA9IG5ldyBDb250ZXh0KG4gfHwgW10pOyByZXR1cm4gbyhhLCBcIl9pbnZva2VcIiwgeyB2YWx1ZTogbWFrZUludm9rZU1ldGhvZCh0LCByLCBjKSB9KSwgYTsgfSBmdW5jdGlvbiB0cnlDYXRjaCh0LCBlLCByKSB7IHRyeSB7IHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogdC5jYWxsKGUsIHIpIH07IH0gY2F0Y2ggKHQpIHsgcmV0dXJuIHsgdHlwZTogXCJ0aHJvd1wiLCBhcmc6IHQgfTsgfSB9IGUud3JhcCA9IHdyYXA7IHZhciBoID0gXCJzdXNwZW5kZWRTdGFydFwiLCBsID0gXCJzdXNwZW5kZWRZaWVsZFwiLCBmID0gXCJleGVjdXRpbmdcIiwgcyA9IFwiY29tcGxldGVkXCIsIHkgPSB7fTsgZnVuY3Rpb24gR2VuZXJhdG9yKCkge30gZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fSBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9IHZhciBwID0ge307IGRlZmluZShwLCBhLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KTsgdmFyIGQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YsIHYgPSBkICYmIGQoZCh2YWx1ZXMoW10pKSk7IHYgJiYgdiAhPT0gciAmJiBuLmNhbGwodiwgYSkgJiYgKHAgPSB2KTsgdmFyIGcgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPSBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShwKTsgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHQpIHsgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24gKGUpIHsgZGVmaW5lKHQsIGUsIGZ1bmN0aW9uICh0KSB7IHJldHVybiB0aGlzLl9pbnZva2UoZSwgdCk7IH0pOyB9KTsgfSBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKHQsIGUpIHsgZnVuY3Rpb24gaW52b2tlKHIsIG8sIGksIGEpIHsgdmFyIGMgPSB0cnlDYXRjaCh0W3JdLCB0LCBvKTsgaWYgKFwidGhyb3dcIiAhPT0gYy50eXBlKSB7IHZhciB1ID0gYy5hcmcsIGggPSB1LnZhbHVlOyByZXR1cm4gaCAmJiBcIm9iamVjdFwiID09IF90eXBlb2YoaCkgJiYgbi5jYWxsKGgsIFwiX19hd2FpdFwiKSA/IGUucmVzb2x2ZShoLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24gKHQpIHsgaW52b2tlKFwibmV4dFwiLCB0LCBpLCBhKTsgfSwgZnVuY3Rpb24gKHQpIHsgaW52b2tlKFwidGhyb3dcIiwgdCwgaSwgYSk7IH0pIDogZS5yZXNvbHZlKGgpLnRoZW4oZnVuY3Rpb24gKHQpIHsgdS52YWx1ZSA9IHQsIGkodSk7IH0sIGZ1bmN0aW9uICh0KSB7IHJldHVybiBpbnZva2UoXCJ0aHJvd1wiLCB0LCBpLCBhKTsgfSk7IH0gYShjLmFyZyk7IH0gdmFyIHI7IG8odGhpcywgXCJfaW52b2tlXCIsIHsgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKHQsIG4pIHsgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7IHJldHVybiBuZXcgZShmdW5jdGlvbiAoZSwgcikgeyBpbnZva2UodCwgbiwgZSwgcik7IH0pOyB9IHJldHVybiByID0gciA/IHIudGhlbihjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZywgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcpIDogY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKTsgfSB9KTsgfSBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGUsIHIsIG4pIHsgdmFyIG8gPSBoOyByZXR1cm4gZnVuY3Rpb24gKGksIGEpIHsgaWYgKG8gPT09IGYpIHRocm93IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTsgaWYgKG8gPT09IHMpIHsgaWYgKFwidGhyb3dcIiA9PT0gaSkgdGhyb3cgYTsgcmV0dXJuIHsgdmFsdWU6IHQsIGRvbmU6ICEwIH07IH0gZm9yIChuLm1ldGhvZCA9IGksIG4uYXJnID0gYTs7KSB7IHZhciBjID0gbi5kZWxlZ2F0ZTsgaWYgKGMpIHsgdmFyIHUgPSBtYXliZUludm9rZURlbGVnYXRlKGMsIG4pOyBpZiAodSkgeyBpZiAodSA9PT0geSkgY29udGludWU7IHJldHVybiB1OyB9IH0gaWYgKFwibmV4dFwiID09PSBuLm1ldGhvZCkgbi5zZW50ID0gbi5fc2VudCA9IG4uYXJnO2Vsc2UgaWYgKFwidGhyb3dcIiA9PT0gbi5tZXRob2QpIHsgaWYgKG8gPT09IGgpIHRocm93IG8gPSBzLCBuLmFyZzsgbi5kaXNwYXRjaEV4Y2VwdGlvbihuLmFyZyk7IH0gZWxzZSBcInJldHVyblwiID09PSBuLm1ldGhvZCAmJiBuLmFicnVwdChcInJldHVyblwiLCBuLmFyZyk7IG8gPSBmOyB2YXIgcCA9IHRyeUNhdGNoKGUsIHIsIG4pOyBpZiAoXCJub3JtYWxcIiA9PT0gcC50eXBlKSB7IGlmIChvID0gbi5kb25lID8gcyA6IGwsIHAuYXJnID09PSB5KSBjb250aW51ZTsgcmV0dXJuIHsgdmFsdWU6IHAuYXJnLCBkb25lOiBuLmRvbmUgfTsgfSBcInRocm93XCIgPT09IHAudHlwZSAmJiAobyA9IHMsIG4ubWV0aG9kID0gXCJ0aHJvd1wiLCBuLmFyZyA9IHAuYXJnKTsgfSB9OyB9IGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZSwgcikgeyB2YXIgbiA9IHIubWV0aG9kLCBvID0gZS5pdGVyYXRvcltuXTsgaWYgKG8gPT09IHQpIHJldHVybiByLmRlbGVnYXRlID0gbnVsbCwgXCJ0aHJvd1wiID09PSBuICYmIGUuaXRlcmF0b3IucmV0dXJuICYmIChyLm1ldGhvZCA9IFwicmV0dXJuXCIsIHIuYXJnID0gdCwgbWF5YmVJbnZva2VEZWxlZ2F0ZShlLCByKSwgXCJ0aHJvd1wiID09PSByLm1ldGhvZCkgfHwgXCJyZXR1cm5cIiAhPT0gbiAmJiAoci5tZXRob2QgPSBcInRocm93XCIsIHIuYXJnID0gbmV3IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ1wiICsgbiArIFwiJyBtZXRob2RcIikpLCB5OyB2YXIgaSA9IHRyeUNhdGNoKG8sIGUuaXRlcmF0b3IsIHIuYXJnKTsgaWYgKFwidGhyb3dcIiA9PT0gaS50eXBlKSByZXR1cm4gci5tZXRob2QgPSBcInRocm93XCIsIHIuYXJnID0gaS5hcmcsIHIuZGVsZWdhdGUgPSBudWxsLCB5OyB2YXIgYSA9IGkuYXJnOyByZXR1cm4gYSA/IGEuZG9uZSA/IChyW2UucmVzdWx0TmFtZV0gPSBhLnZhbHVlLCByLm5leHQgPSBlLm5leHRMb2MsIFwicmV0dXJuXCIgIT09IHIubWV0aG9kICYmIChyLm1ldGhvZCA9IFwibmV4dFwiLCByLmFyZyA9IHQpLCByLmRlbGVnYXRlID0gbnVsbCwgeSkgOiBhIDogKHIubWV0aG9kID0gXCJ0aHJvd1wiLCByLmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKSwgci5kZWxlZ2F0ZSA9IG51bGwsIHkpOyB9IGZ1bmN0aW9uIHB1c2hUcnlFbnRyeSh0KSB7IHZhciBlID0geyB0cnlMb2M6IHRbMF0gfTsgMSBpbiB0ICYmIChlLmNhdGNoTG9jID0gdFsxXSksIDIgaW4gdCAmJiAoZS5maW5hbGx5TG9jID0gdFsyXSwgZS5hZnRlckxvYyA9IHRbM10pLCB0aGlzLnRyeUVudHJpZXMucHVzaChlKTsgfSBmdW5jdGlvbiByZXNldFRyeUVudHJ5KHQpIHsgdmFyIGUgPSB0LmNvbXBsZXRpb24gfHwge307IGUudHlwZSA9IFwibm9ybWFsXCIsIGRlbGV0ZSBlLmFyZywgdC5jb21wbGV0aW9uID0gZTsgfSBmdW5jdGlvbiBDb250ZXh0KHQpIHsgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XSwgdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyksIHRoaXMucmVzZXQoITApOyB9IGZ1bmN0aW9uIHZhbHVlcyhlKSB7IGlmIChlIHx8IFwiXCIgPT09IGUpIHsgdmFyIHIgPSBlW2FdOyBpZiAocikgcmV0dXJuIHIuY2FsbChlKTsgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZS5uZXh0KSByZXR1cm4gZTsgaWYgKCFpc05hTihlLmxlbmd0aCkpIHsgdmFyIG8gPSAtMSwgaSA9IGZ1bmN0aW9uIG5leHQoKSB7IGZvciAoOyArK28gPCBlLmxlbmd0aDspIGlmIChuLmNhbGwoZSwgbykpIHJldHVybiBuZXh0LnZhbHVlID0gZVtvXSwgbmV4dC5kb25lID0gITEsIG5leHQ7IHJldHVybiBuZXh0LnZhbHVlID0gdCwgbmV4dC5kb25lID0gITAsIG5leHQ7IH07IHJldHVybiBpLm5leHQgPSBpOyB9IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihfdHlwZW9mKGUpICsgXCIgaXMgbm90IGl0ZXJhYmxlXCIpOyB9IHJldHVybiBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgbyhnLCBcImNvbnN0cnVjdG9yXCIsIHsgdmFsdWU6IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBjb25maWd1cmFibGU6ICEwIH0pLCBvKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBcImNvbnN0cnVjdG9yXCIsIHsgdmFsdWU6IEdlbmVyYXRvckZ1bmN0aW9uLCBjb25maWd1cmFibGU6ICEwIH0pLCBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IGRlZmluZShHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgdSwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKSwgZS5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24gKHQpIHsgdmFyIGUgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHQgJiYgdC5jb25zdHJ1Y3RvcjsgcmV0dXJuICEhZSAmJiAoZSA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHwgXCJHZW5lcmF0b3JGdW5jdGlvblwiID09PSAoZS5kaXNwbGF5TmFtZSB8fCBlLm5hbWUpKTsgfSwgZS5tYXJrID0gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZih0LCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSkgOiAodC5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgZGVmaW5lKHQsIHUsIFwiR2VuZXJhdG9yRnVuY3Rpb25cIikpLCB0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoZyksIHQ7IH0sIGUuYXdyYXAgPSBmdW5jdGlvbiAodCkgeyByZXR1cm4geyBfX2F3YWl0OiB0IH07IH0sIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSksIGRlZmluZShBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSwgYywgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSksIGUuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3IsIGUuYXN5bmMgPSBmdW5jdGlvbiAodCwgciwgbiwgbywgaSkgeyB2b2lkIDAgPT09IGkgJiYgKGkgPSBQcm9taXNlKTsgdmFyIGEgPSBuZXcgQXN5bmNJdGVyYXRvcih3cmFwKHQsIHIsIG4sIG8pLCBpKTsgcmV0dXJuIGUuaXNHZW5lcmF0b3JGdW5jdGlvbihyKSA/IGEgOiBhLm5leHQoKS50aGVuKGZ1bmN0aW9uICh0KSB7IHJldHVybiB0LmRvbmUgPyB0LnZhbHVlIDogYS5uZXh0KCk7IH0pOyB9LCBkZWZpbmVJdGVyYXRvck1ldGhvZHMoZyksIGRlZmluZShnLCB1LCBcIkdlbmVyYXRvclwiKSwgZGVmaW5lKGcsIGEsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pLCBkZWZpbmUoZywgXCJ0b1N0cmluZ1wiLCBmdW5jdGlvbiAoKSB7IHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiOyB9KSwgZS5rZXlzID0gZnVuY3Rpb24gKHQpIHsgdmFyIGUgPSBPYmplY3QodCksIHIgPSBbXTsgZm9yICh2YXIgbiBpbiBlKSByLnB1c2gobik7IHJldHVybiByLnJldmVyc2UoKSwgZnVuY3Rpb24gbmV4dCgpIHsgZm9yICg7IHIubGVuZ3RoOykgeyB2YXIgdCA9IHIucG9wKCk7IGlmICh0IGluIGUpIHJldHVybiBuZXh0LnZhbHVlID0gdCwgbmV4dC5kb25lID0gITEsIG5leHQ7IH0gcmV0dXJuIG5leHQuZG9uZSA9ICEwLCBuZXh0OyB9OyB9LCBlLnZhbHVlcyA9IHZhbHVlcywgQ29udGV4dC5wcm90b3R5cGUgPSB7IGNvbnN0cnVjdG9yOiBDb250ZXh0LCByZXNldDogZnVuY3Rpb24gcmVzZXQoZSkgeyBpZiAodGhpcy5wcmV2ID0gMCwgdGhpcy5uZXh0ID0gMCwgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IHQsIHRoaXMuZG9uZSA9ICExLCB0aGlzLmRlbGVnYXRlID0gbnVsbCwgdGhpcy5tZXRob2QgPSBcIm5leHRcIiwgdGhpcy5hcmcgPSB0LCB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KSwgIWUpIGZvciAodmFyIHIgaW4gdGhpcykgXCJ0XCIgPT09IHIuY2hhckF0KDApICYmIG4uY2FsbCh0aGlzLCByKSAmJiAhaXNOYU4oK3Iuc2xpY2UoMSkpICYmICh0aGlzW3JdID0gdCk7IH0sIHN0b3A6IGZ1bmN0aW9uIHN0b3AoKSB7IHRoaXMuZG9uZSA9ICEwOyB2YXIgdCA9IHRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uOyBpZiAoXCJ0aHJvd1wiID09PSB0LnR5cGUpIHRocm93IHQuYXJnOyByZXR1cm4gdGhpcy5ydmFsOyB9LCBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24gZGlzcGF0Y2hFeGNlcHRpb24oZSkgeyBpZiAodGhpcy5kb25lKSB0aHJvdyBlOyB2YXIgciA9IHRoaXM7IGZ1bmN0aW9uIGhhbmRsZShuLCBvKSB7IHJldHVybiBhLnR5cGUgPSBcInRocm93XCIsIGEuYXJnID0gZSwgci5uZXh0ID0gbiwgbyAmJiAoci5tZXRob2QgPSBcIm5leHRcIiwgci5hcmcgPSB0KSwgISFvOyB9IGZvciAodmFyIG8gPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgbyA+PSAwOyAtLW8pIHsgdmFyIGkgPSB0aGlzLnRyeUVudHJpZXNbb10sIGEgPSBpLmNvbXBsZXRpb247IGlmIChcInJvb3RcIiA9PT0gaS50cnlMb2MpIHJldHVybiBoYW5kbGUoXCJlbmRcIik7IGlmIChpLnRyeUxvYyA8PSB0aGlzLnByZXYpIHsgdmFyIGMgPSBuLmNhbGwoaSwgXCJjYXRjaExvY1wiKSwgdSA9IG4uY2FsbChpLCBcImZpbmFsbHlMb2NcIik7IGlmIChjICYmIHUpIHsgaWYgKHRoaXMucHJldiA8IGkuY2F0Y2hMb2MpIHJldHVybiBoYW5kbGUoaS5jYXRjaExvYywgITApOyBpZiAodGhpcy5wcmV2IDwgaS5maW5hbGx5TG9jKSByZXR1cm4gaGFuZGxlKGkuZmluYWxseUxvYyk7IH0gZWxzZSBpZiAoYykgeyBpZiAodGhpcy5wcmV2IDwgaS5jYXRjaExvYykgcmV0dXJuIGhhbmRsZShpLmNhdGNoTG9jLCAhMCk7IH0gZWxzZSB7IGlmICghdSkgdGhyb3cgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTsgaWYgKHRoaXMucHJldiA8IGkuZmluYWxseUxvYykgcmV0dXJuIGhhbmRsZShpLmZpbmFsbHlMb2MpOyB9IH0gfSB9LCBhYnJ1cHQ6IGZ1bmN0aW9uIGFicnVwdCh0LCBlKSB7IGZvciAodmFyIHIgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgciA+PSAwOyAtLXIpIHsgdmFyIG8gPSB0aGlzLnRyeUVudHJpZXNbcl07IGlmIChvLnRyeUxvYyA8PSB0aGlzLnByZXYgJiYgbi5jYWxsKG8sIFwiZmluYWxseUxvY1wiKSAmJiB0aGlzLnByZXYgPCBvLmZpbmFsbHlMb2MpIHsgdmFyIGkgPSBvOyBicmVhazsgfSB9IGkgJiYgKFwiYnJlYWtcIiA9PT0gdCB8fCBcImNvbnRpbnVlXCIgPT09IHQpICYmIGkudHJ5TG9jIDw9IGUgJiYgZSA8PSBpLmZpbmFsbHlMb2MgJiYgKGkgPSBudWxsKTsgdmFyIGEgPSBpID8gaS5jb21wbGV0aW9uIDoge307IHJldHVybiBhLnR5cGUgPSB0LCBhLmFyZyA9IGUsIGkgPyAodGhpcy5tZXRob2QgPSBcIm5leHRcIiwgdGhpcy5uZXh0ID0gaS5maW5hbGx5TG9jLCB5KSA6IHRoaXMuY29tcGxldGUoYSk7IH0sIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZSh0LCBlKSB7IGlmIChcInRocm93XCIgPT09IHQudHlwZSkgdGhyb3cgdC5hcmc7IHJldHVybiBcImJyZWFrXCIgPT09IHQudHlwZSB8fCBcImNvbnRpbnVlXCIgPT09IHQudHlwZSA/IHRoaXMubmV4dCA9IHQuYXJnIDogXCJyZXR1cm5cIiA9PT0gdC50eXBlID8gKHRoaXMucnZhbCA9IHRoaXMuYXJnID0gdC5hcmcsIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIiwgdGhpcy5uZXh0ID0gXCJlbmRcIikgOiBcIm5vcm1hbFwiID09PSB0LnR5cGUgJiYgZSAmJiAodGhpcy5uZXh0ID0gZSksIHk7IH0sIGZpbmlzaDogZnVuY3Rpb24gZmluaXNoKHQpIHsgZm9yICh2YXIgZSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBlID49IDA7IC0tZSkgeyB2YXIgciA9IHRoaXMudHJ5RW50cmllc1tlXTsgaWYgKHIuZmluYWxseUxvYyA9PT0gdCkgcmV0dXJuIHRoaXMuY29tcGxldGUoci5jb21wbGV0aW9uLCByLmFmdGVyTG9jKSwgcmVzZXRUcnlFbnRyeShyKSwgeTsgfSB9LCBjYXRjaDogZnVuY3Rpb24gX2NhdGNoKHQpIHsgZm9yICh2YXIgZSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBlID49IDA7IC0tZSkgeyB2YXIgciA9IHRoaXMudHJ5RW50cmllc1tlXTsgaWYgKHIudHJ5TG9jID09PSB0KSB7IHZhciBuID0gci5jb21wbGV0aW9uOyBpZiAoXCJ0aHJvd1wiID09PSBuLnR5cGUpIHsgdmFyIG8gPSBuLmFyZzsgcmVzZXRUcnlFbnRyeShyKTsgfSByZXR1cm4gbzsgfSB9IHRocm93IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpOyB9LCBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbiBkZWxlZ2F0ZVlpZWxkKGUsIHIsIG4pIHsgcmV0dXJuIHRoaXMuZGVsZWdhdGUgPSB7IGl0ZXJhdG9yOiB2YWx1ZXMoZSksIHJlc3VsdE5hbWU6IHIsIG5leHRMb2M6IG4gfSwgXCJuZXh0XCIgPT09IHRoaXMubWV0aG9kICYmICh0aGlzLmFyZyA9IHQpLCB5OyB9IH0sIGU7IH1cbmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChuLCB0LCBlLCByLCBvLCBhLCBjKSB7IHRyeSB7IHZhciBpID0gblthXShjKSwgdSA9IGkudmFsdWU7IH0gY2F0Y2ggKG4pIHsgcmV0dXJuIHZvaWQgZShuKTsgfSBpLmRvbmUgPyB0KHUpIDogUHJvbWlzZS5yZXNvbHZlKHUpLnRoZW4ociwgbyk7IH1cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHQgPSB0aGlzLCBlID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHIsIG8pIHsgdmFyIGEgPSBuLmFwcGx5KHQsIGUpOyBmdW5jdGlvbiBfbmV4dChuKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChhLCByLCBvLCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgbik7IH0gZnVuY3Rpb24gX3Rocm93KG4pIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGEsIHIsIG8sIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgbik7IH0gX25leHQodm9pZCAwKTsgfSk7IH07IH1cbmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfVxuZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KGUsIHIsIHQpIHsgcmV0dXJuIChyID0gX3RvUHJvcGVydHlLZXkocikpIGluIGUgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgeyB2YWx1ZTogdCwgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9KSA6IGVbcl0gPSB0LCBlOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleSh0KSB7IHZhciBpID0gX3RvUHJpbWl0aXZlKHQsIFwic3RyaW5nXCIpOyByZXR1cm4gXCJzeW1ib2xcIiA9PSBfdHlwZW9mKGkpID8gaSA6IGkgKyBcIlwiOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikgeyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKHQpIHx8ICF0KSByZXR1cm4gdDsgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmICh2b2lkIDAgIT09IGUpIHsgdmFyIGkgPSBlLmNhbGwodCwgciB8fCBcImRlZmF1bHRcIik7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YoaSkpIHJldHVybiBpOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsgfVxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkociwgZSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKHIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBlKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgZSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkgeyBpZiAocikgeyBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gXCJPYmplY3RcIiA9PT0gdCAmJiByLmNvbnN0cnVjdG9yICYmICh0ID0gci5jb25zdHJ1Y3Rvci5uYW1lKSwgXCJNYXBcIiA9PT0gdCB8fCBcIlNldFwiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6IFwiQXJndW1lbnRzXCIgPT09IHQgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkgPyBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSA6IHZvaWQgMDsgfSB9XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQociwgbCkgeyB2YXIgdCA9IG51bGwgPT0gciA/IG51bGwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgcltTeW1ib2wuaXRlcmF0b3JdIHx8IHJbXCJAQGl0ZXJhdG9yXCJdOyBpZiAobnVsbCAhPSB0KSB7IHZhciBlLCBuLCBpLCB1LCBhID0gW10sIGYgPSAhMCwgbyA9ICExOyB0cnkgeyBpZiAoaSA9ICh0ID0gdC5jYWxsKHIpKS5uZXh0LCAwID09PSBsKSB7IGlmIChPYmplY3QodCkgIT09IHQpIHJldHVybjsgZiA9ICExOyB9IGVsc2UgZm9yICg7ICEoZiA9IChlID0gaS5jYWxsKHQpKS5kb25lKSAmJiAoYS5wdXNoKGUudmFsdWUpLCBhLmxlbmd0aCAhPT0gbCk7IGYgPSAhMCk7IH0gY2F0Y2ggKHIpIHsgbyA9ICEwLCBuID0gcjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFmICYmIG51bGwgIT0gdC5yZXR1cm4gJiYgKHUgPSB0LnJldHVybigpLCBPYmplY3QodSkgIT09IHUpKSByZXR1cm47IH0gZmluYWxseSB7IGlmIChvKSB0aHJvdyBuOyB9IH0gcmV0dXJuIGE7IH0gfVxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKHIpIHsgaWYgKEFycmF5LmlzQXJyYXkocikpIHJldHVybiByOyB9XG4vKipcbiAqIExpYnJhcnkgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IFRhYmxlLCBDaGVja2JveCwgSWNvbiB9IGZyb20gJy4uLy4uLy4uLy4uL2xpYi9jb21wb25lbnRzJztcblxuLyoqXG4gKiBJbnRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgTGlzdFRodW1iIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cyc7XG5pbXBvcnQgeyB1bkFzc2lnblZpZGVvIH0gZnJvbSAnLi4vLi4vLi4vLi4vc3RvcmUvc2xpY2VzL3ZpZGVvcyc7XG5pbXBvcnQgeyBzZXRQbGF5bGlzdCwgaXNWaWRlb1NlbGVjdGVkLCB0b2dnbGVWaWRlbyB9IGZyb20gJy4uLy4uLy4uLy4uL3N0b3JlL3NsaWNlcy9wbGF5bGlzdHMnO1xuXG4vKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IHsgX18gfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VEaXNwYXRjaCwgdXNlU2VsZWN0b3IgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5leHBvcnQgZnVuY3Rpb24gVmlkZW9Sb3coX3JlZikge1xuICB2YXIgcGxheWxpc3QgPSBfcmVmLnBsYXlsaXN0LFxuICAgIHZpZGVvID0gX3JlZi52aWRlbztcbiAgdmFyIGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSxcbiAgICBpc0RlbGV0aW5nID0gX3VzZVN0YXRlMlswXSxcbiAgICBzZXRJc0RlbGV0aW5nID0gX3VzZVN0YXRlMlsxXTtcbiAgdmFyIF9yZWYyID0gcGxheWxpc3QgIT09IG51bGwgJiYgcGxheWxpc3QgIT09IHZvaWQgMCA/IHBsYXlsaXN0IDoge30sXG4gICAgcGxheWxpc3RJRCA9IF9yZWYyLmlkO1xuICB2YXIgX3JlZjMgPSB2aWRlbyAhPT0gbnVsbCAmJiB2aWRlbyAhPT0gdm9pZCAwID8gdmlkZW8gOiB7fSxcbiAgICB2aWRlb0lEID0gX3JlZjMuaWQsXG4gICAgdmlkZW9fc2x1ZyA9IF9yZWYzLnZpZGVvX3NsdWcsXG4gICAgdmlkZW9fdGl0bGUgPSBfcmVmMy52aWRlb190aXRsZSxcbiAgICB0aHVubWJuYWlsID0gX3JlZjMudGh1bm1ibmFpbCxcbiAgICBkYXRlID0gX3JlZjMuZGF0ZSxcbiAgICB2aWRlb190eXBlID0gX3JlZjMudmlkZW9fdHlwZTtcbiAgdmFyIHZpZGVvU2VsZWN0ZWQgPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4gaXNWaWRlb1NlbGVjdGVkKHN0YXRlLCB7XG4gICAgICB2aWRlb0lEOiB2aWRlb0lELFxuICAgICAgcGxheWxpc3RJRDogcGxheWxpc3RJRFxuICAgIH0pO1xuICB9KTtcblxuICAvKipcbiAgICogR2V0IHRoZSB2aWRlbyBjcmVhdGlvbiBkYXRlIGFzIHBlciB0aGUgZGVzaWduLlxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgdmFyIGdldERhdGUgPSBmdW5jdGlvbiBnZXREYXRlKCkge1xuICAgIC8vIE9ubHkgaWYgZGF0ZSBzZXQuXG4gICAgaWYgKGRhdGUgJiYgJycgIT09IGRhdGUpIHtcbiAgICAgIHZhciBmb3JtYXR0ZWREYXRlID0gbW9tZW50KGRhdGUpO1xuXG4gICAgICAvLyBGb3JtYXQgdG8gaHVtYW4gdGltZS5cbiAgICAgIHJldHVybiBmb3JtYXR0ZWREYXRlLmZvcm1hdCgnTU1NTSBEL1lZWVkgQCBoaDptbSBBJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUgZGVsZXRlZCB2aWRlbyBmcm9tIHBsYXlsaXN0IGFuZCB1cGRhdGUgcGxheWxpc3RzXG4gICAqXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICB2YXIgcmVtb3ZlRnJvbVBsYXlsaXN0ID0gZnVuY3Rpb24gcmVtb3ZlRnJvbVBsYXlsaXN0KCkge1xuICAgIHZhciBuZXdQbGF5bGlzdCA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcGxheWxpc3QpLCB7fSwge1xuICAgICAgdmlkZW9zOiBwbGF5bGlzdC52aWRlb3MuZmlsdGVyKGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gaWQgIT09IHZpZGVvSUQ7XG4gICAgICB9KVxuICAgIH0pO1xuICAgIGRpc3BhdGNoKHNldFBsYXlsaXN0KHtcbiAgICAgIHBsYXlsaXN0OiBuZXdQbGF5bGlzdFxuICAgIH0pKTtcbiAgfTtcblxuICAvKipcbiAgICogRGVsZXRlIHZpZGVvXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgdmFyIGRlbGV0ZVZpZGVvRnJvbVBsYXlsaXN0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICB2YXIgX3JlZjQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7XG4gICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBzZXRJc0RlbGV0aW5nKHRydWUpO1xuICAgICAgICAgICAgZGlzcGF0Y2godW5Bc3NpZ25WaWRlbyh7XG4gICAgICAgICAgICAgIHBsYXlsaXN0SUQ6IHBsYXlsaXN0SUQsXG4gICAgICAgICAgICAgIHZpZGVvSUQ6IHZpZGVvSURcbiAgICAgICAgICAgIH0pKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICB2YXIgX3Jlc3BvbnNlJHBheWxvYWQ7XG4gICAgICAgICAgICAgIGlmIChyZXNwb25zZSAhPT0gbnVsbCAmJiByZXNwb25zZSAhPT0gdm9pZCAwICYmIChfcmVzcG9uc2UkcGF5bG9hZCA9IHJlc3BvbnNlLnBheWxvYWQpICE9PSBudWxsICYmIF9yZXNwb25zZSRwYXlsb2FkICE9PSB2b2lkIDAgJiYgX3Jlc3BvbnNlJHBheWxvYWQuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIHJlbW92ZUZyb21QbGF5bGlzdCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNldElzRGVsZXRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIF9jYWxsZWUpO1xuICAgIH0pKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gZGVsZXRlVmlkZW9Gcm9tUGxheWxpc3QoKSB7XG4gICAgICByZXR1cm4gX3JlZjQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9KCk7XG4gIHZhciBkZWxldGVCdXR0b25DbGFzc2VzID0gY2xhc3NuYW1lcyh7XG4gICAgJ3N1aS1idXR0b24taWNvbic6IHRydWUsXG4gICAgJ3N1aS10b29sdGlwJzogdHJ1ZSxcbiAgICAnc3VpLXRvb2x0aXAtdG9wLXJpZ2h0JzogdHJ1ZSxcbiAgICAnc3VpLWJ1dHRvbi1vbmxvYWQnOiBpc0RlbGV0aW5nXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBVcGRhdGUgc2VsZWN0ZWQgdmlkZW9zIGxpc3RcbiAgICpcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHZhciB1cGRhdGVWaWRlb1NlbGVjdGlvbiA9IGZ1bmN0aW9uIHVwZGF0ZVZpZGVvU2VsZWN0aW9uKCkge1xuICAgIGRpc3BhdGNoKHRvZ2dsZVZpZGVvKHtcbiAgICAgIHZpZGVvSUQ6IHZpZGVvSUQsXG4gICAgICBwbGF5bGlzdElEOiBwbGF5bGlzdElEXG4gICAgfSkpO1xuICB9O1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3hzKFRhYmxlLlRyLCB7XG4gICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChUYWJsZS5UZCwge1xuICAgICAgY2xhc3NOYW1lOiBcInN1aS10YWJsZS1pdGVtLXRpdGxlXCIsXG4gICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3hzKFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcIndwbXVkZXYtdmlkZW9zLXRhYmxlLS10aXRsZVwiLFxuICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KENoZWNrYm94LCB7XG4gICAgICAgICAgY2hlY2tlZDogdmlkZW9TZWxlY3RlZCxcbiAgICAgICAgICBvbkNoYW5nZTogdXBkYXRlVmlkZW9TZWxlY3Rpb24sXG4gICAgICAgICAgbGFiZWw6IGZhbHNlLFxuICAgICAgICAgIGlkOiBcIndwbXVkZXYtcGxheWxpc3RzLVwiLmNvbmNhdChwbGF5bGlzdElELCBcIi12aWRlb3MtaXRlbS1cIikuY29uY2F0KHZpZGVvSUQpXG4gICAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChMaXN0VGh1bWIsIHtcbiAgICAgICAgICB1cmw6IHRodW5tYm5haWwgPT09IG51bGwgfHwgdGh1bm1ibmFpbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGh1bm1ibmFpbC51cmwsXG4gICAgICAgICAgaWNvbjogdmlkZW9fc2x1ZyxcbiAgICAgICAgICBjbGFzc05hbWU6IFwicGxheWxpc3QtdmlkZW8tdGh1bWJcIixcbiAgICAgICAgICBpc0N1c3RvbTogJ2N1c3RvbScgPT09IHZpZGVvX3R5cGVcbiAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwic3BhblwiLCB7XG4gICAgICAgICAgY2hpbGRyZW46IHZpZGVvX3RpdGxlXG4gICAgICAgIH0pXVxuICAgICAgfSlcbiAgICB9KSwgLyojX19QVVJFX18qL19qc3goVGFibGUuVGQsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJ3cG11ZGV2LXZpZGVvcy10YWJsZS0tZGF0ZVwiLFxuICAgICAgY2hpbGRyZW46IGdldERhdGUoKVxuICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChUYWJsZS5UZCwge1xuICAgICAgY2xhc3NOYW1lOiBcIndwbXVkZXYtdmlkZW9zLXRhYmxlLS1hY3Rpb25zXCIsXG4gICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3hzKFwiYnV0dG9uXCIsIHtcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgcm9sZTogXCJidXR0b25cIixcbiAgICAgICAgY2xhc3NOYW1lOiBkZWxldGVCdXR0b25DbGFzc2VzLFxuICAgICAgICBcImRhdGEtdG9vbHRpcFwiOiBfXygnUmVtb3ZlIHZpZGVvIGZyb20gcGxheWxpc3QnLCAnd3BtdWRldl92aWRzJyksXG4gICAgICAgIG9uQ2xpY2s6IGRlbGV0ZVZpZGVvRnJvbVBsYXlsaXN0LFxuICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFwic3BhblwiLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1sb2FkaW5nLXRleHRcIixcbiAgICAgICAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLFxuICAgICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChJY29uLCB7XG4gICAgICAgICAgICBpY29uOiBcInRyYXNoXCJcbiAgICAgICAgICB9KVxuICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goSWNvbiwge1xuICAgICAgICAgIGljb246IFwibG9hZGVyXCIsXG4gICAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1sb2FkaW5nXCJcbiAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwic3BhblwiLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1zY3JlZW4tcmVhZGVyLXRleHRcIixcbiAgICAgICAgICBjaGlsZHJlbjogX18oJ0RlbGV0ZScsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgICB9KV1cbiAgICAgIH0pXG4gICAgfSldXG4gIH0pO1xufVxuVmlkZW9Sb3cucHJvcFR5cGVzID0ge1xuICB2aWRlbzogUHJvcFR5cGVzLm9iamVjdCxcbiAgcGxheWxpc3Q6IFByb3BUeXBlcy5vYmplY3Rcbn07XG5leHBvcnQgZGVmYXVsdCBWaWRlb1JvdzsiLCIvKipcbiAqIExpYnJhcnkgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IFRhYmxlLCBCb3gsIEJ1dHRvbiB9IGZyb20gJy4uLy4uLy4uLy4uL2xpYi9jb21wb25lbnRzJztcbmltcG9ydCB7IGdldFZpZGVvcyB9IGZyb20gJy4uLy4uLy4uLy4uL3N0b3JlL3NsaWNlcy92aWRlb3MnO1xuXG4vKipcbiAqIEludGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBWaWRlb1JvdyB9IGZyb20gJy4vVmlkZW9Sb3cnO1xuXG4vKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBfXyB9IGZyb20gJ0B3b3JkcHJlc3MvaTE4bic7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgdXNlU2VsZWN0b3IgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZXhwb3J0IGZ1bmN0aW9uIFBsYXlsaXN0VmlkZW9zKF9yZWYpIHtcbiAgdmFyIHBsYXlsaXN0ID0gX3JlZi5wbGF5bGlzdCxcbiAgICBzZXRDdXJyZW50UGxheWxpc3QgPSBfcmVmLnNldEN1cnJlbnRQbGF5bGlzdCxcbiAgICBvcGVuVmlkZW9zTW9kYWwgPSBfcmVmLm9wZW5WaWRlb3NNb2RhbDtcbiAgdmFyIGlkcyA9IHBsYXlsaXN0LnZpZGVvcztcbiAgdmFyIHZpZGVvcyA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBnZXRWaWRlb3Moc3RhdGUsIGlkcyk7XG4gIH0pO1xuICB2YXIgaGFzVmlkZW9zID0gISF2aWRlb3MgJiYgdmlkZW9zLmxlbmd0aCA+IDA7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeChCb3gsIHtcbiAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3hzKFRhYmxlLCB7XG4gICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFRhYmxlLlRoZWFkLCB7XG4gICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeHMoVGFibGUuVHIsIHtcbiAgICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFRhYmxlLlRoLCB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IFwic3VpLXRhYmxlLWl0ZW0tdGl0bGVcIixcbiAgICAgICAgICAgIGNoaWxkcmVuOiBfXygnVmlkZW8gdGl0bGUnLCAnd3BtdWRldl92aWRzJylcbiAgICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goVGFibGUuVGgsIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJ3cG11ZGV2LXZpZGVvcy10YWJsZS0tZGF0ZVwiLFxuICAgICAgICAgICAgY2hpbGRyZW46IF9fKCdEYXRlIGFkZGVkJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFRhYmxlLlRoLCB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IFwid3BtdWRldi12aWRlb3MtdGFibGUtLWFjdGlvbnNcIixcbiAgICAgICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChcInNwYW5cIiwge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IFwic3VpLXNjcmVlbi1yZWFkZXItdGV4dFwiLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogX18oJ1JvdyBhY3Rpb25zJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXVxuICAgICAgICB9KVxuICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFRhYmxlLlRib2R5LCB7XG4gICAgICAgIGNoaWxkcmVuOiBoYXNWaWRlb3MgPyB2aWRlb3MubWFwKGZ1bmN0aW9uICh2aWRlbykge1xuICAgICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeChWaWRlb1Jvdywge1xuICAgICAgICAgICAgcGxheWxpc3Q6IHBsYXlsaXN0LFxuICAgICAgICAgICAgdmlkZW86IHZpZGVvXG4gICAgICAgICAgfSwgdmlkZW8uaWQpO1xuICAgICAgICB9KSA6IC8qI19fUFVSRV9fKi9fanN4KFRhYmxlLlRyLCB7XG4gICAgICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KFRhYmxlLlRkLCB7XG4gICAgICAgICAgICBjb2xTcGFuOiBcIjNcIixcbiAgICAgICAgICAgIGNoaWxkcmVuOiBfXygnTm8gdmlkZW9zIGFzc2lnbmVkLicsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3goVGFibGUuVGZvb3QsIHtcbiAgICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KFRhYmxlLlRyLCB7XG4gICAgICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KFRhYmxlLlRkLCB7XG4gICAgICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goQnV0dG9uLCB7XG4gICAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudFBsYXlsaXN0KHBsYXlsaXN0KTtcbiAgICAgICAgICAgICAgICBvcGVuVmlkZW9zTW9kYWwoKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgY29sb3I6IFwiYmx1ZVwiLFxuICAgICAgICAgICAgICBpY29uOiBcInBsdXNcIixcbiAgICAgICAgICAgICAgY2hpbGRyZW46IF9fKCdBZGQgVmlkZW8nLCAnd3BtdWRldl92aWRzJylcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH0pXVxuICAgIH0pXG4gIH0pO1xufVxuUGxheWxpc3RWaWRlb3MuZGVmYXVsdFByb3BzID0ge1xuICBwbGF5bGlzdDoge30sXG4gIG9wZW5WaXNpYmlsaXR5TW9kYWw6IGZ1bmN0aW9uIG9wZW5WaXNpYmlsaXR5TW9kYWwoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIHNldEN1cnJlbnRQbGF5bGlzdDogZnVuY3Rpb24gc2V0Q3VycmVudFBsYXlsaXN0KCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuUGxheWxpc3RWaWRlb3MucHJvcFR5cGVzID0ge1xuICBwbGF5bGlzdDogUHJvcFR5cGVzLm9iamVjdCxcbiAgb3BlblZpc2liaWxpdHlNb2RhbDogUHJvcFR5cGVzLmZ1bmMsXG4gIHNldEN1cnJlbnRQbGF5bGlzdDogUHJvcFR5cGVzLmZ1bmNcbn07XG5leHBvcnQgZGVmYXVsdCBQbGF5bGlzdFZpZGVvczsiLCJleHBvcnQgKiBmcm9tICcuL1BsYXlsaXN0VmlkZW9zJztcbmV4cG9ydCAqIGZyb20gJy4vVmlkZW9Sb3cnOyIsIi8qKlxuICogTGlicmFyeSBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgU3RhdGljTm90aWNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vbGliL2NvbXBvbmVudHMnO1xuXG4vKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBfXywgc3ByaW50ZiB9IGZyb20gJ0B3b3JkcHJlc3MvaTE4bic7XG5pbXBvcnQgeyBJbnRlcndlYXZlIH0gZnJvbSAnaW50ZXJ3ZWF2ZSc7XG5cbi8qIFdoZW4gbWVtYmVyc2hpcCBpcyBub3QgdmFsaWQgZm9yIHZpZGVvcyAqL1xuaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmV4cG9ydCBmdW5jdGlvbiBVcGdyYWRlTm90aWNlKCkge1xuICB2YXIgdmlkZW9zID0gd2luZG93Lml2dFZhcnMudXJscy52aWRlb3M7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeHMoU3RhdGljTm90aWNlLCB7XG4gICAgdHlwZTogXCJwdXJwbGVcIixcbiAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFwicFwiLCB7XG4gICAgICBjaGlsZHJlbjogX18oXCJZb3UgZG9uJ3QgaGF2ZSBhbnkgY3VzdG9tIHZpZGVvcyBhdmFpbGFibGUgdG8gYWRkIHRvIHRoaXMgcGxheWxpc3QuIFlvdSBjYW4gdW5sb2NrIFdQTVUgREVWIHdoaXRlLWxhYmVsZWQgdmlkZW8gdHV0b3JpYWxzIGJ5IGFjdGl2YXRpbmcgYSBmdWxsIG1lbWJlcnNoaXAuIENsaWNrIHRoZSBidXR0b24gYmVsb3cgZm9yIG1vcmUgaW5mb3JtYXRpb24gb24gdGhlIFdQTVUgREVWIHByaWNpbmcgc3RydWN0dXJlLlwiLCAnd3BtdWRldl92aWRzJylcbiAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJwXCIsIHtcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGRpc3BsYXk6ICdub25lJ1xuICAgICAgfSxcbiAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChJbnRlcndlYXZlLCB7XG4gICAgICAgIGNvbnRlbnQ6IHNwcmludGYoX18oJzxzdHJvbmc+Tm90ZTo8L3N0cm9uZz4gWW91IGNhbiBzdGlsbCA8YSBocmVmPVwiJXNcIj5jcmVhdGUgYW5kIGFkZCBjdXN0b20gdmlkZW9zPC9hPiB0byB0aGlzIHBsYXlsaXN0LicsICd3bXB1ZGV2X3ZpZHMnKSwgdmlkZW9zKVxuICAgICAgfSlcbiAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJwXCIsIHtcbiAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChcImFcIiwge1xuICAgICAgICBocmVmOiBcImh0dHBzOi8vd3BtdWRldi5jb20vcHJvamVjdC91bmJyYW5kZWQtdmlkZW8tdHV0b3JpYWxzLz91dG1fc291cmNlPWludGVncmF0ZWRfdmlkZW9fdHV0b3JpYWxzJnV0bV9tZWRpdW09cGx1Z2luJnV0bV9jYW1wYWlnbj1pbnRlZ3JhdGVkX3ZpZGVvX3R1dG9yaWFsc19ub3RpY2VfdXBncmFkZVwiLFxuICAgICAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgICAgIGNsYXNzTmFtZTogXCJzdWktYnV0dG9uIHN1aS1idXR0b24tcHVycGxlXCIsXG4gICAgICAgIGNoaWxkcmVuOiBfXygnR2V0IEZ1bGwgTWVtYmVyc2hpcCcsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSlcbiAgICB9KV1cbiAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCBVcGdyYWRlTm90aWNlOyIsImV4cG9ydCAqIGZyb20gJy4vVXBncmFkZU5vdGljZSc7IiwiLyoqXG4gKiBMaWJyYXJ5IGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBTdGF0aWNOb3RpY2UgfSBmcm9tICcuLi8uLi8uLi8uLi9saWIvY29tcG9uZW50cyc7XG5cbi8qKlxuICogRXh0ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IF9fIH0gZnJvbSAnQHdvcmRwcmVzcy9pMThuJztcbmltcG9ydCB7IEludGVyd2VhdmUgfSBmcm9tICdpbnRlcndlYXZlJztcblxuLyogV2hlbiBubyBjdXN0b20gdmlkZW9zIGFyZSBmb3VuZCBhbmQgRGFzaCBwbHVnaW4gaXMgaW5hY3RpdmUgKi9cbmltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5leHBvcnQgZnVuY3Rpb24gRXhwaXJlZE5vdGljZSgpIHtcbiAgdmFyIHZpZGVvcyA9IHdpbmRvdy5pdnRWYXJzLnVybHMudmlkZW9zO1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3hzKFN0YXRpY05vdGljZSwge1xuICAgIHR5cGU6IFwicHVycGxlXCIsXG4gICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChcInBcIiwge1xuICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KEludGVyd2VhdmUsIHtcbiAgICAgICAgY29udGVudDogc3ByaW50ZihfXyhcIldQTVUgREVWIFZpZGVvcyBhcmUgbG9ja2VkLiBUbyBjb250aW51ZSBkaXNwbGF5aW5nIFdQTVUgREVWJ3Mgd2hpdGUgbGFiZWwgdHV0b3JpYWwgdmlkZW9zIHRvIHlvdXIgY3VzdG9tZXJzLCByZW5ldyB5b3VyIG1lbWJlcnNoaXAgdG9kYXkuXCIsICd3bXB1ZGV2X3ZpZHMnKSwgdmlkZW9zKVxuICAgICAgfSlcbiAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJwXCIsIHtcbiAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChcImFcIiwge1xuICAgICAgICBocmVmOiBcImh0dHBzOi8vd3BtdWRldi5jb20vP3V0bV9zb3VyY2U9aW50ZWdyYXRlZF92aWRlb190dXRvcmlhbHMmdXRtX21lZGl1bT1wbHVnaW4mdXRtX2NhbXBhaWduPWludGVncmF0ZWRfdmlkZW9fdHV0b3JpYWxzX25vdGljZV9yZW5ld1wiLFxuICAgICAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgICAgIGNsYXNzTmFtZTogXCJzdWktYnV0dG9uIHN1aS1idXR0b24tcHVycGxlXCIsXG4gICAgICAgIGNoaWxkcmVuOiBfXygnUmVuZXcgTWVtYmVyc2hpcCcsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSlcbiAgICB9KV1cbiAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCBFeHBpcmVkTm90aWNlOyIsImV4cG9ydCAqIGZyb20gJy4vRXhwaXJlZE5vdGljZSc7IiwiLyoqXG4gKiBMaWJyYXJ5IGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBTdGF0aWNOb3RpY2UgfSBmcm9tICcuLi8uLi8uLi8uLi9saWIvY29tcG9uZW50cyc7XG5cbi8qKlxuICogRXh0ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IF9fLCBzcHJpbnRmIH0gZnJvbSAnQHdvcmRwcmVzcy9pMThuJztcbmltcG9ydCB7IEludGVyd2VhdmUgfSBmcm9tICdpbnRlcndlYXZlJztcblxuLyogV2hlbiBtZW1iZXJzaGlwIGlzIG5vdCB2YWxpZCBmb3IgdmlkZW9zICovXG5pbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZXhwb3J0IGZ1bmN0aW9uIFJlbmV3Tm90aWNlKCkge1xuICB2YXIgdmlkZW9zID0gd2luZG93Lml2dFZhcnMudXJscy52aWRlb3M7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeHMoU3RhdGljTm90aWNlLCB7XG4gICAgdHlwZTogXCJwdXJwbGVcIixcbiAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4cyhcInBcIiwge1xuICAgICAgY2hpbGRyZW46IFtfXyhcIllvdSBkb24ndCBoYXZlIGFueSBjdXN0b20gdmlkZW9zIGF2YWlsYWJsZSB0byBhZGQgdG8gdGhpcyBwbGF5bGlzdC4gVG8gdW5sb2NrIFdQTVUgREVWIHR1dG9yaWFsIHZpZGVvcyB5b3UnbGwgbmVlZCB0byByZW5ldyB5b3VyIG1lbWJlcnNoaXAuIFwiLCAnd3BtdWRldl92aWRzJyksIC8qI19fUFVSRV9fKi9fanN4KEludGVyd2VhdmUsIHtcbiAgICAgICAgY29udGVudDogc3ByaW50ZihfXygnTm90ZTogWW91IGNhbiBzdGlsbCA8YSBocmVmPVwiJXNcIj5jcmVhdGUgYW5kIGFkZCBjdXN0b20gdmlkZW9zPC9hPiB0byB0aGlzIHBsYXlsaXN0LicsICd3bXB1ZGV2X3ZpZHMnKSwgdmlkZW9zKVxuICAgICAgfSldXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwicFwiLCB7XG4gICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goXCJhXCIsIHtcbiAgICAgICAgaHJlZjogXCJodHRwczovL3dwbXVkZXYuY29tL3Byb2plY3QvdW5icmFuZGVkLXZpZGVvLXR1dG9yaWFscy8/dXRtX3NvdXJjZT1pbnRlZ3JhdGVkX3ZpZGVvX3R1dG9yaWFscyZ1dG1fbWVkaXVtPXBsdWdpbiZ1dG1fY2FtcGFpZ249aW50ZWdyYXRlZF92aWRlb190dXRvcmlhbHNfbm90aWNlX3VwZ3JhZGVcIixcbiAgICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgICAgICBjbGFzc05hbWU6IFwic3VpLWJ1dHRvbiBzdWktYnV0dG9uLXB1cnBsZVwiLFxuICAgICAgICBjaGlsZHJlbjogX18oJ1JlbmV3IE1lbWJlcnNoaXAnLCAnd3BtdWRldl92aWRzJylcbiAgICAgIH0pXG4gICAgfSldXG4gIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgUmVuZXdOb3RpY2U7IiwiZXhwb3J0ICogZnJvbSAnLi9SZW5ld05vdGljZSc7IiwiLyoqXG4gKiBMaWJyYXJ5IGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBTdGF0aWNOb3RpY2UgfSBmcm9tICcuLi8uLi8uLi8uLi9saWIvY29tcG9uZW50cyc7XG5cbi8qKlxuICogSW50ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IGRhc2hJbnN0YWxsZWQsIGRhc2hBY3RpdmUgfSBmcm9tICcuLi8uLi8uLi8uLi9oZWxwZXJzL3V0aWxzJztcblxuLyoqXG4gKiBFeHRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgX18gfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmV4cG9ydCBmdW5jdGlvbiBEYXNoTm90aWNlKCkge1xuICB2YXIgX3dpbmRvdyRpdnRWYXJzO1xuICAvLyBHbG9iYWwgVmFyaWFibGVzXG4gIHZhciBfcmVmID0gKF93aW5kb3ckaXZ0VmFycyA9IHdpbmRvdy5pdnRWYXJzKSAhPT0gbnVsbCAmJiBfd2luZG93JGl2dFZhcnMgIT09IHZvaWQgMCA/IF93aW5kb3ckaXZ0VmFycyA6IHt9LFxuICAgIF9yZWYkdXJscyA9IF9yZWYudXJscyxcbiAgICBkYXNoX2luc3RhbGwgPSBfcmVmJHVybHMuZGFzaF9pbnN0YWxsLFxuICAgIHBsdWdpbnMgPSBfcmVmJHVybHMucGx1Z2lucyxcbiAgICBkYXNoX2xvZ2luID0gX3JlZiR1cmxzLmRhc2hfbG9naW4sXG4gICAgdmlkZW9zID0gX3JlZiR1cmxzLnZpZGVvcztcblxuICAvKipcbiAgICogR2V0IGxhYmVscyBhbmQgbGlua3MgZm9yIHRoZSBub3RpY2UuXG4gICAqXG4gICAqIEJhc2VkIG9uIHRoZSBzdGF0dXMgb2YgV1BNVURFViBEYXNoIHBsdWdpbiBzdGF0dXMsXG4gICAqIHNldCB0aGUgbGFiZWxzIGFuZCBsaW5rcyBmb3IgdGhlIG5vdGljZS5cbiAgICpcbiAgICogQHJldHVybiB7Kn1cbiAgICovXG4gIGZ1bmN0aW9uIGdldExhYmVscygpIHtcbiAgICBpZiAoIWRhc2hJbnN0YWxsZWQoKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGVzYzogX18oJ1dQTVUgREVWIHZpZGVvcyBhcmUgbG9ja2VkLCBhbmQgeW91IG9ubHkgaGF2ZSBhY2Nlc3MgdG8gY3VzdG9tIHZpZGVvcyBiZWNhdXNlIHRoZSBXUE1VIERFViBEYXNoYm9hcmQgcGx1Z2luIGlzIG5vdCBpbnN0YWxsZWQuIEluc3RhbGwgYW5kIGxvZyBpbnRvIHRoZSBXUE1VIERFViBkYXNoYm9hcmQgcGx1Z2luIHRvIHVubG9jayB0aGUgY29tcGxldGUgbGlicmFyeSBvZiBXUE1VIERFViB2aWRlbyB0dXRvcmlhbHMuJywgJ3dwbXVkZXZfdmlkcycpLFxuICAgICAgICBidXR0b246IF9fKCdJbnN0YWxsIFBsdWdpbicsICd3cG11ZGV2X3ZpZHMnKSxcbiAgICAgICAgbGluazogZGFzaF9pbnN0YWxsLFxuICAgICAgICB0YXJnZXQ6ICdfYmxhbmsnXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoIWRhc2hBY3RpdmUoKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGVzYzogX18oJ1dQTVUgREVWIHZpZGVvcyBhcmUgbG9ja2VkLCBhbmQgeW91IG9ubHkgaGF2ZSBhY2Nlc3MgdG8gY3VzdG9tIHZpZGVvcyBiZWNhdXNlIHRoZSBXUE1VIERFViBEYXNoYm9hcmQgcGx1Z2luIGlzIG5vdCBhY3RpdmUuIEFjdGl2YXRlIHRoZSBXUE1VIERFViBkYXNoYm9hcmQgcGx1Z2luIHRvIHVubG9jayB0aGUgY29tcGxldGUgbGlicmFyeSBvZiBXUE1VIERFViB2aWRlbyB0dXRvcmlhbHMuJywgJ3dwbXVkZXZfdmlkcycpLFxuICAgICAgICBidXR0b246IF9fKCdBY3RpdmF0ZSBQbHVnaW4nLCAnd3BtdWRldl92aWRzJyksXG4gICAgICAgIGxpbms6IHBsdWdpbnMsXG4gICAgICAgIHRhcmdldDogJ19zZWxmJ1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGVzYzogX18oJ1dQTVUgREVWIHZpZGVvcyBhcmUgbG9ja2VkIGFuZCB5b3Ugb25seSBoYXZlIGFjY2VzcyB0byBjdXN0b20gdmlkZW9zIGluIFZpZGVvIFR1dG9yaWFscyBwYWdlLiBMb2cgaW50byB0aGUgcGx1Z2luIHRvIGJlZ2luIHNldHRpbmcgdXAgeW91ciB2aWRlbyB0dXRvcmlhbHMuJywgJ3dwbXVkZXZfdmlkcycpLFxuICAgICAgICBidXR0b246IF9fKCdMb2dpbicsICd3cG11ZGV2X3ZpZHMnKSxcbiAgICAgICAgbGluazogZGFzaF9sb2dpbixcbiAgICAgICAgdGFyZ2V0OiAnX3NlbGYnXG4gICAgICB9O1xuICAgIH1cbiAgfVxuICB2YXIgbGFiZWxzID0gZ2V0TGFiZWxzKCk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeHMoU3RhdGljTm90aWNlLCB7XG4gICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChcInBcIiwge1xuICAgICAgY2hpbGRyZW46IGxhYmVscy5kZXNjXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwicFwiLCB7XG4gICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goXCJhXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1idXR0b24gc3VpLWJ1dHRvbi1ibHVlXCIsXG4gICAgICAgIHRhcmdldDogbGFiZWxzLnRhcmdldCxcbiAgICAgICAgaHJlZjogbGFiZWxzLmxpbmssXG4gICAgICAgIGNoaWxkcmVuOiBsYWJlbHMuYnV0dG9uXG4gICAgICB9KVxuICAgIH0pXVxuICB9KTtcbn1cbmV4cG9ydCBkZWZhdWx0IERhc2hOb3RpY2U7IiwiZXhwb3J0ICogZnJvbSAnLi9EYXNoTm90aWNlJzsiLCJmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShyLCBlKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMocikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGUpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBlKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBhKSB7IGlmIChyKSB7IGlmIChcInN0cmluZ1wiID09IHR5cGVvZiByKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkociwgYSk7IHZhciB0ID0ge30udG9TdHJpbmcuY2FsbChyKS5zbGljZSg4LCAtMSk7IHJldHVybiBcIk9iamVjdFwiID09PSB0ICYmIHIuY29uc3RydWN0b3IgJiYgKHQgPSByLmNvbnN0cnVjdG9yLm5hbWUpLCBcIk1hcFwiID09PSB0IHx8IFwiU2V0XCIgPT09IHQgPyBBcnJheS5mcm9tKHIpIDogXCJBcmd1bWVudHNcIiA9PT0gdCB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSA/IF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIDogdm9pZCAwOyB9IH1cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIHsgKG51bGwgPT0gYSB8fCBhID4gci5sZW5ndGgpICYmIChhID0gci5sZW5ndGgpOyBmb3IgKHZhciBlID0gMCwgbiA9IEFycmF5KGEpOyBlIDwgYTsgZSsrKSBuW2VdID0gcltlXTsgcmV0dXJuIG47IH1cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBsKSB7IHZhciB0ID0gbnVsbCA9PSByID8gbnVsbCA6IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiByW1N5bWJvbC5pdGVyYXRvcl0gfHwgcltcIkBAaXRlcmF0b3JcIl07IGlmIChudWxsICE9IHQpIHsgdmFyIGUsIG4sIGksIHUsIGEgPSBbXSwgZiA9ICEwLCBvID0gITE7IHRyeSB7IGlmIChpID0gKHQgPSB0LmNhbGwocikpLm5leHQsIDAgPT09IGwpIHsgaWYgKE9iamVjdCh0KSAhPT0gdCkgcmV0dXJuOyBmID0gITE7IH0gZWxzZSBmb3IgKDsgIShmID0gKGUgPSBpLmNhbGwodCkpLmRvbmUpICYmIChhLnB1c2goZS52YWx1ZSksIGEubGVuZ3RoICE9PSBsKTsgZiA9ICEwKTsgfSBjYXRjaCAocikgeyBvID0gITAsIG4gPSByOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIWYgJiYgbnVsbCAhPSB0LnJldHVybiAmJiAodSA9IHQucmV0dXJuKCksIE9iamVjdCh1KSAhPT0gdSkpIHJldHVybjsgfSBmaW5hbGx5IHsgaWYgKG8pIHRocm93IG47IH0gfSByZXR1cm4gYTsgfSB9XG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMocikgeyBpZiAoQXJyYXkuaXNBcnJheShyKSkgcmV0dXJuIHI7IH1cbi8qKlxuICogTGlicmFyeSBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgSW5wdXQgfSBmcm9tICcuLi8uLi8uLi8uLi9saWIvY29tcG9uZW50cyc7XG5pbXBvcnQgeyB1c2VEZWJvdW5jZWRWYWx1ZSB9IGZyb20gJy4uLy4uLy4uLy4uL2xpYi9ob29rcyc7XG5cbi8qKlxuICogSW50ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IHJlc3RHZXQgfSBmcm9tICcuLi8uLi8uLi8uLi9oZWxwZXJzL2FwaSc7XG5pbXBvcnQgeyBzZXRGaWx0ZXJlZCB9IGZyb20gJy4uLy4uLy4uLy4uL3N0b3JlL3NsaWNlcy92aWRlb3MnO1xuXG4vKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgX18gfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuaW1wb3J0IHsgdXNlRGlzcGF0Y2ggfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmV4cG9ydCBmdW5jdGlvbiBWaWRlb1NlYXJjaElucHV0KF9yZWYpIHtcbiAgdmFyIGlkID0gX3JlZi5pZDtcbiAgdmFyIGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKCcnKSxcbiAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSxcbiAgICBzZWFyY2ggPSBfdXNlU3RhdGUyWzBdLFxuICAgIHNldFNlYXJjaCA9IF91c2VTdGF0ZTJbMV07XG4gIHZhciBfdXNlRGVib3VuY2VkVmFsdWUgPSB1c2VEZWJvdW5jZWRWYWx1ZSh7XG4gICAgICB2YWx1ZTogc2VhcmNoLFxuICAgICAgZGVsYXk6IDMwMFxuICAgIH0pLFxuICAgIF91c2VEZWJvdW5jZWRWYWx1ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlRGVib3VuY2VkVmFsdWUsIDIpLFxuICAgIGRlYm91bmNlZFNlYXJjaCA9IF91c2VEZWJvdW5jZWRWYWx1ZTJbMF0sXG4gICAgc2V0RGVib3VuY2VkU2VhcmNoID0gX3VzZURlYm91bmNlZFZhbHVlMlsxXTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBzZWFyY2hWaWRlb3MoKTtcbiAgfSwgW2RlYm91bmNlZFNlYXJjaF0pO1xuICB2YXIgdXBkYXRlU2VhcmNoID0gZnVuY3Rpb24gdXBkYXRlU2VhcmNoKHZhbHVlKSB7XG4gICAgLy8gVXBkYXRlIHNlYXJjaCB2YWx1ZVxuICAgIHNldFNlYXJjaCh2YWx1ZSk7XG5cbiAgICAvLyBVcGRhdGUgZGVib3VuY2VkIHZhbHVlXG4gICAgc2V0RGVib3VuY2VkU2VhcmNoKHZhbHVlKTtcbiAgfTtcblxuICAvKipcbiAgICogU2VhcmNoIHRoZSB2aWRlb3MgYW5kIGZpbHRlci5cbiAgICpcbiAgICogR2V0IHRoZSB2aWRlbyBpZHMgdXNpbmcgdGhlIHNlYXJjaCB0ZXJtXG4gICAqIGFuZCBzeW5jIGJhY2sgdG8gcGFyZW50LlxuICAgKlxuICAgKi9cbiAgdmFyIHNlYXJjaFZpZGVvcyA9IGZ1bmN0aW9uIHNlYXJjaFZpZGVvcygpIHtcbiAgICByZXN0R2V0KHtcbiAgICAgIHBhdGg6ICd2aWRlb3MnLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIHNlYXJjaDogc2VhcmNoLFxuICAgICAgICBmaWVsZDogJ2lkcydcbiAgICAgIH1cbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MgJiYgcmVzcG9uc2UuZGF0YSkge1xuICAgICAgICAvLyBVcGRhdGUgdGhlIGZpbHRlcmVkIGlkcy5cbiAgICAgICAgZGlzcGF0Y2goc2V0RmlsdGVyZWQoe1xuICAgICAgICAgIGlkczogcmVzcG9uc2UuZGF0YVxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeChJbnB1dCwge1xuICAgIGljb246IFwibWFnbmlmeWluZy1nbGFzcy1zZWFyY2hcIixcbiAgICB2YWx1ZTogc2VhcmNoLFxuICAgIG9uQ2hhbmdlOiB1cGRhdGVTZWFyY2gsXG4gICAgcGxhY2Vob2xkZXI6IF9fKCdTZWFyY2ggdmlkZW9zJywgJ3dwbXVkZXZfdmlkZW9zJyksXG4gICAgaWQ6IGlkXG4gIH0pO1xufVxuVmlkZW9TZWFyY2hJbnB1dC5wcm9wVHlwZXMgPSB7XG4gIGlkOiAnaWQnXG59O1xuVmlkZW9TZWFyY2hJbnB1dC5wcm9wVHlwZXMgPSB7XG4gIGlkOiBQcm9wVHlwZXMuc3RyaW5nXG59O1xuZXhwb3J0IGRlZmF1bHQgVmlkZW9TZWFyY2hJbnB1dDsiLCJleHBvcnQgKiBmcm9tICcuL1ZpZGVvU2VhcmNoSW5wdXQnOyIsImZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KHIsIGUpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQociwgZSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGUpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGEpIHsgaWYgKHIpIHsgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKTsgdmFyIHQgPSB7fS50b1N0cmluZy5jYWxsKHIpLnNsaWNlKDgsIC0xKTsgcmV0dXJuIFwiT2JqZWN0XCIgPT09IHQgJiYgci5jb25zdHJ1Y3RvciAmJiAodCA9IHIuY29uc3RydWN0b3IubmFtZSksIFwiTWFwXCIgPT09IHQgfHwgXCJTZXRcIiA9PT0gdCA/IEFycmF5LmZyb20ocikgOiBcIkFyZ3VtZW50c1wiID09PSB0IHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpID8gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgOiB2b2lkIDA7IH0gfVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfVxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGwpIHsgdmFyIHQgPSBudWxsID09IHIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByW1wiQEBpdGVyYXRvclwiXTsgaWYgKG51bGwgIT0gdCkgeyB2YXIgZSwgbiwgaSwgdSwgYSA9IFtdLCBmID0gITAsIG8gPSAhMTsgdHJ5IHsgaWYgKGkgPSAodCA9IHQuY2FsbChyKSkubmV4dCwgMCA9PT0gbCkgeyBpZiAoT2JqZWN0KHQpICE9PSB0KSByZXR1cm47IGYgPSAhMTsgfSBlbHNlIGZvciAoOyAhKGYgPSAoZSA9IGkuY2FsbCh0KSkuZG9uZSkgJiYgKGEucHVzaChlLnZhbHVlKSwgYS5sZW5ndGggIT09IGwpOyBmID0gITApOyB9IGNhdGNoIChyKSB7IG8gPSAhMCwgbiA9IHI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghZiAmJiBudWxsICE9IHQucmV0dXJuICYmICh1ID0gdC5yZXR1cm4oKSwgT2JqZWN0KHUpICE9PSB1KSkgcmV0dXJuOyB9IGZpbmFsbHkgeyBpZiAobykgdGhyb3cgbjsgfSB9IHJldHVybiBhOyB9IH1cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhyKSB7IGlmIChBcnJheS5pc0FycmF5KHIpKSByZXR1cm4gcjsgfVxuLyoqXG4gKiBMaWJyYXJ5IGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBUYWJsZSB9IGZyb20gJy4uLy4uLy4uLy4uL2xpYi9jb21wb25lbnRzJztcblxuLyoqXG4gKiBJbnRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgZ2V0RmlsdGVyZWRJZHMsIGdldFZpZGVvcyB9IGZyb20gJy4uLy4uLy4uLy4uL3N0b3JlL3NsaWNlcy92aWRlb3MnO1xuaW1wb3J0IHsgVmlkZW9MaXN0Um93IH0gZnJvbSAnLi4vJztcbmltcG9ydCB7IGRhc2hDb25uZWN0ZWQsIHZhbGlkTWVtYmVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vaGVscGVycy91dGlscyc7XG5cbi8qKlxuICogRXh0ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IF9fLCBzcHJpbnRmIH0gZnJvbSAnQHdvcmRwcmVzcy9pMThuJztcbmltcG9ydCB7IHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cywgRnJhZ21lbnQgYXMgX0ZyYWdtZW50IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5leHBvcnQgZnVuY3Rpb24gVmlkZW9zTGlzdChfcmVmKSB7XG4gIHZhciBwbGF5bGlzdCA9IF9yZWYucGxheWxpc3QsXG4gICAgc2V0VmlkZW9Db3VudCA9IF9yZWYuc2V0VmlkZW9Db3VudCxcbiAgICBzZXRDdXJyZW50UGxheWxpc3QgPSBfcmVmLnNldEN1cnJlbnRQbGF5bGlzdDtcbiAgLy8gbGlzdCBvZiBhZGRlZCB2aWRlb3MgdG8gdGhlIHBsYXlsaXN0XG4gIHZhciBfcmVmMiA9IHBsYXlsaXN0ICE9PSBudWxsICYmIHBsYXlsaXN0ICE9PSB2b2lkIDAgPyBwbGF5bGlzdCA6IHt9LFxuICAgIHZpZGVvcyA9IF9yZWYyLnZpZGVvcztcblxuICAvLyBOdW1iZXIgb2YgdmlkZW9zIGFkZGVkXG4gIHZhciBfcmVmMyA9IHZpZGVvcyAhPT0gbnVsbCAmJiB2aWRlb3MgIT09IHZvaWQgMCA/IHZpZGVvcyA6IFtdLFxuICAgIGxlbmd0aCA9IF9yZWYzLmxlbmd0aDtcblxuICAvLyBEaXNwbGF5ZWQgY291bnRcbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKDApLFxuICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgIGRpc3BsYXllZENvdW50ID0gX3VzZVN0YXRlMlswXSxcbiAgICBzZXREaXNwbGF5ZWRDb3VudCA9IF91c2VTdGF0ZTJbMV07XG5cbiAgLy8gRmlsdGVyZWQgVmlkZW9zIElkc1xuICB2YXIgZmlsdGVyZWRJZHMgPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4gZ2V0RmlsdGVyZWRJZHMoc3RhdGUpO1xuICB9KTtcblxuICAvLyBWaWRlb3Mgb2JqZWN0cyBsaXN0XG4gIHZhciBmaWx0ZXJlZFZpZGVvcyA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBnZXRWaWRlb3Moc3RhdGUsIGZpbHRlcmVkSWRzKTtcbiAgfSk7XG5cbiAgLy8gVmlkZW9zIFByb3ZpZGVkIGZvciBtZW1iZXJzXG4gIHZhciBkZWZhdWx0VmlkZW9zID0gZmlsdGVyZWRWaWRlb3MuZmlsdGVyKGZ1bmN0aW9uICh2aWRlbykge1xuICAgIHJldHVybiB2aWRlby52aWRlb190eXBlID09PSAnZGVmYXVsdCc7XG4gIH0pO1xuXG4gIC8vIEN1c3RvbSB2aWRlb3MgYWRkZWQgYnkgYWRtaW5cbiAgdmFyIGN1c3RvbVZpZGVvcyA9IGZpbHRlcmVkVmlkZW9zLmZpbHRlcihmdW5jdGlvbiAodmlkZW8pIHtcbiAgICByZXR1cm4gdmlkZW8udmlkZW9fdHlwZSAhPT0gJ2RlZmF1bHQnO1xuICB9KTtcblxuICAvLyBVcGRhdGUgZGlzcGxheWVkIGNvdW50XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvdW50ID0gbGVuZ3RoO1xuICAgIGlmICghc2hvd0RlZmF1bHRWaWRlb3MoKSkge1xuICAgICAgLy8gVmlkZW9zIHdpdGhvdXQgZGVmYXVsdFZpZGVvc1xuICAgICAgdmFyIGRpc3BsYXllZFZpZGVvcyA9IHZpZGVvcyA9PT0gbnVsbCB8fCB2aWRlb3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHZpZGVvcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuICFkZWZhdWx0VmlkZW9zLnNvbWUoZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgIHJldHVybiBvYmouaWQgPT09IGl0ZW07XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIENvdW50IHdpdGhvdXQgZGVmYXVsdCB2aWRlb3NcbiAgICAgIGNvdW50ID0gZGlzcGxheWVkVmlkZW9zID09PSBudWxsIHx8IGRpc3BsYXllZFZpZGVvcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGlzcGxheWVkVmlkZW9zLmxlbmd0aDtcbiAgICAgIHNldERpc3BsYXllZENvdW50KGNvdW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0RGlzcGxheWVkQ291bnQoY291bnQpO1xuICAgIH1cbiAgfSwgW3ZpZGVvc10pO1xuXG4gIC8vIFVwZGF0ZSB2aWRlb3MgY291bnQgdmFyaWFibGVcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY291bnQgPSAwO1xuICAgIGlmIChzaG93RGVmYXVsdFZpZGVvcygpKSB7XG4gICAgICB2YXIgX3ZpZGVvcyRkZWZhdWx0LCBfdmlkZW9zJGN1c3RvbTtcbiAgICAgIGNvdW50ID0gKHZpZGVvcyA9PT0gbnVsbCB8fCB2aWRlb3MgPT09IHZvaWQgMCB8fCAoX3ZpZGVvcyRkZWZhdWx0ID0gdmlkZW9zLmRlZmF1bHQpID09PSBudWxsIHx8IF92aWRlb3MkZGVmYXVsdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3ZpZGVvcyRkZWZhdWx0Lmxlbmd0aCkgKyAodmlkZW9zID09PSBudWxsIHx8IHZpZGVvcyA9PT0gdm9pZCAwIHx8IChfdmlkZW9zJGN1c3RvbSA9IHZpZGVvcy5jdXN0b20pID09PSBudWxsIHx8IF92aWRlb3MkY3VzdG9tID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdmlkZW9zJGN1c3RvbS5sZW5ndGgpO1xuICAgICAgc2V0VmlkZW9Db3VudChjb3VudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBfdmlkZW9zJGN1c3RvbTI7XG4gICAgICBjb3VudCA9IHZpZGVvcyA9PT0gbnVsbCB8fCB2aWRlb3MgPT09IHZvaWQgMCB8fCAoX3ZpZGVvcyRjdXN0b20yID0gdmlkZW9zLmN1c3RvbSkgPT09IG51bGwgfHwgX3ZpZGVvcyRjdXN0b20yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdmlkZW9zJGN1c3RvbTIubGVuZ3RoO1xuICAgICAgc2V0VmlkZW9Db3VudChjb3VudCk7XG4gICAgfVxuICB9LCBbZGVmYXVsdFZpZGVvcywgY3VzdG9tVmlkZW9zXSk7XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGN1cnJlbnQgbWVtYmVyc2hpcCBpcyB2YWxpZC5cbiAgICpcbiAgICogRGVmYXVsdCB2aWRlb3MgYXJlIGF2YWlsYWJsZSBvbmx5IGlmIGN1cnJlbnRcbiAgICogbWVtYmVyc2hpcCBpcyB2YWxpZC5cbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIHZhciBzaG93RGVmYXVsdFZpZGVvcyA9IGZ1bmN0aW9uIHNob3dEZWZhdWx0VmlkZW9zKCkge1xuICAgIHJldHVybiB2YWxpZE1lbWJlcigpICYmIGRhc2hDb25uZWN0ZWQoKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgdmlkZW9zIGFyZSBub3QgZW1wdHkuXG4gICAqXG4gICAqIEBzaW5jZSAxLjguMlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgdmFyIHZpZGVvc0F2YWlsYWJsZSA9IGZ1bmN0aW9uIHZpZGVvc0F2YWlsYWJsZSgpIHtcbiAgICByZXR1cm4gZGVmYXVsdFZpZGVvcy5sZW5ndGggJiYgc2hvd0RlZmF1bHRWaWRlb3MoKSB8fCBjdXN0b21WaWRlb3MubGVuZ3RoO1xuICB9O1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3goX0ZyYWdtZW50LCB7XG4gICAgY2hpbGRyZW46IHZpZGVvc0F2YWlsYWJsZSgpID8gLyojX19QVVJFX18qL19qc3hzKFRhYmxlLCB7XG4gICAgICBpc0ZsdXNoZWQ6IHRydWUsXG4gICAgICBjbGFzc05hbWU6IFwid3BtdWRldi12aWRlb3MtdGFibGUtdmlkZW9zXCIsXG4gICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFRhYmxlLlRoZWFkLCB7XG4gICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeHMoVGFibGUuVHIsIHtcbiAgICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFRhYmxlLlRoLCB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IFwid3BtdWRldi12aWRlb3MtdGFibGUtdmlkZW9zLS1jZWxsLWxlZnRcIixcbiAgICAgICAgICAgIGNoaWxkcmVuOiBfXygnVmlkZW9zJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFRhYmxlLlRoLCB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IFwid3BtdWRldi12aWRlb3MtdGFibGUtdmlkZW9zLS1jZWxsLXJpZ2h0XCIsXG4gICAgICAgICAgICBcImFyaWEtbGl2ZVwiOiBcImFzc2VydGl2ZVwiLFxuICAgICAgICAgICAgY2hpbGRyZW46IHNwcmludGYoX18oJyVzIHZpZGVvcyBzZWxlY3RlZCcsICd3cG11ZGV2X3ZpZHMnKSwgZGlzcGxheWVkQ291bnQpXG4gICAgICAgICAgfSldXG4gICAgICAgIH0pXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3hzKFRhYmxlLlRib2R5LCB7XG4gICAgICAgIGNoaWxkcmVuOiBbY3VzdG9tVmlkZW9zLm1hcChmdW5jdGlvbiAodmlkZW8pIHtcbiAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL19qc3goVmlkZW9MaXN0Um93LCB7XG4gICAgICAgICAgICBwbGF5bGlzdDogcGxheWxpc3QsXG4gICAgICAgICAgICB2aWRlbzogdmlkZW8sXG4gICAgICAgICAgICBzZXRDdXJyZW50UGxheWxpc3Q6IHNldEN1cnJlbnRQbGF5bGlzdFxuICAgICAgICAgIH0sIHZpZGVvLmlkKTtcbiAgICAgICAgfSksIHNob3dEZWZhdWx0VmlkZW9zKCkgJiYgZGVmYXVsdFZpZGVvcy5tYXAoZnVuY3Rpb24gKHZpZGVvKSB7XG4gICAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KFZpZGVvTGlzdFJvdywge1xuICAgICAgICAgICAgcGxheWxpc3Q6IHBsYXlsaXN0LFxuICAgICAgICAgICAgdmlkZW86IHZpZGVvLFxuICAgICAgICAgICAgc2V0Q3VycmVudFBsYXlsaXN0OiBzZXRDdXJyZW50UGxheWxpc3RcbiAgICAgICAgICB9LCB2aWRlby5pZCk7XG4gICAgICAgIH0pXVxuICAgICAgfSldXG4gICAgfSkgOlxuICAgIC8vIERpc3BsYXkgTm90aGluZyBpZiB0aGVyZSdyZSBubyB2aWRlb3NcbiAgICAnJ1xuICB9KTtcbn1cblZpZGVvc0xpc3QuZGVmYXVsdFByb3BzID0ge1xuICBwbGF5bGlzdDoge30sXG4gIHNldFZpZGVvQ291bnQ6IGZ1bmN0aW9uIHNldFZpZGVvQ291bnQoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIHNldEN1cnJlbnRQbGF5bGlzdDogZnVuY3Rpb24gc2V0Q3VycmVudFBsYXlsaXN0KCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuVmlkZW9zTGlzdC5wcm9wVHlwZXMgPSB7XG4gIHBsYXlsaXN0OiBQcm9wVHlwZXMub2JqZWN0LFxuICBzZXRWaWRlb0NvdW50OiBQcm9wVHlwZXMuZnVuYyxcbiAgc2V0Q3VycmVudFBsYXlsaXN0OiBQcm9wVHlwZXMuZnVuY1xufTtcbmV4cG9ydCBkZWZhdWx0IFZpZGVvc0xpc3Q7IiwiZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KHIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhyKSB8fCBfaXRlcmFibGVUb0FycmF5KHIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfVxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShyKSB7IGlmIChcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgbnVsbCAhPSByW1N5bWJvbC5pdGVyYXRvcl0gfHwgbnVsbCAhPSByW1wiQEBpdGVyYXRvclwiXSkgcmV0dXJuIEFycmF5LmZyb20ocik7IH1cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhyKSB7IGlmIChBcnJheS5pc0FycmF5KHIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkocik7IH1cbmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfVxuZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KGUsIHIsIHQpIHsgcmV0dXJuIChyID0gX3RvUHJvcGVydHlLZXkocikpIGluIGUgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgeyB2YWx1ZTogdCwgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9KSA6IGVbcl0gPSB0LCBlOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleSh0KSB7IHZhciBpID0gX3RvUHJpbWl0aXZlKHQsIFwic3RyaW5nXCIpOyByZXR1cm4gXCJzeW1ib2xcIiA9PSBfdHlwZW9mKGkpID8gaSA6IGkgKyBcIlwiOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikgeyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKHQpIHx8ICF0KSByZXR1cm4gdDsgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmICh2b2lkIDAgIT09IGUpIHsgdmFyIGkgPSBlLmNhbGwodCwgciB8fCBcImRlZmF1bHRcIik7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YoaSkpIHJldHVybiBpOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsgfVxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkociwgZSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKHIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBlKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgZSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkgeyBpZiAocikgeyBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gXCJPYmplY3RcIiA9PT0gdCAmJiByLmNvbnN0cnVjdG9yICYmICh0ID0gci5jb25zdHJ1Y3Rvci5uYW1lKSwgXCJNYXBcIiA9PT0gdCB8fCBcIlNldFwiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6IFwiQXJndW1lbnRzXCIgPT09IHQgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkgPyBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSA6IHZvaWQgMDsgfSB9XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQociwgbCkgeyB2YXIgdCA9IG51bGwgPT0gciA/IG51bGwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgcltTeW1ib2wuaXRlcmF0b3JdIHx8IHJbXCJAQGl0ZXJhdG9yXCJdOyBpZiAobnVsbCAhPSB0KSB7IHZhciBlLCBuLCBpLCB1LCBhID0gW10sIGYgPSAhMCwgbyA9ICExOyB0cnkgeyBpZiAoaSA9ICh0ID0gdC5jYWxsKHIpKS5uZXh0LCAwID09PSBsKSB7IGlmIChPYmplY3QodCkgIT09IHQpIHJldHVybjsgZiA9ICExOyB9IGVsc2UgZm9yICg7ICEoZiA9IChlID0gaS5jYWxsKHQpKS5kb25lKSAmJiAoYS5wdXNoKGUudmFsdWUpLCBhLmxlbmd0aCAhPT0gbCk7IGYgPSAhMCk7IH0gY2F0Y2ggKHIpIHsgbyA9ICEwLCBuID0gcjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFmICYmIG51bGwgIT0gdC5yZXR1cm4gJiYgKHUgPSB0LnJldHVybigpLCBPYmplY3QodSkgIT09IHUpKSByZXR1cm47IH0gZmluYWxseSB7IGlmIChvKSB0aHJvdyBuOyB9IH0gcmV0dXJuIGE7IH0gfVxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKHIpIHsgaWYgKEFycmF5LmlzQXJyYXkocikpIHJldHVybiByOyB9XG4vKipcbiAqIExpYnJhcnkgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IFRhYmxlLCBCdXR0b24gfSBmcm9tICcuLi8uLi8uLi8uLi9saWIvY29tcG9uZW50cyc7XG5cbi8qKlxuICogSW50ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IExpc3RUaHVtYiB9IGZyb20gJy4uLy4uLy4uLy4uL2NvbXBvbmVudHMnO1xuXG4vKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IF9fIH0gZnJvbSAnQHdvcmRwcmVzcy9pMThuJztcbmltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5leHBvcnQgZnVuY3Rpb24gVmlkZW9MaXN0Um93KF9yZWYpIHtcbiAgdmFyIHZpZGVvID0gX3JlZi52aWRlbyxcbiAgICBwbGF5bGlzdCA9IF9yZWYucGxheWxpc3QsXG4gICAgc2V0Q3VycmVudFBsYXlsaXN0ID0gX3JlZi5zZXRDdXJyZW50UGxheWxpc3Q7XG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShmYWxzZSksXG4gICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksXG4gICAgYnV0dG9uSXNIb3ZlcmVkID0gX3VzZVN0YXRlMlswXSxcbiAgICBzZXRCdXR0b25Jc0hvdmVyZWQgPSBfdXNlU3RhdGUyWzFdO1xuICB2YXIgX3JlZjIgPSBwbGF5bGlzdCAhPT0gbnVsbCAmJiBwbGF5bGlzdCAhPT0gdm9pZCAwID8gcGxheWxpc3QgOiB7fSxcbiAgICB2aWRlb3MgPSBfcmVmMi52aWRlb3M7XG4gIHZhciBfcmVmMyA9IHZpZGVvICE9PSBudWxsICYmIHZpZGVvICE9PSB2b2lkIDAgPyB2aWRlbyA6IHt9LFxuICAgIGlkID0gX3JlZjMuaWQsXG4gICAgdmlkZW9fc2x1ZyA9IF9yZWYzLnZpZGVvX3NsdWcsXG4gICAgdGh1bWJuYWlsID0gX3JlZjMudGh1bWJuYWlsLFxuICAgIHZpZGVvX3RpdGxlID0gX3JlZjMudmlkZW9fdGl0bGUsXG4gICAgdmlkZW9fdHlwZSA9IF9yZWYzLnZpZGVvX3R5cGU7XG4gIHZhciBfcmVmNCA9IHRodW1ibmFpbCAhPT0gbnVsbCAmJiB0aHVtYm5haWwgIT09IHZvaWQgMCA/IHRodW1ibmFpbCA6IHt9LFxuICAgIHVybCA9IF9yZWY0LnVybDtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIGN1cnJlbnQgdmlkZW8gaXMgYWxyZWFkeSBhZGRlZC5cbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICB2YXIgaXNBZGRlZCA9IGZ1bmN0aW9uIGlzQWRkZWQoKSB7XG4gICAgcmV0dXJuIHZpZGVvcyA9PT0gbnVsbCB8fCB2aWRlb3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHZpZGVvcy5pbmNsdWRlcyhpZCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIHZpZGVvIGZyb20gdGhlIHBsYXlsaXN0LlxuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIHZhciByZW1vdmVWaWRlbyA9IGZ1bmN0aW9uIHJlbW92ZVZpZGVvKCkge1xuICAgIHZhciBuZXdQbGF5bGlzdCA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcGxheWxpc3QpLCB7fSwge1xuICAgICAgdmlkZW9zOiB2aWRlb3MuZmlsdGVyKGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gaWQgIT09IHZpZGVvLmlkO1xuICAgICAgfSlcbiAgICB9KTtcbiAgICBzZXRDdXJyZW50UGxheWxpc3QobmV3UGxheWxpc3QpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBZGRzIHRoZSB2aWRlbyB0byB0aGUgcGxheWxpc3RcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICB2YXIgYWRkVmlkZW8gPSBmdW5jdGlvbiBhZGRWaWRlbygpIHtcbiAgICB2YXIgbmV3UGxheWxpc3QgPSBfb2JqZWN0U3ByZWFkKHt9LCBwbGF5bGlzdCk7XG4gICAgaWYgKCEodmlkZW9zICE9PSBudWxsICYmIHZpZGVvcyAhPT0gdm9pZCAwICYmIHZpZGVvcy5pbmNsdWRlcyh2aWRlbyA9PT0gbnVsbCB8fCB2aWRlbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmlkZW8uaWQpKSkge1xuICAgICAgbmV3UGxheWxpc3RbJ3ZpZGVvcyddID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh2aWRlb3MpLCBbdmlkZW8gPT09IG51bGwgfHwgdmlkZW8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHZpZGVvLmlkXSk7XG4gICAgfVxuICAgIHNldEN1cnJlbnRQbGF5bGlzdChuZXdQbGF5bGlzdCk7XG4gIH07XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeHMoVGFibGUuVHIsIHtcbiAgICBcImFyaWEtbGl2ZVwiOiBcInBvbGl0ZVwiLFxuICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3hzKFRhYmxlLlRkLCB7XG4gICAgICBjbGFzc05hbWU6IFwid3BtdWRldi12aWRlb3MtdGFibGUtdmlkZW9zLS1jZWxsLWxlZnQgc3VpLXRhYmxlLWl0ZW0tdGl0bGVcIixcbiAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goTGlzdFRodW1iLCB7XG4gICAgICAgIHVybDogdXJsLFxuICAgICAgICBpY29uOiB2aWRlb19zbHVnLFxuICAgICAgICBjbGFzc05hbWU6IFwicGxheWxpc3QtdmlkZW8tdGh1bWItd2lkZVwiLFxuICAgICAgICBpc0N1c3RvbTogJ2N1c3RvbScgPT09IHZpZGVvX3R5cGVcbiAgICAgIH0pLCB2aWRlb190aXRsZV1cbiAgICB9KSwgaXNBZGRlZCgpICYmIC8qI19fUFVSRV9fKi9fanN4cyhUYWJsZS5UZCwge1xuICAgICAgY2xhc3NOYW1lOiBcIndwbXVkZXYtdmlkZW9zLXRhYmxlLXZpZGVvcy0tY2VsbC1yaWdodCB3cG11ZGV2LXZpZGVvcy10YWJsZS12aWRlb3MtLXNob3ctbW9iaWxlc1wiLFxuICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChCdXR0b24sIHtcbiAgICAgICAgZGlzYWJsZWQ6IHRydWUsXG4gICAgICAgIGljb246IFwiY2hlY2tcIixcbiAgICAgICAgY2hpbGRyZW46IF9fKCdBZGRlZCcsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KEJ1dHRvbiwge1xuICAgICAgICBpY29uOiBcInRyYXNoXCIsXG4gICAgICAgIGNvbG9yOiBcInJlZFwiLFxuICAgICAgICB0eXBlOiBcImdob3N0XCIsXG4gICAgICAgIG9uQ2xpY2s6IHJlbW92ZVZpZGVvLFxuICAgICAgICBjaGlsZHJlbjogX18oJ1JlbW92ZScsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSldXG4gICAgfSksIGlzQWRkZWQoKSAmJiAvKiNfX1BVUkVfXyovX2pzeHMoVGFibGUuVGQsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJ3cG11ZGV2LXZpZGVvcy10YWJsZS12aWRlb3MtLWNlbGwtcmlnaHQgd3BtdWRldi12aWRlb3MtdGFibGUtdmlkZW9zLS1zaG93LWRlc2t0b3BcIixcbiAgICAgIGNoaWxkcmVuOiBbYnV0dG9uSXNIb3ZlcmVkICYmIC8qI19fUFVSRV9fKi9fanN4KEJ1dHRvbiwge1xuICAgICAgICBvbk1vdXNlTGVhdmU6IGZ1bmN0aW9uIG9uTW91c2VMZWF2ZSgpIHtcbiAgICAgICAgICByZXR1cm4gc2V0QnV0dG9uSXNIb3ZlcmVkKGZhbHNlKTtcbiAgICAgICAgfSxcbiAgICAgICAgY29sb3I6IFwicmVkXCIsXG4gICAgICAgIGljb246IFwidHJhc2hcIixcbiAgICAgICAgb25DbGljazogcmVtb3ZlVmlkZW8sXG4gICAgICAgIGNoaWxkcmVuOiBfXygnUmVtb3ZlJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICB9KSwgIWJ1dHRvbklzSG92ZXJlZCAmJiAvKiNfX1BVUkVfXyovX2pzeChCdXR0b24sIHtcbiAgICAgICAgb25Nb3VzZUVudGVyOiBmdW5jdGlvbiBvbk1vdXNlRW50ZXIoKSB7XG4gICAgICAgICAgcmV0dXJuIHNldEJ1dHRvbklzSG92ZXJlZCh0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgaWNvbjogXCJjaGVja1wiLFxuICAgICAgICBjaGlsZHJlbjogX18oJ0FkZGVkJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICB9KV1cbiAgICB9KSwgIWlzQWRkZWQoKSAmJiAvKiNfX1BVUkVfXyovX2pzeChUYWJsZS5UZCwge1xuICAgICAgY2xhc3NOYW1lOiBcIndwbXVkZXYtdmlkZW9zLXRhYmxlLXZpZGVvcy0tY2VsbC1yaWdodFwiLFxuICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KEJ1dHRvbiwge1xuICAgICAgICBvbkNsaWNrOiBhZGRWaWRlbyxcbiAgICAgICAgaWNvbjogXCJwbHVzXCIsXG4gICAgICAgIHR5cGU6IFwiZ2hvc3RcIixcbiAgICAgICAgY2hpbGRyZW46IF9fKCdBZGQnLCAnd3BtdWRldl92aWRzJylcbiAgICAgIH0pXG4gICAgfSldXG4gIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgVmlkZW9MaXN0Um93OyIsImV4cG9ydCAqIGZyb20gJy4vVmlkZW9zTGlzdCc7XG5leHBvcnQgKiBmcm9tICcuL1ZpZGVvTGlzdFJvdyc7IiwiLyoqXG4gKiBMaWJyYXJ5IGRlcGVuZWRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgTGFiZWwsIElucHV0IH0gZnJvbSAnLi4vLi4vLi4vLi4vbGliL2NvbXBvbmVudHMnO1xuXG4vKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgX18gfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmV4cG9ydCBmdW5jdGlvbiBQbGF5bGlzdFRpdGxlKF9yZWYpIHtcbiAgdmFyIG1vZGFsSUQgPSBfcmVmLm1vZGFsSUQsXG4gICAgdGl0bGUgPSBfcmVmLnRpdGxlLFxuICAgIG9uQ2hhbmdlID0gX3JlZi5vbkNoYW5nZTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4cyhcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInN1aS1mb3JtLWZpZWxkXCIsXG4gICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChMYWJlbCwge1xuICAgICAgaWQ6IFwiXCIuY29uY2F0KG1vZGFsSUQsIFwiLXBsYXlsaXN0LXRpdGxlLWxhYmVsXCIpLFxuICAgICAgaHRtbEZvcjogXCJcIi5jb25jYXQobW9kYWxJRCwgXCItcGxheWxpc3QtdGl0bGVcIiksXG4gICAgICBjaGlsZHJlbjogX18oJ1BsYXlsaXN0IG5hbWUnLCAnd3BtdWRldl92aWRzJylcbiAgICB9KSwgLyojX19QVVJFX18qL19qc3goSW5wdXQsIHtcbiAgICAgIHBsYWNlaG9sZGVyOiBfXygnRS5nLiBOZXcgcGxheWxpc3QnLCAnd3BtdWRldl92aWRzJyksXG4gICAgICBpZDogXCJcIi5jb25jYXQobW9kYWxJRCwgXCItcGxheWxpc3QtdGl0bGVcIiksXG4gICAgICB2YWx1ZTogdGl0bGUsXG4gICAgICBvbkNoYW5nZTogb25DaGFuZ2VcbiAgICB9KV1cbiAgfSk7XG59XG5QbGF5bGlzdFRpdGxlLmRlZmF1bHRQcm9wcyA9IHtcbiAgbW9kYWxJRDogJ21vZGFsLWlkJyxcbiAgdGl0bGU6ICdUaXRsZScsXG4gIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblBsYXlsaXN0VGl0bGUucHJvcFR5cGVzID0ge1xuICBtb2RhbElEOiBQcm9wVHlwZXMuc3RyaW5nLFxuICB0aXRsZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jXG59O1xuZXhwb3J0IGRlZmF1bHQgUGxheWxpc3RUaXRsZTsiLCJleHBvcnQgKiBmcm9tICcuL1BsYXlsaXN0VGl0bGUnOyIsIi8qKlxuICogTGlicmFyeSBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgTGFiZWwsIFRleHRhcmVhIH0gZnJvbSAnLi4vLi4vLi4vLi4vbGliL2NvbXBvbmVudHMnO1xuXG4vKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgX18gfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmV4cG9ydCBmdW5jdGlvbiBQbGF5bGlzdERlc2MoX3JlZikge1xuICB2YXIgbW9kYWxJRCA9IF9yZWYubW9kYWxJRCxcbiAgICBvbkNoYW5nZSA9IF9yZWYub25DaGFuZ2UsXG4gICAgZGVzY3JpcHRpb24gPSBfcmVmLmRlc2NyaXB0aW9uO1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3hzKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwic3VpLWZvcm0tZmllbGRcIixcbiAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KExhYmVsLCB7XG4gICAgICBodG1sRm9yOiBcIlwiLmNvbmNhdChtb2RhbElELCBcIi1wbGF5bGlzdC1kZXNjXCIpLFxuICAgICAgaWQ6IFwiXCIuY29uY2F0KG1vZGFsSUQsIFwiLXBsYXlsaXN0LWRlc2MtbGFiZWxcIiksXG4gICAgICBjaGlsZHJlbjogX18oJ1BsYXlsaXN0IGRlc2NyaXB0aW9uJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFRleHRhcmVhLCB7XG4gICAgICBpZDogXCJcIi5jb25jYXQobW9kYWxJRCwgXCItcGxheWxpc3QtZGVzY1wiKSxcbiAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IFwiXCIuY29uY2F0KG1vZGFsSUQsIFwiLXBsYXlsaXN0LWRlc2MtbGFiZWxcIiksXG4gICAgICBcImFyaWEtZGVzY3JpYmVkYnlcIjogXCJcIi5jb25jYXQobW9kYWxJRCwgXCItcGxheWxpc3QtZGVzYy1kZXNjXCIpLFxuICAgICAgdmFsdWU6IGRlc2NyaXB0aW9uLFxuICAgICAgb25DaGFuZ2U6IG9uQ2hhbmdlXG4gICAgfSldXG4gIH0pO1xufVxuUGxheWxpc3REZXNjLmRlZmF1bHRQcm9wcyA9IHtcbiAgbW9kYWxJRDogJ21vZGFsLWlkJyxcbiAgZGVzY3JpcHRpb246ICdkZXNjcmlwdGlvbicsXG4gIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcblBsYXlsaXN0RGVzYy5wcm9wVHlwZXMgPSB7XG4gIG1vZGFsSUQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGRlc2NyaXB0aW9uOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmNcbn07XG5leHBvcnQgZGVmYXVsdCBQbGF5bGlzdERlc2M7IiwiZXhwb3J0ICogZnJvbSAnLi9QbGF5bGlzdERlc2MnOyIsIi8qKlxuICogTGlicmFyeSBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgSWNvbiB9IGZyb20gJy4uLy4uLy4uLy4uL2xpYi9jb21wb25lbnRzJztcblxuLyoqXG4gKiBJbnRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgYWRkTm90aWNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc3RvcmUvc2xpY2VzL25vdGljZSc7XG5cbi8qKlxuICogRXh0ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IF9fIH0gZnJvbSAnQHdvcmRwcmVzcy9pMThuJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyB1c2VEaXNwYXRjaCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzLCBGcmFnbWVudCBhcyBfRnJhZ21lbnQgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmV4cG9ydCBmdW5jdGlvbiBEcm9wRG93bihfcmVmKSB7XG4gIHZhciBvcGVuRWRpdE1vZGFsID0gX3JlZi5vcGVuRWRpdE1vZGFsLFxuICAgIG9wZW5WaXNpYmlsaXR5TW9kYWwgPSBfcmVmLm9wZW5WaXNpYmlsaXR5TW9kYWwsXG4gICAgc2V0Q3VycmVudFBsYXlsaXN0ID0gX3JlZi5zZXRDdXJyZW50UGxheWxpc3QsXG4gICAgb3BlblZpZGVvc01vZGFsID0gX3JlZi5vcGVuVmlkZW9zTW9kYWwsXG4gICAgb3BlbkRlbGV0ZU1vZGFsID0gX3JlZi5vcGVuRGVsZXRlTW9kYWwsXG4gICAgcGxheWxpc3QgPSBfcmVmLnBsYXlsaXN0O1xuICB2YXIgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuICB2YXIgaXNDdXN0b20gPSAnY3VzdG9tJyA9PT0gcGxheWxpc3QucGxheWxpc3RfdHlwZTtcblxuICAvKipcbiAgICogRGlzcGxheXMgYSBub3RpY2UgdGhhdCBzaG9ydGNvZGUgd2FzIGNvcGllZCBzdWNjZXNzZnVsbHlcbiAgICpcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHZhciBkaXNwbGF5Q29weU5vdGljZSA9IGZ1bmN0aW9uIGRpc3BsYXlDb3B5Tm90aWNlKCkge1xuICAgIGRpc3BhdGNoKGFkZE5vdGljZSh7XG4gICAgICBtZXNzYWdlOiBfXygnU2hvcnRjb2RlIGhhcyBiZWVuIGNvcGllZCBzdWNjZXNzZnVsbHkuJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgfSkpO1xuICB9O1xuXG4gIC8vIFBsYXlsaXN0IHNob3J0Y29kZVxuICB2YXIgc2hvcnRjb2RlID0gXCJbd3BtdWRldi12aWRlbyBncm91cD1cXFwiXCIuY29uY2F0KHBsYXlsaXN0LnNsdWcsIFwiXFxcIl1cIik7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeChfRnJhZ21lbnQsIHtcbiAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3hzKFwidWxcIiwge1xuICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChcImxpXCIsIHtcbiAgICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4cyhcImJ1dHRvblwiLCB7XG4gICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgIHNldEN1cnJlbnRQbGF5bGlzdChwbGF5bGlzdCk7XG4gICAgICAgICAgICBvcGVuRWRpdE1vZGFsKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KEljb24sIHtcbiAgICAgICAgICAgIGljb246IFwicGVuY2lsXCJcbiAgICAgICAgICB9KSwgX18oJ0VkaXQnLCAnd3BtdWRldl92aWRzJyldXG4gICAgICAgIH0pXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJsaVwiLCB7XG4gICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeHMoXCJidXR0b25cIiwge1xuICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICBzZXRDdXJyZW50UGxheWxpc3QocGxheWxpc3QpO1xuICAgICAgICAgICAgb3BlblZpZGVvc01vZGFsKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KEljb24sIHtcbiAgICAgICAgICAgIGljb246IFwiYWxpZ24tanVzdGlmeVwiXG4gICAgICAgICAgfSksIF9fKCdBZGQgdmlkZW9zJywgJ3dwbXVkZXZfdmlkcycpXVxuICAgICAgICB9KVxuICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwibGlcIiwge1xuICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3hzKFwiYnV0dG9uXCIsIHtcbiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgc2V0Q3VycmVudFBsYXlsaXN0KHBsYXlsaXN0KTtcbiAgICAgICAgICAgIG9wZW5WaXNpYmlsaXR5TW9kYWwoKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goSWNvbiwge1xuICAgICAgICAgICAgaWNvbjogXCJ3aWRnZXQtc2V0dGluZ3MtY29uZmlnXCJcbiAgICAgICAgICB9KSwgX18oJ1Zpc2liaWxpdHkgc2V0dGluZ3MnLCAnd3BtdWRldl92aWRzJyldXG4gICAgICAgIH0pXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJsaVwiLCB7XG4gICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeHMoXCJidXR0b25cIiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJpdnQtY29weS1zaG9ydGNvZGVcIixcbiAgICAgICAgICBvbkNsaWNrOiBkaXNwbGF5Q29weU5vdGljZSxcbiAgICAgICAgICBcImRhdGEtY2xpcGJvYXJkLXRleHRcIjogc2hvcnRjb2RlLFxuICAgICAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goSWNvbiwge1xuICAgICAgICAgICAgaWNvbjogXCJjb2RlXCJcbiAgICAgICAgICB9KSwgX18oJ0NvcHkgc2hvcnRjb2RlJywgJ3dwbXVkZXZfdmlkcycpXVxuICAgICAgICB9KVxuICAgICAgfSksIGlzQ3VzdG9tICYmIC8qI19fUFVSRV9fKi9fanN4KFwibGlcIiwge1xuICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3hzKFwiYnV0dG9uXCIsIHtcbiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgc2V0Q3VycmVudFBsYXlsaXN0KHBsYXlsaXN0KTtcbiAgICAgICAgICAgIG9wZW5EZWxldGVNb2RhbCgpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY2xhc3NOYW1lOiBcIndwbXVkZXYtdmlkZW9zLXJlZFwiLFxuICAgICAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goSWNvbiwge1xuICAgICAgICAgICAgaWNvbjogXCJ0cmFzaFwiXG4gICAgICAgICAgfSksIF9fKCdEZWxldGUnLCAnd3BtdWRldl92aWRzJyldXG4gICAgICAgIH0pXG4gICAgICB9KV1cbiAgICB9KVxuICB9KTtcbn1cbkRyb3BEb3duLmRlZmF1bHRQcm9wcyA9IHtcbiAgb3BlbkVkaXRNb2RhbDogZnVuY3Rpb24gb3BlbkVkaXRNb2RhbCgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgb3BlblZpc2liaWxpdHlNb2RhbDogZnVuY3Rpb24gb3BlblZpc2liaWxpdHlNb2RhbCgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgc2V0Q3VycmVudFBsYXlsaXN0OiBmdW5jdGlvbiBzZXRDdXJyZW50UGxheWxpc3QoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIG9wZW5WaWRlb3NNb2RhbDogZnVuY3Rpb24gb3BlblZpZGVvc01vZGFsKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBvcGVuRGVsZXRlTW9kYWw6IGZ1bmN0aW9uIG9wZW5EZWxldGVNb2RhbCgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgcGxheWxpc3Q6IHt9XG59O1xuRHJvcERvd24ucHJvcFR5cGVzID0ge1xuICBvcGVuRWRpdE1vZGFsOiBQcm9wVHlwZXMuZnVuYyxcbiAgb3BlblZpc2liaWxpdHlNb2RhbDogUHJvcFR5cGVzLmZ1bmMsXG4gIHNldEN1cnJlbnRQbGF5bGlzdDogUHJvcFR5cGVzLmZ1bmMsXG4gIG9wZW5WaWRlb3NNb2RhbDogUHJvcFR5cGVzLmZ1bmMsXG4gIG9wZW5EZWxldGVNb2RhbDogUHJvcFR5cGVzLmZ1bmMsXG4gIHBsYXlsaXN0OiBQcm9wVHlwZXMub2JqZWN0XG59O1xuZXhwb3J0IGRlZmF1bHQgRHJvcERvd247IiwiZXhwb3J0ICogZnJvbSAnLi9Ecm9wRG93bic7IiwiZXhwb3J0ICogZnJvbSAnLi9QbGF5bGlzdFZpZGVvcyc7XG5leHBvcnQgKiBmcm9tICcuL1VwZ3JhZGVOb3RpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9FeHBpcmVkTm90aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vUmVuZXdOb3RpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9EYXNoTm90aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vVmlkZW9TZWFyY2hJbnB1dCc7XG5leHBvcnQgKiBmcm9tICcuL1ZpZGVvc0xpc3QnO1xuZXhwb3J0ICogZnJvbSAnLi9QbGF5bGlzdFRpdGxlJztcbmV4cG9ydCAqIGZyb20gJy4vUGxheWxpc3REZXNjJztcbmV4cG9ydCAqIGZyb20gJy4vRHJvcERvd24nOyIsImZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KHIsIGUpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQociwgZSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGUpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGEpIHsgaWYgKHIpIHsgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKTsgdmFyIHQgPSB7fS50b1N0cmluZy5jYWxsKHIpLnNsaWNlKDgsIC0xKTsgcmV0dXJuIFwiT2JqZWN0XCIgPT09IHQgJiYgci5jb25zdHJ1Y3RvciAmJiAodCA9IHIuY29uc3RydWN0b3IubmFtZSksIFwiTWFwXCIgPT09IHQgfHwgXCJTZXRcIiA9PT0gdCA/IEFycmF5LmZyb20ocikgOiBcIkFyZ3VtZW50c1wiID09PSB0IHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpID8gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgOiB2b2lkIDA7IH0gfVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfVxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGwpIHsgdmFyIHQgPSBudWxsID09IHIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByW1wiQEBpdGVyYXRvclwiXTsgaWYgKG51bGwgIT0gdCkgeyB2YXIgZSwgbiwgaSwgdSwgYSA9IFtdLCBmID0gITAsIG8gPSAhMTsgdHJ5IHsgaWYgKGkgPSAodCA9IHQuY2FsbChyKSkubmV4dCwgMCA9PT0gbCkgeyBpZiAoT2JqZWN0KHQpICE9PSB0KSByZXR1cm47IGYgPSAhMTsgfSBlbHNlIGZvciAoOyAhKGYgPSAoZSA9IGkuY2FsbCh0KSkuZG9uZSkgJiYgKGEucHVzaChlLnZhbHVlKSwgYS5sZW5ndGggIT09IGwpOyBmID0gITApOyB9IGNhdGNoIChyKSB7IG8gPSAhMCwgbiA9IHI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghZiAmJiBudWxsICE9IHQucmV0dXJuICYmICh1ID0gdC5yZXR1cm4oKSwgT2JqZWN0KHUpICE9PSB1KSkgcmV0dXJuOyB9IGZpbmFsbHkgeyBpZiAobykgdGhyb3cgbjsgfSB9IHJldHVybiBhOyB9IH1cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhyKSB7IGlmIChBcnJheS5pc0FycmF5KHIpKSByZXR1cm4gcjsgfVxuLyoqXG4gKiBMaWJyYXJ5IGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBBY2NvcmRpb24sIENoZWNrYm94LCBJY29uLCBQb3J0YWwsIEljb25CdXR0b24gfSBmcm9tICcuLi8uLi8uLi8uLi9saWIvY29tcG9uZW50cyc7XG5cbi8qKlxuICogSW50ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IERyb3BEb3duLCBQbGF5bGlzdFZpZGVvcyB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMnO1xuaW1wb3J0IHsgaXNQbGF5bGlzdFNlbGVjdGVkLCB0b2dnbGVQbGF5bGlzdCB9IGZyb20gJy4uLy4uLy4uLy4uL3N0b3JlL3NsaWNlcy9wbGF5bGlzdHMnO1xuaW1wb3J0IHsgTGlzdFRodW1iIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cyc7XG5cbi8qKlxuICogRXh0ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBfXyB9IGZyb20gJ0B3b3JkcHJlc3MvaTE4bic7XG5pbXBvcnQgUmVhY3QsIHsgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRGlzcGF0Y2gsIHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMsIEZyYWdtZW50IGFzIF9GcmFnbWVudCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZXhwb3J0IGZ1bmN0aW9uIFBsYXlsaXN0SXRlbShfcmVmKSB7XG4gIHZhciBwbGF5bGlzdCA9IF9yZWYucGxheWxpc3QsXG4gICAgb3BlbkVkaXRNb2RhbCA9IF9yZWYub3BlbkVkaXRNb2RhbCxcbiAgICBzZXRDdXJyZW50UGxheWxpc3QgPSBfcmVmLnNldEN1cnJlbnRQbGF5bGlzdCxcbiAgICBvcGVuVmlzaWJpbGl0eU1vZGFsID0gX3JlZi5vcGVuVmlzaWJpbGl0eU1vZGFsLFxuICAgIG9wZW5WaWRlb3NNb2RhbCA9IF9yZWYub3BlblZpZGVvc01vZGFsLFxuICAgIG9wZW5EZWxldGVNb2RhbCA9IF9yZWYub3BlbkRlbGV0ZU1vZGFsO1xuICB2YXIgaWQgPSBwbGF5bGlzdC5pZCxcbiAgICB0aXRsZSA9IHBsYXlsaXN0LnRpdGxlLFxuICAgIGRlc2NyaXB0aW9uID0gcGxheWxpc3QuZGVzY3JpcHRpb24sXG4gICAgdGh1bWJuYWlsID0gcGxheWxpc3QudGh1bWJuYWlsO1xuICB2YXIgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuICB2YXIgcGxheWxpc3RTZWxlY3RlZCA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBpc1BsYXlsaXN0U2VsZWN0ZWQoc3RhdGUsIGlkKTtcbiAgfSk7XG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZSgpLFxuICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgIGNoZWNrYm94UG9ydGFsID0gX3VzZVN0YXRlMlswXSxcbiAgICBzZXRDaGVja2JveFBvcnRhbCA9IF91c2VTdGF0ZTJbMV07XG4gIHZhciBwb3J0YWxSZWYgPSB1c2VSZWYoKTtcblxuICAvKipcbiAgICogU2VsZWN0IG9yIGRlc2VsZWN0IGEgcGxheWxpc3RcbiAgICpcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHZhciB1cGRhdGVQbGF5bGlzdFNlbGVjdGlvbiA9IGZ1bmN0aW9uIHVwZGF0ZVBsYXlsaXN0U2VsZWN0aW9uKHZhbCkge1xuICAgIGRpc3BhdGNoKHRvZ2dsZVBsYXlsaXN0KHtcbiAgICAgIGlkOiBpZCxcbiAgICAgIGNoZWNrZWQ6IHZhbFxuICAgIH0pKTtcbiAgfTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBzZXRDaGVja2JveFBvcnRhbChwb3J0YWxSZWYuY3VycmVudCk7XG4gIH0sIFtwb3J0YWxSZWZdKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4cyhfRnJhZ21lbnQsIHtcbiAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFBvcnRhbCwge1xuICAgICAgY29udGFpbmVyOiBjaGVja2JveFBvcnRhbCxcbiAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChDaGVja2JveCwge1xuICAgICAgICBsYWJlbDogZmFsc2UsXG4gICAgICAgIGNoZWNrZWQ6IHBsYXlsaXN0U2VsZWN0ZWQsXG4gICAgICAgIG9uQ2hhbmdlOiB1cGRhdGVQbGF5bGlzdFNlbGVjdGlvbixcbiAgICAgICAgaWQ6IFwid3BtdWRldi1wbGF5bGlzdHMtaXRlbS1cIi5jb25jYXQoaWQpXG4gICAgICB9KVxuICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeHMoQWNjb3JkaW9uLkl0ZW0sIHtcbiAgICAgIGNsYXNzTmFtZTogXCJ3cG11ZGV2LXZpZGVvcy1hY2NvcmRpb25cIixcbiAgICAgIGlkOiBcIndwbXVkZXYtdmlkZW9zLXBsYXlsaXN0LWl0ZW0tXCIuY29uY2F0KGlkKSxcbiAgICAgIFwiZGF0YS1pZFwiOiBpZCxcbiAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3hzKEFjY29yZGlvbi5IZWFkZXIsIHtcbiAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeHMoQWNjb3JkaW9uLlRpdGxlLCB7XG4gICAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChcInNwYW5cIiwge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1pY29uLWRyYWcgc3VpLW1kIHNvcnRhYmxlXCIsXG4gICAgICAgICAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiXG4gICAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwiZGl2XCIsIHtcbiAgICAgICAgICAgIHJlZjogcG9ydGFsUmVmXG4gICAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KExpc3RUaHVtYiwge1xuICAgICAgICAgICAgdXJsOiB0aHVtYm5haWwgPT09IG51bGwgfHwgdGh1bWJuYWlsID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aHVtYm5haWwudXJsLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBcInBsYXlsaXN0LXRodW1iXCIsXG4gICAgICAgICAgICBoaWRlSWNvbjogdHJ1ZVxuICAgICAgICAgIH0pLCB0aXRsZV1cbiAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KEFjY29yZGlvbi5EYXRlLCB7XG4gICAgICAgICAgY2hpbGRyZW46IGRlc2NyaXB0aW9uXG4gICAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeHMoQWNjb3JkaW9uLkF1dG9Db2wsIHtcbiAgICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4cyhcImRpdlwiLCB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IFwic3VpLWRyb3Bkb3duIHN1aS1hY2NvcmRpb24taXRlbS1hY3Rpb25cIixcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goSWNvbkJ1dHRvbiwge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IFwic3VpLWRyb3Bkb3duLWFuY2hvclwiLFxuICAgICAgICAgICAgICBpY29uOiBcIndpZGdldC1zZXR0aW5ncy1jb25maWdcIixcbiAgICAgICAgICAgICAgb3V0bGluZWQ6IGZhbHNlXG4gICAgICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goRHJvcERvd24sIHtcbiAgICAgICAgICAgICAgcGxheWxpc3Q6IHBsYXlsaXN0LFxuICAgICAgICAgICAgICBvcGVuRWRpdE1vZGFsOiBvcGVuRWRpdE1vZGFsLFxuICAgICAgICAgICAgICBvcGVuVmlzaWJpbGl0eU1vZGFsOiBvcGVuVmlzaWJpbGl0eU1vZGFsLFxuICAgICAgICAgICAgICBzZXRDdXJyZW50UGxheWxpc3Q6IHNldEN1cnJlbnRQbGF5bGlzdCxcbiAgICAgICAgICAgICAgb3BlblZpZGVvc01vZGFsOiBvcGVuVmlkZW9zTW9kYWwsXG4gICAgICAgICAgICAgIG9wZW5EZWxldGVNb2RhbDogb3BlbkRlbGV0ZU1vZGFsXG4gICAgICAgICAgICB9KV1cbiAgICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goSWNvbkJ1dHRvbiwge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1hY2NvcmRpb24tb3Blbi1pbmRpY2F0b3JcIixcbiAgICAgICAgICAgIGljb246IFwiY2hldnJvbi1kb3duXCIsXG4gICAgICAgICAgICBcImFyaWEtbGFiZWxcIjogX18oJ09wZW4gSXRlbScsICd3cG11ZGV2X3ZpZHMnKSxcbiAgICAgICAgICAgIGxhYmVsOiBfXygnT3BlbiBJdGVtJywgJ3dwbXVkZXZfdmlkcycpLFxuICAgICAgICAgICAgb3V0bGluZWQ6IGZhbHNlXG4gICAgICAgICAgfSldXG4gICAgICAgIH0pXVxuICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KEFjY29yZGlvbi5Cb2R5LCB7XG4gICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChQbGF5bGlzdFZpZGVvcywge1xuICAgICAgICAgIG9wZW5WaWRlb3NNb2RhbDogb3BlblZpZGVvc01vZGFsLFxuICAgICAgICAgIHNldEN1cnJlbnRQbGF5bGlzdDogc2V0Q3VycmVudFBsYXlsaXN0LFxuICAgICAgICAgIHBsYXlsaXN0OiBwbGF5bGlzdFxuICAgICAgICB9KVxuICAgICAgfSldXG4gICAgfSldXG4gIH0pO1xufVxuUGxheWxpc3RJdGVtLmRlZmF1bHRQcm9wcyA9IHtcbiAgcGxheWxpc3Q6IHt9LFxuICBlZGl0TW9kYWxJRDogJycsXG4gIG9wZW5FZGl0TW9kYWw6IGZ1bmN0aW9uIG9wZW5FZGl0TW9kYWwoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIGNsb3NlRWRpdE1vZGFsOiBmdW5jdGlvbiBjbG9zZUVkaXRNb2RhbCgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgb3BlbkRlbGV0ZU1vZGFsOiBmdW5jdGlvbiBvcGVuRGVsZXRlTW9kYWwoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIHNldEN1cnJlbnRQbGF5bGlzdDogZnVuY3Rpb24gc2V0Q3VycmVudFBsYXlsaXN0KCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuUGxheWxpc3RJdGVtLnByb3BUeXBlcyA9IHtcbiAgcGxheWxpc3Q6IFByb3BUeXBlcy5vYmplY3QsXG4gIGVkaXRNb2RhbElEOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBvcGVuRWRpdE1vZGFsOiBQcm9wVHlwZXMuZnVuYyxcbiAgY2xvc2VFZGl0TW9kYWw6IFByb3BUeXBlcy5mdW5jLFxuICBvcGVuRGVsZXRlTW9kYWw6IFByb3BUeXBlcy5mdW5jLFxuICBzZXRDdXJyZW50UGxheWxpc3Q6IFByb3BUeXBlcy5mdW5jXG59O1xuZXhwb3J0IGRlZmF1bHQgLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oUGxheWxpc3RJdGVtKTsiLCJmdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5mdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0KSB7IHJldHVybiAociA9IF90b1Byb3BlcnR5S2V5KHIpKSBpbiBlID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIHsgdmFsdWU6IHQsIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAgfSkgOiBlW3JdID0gdCwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgXCJcIjsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbi8qKlxuICogTGlicmFyeSBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgTGFiZWwsIEJveCwgQnV0dG9uLCBJY29uQnV0dG9uIH0gZnJvbSAnLi4vLi4vLi4vbGliL2NvbXBvbmVudHMnO1xuXG4vKipcbiAqIEludGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBzYXZlUGxheWxpc3QsIGdldExvYWRpbmdTdGF0dXMgfSBmcm9tICcuLi8uLi8uLi9zdG9yZS9zbGljZXMvcGxheWxpc3RzJztcbmltcG9ydCB7IGFkZE5vdGljZSB9IGZyb20gJy4uLy4uLy4uL3N0b3JlL3NsaWNlcy9ub3RpY2UnO1xuaW1wb3J0IHsgUGxheWxpc3RUaXRsZSwgUGxheWxpc3REZXNjIH0gZnJvbSAnLi4vY29tcG9uZW50cyc7XG5cbi8qKlxuICogRXh0ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IHNwcmludGYsIF9fIH0gZnJvbSAnQHdvcmRwcmVzcy9pMThuJztcbmltcG9ydCB7IHVzZURpc3BhdGNoLCB1c2VTZWxlY3RvciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IFVwbG9hZFRodW1iIH0gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cyc7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZXhwb3J0IGZ1bmN0aW9uIEVkaXRQbGF5bGlzdChfcmVmKSB7XG4gIHZhciBwbGF5bGlzdCA9IF9yZWYucGxheWxpc3QsXG4gICAgbW9kYWxJRCA9IF9yZWYubW9kYWxJRCxcbiAgICBjbG9zZU1vZGFsID0gX3JlZi5jbG9zZU1vZGFsLFxuICAgIHNldEN1cnJlbnRQbGF5bGlzdCA9IF9yZWYuc2V0Q3VycmVudFBsYXlsaXN0O1xuICB2YXIgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuICB2YXIgaXNTYXZpbmcgPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4gZ2V0TG9hZGluZ1N0YXR1cyhzdGF0ZSk7XG4gIH0pO1xuICB2YXIgX3JlZjIgPSBwbGF5bGlzdCAhPT0gbnVsbCAmJiBwbGF5bGlzdCAhPT0gdm9pZCAwID8gcGxheWxpc3QgOiB7fSxcbiAgICB0aXRsZSA9IF9yZWYyLnRpdGxlLFxuICAgIGRlc2NyaXB0aW9uID0gX3JlZjIuZGVzY3JpcHRpb24sXG4gICAgdGh1bWJuYWlsID0gX3JlZjIudGh1bWJuYWlsO1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHBsYXlsaXN0IHRpdGxlXG4gICAqXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICB2YXIgdXBkYXRlUGxheWxpc3RUaXRsZSA9IGZ1bmN0aW9uIHVwZGF0ZVBsYXlsaXN0VGl0bGUodmFsdWUpIHtcbiAgICBzZXRDdXJyZW50UGxheWxpc3QoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwbGF5bGlzdCksIHt9LCB7XG4gICAgICB0aXRsZTogdmFsdWVcbiAgICB9KSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgcGxheWxpc3QgZGVzY3JpcHRpb25cbiAgICpcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHZhciB1cGRhdGVQbGF5bGlzdERlc2MgPSBmdW5jdGlvbiB1cGRhdGVQbGF5bGlzdERlc2ModmFsdWUpIHtcbiAgICBzZXRDdXJyZW50UGxheWxpc3QoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwbGF5bGlzdCksIHt9LCB7XG4gICAgICBkZXNjcmlwdGlvbjogdmFsdWVcbiAgICB9KSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgcGxheWxpc3QgdGh1bWJuYWlsXG4gICAqXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICB2YXIgdXBkYXRlUGxheWxpc3RUaHVtYiA9IGZ1bmN0aW9uIHVwZGF0ZVBsYXlsaXN0VGh1bWIodmFsdWUpIHtcbiAgICBzZXRDdXJyZW50UGxheWxpc3QoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwbGF5bGlzdCksIHt9LCB7XG4gICAgICB0aHVtYm5haWw6IHZhbHVlXG4gICAgfSkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTYXZlIENoYW5nZXNcbiAgICpcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHZhciBzYXZlQ2hhbmdlcyA9IGZ1bmN0aW9uIHNhdmVDaGFuZ2VzKCkge1xuICAgIHZhciBfcmVmMyA9IHBsYXlsaXN0ICE9PSBudWxsICYmIHBsYXlsaXN0ICE9PSB2b2lkIDAgPyBwbGF5bGlzdCA6IHt9LFxuICAgICAgaWQgPSBfcmVmMy5pZCxcbiAgICAgIHRpdGxlID0gX3JlZjMudGl0bGUsXG4gICAgICBkZXNjcmlwdGlvbiA9IF9yZWYzLmRlc2NyaXB0aW9uLFxuICAgICAgdGh1bWJuYWlsID0gX3JlZjMudGh1bWJuYWlsO1xuICAgIGRpc3BhdGNoKHNhdmVQbGF5bGlzdCh7XG4gICAgICBpZDogaWQsXG4gICAgICBwbGF5bGlzdDoge1xuICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcbiAgICAgICAgdGh1bWJuYWlsOiB0aHVtYm5haWwuaWRcbiAgICAgIH1cbiAgICB9KSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIHZhciBfcmVzcG9uc2UkcGF5bG9hZDtcbiAgICAgIGlmIChyZXNwb25zZSAhPT0gbnVsbCAmJiByZXNwb25zZSAhPT0gdm9pZCAwICYmIChfcmVzcG9uc2UkcGF5bG9hZCA9IHJlc3BvbnNlLnBheWxvYWQpICE9PSBudWxsICYmIF9yZXNwb25zZSRwYXlsb2FkICE9PSB2b2lkIDAgJiYgX3Jlc3BvbnNlJHBheWxvYWQuc3VjY2Vzcykge1xuICAgICAgICB2YXIgX3Jlc3BvbnNlJHBheWxvYWQyO1xuICAgICAgICAvLyBDbG9zZSB0aGUgbW9kYWxcbiAgICAgICAgY2xvc2VNb2RhbCgpO1xuXG4gICAgICAgIC8vIFNob3cgU3VjY3NzZnVsIE5vdGljZVxuICAgICAgICBkaXNwYXRjaChhZGROb3RpY2Uoe1xuICAgICAgICAgIG1lc3NhZ2U6IHNwcmludGYoX18oJ1BsYXlsaXN0IOKAnCVz4oCdIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5LicsICd3cG11ZGV2X3ZpZHMnKSwgcmVzcG9uc2UgPT09IG51bGwgfHwgcmVzcG9uc2UgPT09IHZvaWQgMCB8fCAoX3Jlc3BvbnNlJHBheWxvYWQyID0gcmVzcG9uc2UucGF5bG9hZCkgPT09IG51bGwgfHwgX3Jlc3BvbnNlJHBheWxvYWQyID09PSB2b2lkIDAgfHwgKF9yZXNwb25zZSRwYXlsb2FkMiA9IF9yZXNwb25zZSRwYXlsb2FkMi5kYXRhKSA9PT0gbnVsbCB8fCBfcmVzcG9uc2UkcGF5bG9hZDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yZXNwb25zZSRwYXlsb2FkMi50aXRsZSlcbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU2hvdyBFcnJvciBOb3RpY2VcbiAgICAgICAgZGlzcGF0Y2goYWRkTm90aWNlKHtcbiAgICAgICAgICBtZXNzYWdlOiBfXygnVXBkYXRpbmcgcGxheWxpc3QgZmFpbGVkLi4nLCAnd3BtdWRldl92aWRzJyksXG4gICAgICAgICAgdHlwZTogJ2Vycm9yJ1xuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeHMoQm94LCB7XG4gICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeHMoQm94LkhlYWRlciwge1xuICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChJY29uQnV0dG9uLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJzdWktYnV0dG9uLWZsb2F0LS1yaWdodFwiLFxuICAgICAgICBpY29uOiBcImNsb3NlXCIsXG4gICAgICAgIG9uQ2xpY2s6IGNsb3NlTW9kYWwsXG4gICAgICAgIHNpemU6IFwibWRcIixcbiAgICAgICAgb3V0bGluZWQ6IGZhbHNlLFxuICAgICAgICBsYWJlbDogX18oJ0Nsb3NlIHRoaXMgZGlhbG9nLicsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwiaDNcIiwge1xuICAgICAgICBpZDogXCJcIi5jb25jYXQobW9kYWxJRCwgXCItdGl0bGVcIiksXG4gICAgICAgIGNsYXNzTmFtZTogXCJzdWktYm94LXRpdGxlXCIsXG4gICAgICAgIGNoaWxkcmVuOiBfXygnRWRpdCBQbGF5bGlzdCcsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSldXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4cyhCb3guQm9keSwge1xuICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChCb3guUm93LCB7XG4gICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeHMoQm94LkNvbDIsIHtcbiAgICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFBsYXlsaXN0VGl0bGUsIHtcbiAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiB1cGRhdGVQbGF5bGlzdFRpdGxlLFxuICAgICAgICAgICAgbW9kYWxJRDogbW9kYWxJRFxuICAgICAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChQbGF5bGlzdERlc2MsIHtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgIG9uQ2hhbmdlOiB1cGRhdGVQbGF5bGlzdERlc2MsXG4gICAgICAgICAgICBtb2RhbElEOiBtb2RhbElEXG4gICAgICAgICAgfSldXG4gICAgICAgIH0pXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3goQm94LlJvdywge1xuICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3hzKEJveC5Db2wyLCB7XG4gICAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeHMoXCJkaXZcIiwge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1mb3JtLWZpZWxkIHdwbXVkZXYtdmlkZW9zLWZpZWxkLS10aHVtYm5haWxcIixcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goTGFiZWwsIHtcbiAgICAgICAgICAgICAgY2hpbGRyZW46IF9fKCdQbGF5bGlzdCB0aHVtYm5haWwgaW1hZ2UnLCAnd3BtdWRldl92aWRzJylcbiAgICAgICAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcInBcIiwge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IFwic3VpLWRlc2NyaXB0aW9uXCIsXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBfXyhcIkFkZCBhIGN1c3RvbSB0aHVtYm5haWwgdG8geW91ciBwbGF5bGlzdCwgb3RoZXJ3aXNlIHdlJ2xsIGp1c3QgdXNlIHRoZSBmaXJzdCB2aWRlbydzIHRodW1ibmFpbC5cIiwgJ3dwbXVkZXZfdmlkcycpXG4gICAgICAgICAgICB9KV1cbiAgICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goVXBsb2FkVGh1bWIsIHtcbiAgICAgICAgICAgIHRodW1ibmFpbDogQXJyYXkuaXNBcnJheSh0aHVtYm5haWwpID8ge30gOiB0aHVtYm5haWwsXG4gICAgICAgICAgICBvblNlbGVjdDogdXBkYXRlUGxheWxpc3RUaHVtYixcbiAgICAgICAgICAgIG1vZGFsSUQ6IG1vZGFsSURcbiAgICAgICAgICB9KV1cbiAgICAgICAgfSlcbiAgICAgIH0pXVxuICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChCb3guRm9vdGVyLCB7XG4gICAgICBpc0ZsYXR0ZW46IHRydWUsXG4gICAgICBpc0NlbnRlcmVkOiB0cnVlLFxuICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KEJ1dHRvbiwge1xuICAgICAgICBjb2xvcjogXCJibHVlXCIsXG4gICAgICAgIGlzTG9hZGluZzogaXNTYXZpbmcsXG4gICAgICAgIGRpc2FibGVkOiBpc1NhdmluZyxcbiAgICAgICAgb25Mb2FkaW5nVGV4dDogX18oJ1NhdmluZyBDaGFuZ2VzJywgJ3dwbXVkZXZfdmlkcycpLFxuICAgICAgICBvbkNsaWNrOiBzYXZlQ2hhbmdlcyxcbiAgICAgICAgY2hpbGRyZW46IF9fKCdTYXZlIENoYW5nZXMnLCAnd3BtdWRldl92aWRzJylcbiAgICAgIH0pXG4gICAgfSldXG4gIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgRWRpdFBsYXlsaXN0OyIsImZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbnZhciBfd2luZG93JGl2dE1vZHVsZVZhcnMsIF93aW5kb3ckaXZ0VmFycztcbmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfVxuZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KGUsIHIsIHQpIHsgcmV0dXJuIChyID0gX3RvUHJvcGVydHlLZXkocikpIGluIGUgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgeyB2YWx1ZTogdCwgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9KSA6IGVbcl0gPSB0LCBlOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleSh0KSB7IHZhciBpID0gX3RvUHJpbWl0aXZlKHQsIFwic3RyaW5nXCIpOyByZXR1cm4gXCJzeW1ib2xcIiA9PSBfdHlwZW9mKGkpID8gaSA6IGkgKyBcIlwiOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikgeyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKHQpIHx8ICF0KSByZXR1cm4gdDsgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmICh2b2lkIDAgIT09IGUpIHsgdmFyIGkgPSBlLmNhbGwodCwgciB8fCBcImRlZmF1bHRcIik7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YoaSkpIHJldHVybiBpOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsgfVxuLyoqXG4gKiBMaWJyYXJ5IGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBCb3gsIFNlbGVjdCwgQnV0dG9uLCBMYWJlbCwgU3RhdGljTm90aWNlLCBJY29uQnV0dG9uIH0gZnJvbSAnLi4vLi4vLi4vbGliL2NvbXBvbmVudHMnO1xuXG4vKipcbiAqIEludGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBVc2VyUm9sZXMgfSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzJztcbmltcG9ydCB7IGdldE9wdGlvbiB9IGZyb20gJy4uLy4uLy4uL3N0b3JlL3NsaWNlcy9zZXR0aW5ncyc7XG5pbXBvcnQgeyBzYXZlUGxheWxpc3QsIGdldExvYWRpbmdTdGF0dXMgfSBmcm9tICcuLi8uLi8uLi9zdG9yZS9zbGljZXMvcGxheWxpc3RzJztcbmltcG9ydCB7IGFkZE5vdGljZSB9IGZyb20gJy4uLy4uLy4uL3N0b3JlL3NsaWNlcy9ub3RpY2UnO1xuXG4vKipcbiAqIEV4dGVybmFsIERlcG5lZGVuY2llc1xuICovXG5pbXBvcnQgeyBfXyB9IGZyb20gJ0B3b3JkcHJlc3MvaTE4bic7XG5pbXBvcnQgeyB1c2VTZWxlY3RvciwgdXNlRGlzcGF0Y2ggfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBJbnRlcndlYXZlIH0gZnJvbSAnaW50ZXJ3ZWF2ZSc7XG5cbi8vIEdsb2JhbCBWYXJpYWJsZXNcbmltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzLCBGcmFnbWVudCBhcyBfRnJhZ21lbnQgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBfcmVmID0gKF93aW5kb3ckaXZ0TW9kdWxlVmFycyA9IHdpbmRvdy5pdnRNb2R1bGVWYXJzKSAhPT0gbnVsbCAmJiBfd2luZG93JGl2dE1vZHVsZVZhcnMgIT09IHZvaWQgMCA/IF93aW5kb3ckaXZ0TW9kdWxlVmFycyA6IHt9LFxuICBsb2NhdGlvbnMgPSBfcmVmLmxvY2F0aW9ucztcbnZhciBfcmVmMiA9IChfd2luZG93JGl2dFZhcnMgPSB3aW5kb3cuaXZ0VmFycykgIT09IG51bGwgJiYgX3dpbmRvdyRpdnRWYXJzICE9PSB2b2lkIDAgPyBfd2luZG93JGl2dFZhcnMgOiB7fSxcbiAgc2V0dGluZ3MgPSBfcmVmMi51cmxzLnNldHRpbmdzO1xuZXhwb3J0IGZ1bmN0aW9uIFZpc2liaWxpdHlTZXR0aW5ncyhfcmVmMykge1xuICB2YXIgcGxheWxpc3QgPSBfcmVmMy5wbGF5bGlzdCxcbiAgICBzZXRDdXJyZW50UGxheWxpc3QgPSBfcmVmMy5zZXRDdXJyZW50UGxheWxpc3QsXG4gICAgY2xvc2VNb2RhbCA9IF9yZWYzLmNsb3NlTW9kYWwsXG4gICAgbW9kYWxJRCA9IF9yZWYzLm1vZGFsSUQ7XG4gIHZhciBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gIHZhciBfcmVmNCA9IHBsYXlsaXN0ICE9PSBudWxsICYmIHBsYXlsaXN0ICE9PSB2b2lkIDAgPyBwbGF5bGlzdCA6IHt9LFxuICAgIGlkID0gX3JlZjQuaWQsXG4gICAgcGxheWxpc3Rfcm9sZXMgPSBfcmVmNC5wbGF5bGlzdF9yb2xlcyxcbiAgICBwbGF5bGlzdF9sb2NhdGlvbnMgPSBfcmVmNC5wbGF5bGlzdF9sb2NhdGlvbnM7XG4gIHZhciBjb250ZXh0dWFsSGVscCA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBnZXRPcHRpb24oc3RhdGUsICdjb250ZXh0dWFsX2hlbHAnKTtcbiAgfSk7XG4gIHZhciBpc1NhdmluZyA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBnZXRMb2FkaW5nU3RhdHVzKHN0YXRlKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBwbGF5bGlzdCBzdGF0ZSB3aXRoIG5ldyByb2xlc1xuICAgKi9cbiAgdmFyIHVwZGF0ZVBsYXlsaXN0Um9sZXMgPSBmdW5jdGlvbiB1cGRhdGVQbGF5bGlzdFJvbGVzKHJvbGVzKSB7XG4gICAgdmFyIG5ld1BsYXlsaXN0ID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwbGF5bGlzdCksIHt9LCB7XG4gICAgICBwbGF5bGlzdF9yb2xlczogcm9sZXNcbiAgICB9KTtcbiAgICBzZXRDdXJyZW50UGxheWxpc3QobmV3UGxheWxpc3QpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGUgcGxheWxpc3QgbG9jYXRpb25zXG4gICAqL1xuICB2YXIgdXBkYXRlUGxheWxpc3RMb2NhdGlvbnMgPSBmdW5jdGlvbiB1cGRhdGVQbGF5bGlzdExvY2F0aW9ucyhsb2NhdGlvbnMpIHtcbiAgICB2YXIgbmV3UGxheWxpc3QgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHBsYXlsaXN0KSwge30sIHtcbiAgICAgIHBsYXlsaXN0X2xvY2F0aW9uczogbG9jYXRpb25zXG4gICAgfSk7XG4gICAgc2V0Q3VycmVudFBsYXlsaXN0KG5ld1BsYXlsaXN0KTtcbiAgfTtcblxuICAvKipcbiAgICogU2F2ZSBDaGFuZ2VzXG4gICAqL1xuICB2YXIgc2F2ZUNoYW5nZXMgPSBmdW5jdGlvbiBzYXZlQ2hhbmdlcygpIHtcbiAgICBkaXNwYXRjaChzYXZlUGxheWxpc3Qoe1xuICAgICAgaWQ6IGlkLFxuICAgICAgcGxheWxpc3Q6IHtcbiAgICAgICAgbG9jYXRpb25zOiBwbGF5bGlzdF9sb2NhdGlvbnMsXG4gICAgICAgIHJvbGVzOiBwbGF5bGlzdF9yb2xlc1xuICAgICAgfVxuICAgIH0pKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgdmFyIF9yZXNwb25zZSRwYXlsb2FkO1xuICAgICAgaWYgKHJlc3BvbnNlICE9PSBudWxsICYmIHJlc3BvbnNlICE9PSB2b2lkIDAgJiYgKF9yZXNwb25zZSRwYXlsb2FkID0gcmVzcG9uc2UucGF5bG9hZCkgIT09IG51bGwgJiYgX3Jlc3BvbnNlJHBheWxvYWQgIT09IHZvaWQgMCAmJiBfcmVzcG9uc2UkcGF5bG9hZC5zdWNjZXNzKSB7XG4gICAgICAgIC8vIGNsb3NlIHRoZSBtb2RhbFxuICAgICAgICBjbG9zZU1vZGFsKCk7XG5cbiAgICAgICAgLy8gU2hvdyBTdWNjc3NmdWwgTm90aWNlXG4gICAgICAgIGRpc3BhdGNoKGFkZE5vdGljZSh7XG4gICAgICAgICAgbWVzc2FnZTogX18oJ1BsYXlsaXN0IHNldHRpbmdzIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5LicsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgICB9KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBTaG93IEVycm9yIE5vdGljZVxuICAgICAgICBkaXNwYXRjaChhZGROb3RpY2Uoe1xuICAgICAgICAgIG1lc3NhZ2U6IF9fKCdQbGF5bGlzdCBzZXR0aW5ncyB1cGRhdGUgZmFpbGVkLicsICd3cG11ZGV2X3ZpZHMnKSxcbiAgICAgICAgICB0eXBlOiAnZXJyb3InXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4cyhCb3gsIHtcbiAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4cyhCb3guSGVhZGVyLCB7XG4gICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KEljb25CdXR0b24sIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1idXR0b24tZmxvYXQtLXJpZ2h0XCIsXG4gICAgICAgIGljb246IFwiY2xvc2VcIixcbiAgICAgICAgb25DbGljazogY2xvc2VNb2RhbCxcbiAgICAgICAgc2l6ZTogXCJtZFwiLFxuICAgICAgICBvdXRsaW5lZDogZmFsc2UsXG4gICAgICAgIGxhYmVsOiBfXygnQ2xvc2UgdGhpcyBkaWFsb2cuJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJoM1wiLCB7XG4gICAgICAgIGlkOiBcIlwiLmNvbmNhdChtb2RhbElELCBcIi10aXRsZVwiKSxcbiAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1ib3gtdGl0bGVcIixcbiAgICAgICAgY2hpbGRyZW46IF9fKCdWaXNpYmlsaXR5IHNldHRpbmdzJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICB9KV1cbiAgICB9KSwgLyojX19QVVJFX18qL19qc3hzKEJveC5Cb2R5LCB7XG4gICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFwicFwiLCB7XG4gICAgICAgIGNoaWxkcmVuOiBfXygnQ29udHJvbCB3aGljaCB1c2VyIHJvbGVzIGFyZSBhYmxlIHRvIHNlZSB0aGlzIHBsYXlsaXN0LCBpbiBhZGRpdGlvbiB0byB3aGVyZSBpdCB3aWxsIGJlIGRpc3BsYXllZCBhcyBhbiBhdmFpbGFibGUgV29yZFByZXNzIHdpZGdldCcsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KEJveC5Sb3csIHtcbiAgICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4cyhCb3guQ29sMiwge1xuICAgICAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goQm94LkxhYmVsLCB7XG4gICAgICAgICAgICBjaGlsZHJlbjogX18oJ1Blcm1pc3Npb25zJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KEJveC5EZXNjcmlwdGlvbiwge1xuICAgICAgICAgICAgY2hpbGRyZW46IF9fKCdDaG9vc2Ugd2hpY2ggdXNlciByb2xlcyB3aWxsIGJlIGFibGUgdG8gdmlldyB0aGlzIHBsYXlsaXN0LicsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChVc2VyUm9sZXMsIHtcbiAgICAgICAgICAgIHJvbGVzVmFsdWVzOiBwbGF5bGlzdF9yb2xlcyxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiB1cGRhdGVQbGF5bGlzdFJvbGVzXG4gICAgICAgICAgfSldXG4gICAgICAgIH0pXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3goQm94LlJvdywge1xuICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3hzKEJveC5Db2wyLCB7XG4gICAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChCb3guTGFiZWwsIHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiBfXygnTG9jYXRpb24nLCAnd3BtdWRldl92aWRzJylcbiAgICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goQm94LkRlc2NyaXB0aW9uLCB7XG4gICAgICAgICAgICBjaGlsZHJlbjogX18oJ0Nob29zZSB3aGljaCBkZWZhdWx0IGxvY2F0aW9ucyB3aWxsIHNob3cgdGhpcyB2aWRlbyBwbGF5bGlzdCB0byB0aGUgdXNlciByb2xlcyBzZWxlY3RlZCBhYm92ZS4nLCAnd3BtdWRldl92aWRzJylcbiAgICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJkaXZcIiwge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1mb3JtLWZpZWxkXCIsXG4gICAgICAgICAgICBcInYtaWZcIjogXCJzaG93TG9jYXRpb25TZXR0aW5nc1wiLFxuICAgICAgICAgICAgY2hpbGRyZW46ICEhY29udGV4dHVhbEhlbHAgPyAvKiNfX1BVUkVfXyovX2pzeHMoX0ZyYWdtZW50LCB7XG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goTGFiZWwsIHtcbiAgICAgICAgICAgICAgICBodG1sRm9yOiBcIndwbXVkZXYtdmlkZW9zLXBsYXlsaXN0LWxvY2F0aW9uXCIsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IF9fKCdDaG9vc2UgV1AgQWRtaW4gcGFnZXMnLCAnd3BtdWRldl92aWRzJylcbiAgICAgICAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFNlbGVjdCwge1xuICAgICAgICAgICAgICAgIGlkOiBcIndwbXVkZXYtdmlkZW9zLXBsYXlsaXN0LWxvY2F0aW9uXCIsXG4gICAgICAgICAgICAgICAgbGFiZWxJRDogXCJ3cG11ZGV2LXZpZGVvcy1wbGF5bGlzdC1sb2NhdGlvbi1sYWJlbFwiLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGxvY2F0aW9ucyxcbiAgICAgICAgICAgICAgICBtdWx0aXBsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogcGxheWxpc3RfbG9jYXRpb25zLFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBfXygnQ2hvb3NlIFdQIEFkbWluIHBhZ2VzJywgJ3dwbXVkZXZfdmlkcycpLFxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB1cGRhdGVQbGF5bGlzdExvY2F0aW9ucyxcbiAgICAgICAgICAgICAgICBwYXJlbnRFbGVtZW50OiBtb2RhbElEXG4gICAgICAgICAgICAgIH0pXVxuICAgICAgICAgICAgfSkgOiAvKiNfX1BVUkVfXyovX2pzeChTdGF0aWNOb3RpY2UsIHtcbiAgICAgICAgICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KFwicFwiLCB7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KEludGVyd2VhdmUsIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHNwcmludGYoX18oJ1RvIGNvbmZpZ3VyZSBsb2NhdGlvbnMgZm9yIHRoaXMgcGxheWxpc3QsIHBsZWFzZSBlbmFibGUgdGhlIDxhIGhyZWY9XCIlc1wiPkFkZCBWaWRlb3MgdG8gQ29udGV4dHVhbCBIZWxwPC9hPiBmZWF0dXJlIG9uIHRoZSBTZXR0aW5ncyBwYWdlLicsICd3cG11ZGV2X3ZpZCcpLCBzZXR0aW5ncylcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KV1cbiAgICAgICAgfSlcbiAgICAgIH0pXVxuICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChCb3guRm9vdGVyLCB7XG4gICAgICBpc0NlbnRlcmVkOiB0cnVlLFxuICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KEJ1dHRvbiwge1xuICAgICAgICBpc0xvYWRpbmc6IGlzU2F2aW5nLFxuICAgICAgICBkaXNhYmxlZDogaXNTYXZpbmcsXG4gICAgICAgIG9uQ2xpY2s6IHNhdmVDaGFuZ2VzLFxuICAgICAgICBvbkxvYWRpbmdUZXh0OiBfXygnU2F2aW5nIENoYW5nZXMnLCAnd3BtdWRldl92aWRzJyksXG4gICAgICAgIGNvbG9yOiBcImJsdWVcIixcbiAgICAgICAgY2hpbGRyZW46IF9fKCdTYXZlIENoYW5nZXMnLCAnd3BtdWRldl92aWRzJylcbiAgICAgIH0pXG4gICAgfSldXG4gIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgVmlzaWJpbGl0eVNldHRpbmdzOyIsImZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KHIsIGUpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQociwgZSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGUpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGEpIHsgaWYgKHIpIHsgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKTsgdmFyIHQgPSB7fS50b1N0cmluZy5jYWxsKHIpLnNsaWNlKDgsIC0xKTsgcmV0dXJuIFwiT2JqZWN0XCIgPT09IHQgJiYgci5jb25zdHJ1Y3RvciAmJiAodCA9IHIuY29uc3RydWN0b3IubmFtZSksIFwiTWFwXCIgPT09IHQgfHwgXCJTZXRcIiA9PT0gdCA/IEFycmF5LmZyb20ocikgOiBcIkFyZ3VtZW50c1wiID09PSB0IHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpID8gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgOiB2b2lkIDA7IH0gfVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfVxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGwpIHsgdmFyIHQgPSBudWxsID09IHIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByW1wiQEBpdGVyYXRvclwiXTsgaWYgKG51bGwgIT0gdCkgeyB2YXIgZSwgbiwgaSwgdSwgYSA9IFtdLCBmID0gITAsIG8gPSAhMTsgdHJ5IHsgaWYgKGkgPSAodCA9IHQuY2FsbChyKSkubmV4dCwgMCA9PT0gbCkgeyBpZiAoT2JqZWN0KHQpICE9PSB0KSByZXR1cm47IGYgPSAhMTsgfSBlbHNlIGZvciAoOyAhKGYgPSAoZSA9IGkuY2FsbCh0KSkuZG9uZSkgJiYgKGEucHVzaChlLnZhbHVlKSwgYS5sZW5ndGggIT09IGwpOyBmID0gITApOyB9IGNhdGNoIChyKSB7IG8gPSAhMCwgbiA9IHI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghZiAmJiBudWxsICE9IHQucmV0dXJuICYmICh1ID0gdC5yZXR1cm4oKSwgT2JqZWN0KHUpICE9PSB1KSkgcmV0dXJuOyB9IGZpbmFsbHkgeyBpZiAobykgdGhyb3cgbjsgfSB9IHJldHVybiBhOyB9IH1cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhyKSB7IGlmIChBcnJheS5pc0FycmF5KHIpKSByZXR1cm4gcjsgfVxuLyoqXG4gKiBMaWJyYXJ5IGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBCb3gsIEljb25CdXR0b24sIEJ1dHRvbiB9IGZyb20gJy4uLy4uLy4uL2xpYi9jb21wb25lbnRzJztcblxuLyoqXG4gKiBJbnRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgV2hpdGVMYWJlbEJhbm5lciB9IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMnO1xuaW1wb3J0IHsgc2F2ZVBsYXlsaXN0LCBnZXRMb2FkaW5nU3RhdHVzIH0gZnJvbSAnLi4vLi4vLi4vc3RvcmUvc2xpY2VzL3BsYXlsaXN0cyc7XG5pbXBvcnQgeyBhZGROb3RpY2UgfSBmcm9tICcuLi8uLi8uLi9zdG9yZS9zbGljZXMvbm90aWNlJztcbmltcG9ydCB7IFVwZ3JhZGVOb3RpY2UsIFJlbmV3Tm90aWNlLCBWaWRlb1NlYXJjaElucHV0LCBWaWRlb3NMaXN0IH0gZnJvbSAnLi4vY29tcG9uZW50cyc7XG5pbXBvcnQgeyBleHBpcmVkTWVtYmVyLCB2YWxpZE1lbWJlciwgZGFzaENvbm5lY3RlZCB9IGZyb20gJy4uLy4uLy4uL2hlbHBlcnMvdXRpbHMnO1xuXG4vKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBfXyB9IGZyb20gJ0B3b3JkcHJlc3MvaTE4bic7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRGlzcGF0Y2gsIHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMsIEZyYWdtZW50IGFzIF9GcmFnbWVudCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZXhwb3J0IGZ1bmN0aW9uIEFkZFZpZGVvcyhfcmVmKSB7XG4gIHZhciBtb2RhbElEID0gX3JlZi5tb2RhbElELFxuICAgIGNsb3NlTW9kYWwgPSBfcmVmLmNsb3NlTW9kYWwsXG4gICAgcGxheWxpc3QgPSBfcmVmLnBsYXlsaXN0LFxuICAgIHNldEN1cnJlbnRQbGF5bGlzdCA9IF9yZWYuc2V0Q3VycmVudFBsYXlsaXN0O1xuICB2YXIgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuICB2YXIgX3JlZjIgPSBwbGF5bGlzdCAhPT0gbnVsbCAmJiBwbGF5bGlzdCAhPT0gdm9pZCAwID8gcGxheWxpc3QgOiB7fSxcbiAgICBpZCA9IF9yZWYyLmlkLFxuICAgIHZpZGVvcyA9IF9yZWYyLnZpZGVvcztcbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKDApLFxuICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgIHZpZGVvQ291bnQgPSBfdXNlU3RhdGUyWzBdLFxuICAgIHNldFZpZGVvQ291bnQgPSBfdXNlU3RhdGUyWzFdO1xuICB2YXIgaXNTYXZpbmcgPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4gZ2V0TG9hZGluZ1N0YXR1cyhzdGF0ZSk7XG4gIH0pO1xuICB2YXIgQm94SGVhZGVyQ2xhc3NlcyA9IGNsYXNzbmFtZXMoJ3N1aS1ib3gtaGVhZGVyJywgJ3N1aS1mbGF0dGVuJywgJ3N1aS1jb250ZW50LWNlbnRlcicsICdzdWktc3BhY2luZy10b3AtLTYwJywgJ3N1aS1zcGFjaW5nLXNpZGVzLS0xMDAnKTtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgd2UgbmVlZCB0byBzaG93IHRoZSBtZW1iZXJzaGlwIHVwZ3JhZGUgbm90aWNlLlxuICAgKi9cbiAgdmFyIHNob3dVcGdyYWRlTm90aWNlID0gIWV4cGlyZWRNZW1iZXIoKSAmJiAhdmFsaWRNZW1iZXIoKSAmJiBkYXNoQ29ubmVjdGVkKCkgJiYgKHR5cGVvZiB2aWRlb0NvdW50ID09PSAndW5kZWZpbmVkJyB8fCB2aWRlb0NvdW50IDw9IDApO1xuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB3ZSBuZWVkIHRvIHNob3cgdGhlIG1lbWJlcnNoaXAgZXhwaXJlZCBub3RpY2UuXG4gICAqL1xuICB2YXIgc2hvd0V4cGlyZWROb3RpY2UgPSBleHBpcmVkTWVtYmVyKCkgJiYgZGFzaENvbm5lY3RlZCgpICYmICh0eXBlb2YgdmlkZW9Db3VudCA9PT0gJ3VuZGVmaW5lZCcgfHwgdmlkZW9Db3VudCA8PSAwKTtcblxuICAvKipcbiAgICogU2F2ZSBDaGFuZ2VzXG4gICAqL1xuICB2YXIgc2F2ZUNoYW5nZXMgPSBmdW5jdGlvbiBzYXZlQ2hhbmdlcygpIHtcbiAgICBkaXNwYXRjaChzYXZlUGxheWxpc3Qoe1xuICAgICAgaWQ6IGlkLFxuICAgICAgcGxheWxpc3Q6IHtcbiAgICAgICAgdmlkZW9zOiB2aWRlb3NcbiAgICAgIH1cbiAgICB9KSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIHZhciBfcmVzcG9uc2UkcGF5bG9hZDtcbiAgICAgIGlmIChyZXNwb25zZSAhPT0gbnVsbCAmJiByZXNwb25zZSAhPT0gdm9pZCAwICYmIChfcmVzcG9uc2UkcGF5bG9hZCA9IHJlc3BvbnNlLnBheWxvYWQpICE9PSBudWxsICYmIF9yZXNwb25zZSRwYXlsb2FkICE9PSB2b2lkIDAgJiYgX3Jlc3BvbnNlJHBheWxvYWQuc3VjY2Vzcykge1xuICAgICAgICAvLyBjbG9zZSB0aGUgbW9kYWxcbiAgICAgICAgY2xvc2VNb2RhbCgpO1xuXG4gICAgICAgIC8vIFNob3cgU3VjY2Vzc2Z1bCBOb3RpY2VcbiAgICAgICAgZGlzcGF0Y2goYWRkTm90aWNlKHtcbiAgICAgICAgICBtZXNzYWdlOiBfXygnUGxheWxpc3QgdmlkZW9zIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5LicsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgICB9KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBzaG93IGVycm9yIG1lc3NhZ2VcbiAgICAgICAgZGlzcGF0Y2goYWRkTm90aWNlKHtcbiAgICAgICAgICBtZXNzYWdlOiBfXygnQ291bGQgbm90IHVwZGF0ZSB0aGUgcGxheWxpc3QgdmlkZW9zLiBQbGVhc2UgdHJ5IGFnYWluLicsICd3cG11ZGV2X3ZpZHMnKSxcbiAgICAgICAgICB0eXBlOiAnZXJyb3InXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4cyhCb3gsIHtcbiAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFwiYnV0dG9uXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJzdWktc2NyZWVuLXJlYWRlci10ZXh0XCIsXG4gICAgICBvbkNsaWNrOiBjbG9zZU1vZGFsLFxuICAgICAgY2hpbGRyZW46IF9fKCdDbG9zZSB0aGlzIGRpYWxvZy4nLCAnd3BtdWRldl92aWRzJylcbiAgICB9KSwgLyojX19QVVJFX18qL19qc3hzKEJveC5IZWFkZXIsIHtcbiAgICAgIGNsYXNzTmFtZTogQm94SGVhZGVyQ2xhc3NlcyxcbiAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goV2hpdGVMYWJlbEJhbm5lciwge1xuICAgICAgICBzcmM6IFwibW9kYWwvbW9kYWwtaGVhZGVyLXZpZGVvcy5wbmdcIixcbiAgICAgICAgYWx0OiBfXygnQWRkIHZpZGVvcycsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KEljb25CdXR0b24sIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1idXR0b24tZmxvYXQtLXJpZ2h0XCIsXG4gICAgICAgIGljb246IFwiY2xvc2VcIixcbiAgICAgICAgb25DbGljazogY2xvc2VNb2RhbCxcbiAgICAgICAgc2l6ZTogXCJtZFwiLFxuICAgICAgICBvdXRsaW5lZDogZmFsc2UsXG4gICAgICAgIGxhYmVsOiBfXygnQ2xvc2UgdGhpcyBkaWFsb2cuJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJoM1wiLCB7XG4gICAgICAgIGlkOiBcIlwiLmNvbmNhdChtb2RhbElELCBcIi10aXRsZVwiKSxcbiAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1ib3gtdGl0bGUgc3VpLWxnXCIsXG4gICAgICAgIGNoaWxkcmVuOiBfXygnQWRkIHZpZGVvcycsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwicFwiLCB7XG4gICAgICAgIGlkOiBcIlwiLmNvbmNhdChtb2RhbElELCBcIi1kZXNjXCIpLFxuICAgICAgICBjbGFzc05hbWU6IFwic3VpLWRlc2NyaXB0aW9uXCIsXG4gICAgICAgIGNoaWxkcmVuOiBfXygnQ2hvb3NlIHdoaWNoIHZpZGVvcyB5b3Ugd2FudCB0byBhc3NpZ24gdG8gdGhpcyBwbGF5bGlzdC4gWW91IGNhbiBhZGQgYXMgbWFueSBhcyB5b3UgbGlrZS4nLCAnd3BtdWRldl92aWRzJylcbiAgICAgIH0pXVxuICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeHMoQm94LkJvZHksIHtcbiAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goVmlkZW9TZWFyY2hJbnB1dCwge1xuICAgICAgICBzZXRWaWRlb0NvdW50OiBzZXRWaWRlb0NvdW50XG4gICAgICB9KSwgc2hvd1VwZ3JhZGVOb3RpY2UgJiYgLyojX19QVVJFX18qL19qc3hzKF9GcmFnbWVudCwge1xuICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFwiYnJcIiwge30pLCAvKiNfX1BVUkVfXyovX2pzeChVcGdyYWRlTm90aWNlLCB7fSldXG4gICAgICB9KSwgIXNob3dVcGdyYWRlTm90aWNlICYmIHNob3dFeHBpcmVkTm90aWNlICYmIC8qI19fUFVSRV9fKi9fanN4cyhfRnJhZ21lbnQsIHtcbiAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChcImJyXCIsIHt9KSwgLyojX19QVVJFX18qL19qc3goUmVuZXdOb3RpY2UsIHt9KV1cbiAgICAgIH0pXVxuICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChWaWRlb3NMaXN0LCB7XG4gICAgICBzZXRDdXJyZW50UGxheWxpc3Q6IHNldEN1cnJlbnRQbGF5bGlzdCxcbiAgICAgIHBsYXlsaXN0OiBwbGF5bGlzdCxcbiAgICAgIHNldFZpZGVvQ291bnQ6IHNldFZpZGVvQ291bnRcbiAgICB9KSwgLyojX19QVVJFX18qL19qc3hzKEJveC5Gb290ZXIsIHtcbiAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goQnV0dG9uLCB7XG4gICAgICAgIHR5cGU6IFwiZ2hvc3RcIixcbiAgICAgICAgb25DbGljazogY2xvc2VNb2RhbCxcbiAgICAgICAgY2hpbGRyZW46IF9fKCdDYW5jZWwnLCAnd3BtdWRldl92aWRzJylcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChCb3guUmlnaHQsIHtcbiAgICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KEJ1dHRvbiwge1xuICAgICAgICAgIGlzTG9hZGluZzogaXNTYXZpbmcsXG4gICAgICAgICAgZGlzYWJsZWQ6IGlzU2F2aW5nLFxuICAgICAgICAgIG9uQ2xpY2s6IHNhdmVDaGFuZ2VzLFxuICAgICAgICAgIG9uTG9hZGluZ1RleHQ6IF9fKCdBZGRpbmcgVmlkZW9zJywgJ3dwbXVkZXZfdmlkcycpLFxuICAgICAgICAgIGNoaWxkcmVuOiBfXygnQWRkIHZpZGVvcycsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgICB9KVxuICAgICAgfSldXG4gICAgfSldXG4gIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgQWRkVmlkZW9zOyIsImZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfVxuZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KGUsIHIsIHQpIHsgcmV0dXJuIChyID0gX3RvUHJvcGVydHlLZXkocikpIGluIGUgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgeyB2YWx1ZTogdCwgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9KSA6IGVbcl0gPSB0LCBlOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleSh0KSB7IHZhciBpID0gX3RvUHJpbWl0aXZlKHQsIFwic3RyaW5nXCIpOyByZXR1cm4gXCJzeW1ib2xcIiA9PSBfdHlwZW9mKGkpID8gaSA6IGkgKyBcIlwiOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikgeyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKHQpIHx8ICF0KSByZXR1cm4gdDsgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmICh2b2lkIDAgIT09IGUpIHsgdmFyIGkgPSBlLmNhbGwodCwgciB8fCBcImRlZmF1bHRcIik7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YoaSkpIHJldHVybiBpOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsgfVxuLyoqXG4gKiBMaWJyYXJ5IGNvbXBvbmVudHNcbiAqL1xuaW1wb3J0IHsgTGFiZWwsIEJveCwgSWNvbiwgQnV0dG9uIH0gZnJvbSAnLi4vLi4vLi4vLi4vbGliL2NvbXBvbmVudHMnO1xuXG4vKipcbiAqIEludGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBQbGF5bGlzdFRpdGxlLCBQbGF5bGlzdERlc2MgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzJztcbmltcG9ydCB7IFVwbG9hZFRodW1iLCBXaGl0ZUxhYmVsQmFubmVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cyc7XG5cbi8qKlxuICogRXh0ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgX18gfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmV4cG9ydCBmdW5jdGlvbiBQbGF5bGlzdFNldHRpbmdzKF9yZWYpIHtcbiAgdmFyIG1vZGFsSUQgPSBfcmVmLm1vZGFsSUQsXG4gICAgcGxheWxpc3QgPSBfcmVmLnBsYXlsaXN0LFxuICAgIHNldFBsYXlsaXN0ID0gX3JlZi5zZXRQbGF5bGlzdCxcbiAgICBjbG9zZU1vZGFsID0gX3JlZi5jbG9zZU1vZGFsO1xuICB2YXIgdGh1bWJuYWlsID0gcGxheWxpc3QudGh1bWJuYWlsLFxuICAgIGRlc2NyaXB0aW9uID0gcGxheWxpc3QuZGVzY3JpcHRpb24sXG4gICAgdGl0bGUgPSBwbGF5bGlzdC50aXRsZTtcbiAgLyoqXG4gICAqIFVwZGF0ZXMgcGxheWxpc3QgdGl0bGVcbiAgICpcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHZhciB1cGRhdGVQbGF5bGlzdFRpdGxlID0gZnVuY3Rpb24gdXBkYXRlUGxheWxpc3RUaXRsZSh2YWx1ZSkge1xuICAgIHNldFBsYXlsaXN0KF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcGxheWxpc3QpLCB7fSwge1xuICAgICAgdGl0bGU6IHZhbHVlXG4gICAgfSkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHBsYXlsaXN0IGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICB2YXIgdXBkYXRlUGxheWxpc3REZXNjID0gZnVuY3Rpb24gdXBkYXRlUGxheWxpc3REZXNjKHZhbHVlKSB7XG4gICAgc2V0UGxheWxpc3QoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwbGF5bGlzdCksIHt9LCB7XG4gICAgICBkZXNjcmlwdGlvbjogdmFsdWVcbiAgICB9KSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgcGxheWxpc3QgdGh1bWJuYWlsXG4gICAqXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICB2YXIgdXBkYXRlUGxheWxpc3RUaHVtYiA9IGZ1bmN0aW9uIHVwZGF0ZVBsYXlsaXN0VGh1bWIodmFsdWUpIHtcbiAgICBzZXRQbGF5bGlzdChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHBsYXlsaXN0KSwge30sIHtcbiAgICAgIHRodW1ibmFpbDogdmFsdWVcbiAgICB9KSk7XG4gIH07XG4gIHZhciBCb3hIZWFkZXJDbGFzc2VzID0gY2xhc3NuYW1lcygnc3VpLWJveC1oZWFkZXInLCAnc3VpLWZsYXR0ZW4nLCAnc3VpLWNvbnRlbnQtY2VudGVyJywgJ3N1aS1zcGFjaW5nLXRvcC0tNjAnLCAnc3VpLXNwYWNpbmctc2lkZXMtLTEwMCcpO1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3goXCJkaXZcIiwge1xuICAgIGlkOiBcIlwiLmNvbmNhdChtb2RhbElELCBcIi1wbGF5bGlzdC1zZXR0aW5nc1wiKSxcbiAgICBjbGFzc05hbWU6IFwic3VpLW1vZGFsLXNsaWRlIHN1aS1hY3RpdmUgc3VpLWxvYWRlZFwiLFxuICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeHMoQm94LCB7XG4gICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4cyhCb3guSGVhZGVyLCB7XG4gICAgICAgIGNsYXNzTmFtZTogQm94SGVhZGVyQ2xhc3NlcyxcbiAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChXaGl0ZUxhYmVsQmFubmVyLCB7XG4gICAgICAgICAgc3JjOiBcIm1vZGFsL21vZGFsLWhlYWRlci12aWRlb3MucG5nXCIsXG4gICAgICAgICAgYWx0OiBfXygnQ3JlYXRlIGEgbmV3IHBsYXlsaXN0JywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeHMoXCJidXR0b25cIiwge1xuICAgICAgICAgIG9uQ2xpY2s6IGNsb3NlTW9kYWwsXG4gICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzKCdzdWktYnV0dG9uLWljb24nLCAnc3VpLWJ1dHRvbi1mbG9hdC0tcmlnaHQnKSxcbiAgICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KEljb24sIHtcbiAgICAgICAgICAgIGljb246IFwiY2xvc2VcIixcbiAgICAgICAgICAgIHNpemU6IFwibWRcIlxuICAgICAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcInNwYW5cIiwge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1zY3JlZW4tcmVhZGVyLXRleHRcIixcbiAgICAgICAgICAgIGNoaWxkcmVuOiBfXygnQ2xvc2UgdGhpcyBkaWFsb2cuJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICAgICAgfSldXG4gICAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcImgzXCIsIHtcbiAgICAgICAgICBpZDogXCJcIi5jb25jYXQobW9kYWxJRCwgXCItdGl0bGVcIiksXG4gICAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1ib3gtdGl0bGUgc3VpLWxnXCIsXG4gICAgICAgICAgY2hpbGRyZW46IF9fKCdDcmVhdGUgYSBuZXcgcGxheWxpc3QnLCAnd3BtdWRldl92aWRzJylcbiAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwicFwiLCB7XG4gICAgICAgICAgaWQ6IFwiXCIuY29uY2F0KG1vZGFsSUQsIFwiLWRlc2NcIiksXG4gICAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1kZXNjcmlwdGlvblwiLFxuICAgICAgICAgIGNoaWxkcmVuOiBfXygnQ2hvb3NlIGEgdGl0bGUsIGRlc2NyaXB0aW9uIGFuZCBjdXN0b20gdGh1bWJuYWlsIGZvciB5b3VyIHBsYXlsaXN0IGFuZCB0aGVuIHN0YXJ0IGFkZGluZyB2aWRlb3MgdG8gaXQuJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICAgIH0pXVxuICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4cyhCb3guQm9keSwge1xuICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFBsYXlsaXN0VGl0bGUsIHtcbiAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgb25DaGFuZ2U6IHVwZGF0ZVBsYXlsaXN0VGl0bGUsXG4gICAgICAgICAgbW9kYWxJRDogbW9kYWxJRFxuICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goUGxheWxpc3REZXNjLCB7XG4gICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxuICAgICAgICAgIG9uQ2hhbmdlOiB1cGRhdGVQbGF5bGlzdERlc2MsXG4gICAgICAgICAgbW9kYWxJRDogbW9kYWxJRFxuICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJoclwiLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcIndwbXVkZXYtdmlkZW9zLWJyZWFrXCJcbiAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4cyhcImRpdlwiLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1mb3JtLWZpZWxkIHdwbXVkZXYtdmlkZW9zLWZpZWxkLS10aHVtYm5haWxcIixcbiAgICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KExhYmVsLCB7XG4gICAgICAgICAgICBjaGlsZHJlbjogX18oJ1BsYXlsaXN0IHRodW1ibmFpbCBpbWFnZScsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcInBcIiwge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1kZXNjcmlwdGlvblwiLFxuICAgICAgICAgICAgY2hpbGRyZW46IF9fKFwiQWRkIGEgY3VzdG9tIHRodW1ibmFpbCB0byB5b3VyIHBsYXlsaXN0LCBvdGhlcndpc2Ugd2UnbGwganVzdCB1c2UgdGhlIGZpcnN0IHZpZGVvJ3MgdGh1bWJuYWlsLlwiLCAnd3BtdWRldl92aWRzJylcbiAgICAgICAgICB9KV1cbiAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFVwbG9hZFRodW1iLCB7XG4gICAgICAgICAgdGh1bWJuYWlsOiB0aHVtYm5haWwsXG4gICAgICAgICAgb25TZWxlY3Q6IHVwZGF0ZVBsYXlsaXN0VGh1bWIsXG4gICAgICAgICAgbW9kYWxJRDogbW9kYWxJRFxuICAgICAgICB9KV1cbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeHMoQm94LkZvb3Rlciwge1xuICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KEJ1dHRvbiwge1xuICAgICAgICAgIHR5cGU6IFwiZ2hvc3RcIixcbiAgICAgICAgICBvbkNsaWNrOiBjbG9zZU1vZGFsLFxuICAgICAgICAgIGNoaWxkcmVuOiBfXygnQ2FuY2VsJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChCb3guUmlnaHQsIHtcbiAgICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goQnV0dG9uLCB7XG4gICAgICAgICAgICBkaXNhYmxlZDogIXRpdGxlLFxuICAgICAgICAgICAgXCJkYXRhLW1vZGFsLXNsaWRlXCI6IFwiXCIuY29uY2F0KG1vZGFsSUQsIFwiLXBsYXlsaXN0LXZpZGVvc1wiKSxcbiAgICAgICAgICAgIFwiZGF0YS1tb2RhbC1zbGlkZS1pbnRyb1wiOiBcIm5leHRcIixcbiAgICAgICAgICAgIGNoaWxkcmVuOiBfXygnQ29udGludWUnLCAnd3BtdWRldl92aWRzJylcbiAgICAgICAgICB9KVxuICAgICAgICB9KV1cbiAgICAgIH0pXVxuICAgIH0pXG4gIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgUGxheWxpc3RTZXR0aW5nczsiLCJmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShyLCBlKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMocikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGUpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBlKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBhKSB7IGlmIChyKSB7IGlmIChcInN0cmluZ1wiID09IHR5cGVvZiByKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkociwgYSk7IHZhciB0ID0ge30udG9TdHJpbmcuY2FsbChyKS5zbGljZSg4LCAtMSk7IHJldHVybiBcIk9iamVjdFwiID09PSB0ICYmIHIuY29uc3RydWN0b3IgJiYgKHQgPSByLmNvbnN0cnVjdG9yLm5hbWUpLCBcIk1hcFwiID09PSB0IHx8IFwiU2V0XCIgPT09IHQgPyBBcnJheS5mcm9tKHIpIDogXCJBcmd1bWVudHNcIiA9PT0gdCB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSA/IF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIDogdm9pZCAwOyB9IH1cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIHsgKG51bGwgPT0gYSB8fCBhID4gci5sZW5ndGgpICYmIChhID0gci5sZW5ndGgpOyBmb3IgKHZhciBlID0gMCwgbiA9IEFycmF5KGEpOyBlIDwgYTsgZSsrKSBuW2VdID0gcltlXTsgcmV0dXJuIG47IH1cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBsKSB7IHZhciB0ID0gbnVsbCA9PSByID8gbnVsbCA6IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiByW1N5bWJvbC5pdGVyYXRvcl0gfHwgcltcIkBAaXRlcmF0b3JcIl07IGlmIChudWxsICE9IHQpIHsgdmFyIGUsIG4sIGksIHUsIGEgPSBbXSwgZiA9ICEwLCBvID0gITE7IHRyeSB7IGlmIChpID0gKHQgPSB0LmNhbGwocikpLm5leHQsIDAgPT09IGwpIHsgaWYgKE9iamVjdCh0KSAhPT0gdCkgcmV0dXJuOyBmID0gITE7IH0gZWxzZSBmb3IgKDsgIShmID0gKGUgPSBpLmNhbGwodCkpLmRvbmUpICYmIChhLnB1c2goZS52YWx1ZSksIGEubGVuZ3RoICE9PSBsKTsgZiA9ICEwKTsgfSBjYXRjaCAocikgeyBvID0gITAsIG4gPSByOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIWYgJiYgbnVsbCAhPSB0LnJldHVybiAmJiAodSA9IHQucmV0dXJuKCksIE9iamVjdCh1KSAhPT0gdSkpIHJldHVybjsgfSBmaW5hbGx5IHsgaWYgKG8pIHRocm93IG47IH0gfSByZXR1cm4gYTsgfSB9XG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMocikgeyBpZiAoQXJyYXkuaXNBcnJheShyKSkgcmV0dXJuIHI7IH1cbi8qKlxuICogTGlicmFyeSBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgQm94LCBTdGF0aWNOb3RpY2UsIEJ1dHRvbiwgSWNvbkJ1dHRvbiB9IGZyb20gJy4uLy4uLy4uLy4uL2xpYi9jb21wb25lbnRzJztcblxuLyoqXG4gKiBJbnRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgV2hpdGVMYWJlbEJhbm5lciB9IGZyb20gJy4uLy4uLy4uLy4uL2NvbXBvbmVudHMnO1xuaW1wb3J0IHsgYWRkTm90aWNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc3RvcmUvc2xpY2VzL25vdGljZSc7XG5pbXBvcnQgeyBVcGdyYWRlTm90aWNlLCBFeHBpcmVkTm90aWNlLCBWaWRlb1NlYXJjaElucHV0LCBWaWRlb3NMaXN0IH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cyc7XG5pbXBvcnQgeyBleHBpcmVkTWVtYmVyLCB2YWxpZE1lbWJlciwgZGFzaENvbm5lY3RlZCB9IGZyb20gJy4uLy4uLy4uLy4uL2hlbHBlcnMvdXRpbHMnO1xuaW1wb3J0IHsgZ2V0TG9hZGluZ1N0YXR1cywgY3JlYXRlUGxheWxpc3QgfSBmcm9tICcuLi8uLi8uLi8uLi9zdG9yZS9zbGljZXMvcGxheWxpc3RzJztcblxuLyoqXG4gKiBFeHRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgX18gfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZURpc3BhdGNoLCB1c2VTZWxlY3RvciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5leHBvcnQgZnVuY3Rpb24gUGxheWxpc3RWaWRlb3MoX3JlZikge1xuICB2YXIgbW9kYWxJRCA9IF9yZWYubW9kYWxJRCxcbiAgICBjbG9zZU1vZGFsID0gX3JlZi5jbG9zZU1vZGFsLFxuICAgIHBsYXlsaXN0ID0gX3JlZi5wbGF5bGlzdCxcbiAgICBzZXRQbGF5bGlzdCA9IF9yZWYuc2V0UGxheWxpc3QsXG4gICAgZXJyb3JNZXNzYWdlID0gX3JlZi5lcnJvck1lc3NhZ2UsXG4gICAgc2V0RXJyb3JNZXNzYWdlID0gX3JlZi5zZXRFcnJvck1lc3NhZ2U7XG4gIHZhciBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gIHZhciBfcmVmMiA9IHBsYXlsaXN0ICE9PSBudWxsICYmIHBsYXlsaXN0ICE9PSB2b2lkIDAgPyBwbGF5bGlzdCA6IHt9LFxuICAgIHRpdGxlID0gX3JlZjIudGl0bGUsXG4gICAgZGVzY3JpcHRpb24gPSBfcmVmMi5kZXNjcmlwdGlvbixcbiAgICB2aWRlb3MgPSBfcmVmMi52aWRlb3MsXG4gICAgbG9jYXRpb25zID0gX3JlZjIubG9jYXRpb25zLFxuICAgIHRodW1ibmFpbCA9IF9yZWYyLnRodW1ibmFpbDtcbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKDApLFxuICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgIHZpZGVvQ291bnQgPSBfdXNlU3RhdGUyWzBdLFxuICAgIHNldFZpZGVvQ291bnQgPSBfdXNlU3RhdGUyWzFdO1xuICB2YXIgaXNTYXZpbmcgPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4gZ2V0TG9hZGluZ1N0YXR1cyhzdGF0ZSk7XG4gIH0pO1xuICB2YXIgQm94SGVhZGVyQ2xhc3NlcyA9IGNsYXNzbmFtZXMoJ3N1aS1ib3gtaGVhZGVyJywgJ3N1aS1mbGF0dGVuJywgJ3N1aS1jb250ZW50LWNlbnRlcicsICdzdWktc3BhY2luZy10b3AtLTYwJywgJ3N1aS1zcGFjaW5nLXNpZGVzLS0xMDAnKTtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgd2UgbmVlZCB0byBzaG93IHRoZSBtZW1iZXJzaGlwIHVwZ3JhZGUgbm90aWNlLlxuICAgKi9cbiAgdmFyIHNob3dVcGdyYWRlTm90aWNlID0gIWV4cGlyZWRNZW1iZXIoKSAmJiAhdmFsaWRNZW1iZXIoKSAmJiBkYXNoQ29ubmVjdGVkKCkgJiYgdmlkZW9Db3VudCA8PSAwO1xuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB3ZSBuZWVkIHRvIHNob3cgdGhlIG1lbWJlcnNoaXAgZXhwaXJlZCBub3RpY2UuXG4gICAqL1xuICB2YXIgc2hvd0V4cGlyZWROb3RpY2UgPSBleHBpcmVkTWVtYmVyKCkgJiYgZGFzaENvbm5lY3RlZCgpICYmIHZpZGVvQ291bnQgPD0gMDtcblxuICAvKipcbiAgICogR2V0IGVycm9yIG1lc3NhZ2UuXG4gICAqXG4gICAqIEBzaW5jZSAxLjguNFxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICB2YXIgZ2V0RXJyb3JNZXNzYWdlID0gZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlKCkge1xuICAgIHJldHVybiAhIWVycm9yTWVzc2FnZSA/IGVycm9yTWVzc2FnZSA6IF9fKCdDb3VsZCBub3QgY3JlYXRlIHRoZSBwbGF5bGlzdC4gUGxlYXNlIHRyeSBhZ2Fpbi4nLCAnd3BtdWRldl92aWRzJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNjcm9sbCB0byB0b3Agb2YgdGhlIG1vZGFsLlxuICAgKlxuICAgKiBVc2UgdGhpcyB0byBzaG93IGVycm9yIG1lc3NhZ2VzIGFmdGVyIHNjcm9sbGluZ1xuICAgKiBkb3duIGZvciB0aGUgZm9ybSBzdWJtaXQuXG4gICAqXG4gICAqIEBzaW5jZSAxLjguNFxuICAgKi9cbiAgdmFyIHNjcm9sbFRvcCA9IGZ1bmN0aW9uIHNjcm9sbFRvcCgpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd3BtdWRldi12aWRlb3MtcGxheWxpc3QtY3JlYXRlLW1vZGFsJykuc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnLFxuICAgICAgYmxvY2s6ICdzdGFydCcsXG4gICAgICBpbmxpbmU6ICduZWFyZXN0J1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIHBsYXlsaXN0XG4gICAqL1xuICB2YXIgc3VibWl0UGxheWxpc3QgPSBmdW5jdGlvbiBzdWJtaXRQbGF5bGlzdCgpIHtcbiAgICBkaXNwYXRjaChjcmVhdGVQbGF5bGlzdCh7XG4gICAgICBwbGF5bGlzdDoge1xuICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcbiAgICAgICAgdmlkZW9zOiB2aWRlb3MgfHwgW10sXG4gICAgICAgIGxvY2F0aW9uczogbG9jYXRpb25zIHx8IFtdLFxuICAgICAgICB0aHVtYm5haWw6IHRodW1ibmFpbC5pZCB8fCAwXG4gICAgICB9XG4gICAgfSkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICB2YXIgX3Jlc3BvbnNlJHBheWxvYWQgPSByZXNwb25zZS5wYXlsb2FkLFxuICAgICAgICBzdWNjZXNzID0gX3Jlc3BvbnNlJHBheWxvYWQuc3VjY2VzcyxcbiAgICAgICAgZGF0YSA9IF9yZXNwb25zZSRwYXlsb2FkLmRhdGE7XG4gICAgICBpZiAoc3VjY2VzcyA9PT0gdHJ1ZSkge1xuICAgICAgICAvLyBjbG9zZSB0aGUgbW9kYWxcbiAgICAgICAgY2xvc2VNb2RhbCgpO1xuXG4gICAgICAgIC8vIFNob3cgU3VjY2Vzc2Z1bCBOb3RpY2VcbiAgICAgICAgZGlzcGF0Y2goYWRkTm90aWNlKHtcbiAgICAgICAgICBtZXNzYWdlOiBfXygnUGxheWxpc3QgY3JlYXRlZCBzdWNjZXNzZnVsbHkuJywgJ3dwbXVkZXZfdmlkcycpLFxuICAgICAgICAgIGRpc21pc3M6IHRydWVcbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIGlmIChkYXRhKSB7XG4gICAgICAgIC8vIElmIGVycm9yIG1lc3NhZ2UgYXZhaWxhYmxlIGZyb20gcmVwb25zZS5cbiAgICAgICAgaWYgKGRhdGEgIT09IG51bGwgJiYgZGF0YSAhPT0gdm9pZCAwICYmIGRhdGEucGFyYW1zKSB7XG4gICAgICAgICAgdmFyIGVycm9yID0gT2JqZWN0LnZhbHVlcyhkYXRhLnBhcmFtcylbMF07XG4gICAgICAgICAgc2V0RXJyb3JNZXNzYWdlKGVycm9yKTtcblxuICAgICAgICAgIC8vIFNjcm9sbCB0b3AgdG8gc2VlIHRoZSBlcnJvciBtZXNzYWdlXG4gICAgICAgICAgc2Nyb2xsVG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KFwiZGl2XCIsIHtcbiAgICBpZDogXCJcIi5jb25jYXQobW9kYWxJRCwgXCItcGxheWxpc3QtdmlkZW9zXCIpLFxuICAgIGNsYXNzTmFtZTogXCJzdWktbW9kYWwtc2xpZGVcIixcbiAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3hzKEJveCwge1xuICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChCdXR0b24sIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1zY3JlZW4tcmVhZGVyLXRleHRcIixcbiAgICAgICAgb25DbGljazogY2xvc2VNb2RhbCxcbiAgICAgICAgY2hpbGRyZW46IF9fKCdDbG9zZSB0aGlzIGRpYWxvZy4nLCAnd3BtdWRldl92aWRzJylcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeHMoQm94LkhlYWRlciwge1xuICAgICAgICBjbGFzc05hbWU6IEJveEhlYWRlckNsYXNzZXMsXG4gICAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goV2hpdGVMYWJlbEJhbm5lciwge1xuICAgICAgICAgIHNyYzogXCJtb2RhbC9tb2RhbC1oZWFkZXItdmlkZW9zLnBuZ1wiLFxuICAgICAgICAgIGFsdDogX18oJ0NyZWF0ZSBhIG5ldyBwbGF5bGlzdCcsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goSWNvbkJ1dHRvbiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJzdWktYnV0dG9uLWZsb2F0LS1yaWdodFwiLFxuICAgICAgICAgIGljb246IFwiY2xvc2VcIixcbiAgICAgICAgICBvbkNsaWNrOiBjbG9zZU1vZGFsLFxuICAgICAgICAgIHNpemU6IFwibWRcIixcbiAgICAgICAgICBvdXRsaW5lZDogZmFsc2UsXG4gICAgICAgICAgbGFiZWw6IF9fKCdDbG9zZSB0aGlzIGRpYWxvZy4nLCAnd3BtdWRldl92aWRzJylcbiAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KEljb25CdXR0b24sIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwic3VpLWJ1dHRvbi1mbG9hdC0tbGVmdFwiLFxuICAgICAgICAgIGljb246IFwiY2hldnJvbi1sZWZ0XCIsXG4gICAgICAgICAgXCJkYXRhLW1vZGFsLXNsaWRlXCI6IFwiXCIuY29uY2F0KG1vZGFsSUQsIFwiLXBsYXlsaXN0LXNldHRpbmdzXCIpLFxuICAgICAgICAgIFwiZGF0YS1tb2RhbC1zbGlkZS1pbnRyb1wiOiBcImJhY2tcIixcbiAgICAgICAgICBzaXplOiBcIm1kXCIsXG4gICAgICAgICAgb3V0bGluZWQ6IGZhbHNlLFxuICAgICAgICAgIGxhYmVsOiBfXygnR28gYmFjayB0byBwcmV2aW91cyBzbGlkZS4nLCAnd3BtdWRldl92aWRzJylcbiAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwiaDNcIiwge1xuICAgICAgICAgIGlkOiBcIlwiLmNvbmNhdChtb2RhbElELCBcIi10aXRsZVwiKSxcbiAgICAgICAgICBjbGFzc05hbWU6IFwic3VpLWJveC10aXRsZSBzdWktbGdcIixcbiAgICAgICAgICBjaGlsZHJlbjogX18oJ0NyZWF0ZSBhIG5ldyBwbGF5bGlzdCcsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJwXCIsIHtcbiAgICAgICAgICBpZDogXCJcIi5jb25jYXQobW9kYWxJRCwgXCItZGVzY1wiKSxcbiAgICAgICAgICBjbGFzc05hbWU6IFwic3VpLWRlc2NyaXB0aW9uXCIsXG4gICAgICAgICAgY2hpbGRyZW46IF9fKCdDaG9vc2Ugd2hpY2ggdmlkZW9zIHlvdSB3YW50IHRvIGFzc2lnbiB0byB0aGlzIHBsYXlsaXN0LiBZb3UgY2FuIGFkZCBhcyBtYW55IGFzIHlvdSBsaWtlLicsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgICB9KV1cbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeHMoQm94LkJvZHksIHtcbiAgICAgICAgY2hpbGRyZW46IFshIWVycm9yTWVzc2FnZSAmJiAvKiNfX1BVUkVfXyovX2pzeChTdGF0aWNOb3RpY2UsIHtcbiAgICAgICAgICB0eXBlOiBcImVycm9yXCIsXG4gICAgICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KFwicFwiLCB7XG4gICAgICAgICAgICBjaGlsZHJlbjogZ2V0RXJyb3JNZXNzYWdlKClcbiAgICAgICAgICB9KVxuICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goVmlkZW9TZWFyY2hJbnB1dCwge1xuICAgICAgICAgIHNldFZpZGVvQ291bnQ6IHNldFZpZGVvQ291bnRcbiAgICAgICAgfSksIHNob3dVcGdyYWRlTm90aWNlICYmIC8qI19fUFVSRV9fKi9fanN4KFVwZ3JhZGVOb3RpY2UsIHt9KSwgIXNob3dVcGdyYWRlTm90aWNlICYmIHNob3dFeHBpcmVkTm90aWNlICYmIC8qI19fUFVSRV9fKi9fanN4KEV4cGlyZWROb3RpY2UsIHt9KV1cbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChWaWRlb3NMaXN0LCB7XG4gICAgICAgIHNldEN1cnJlbnRQbGF5bGlzdDogc2V0UGxheWxpc3QsXG4gICAgICAgIHBsYXlsaXN0OiBwbGF5bGlzdCxcbiAgICAgICAgc2V0VmlkZW9Db3VudDogc2V0VmlkZW9Db3VudFxuICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4cyhCb3guRm9vdGVyLCB7XG4gICAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goQnV0dG9uLCB7XG4gICAgICAgICAgdHlwZTogXCJnaG9zdFwiLFxuICAgICAgICAgIFwiZGF0YS1tb2RhbC1zbGlkZS1pbnRyb1wiOiBcImJhY2tcIixcbiAgICAgICAgICBcImRhdGEtbW9kYWwtc2xpZGVcIjogXCJcIi5jb25jYXQobW9kYWxJRCwgXCItcGxheWxpc3Qtc2V0dGluZ3NcIiksXG4gICAgICAgICAgY2hpbGRyZW46IF9fKCdCYWNrJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChCb3guUmlnaHQsIHtcbiAgICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goQnV0dG9uLCB7XG4gICAgICAgICAgICBpc0xvYWRpbmc6IGlzU2F2aW5nLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IGlzU2F2aW5nLFxuICAgICAgICAgICAgb25DbGljazogc3VibWl0UGxheWxpc3QsXG4gICAgICAgICAgICBvbkxvYWRpbmdUZXh0OiBfXygnQ3JlYXRpbmcgUGxheWxpc3QnLCAnd3BtdWRldl92aWRzJyksXG4gICAgICAgICAgICBjaGlsZHJlbjogX18oJ0NyZWF0ZSBQbGF5bGlzdCcsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXVxuICAgICAgfSldXG4gICAgfSlcbiAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCBQbGF5bGlzdFZpZGVvczsiLCJleHBvcnQgKiBmcm9tICcuL1BsYXlsaXN0U2V0dGluZ3MnO1xuZXhwb3J0ICogZnJvbSAnLi9QbGF5bGlzdFZpZGVvcyc7IiwiZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkociwgZSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKHIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBlKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgZSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkgeyBpZiAocikgeyBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gXCJPYmplY3RcIiA9PT0gdCAmJiByLmNvbnN0cnVjdG9yICYmICh0ID0gci5jb25zdHJ1Y3Rvci5uYW1lKSwgXCJNYXBcIiA9PT0gdCB8fCBcIlNldFwiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6IFwiQXJndW1lbnRzXCIgPT09IHQgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkgPyBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSA6IHZvaWQgMDsgfSB9XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQociwgbCkgeyB2YXIgdCA9IG51bGwgPT0gciA/IG51bGwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgcltTeW1ib2wuaXRlcmF0b3JdIHx8IHJbXCJAQGl0ZXJhdG9yXCJdOyBpZiAobnVsbCAhPSB0KSB7IHZhciBlLCBuLCBpLCB1LCBhID0gW10sIGYgPSAhMCwgbyA9ICExOyB0cnkgeyBpZiAoaSA9ICh0ID0gdC5jYWxsKHIpKS5uZXh0LCAwID09PSBsKSB7IGlmIChPYmplY3QodCkgIT09IHQpIHJldHVybjsgZiA9ICExOyB9IGVsc2UgZm9yICg7ICEoZiA9IChlID0gaS5jYWxsKHQpKS5kb25lKSAmJiAoYS5wdXNoKGUudmFsdWUpLCBhLmxlbmd0aCAhPT0gbCk7IGYgPSAhMCk7IH0gY2F0Y2ggKHIpIHsgbyA9ICEwLCBuID0gcjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFmICYmIG51bGwgIT0gdC5yZXR1cm4gJiYgKHUgPSB0LnJldHVybigpLCBPYmplY3QodSkgIT09IHUpKSByZXR1cm47IH0gZmluYWxseSB7IGlmIChvKSB0aHJvdyBuOyB9IH0gcmV0dXJuIGE7IH0gfVxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKHIpIHsgaWYgKEFycmF5LmlzQXJyYXkocikpIHJldHVybiByOyB9XG4vKipcbiAqIEludGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBQbGF5bGlzdFNldHRpbmdzLCBQbGF5bGlzdFZpZGVvcyB9IGZyb20gJy4vc2xpZGVzJztcblxuLyoqXG4gKiBFeHRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5cbi8vIFBsYXlsaXN0IGRhdGEgc3RydWN0dXJlXG5pbXBvcnQgeyBqc3ggYXMgX2pzeCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgZW1wdHlQbGF5bGlzdCA9IHtcbiAgdGl0bGU6ICcnLFxuICBkZXNjcmlwdGlvbjogJycsXG4gIHZpZGVvczogW10sXG4gIGxvY2F0aW9uczogW10sXG4gIHRodW1ibmFpbDoge1xuICAgIGlkOiAwLFxuICAgIGZpbGU6ICcnLFxuICAgIHVybDogJydcbiAgfSxcbiAgdHlwZTogJ2N1c3RvbSdcbn07XG5leHBvcnQgZnVuY3Rpb24gQ3JlYXRlUGxheWxpc3QoX3JlZikge1xuICB2YXIgbW9kYWxJRCA9IF9yZWYubW9kYWxJRCxcbiAgICBjbG9zZU1vZGFsID0gX3JlZi5jbG9zZU1vZGFsO1xuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoZW1wdHlQbGF5bGlzdCksXG4gICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksXG4gICAgcGxheWxpc3QgPSBfdXNlU3RhdGUyWzBdLFxuICAgIHNldFBsYXlsaXN0ID0gX3VzZVN0YXRlMlsxXTtcbiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZSgnJyksXG4gICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLFxuICAgIGVycm9yTWVzc2FnZSA9IF91c2VTdGF0ZTRbMF0sXG4gICAgc2V0RXJyb3JNZXNzYWdlID0gX3VzZVN0YXRlNFsxXTtcblxuICAvKipcbiAgICogY2xvc2UgYW5kIHJlc2V0cyBtb2RhbCBzdGF0ZVxuICAgKlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgdmFyIGNsb3NlQW5kUmVzZXQgPSBmdW5jdGlvbiBjbG9zZUFuZFJlc2V0KCkge1xuICAgIC8vIFJlc2V0IHN0YXRlXG4gICAgc2V0UGxheWxpc3QoZW1wdHlQbGF5bGlzdCk7XG4gICAgc2V0RXJyb3JNZXNzYWdlKCcnKTtcblxuICAgIC8vIENsb3NlIHRoZSBtb2RhbFxuICAgIGNsb3NlTW9kYWwoKTtcbiAgfTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4cyhfRnJhZ21lbnQsIHtcbiAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFBsYXlsaXN0U2V0dGluZ3MsIHtcbiAgICAgIG1vZGFsSUQ6IG1vZGFsSUQsXG4gICAgICBjbG9zZU1vZGFsOiBjbG9zZUFuZFJlc2V0LFxuICAgICAgcGxheWxpc3Q6IHBsYXlsaXN0LFxuICAgICAgc2V0UGxheWxpc3Q6IHNldFBsYXlsaXN0XG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFBsYXlsaXN0VmlkZW9zLCB7XG4gICAgICBtb2RhbElEOiBtb2RhbElELFxuICAgICAgcGxheWxpc3Q6IHBsYXlsaXN0LFxuICAgICAgc2V0UGxheWxpc3Q6IHNldFBsYXlsaXN0LFxuICAgICAgY2xvc2VNb2RhbDogY2xvc2VBbmRSZXNldCxcbiAgICAgIGVycm9yTWVzc2FnZTogZXJyb3JNZXNzYWdlLFxuICAgICAgc2V0RXJyb3JNZXNzYWdlOiBzZXRFcnJvck1lc3NhZ2VcbiAgICB9KV1cbiAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCBDcmVhdGVQbGF5bGlzdDsiLCIvKipcbiAqIExpYnJhcnkgY29tcG9uZW50c1xuICovXG5pbXBvcnQgeyBCb3gsIEJ1dHRvbiwgSWNvbkJ1dHRvbiB9IGZyb20gJy4uLy4uLy4uL2xpYi9jb21wb25lbnRzJztcblxuLyoqXG4gKiBJbnRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgYWRkTm90aWNlIH0gZnJvbSAnLi4vLi4vLi4vc3RvcmUvc2xpY2VzL25vdGljZSc7XG5pbXBvcnQgeyBkZWxldGVQbGF5bGlzdCwgZ2V0TG9hZGluZ1N0YXR1cyB9IGZyb20gJy4uLy4uLy4uL3N0b3JlL3NsaWNlcy9wbGF5bGlzdHMnO1xuXG4vKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBfXywgc3ByaW50ZiB9IGZyb20gJ0B3b3JkcHJlc3MvaTE4bic7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB7IHVzZVNlbGVjdG9yLCB1c2VEaXNwYXRjaCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5leHBvcnQgZnVuY3Rpb24gRGVsZXRlUGxheWxpc3QoX3JlZikge1xuICB2YXIgX3BsYXlsaXN0JHZpZGVvcztcbiAgdmFyIHBsYXlsaXN0ID0gX3JlZi5wbGF5bGlzdCxcbiAgICBjbG9zZU1vZGFsID0gX3JlZi5jbG9zZU1vZGFsLFxuICAgIG1vZGFsSUQgPSBfcmVmLm1vZGFsSUQ7XG4gIHZhciBpZCA9IHBsYXlsaXN0LmlkO1xuICB2YXIgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuICB2YXIgaXNEZWxldGluZyA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBnZXRMb2FkaW5nU3RhdHVzKHN0YXRlKTtcbiAgfSk7XG4gIHZhciBib3hIZWFkZXJDbGFzc2VzID0gY2xhc3NuYW1lcygnc3VpLWJveC1oZWFkZXInLCAnc3VpLWZsYXR0ZW4nLCAnc3VpLWNvbnRlbnQtY2VudGVyJywgJ3N1aS1zcGFjaW5nLXRvcC0tNjAnKTtcbiAgdmFyIHZpZGVvc0NvdW50ID0gKHBsYXlsaXN0ID09PSBudWxsIHx8IHBsYXlsaXN0ID09PSB2b2lkIDAgfHwgKF9wbGF5bGlzdCR2aWRlb3MgPSBwbGF5bGlzdC52aWRlb3MpID09PSBudWxsIHx8IF9wbGF5bGlzdCR2aWRlb3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wbGF5bGlzdCR2aWRlb3MubGVuZ3RoKSB8fCAwO1xuXG4gIC8qKlxuICAgKiBEZWxldGUgdGhlIHBsYXlsaXN0XG4gICAqXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICB2YXIgb25EZWxldGUgPSBmdW5jdGlvbiBvbkRlbGV0ZSgpIHtcbiAgICBkaXNwYXRjaChkZWxldGVQbGF5bGlzdCh7XG4gICAgICBpZDogaWRcbiAgICB9KSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIHZhciBwYXlsb2FkID0gcmVzcG9uc2UucGF5bG9hZDtcbiAgICAgIGlmICgocGF5bG9hZCA9PT0gbnVsbCB8fCBwYXlsb2FkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXlsb2FkLnN1Y2Nlc3MpID09PSB0cnVlKSB7XG4gICAgICAgIC8vIGNsb3NlIHRoZSBtb2RhbFxuICAgICAgICBjbG9zZU1vZGFsKCk7XG5cbiAgICAgICAgLy8gU2hvdyBzdWNjZXNzIG5vdGljZVxuICAgICAgICBkaXNwYXRjaChhZGROb3RpY2Uoe1xuICAgICAgICAgIG1lc3NhZ2U6IF9fKCdQbGF5bGlzdCBkZWxldGVkIHN1Y2Nlc3NmdWxseS4nLCAnd3BtdWRldl92aWRzJylcbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU2hvdyBlcnJvciBub3RpY2VcbiAgICAgICAgZGlzcGF0Y2goYWRkTm90aWNlKHtcbiAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5wYXlsb2FkLmRhdGEsXG4gICAgICAgICAgdHlwZTogJ2Vycm9yJ1xuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeHMoQm94LCB7XG4gICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeHMoQm94LkhlYWRlciwge1xuICAgICAgY2xhc3NOYW1lOiBib3hIZWFkZXJDbGFzc2VzLFxuICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChJY29uQnV0dG9uLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJzdWktYnV0dG9uLWZsb2F0LS1yaWdodFwiLFxuICAgICAgICBpY29uOiBcImNsb3NlXCIsXG4gICAgICAgIG9uQ2xpY2s6IGNsb3NlTW9kYWwsXG4gICAgICAgIHNpemU6IFwibWRcIixcbiAgICAgICAgb3V0bGluZWQ6IGZhbHNlLFxuICAgICAgICBsYWJlbDogX18oJ0Nsb3NlIHRoaXMgZGlhbG9nLicsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwiaDNcIiwge1xuICAgICAgICBpZDogbW9kYWxJRCxcbiAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1ib3gtdGl0bGUgc3VpLWxnXCIsXG4gICAgICAgIGNoaWxkcmVuOiBfXygnRGVsZXRlIHBsYXlsaXN0JywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJwXCIsIHtcbiAgICAgICAgaWQ6IFwiXCIuY29uY2F0KG1vZGFsSUQsIFwiLWRlc2NcIiksXG4gICAgICAgIGNsYXNzTmFtZTogXCJzdWktZGVzY3JpcHRpb25cIixcbiAgICAgICAgY2hpbGRyZW46IHNwcmludGYoX18oJ1RoaXMgcGxheWxpc3QgY29udGFpbnMgJWQgdmlkZW8ocykuIFRoZXNlIHZpZGVvcyB3aWxsIGJlIHVuYXNzaWduZWQgZnJvbSB0aGlzIHBsYXlsaXN0LiBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgcGxheWxpc3Q/JyksIHZpZGVvc0NvdW50KVxuICAgICAgfSldXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4cyhCb3guRm9vdGVyLCB7XG4gICAgICBpc0ZsYXR0ZW46IHRydWUsXG4gICAgICBpc0NlbnRlcmVkOiB0cnVlLFxuICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChCdXR0b24sIHtcbiAgICAgICAgdHlwZTogXCJnaG9zdFwiLFxuICAgICAgICBvbkNsaWNrOiBjbG9zZU1vZGFsLFxuICAgICAgICBjaGlsZHJlbjogX18oJ0NhbmNlbCcsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KEJ1dHRvbiwge1xuICAgICAgICBpZDogXCJcIi5jb25jYXQobW9kYWxJRCwgXCItc3VibWl0XCIpLFxuICAgICAgICBjb2xvcjogXCJyZWRcIixcbiAgICAgICAgb25DbGljazogb25EZWxldGUsXG4gICAgICAgIG9uTG9hZGluZ1RleHQ6IF9fKCdEZWxldGluZycsICd3cG11ZGV2X3ZpZHMnKSxcbiAgICAgICAgZGlzYWJsZWQ6IGlzRGVsZXRpbmcsXG4gICAgICAgIGlzTG9hZGluZzogaXNEZWxldGluZyxcbiAgICAgICAgdHlwZTogXCJnaG9zdFwiLFxuICAgICAgICBjaGlsZHJlbjogX18oJ0RlbGV0ZScsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSldXG4gICAgfSldXG4gIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgRGVsZXRlUGxheWxpc3Q7IiwiZXhwb3J0ICogZnJvbSAnLi9FZGl0UGxheWxpc3QnO1xuZXhwb3J0ICogZnJvbSAnLi9WaXNpYmlsaXR5U2V0dGluZ3MnO1xuZXhwb3J0ICogZnJvbSAnLi9BZGRWaWRlb3MnO1xuZXhwb3J0ICogZnJvbSAnLi9DcmVhdGVQbGF5bGlzdCc7XG5leHBvcnQgKiBmcm9tICcuL0RlbGV0ZVBsYXlsaXN0JzsiLCJmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShyLCBlKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMocikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGUpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBlKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBhKSB7IGlmIChyKSB7IGlmIChcInN0cmluZ1wiID09IHR5cGVvZiByKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkociwgYSk7IHZhciB0ID0ge30udG9TdHJpbmcuY2FsbChyKS5zbGljZSg4LCAtMSk7IHJldHVybiBcIk9iamVjdFwiID09PSB0ICYmIHIuY29uc3RydWN0b3IgJiYgKHQgPSByLmNvbnN0cnVjdG9yLm5hbWUpLCBcIk1hcFwiID09PSB0IHx8IFwiU2V0XCIgPT09IHQgPyBBcnJheS5mcm9tKHIpIDogXCJBcmd1bWVudHNcIiA9PT0gdCB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSA/IF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIDogdm9pZCAwOyB9IH1cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIHsgKG51bGwgPT0gYSB8fCBhID4gci5sZW5ndGgpICYmIChhID0gci5sZW5ndGgpOyBmb3IgKHZhciBlID0gMCwgbiA9IEFycmF5KGEpOyBlIDwgYTsgZSsrKSBuW2VdID0gcltlXTsgcmV0dXJuIG47IH1cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBsKSB7IHZhciB0ID0gbnVsbCA9PSByID8gbnVsbCA6IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiByW1N5bWJvbC5pdGVyYXRvcl0gfHwgcltcIkBAaXRlcmF0b3JcIl07IGlmIChudWxsICE9IHQpIHsgdmFyIGUsIG4sIGksIHUsIGEgPSBbXSwgZiA9ICEwLCBvID0gITE7IHRyeSB7IGlmIChpID0gKHQgPSB0LmNhbGwocikpLm5leHQsIDAgPT09IGwpIHsgaWYgKE9iamVjdCh0KSAhPT0gdCkgcmV0dXJuOyBmID0gITE7IH0gZWxzZSBmb3IgKDsgIShmID0gKGUgPSBpLmNhbGwodCkpLmRvbmUpICYmIChhLnB1c2goZS52YWx1ZSksIGEubGVuZ3RoICE9PSBsKTsgZiA9ICEwKTsgfSBjYXRjaCAocikgeyBvID0gITAsIG4gPSByOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIWYgJiYgbnVsbCAhPSB0LnJldHVybiAmJiAodSA9IHQucmV0dXJuKCksIE9iamVjdCh1KSAhPT0gdSkpIHJldHVybjsgfSBmaW5hbGx5IHsgaWYgKG8pIHRocm93IG47IH0gfSByZXR1cm4gYTsgfSB9XG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMocikgeyBpZiAoQXJyYXkuaXNBcnJheShyKSkgcmV0dXJuIHI7IH1cbi8qKlxuICogTGlicmFyeSBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgQWNjb3JkaW9uLCBNb2RhbCB9IGZyb20gJy4uLy4uLy4uLy4uL2xpYi9jb21wb25lbnRzJztcbmltcG9ydCB7IHVzZU1vZGFsIH0gZnJvbSAnLi4vLi4vLi4vLi4vbGliL2hvb2tzJztcbmltcG9ydCBDbGlwYm9hcmRKUyBmcm9tICdjbGlwYm9hcmQnO1xuaW1wb3J0IHsgU29ydGFibGVFbGVtZW50cyB9IGZyb20gJy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvJztcblxuLyoqXG4gKiBJbnRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgZ2V0UGxheWxpc3RzLCBnZXRGaWx0ZXJlZCwgZ2V0TG9hZGluZ1N0YXR1cywgb3JkZXJDaGFuZ2UgfSBmcm9tICcuLi8uLi8uLi8uLi9zdG9yZS9zbGljZXMvcGxheWxpc3RzJztcbmltcG9ydCB7IFBsYXlsaXN0SXRlbSB9IGZyb20gJy4vUGxheWxpc3RJdGVtJztcbmltcG9ydCB7IEVkaXRQbGF5bGlzdCwgVmlzaWJpbGl0eVNldHRpbmdzLCBBZGRWaWRlb3MsIERlbGV0ZVBsYXlsaXN0IH0gZnJvbSAnLi4vLi4vbW9kYWxzJztcbmltcG9ydCB7IFBsYXlsaXN0c0xvYWRlciB9IGZyb20gJy4uLyc7XG5cbi8qKlxuICogRXh0ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IHVzZVNlbGVjdG9yLCB1c2VEaXNwYXRjaCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VMb2NhdGlvbiB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IHsganN4IGFzIF9qc3gsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZXhwb3J0IGZ1bmN0aW9uIFBsYXlsaXN0cygpIHtcbiAgLy8gZGlzcGF0Y2ggZnVuY3Rpb25cbiAgdmFyIGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcblxuICAvLyBGaWx0ZXJlZCBMaXN0XG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShbXSksXG4gICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksXG4gICAgZmlsdGVyZWRMaXN0ID0gX3VzZVN0YXRlMlswXSxcbiAgICBzZXRGaWx0ZXJlZExpc3QgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIC8vIFBsYXlsaXN0IGJlaW5nIGVkaXRlZFxuICB2YXIgX3VzZVN0YXRlMyA9IHVzZVN0YXRlKHt9KSxcbiAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksXG4gICAgY3VycmVudFBsYXlsaXN0ID0gX3VzZVN0YXRlNFswXSxcbiAgICBzZXRDdXJyZW50UGxheWxpc3QgPSBfdXNlU3RhdGU0WzFdO1xuXG4gIC8vIENoZWNrZWQgcGxheWxpc3RzIGFuZCB2aWRlb3NcbiAgdmFyIF91c2VTdGF0ZTUgPSB1c2VTdGF0ZSh7fSksXG4gICAgX3VzZVN0YXRlNiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTUsIDIpLFxuICAgIHNlbGVjdGVkID0gX3VzZVN0YXRlNlswXSxcbiAgICBzZXRTZWxlY3RlZCA9IF91c2VTdGF0ZTZbMV07XG5cbiAgLy8gcGxheWxpc3RzIG9iamVjdFxuICB2YXIgcGxheWxpc3RzID0gdXNlU2VsZWN0b3IoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgcmV0dXJuIGdldFBsYXlsaXN0cyhzdGF0ZSk7XG4gIH0pO1xuXG4gIC8vIHBsYXlsaXN0IGlkcyB0byBmaWx0ZXIgcGxheWxpc3RzXG4gIHZhciBmaWx0ZXJlZCA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBnZXRGaWx0ZXJlZChzdGF0ZSk7XG4gIH0pO1xuXG4gIC8vIExvYWRpbmcgc3RhdGVcbiAgdmFyIGlzTG9hZGluZyA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBnZXRMb2FkaW5nU3RhdHVzKHN0YXRlKTtcbiAgfSk7XG5cbiAgLy8gRWRpdCBNb2RhbFxuICB2YXIgZWRpdE1vZGFsSUQgPSAnd3BtdWRldi12aWRlb3MtcGxheWxpc3QtZWRpdC1tb2RhbCc7XG4gIHZhciBfdXNlTW9kYWwgPSB1c2VNb2RhbCh7XG4gICAgICBpZDogZWRpdE1vZGFsSUQsXG4gICAgICBvbkNsb3NlOiBmdW5jdGlvbiBvbkNsb3NlKCkge1xuICAgICAgICByZXR1cm4gc2V0Q3VycmVudFBsYXlsaXN0KHt9KTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBfdXNlTW9kYWwyID0gX3NsaWNlZFRvQXJyYXkoX3VzZU1vZGFsLCAyKSxcbiAgICBvcGVuRWRpdE1vZGFsID0gX3VzZU1vZGFsMlswXSxcbiAgICBjbG9zZUVkaXRNb2RhbCA9IF91c2VNb2RhbDJbMV07XG5cbiAgLy8gVmlzaWJpbGl0eSBNb2RhbFxuICB2YXIgdmlzaWJpbGl0eU1vZGFsSUQgPSAnd3BtdWRldi12aWRlb3MtcGxheWxpc3Qtc2V0dGluZ3MtbW9kYWwnO1xuICB2YXIgX3VzZU1vZGFsMyA9IHVzZU1vZGFsKHtcbiAgICAgIGlkOiB2aXNpYmlsaXR5TW9kYWxJRCxcbiAgICAgIG9uQ2xvc2U6IGZ1bmN0aW9uIG9uQ2xvc2UoKSB7XG4gICAgICAgIHJldHVybiBzZXRDdXJyZW50UGxheWxpc3Qoe30pO1xuICAgICAgfVxuICAgIH0pLFxuICAgIF91c2VNb2RhbDQgPSBfc2xpY2VkVG9BcnJheShfdXNlTW9kYWwzLCAyKSxcbiAgICBvcGVuVmlzaWJpbGl0eU1vZGFsID0gX3VzZU1vZGFsNFswXSxcbiAgICBjbG9zZVZpc2liaWxpdHlNb2RhbCA9IF91c2VNb2RhbDRbMV07XG5cbiAgLy8gVmlkZW9zIE1vZGFsXG4gIHZhciB2aWRlb3NNb2RhbElEID0gJ3dwbXVkZXYtdmlkZW9zLXBsYXlsaXN0LXZpZGVvcy1tb2RhbCc7XG4gIHZhciBfdXNlTW9kYWw1ID0gdXNlTW9kYWwoe1xuICAgICAgaWQ6IHZpZGVvc01vZGFsSUQsXG4gICAgICBvbkNsb3NlOiBmdW5jdGlvbiBvbkNsb3NlKCkge1xuICAgICAgICByZXR1cm4gc2V0Q3VycmVudFBsYXlsaXN0KHt9KTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBfdXNlTW9kYWw2ID0gX3NsaWNlZFRvQXJyYXkoX3VzZU1vZGFsNSwgMiksXG4gICAgb3BlblZpZGVvc01vZGFsID0gX3VzZU1vZGFsNlswXSxcbiAgICBjbG9zZVZpZGVvc01vZGFsID0gX3VzZU1vZGFsNlsxXTtcblxuICAvLyBEZWxldGUgTW9kYWxcbiAgdmFyIGRlbGV0ZU1vZGFsSUQgPSAnd3BtdWRldi12aWRlb3MtcGxheWxpc3QtZGVsZXRlLW1vZGFsJztcbiAgdmFyIF91c2VNb2RhbDcgPSB1c2VNb2RhbCh7XG4gICAgICBpZDogZGVsZXRlTW9kYWxJRCxcbiAgICAgIG9uQ2xvc2U6IGZ1bmN0aW9uIG9uQ2xvc2UoKSB7XG4gICAgICAgIHJldHVybiBzZXRDdXJyZW50UGxheWxpc3Qoe30pO1xuICAgICAgfVxuICAgIH0pLFxuICAgIF91c2VNb2RhbDggPSBfc2xpY2VkVG9BcnJheShfdXNlTW9kYWw3LCAyKSxcbiAgICBvcGVuRGVsZXRlTW9kYWwgPSBfdXNlTW9kYWw4WzBdLFxuICAgIGNsb3NlRGVsZXRlTW9kYWwgPSBfdXNlTW9kYWw4WzFdO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHZhciBuZXdGaWx0ZXJlZExpc3QgPSBbXTtcblxuICAgIC8vIE9ubHkgaWYgZmlsdGVyZWQgaXMgYW4gYXJyYXkuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZmlsdGVyZWQpKSB7XG4gICAgICBmaWx0ZXJlZC5mb3JFYWNoKGZ1bmN0aW9uIChpZCkge1xuICAgICAgICBpZiAocGxheWxpc3RzW2lkXSkge1xuICAgICAgICAgIG5ld0ZpbHRlcmVkTGlzdC5wdXNoKHBsYXlsaXN0c1tpZF0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgc2V0RmlsdGVyZWRMaXN0KG5ld0ZpbHRlcmVkTGlzdCk7XG4gIH0sIFtwbGF5bGlzdHMsIGZpbHRlcmVkXSk7XG5cbiAgLy8gSW5pdGlhbGl6ZSBjbGlwYm9hcmQgbGlicmFyeVxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIG5ldyBDbGlwYm9hcmRKUygnLml2dC1jb3B5LXNob3J0Y29kZScpO1xuICB9LCBbXSk7XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBvcmRlciBjaGFuZ2Ugb2YgdGhlIHBsYXlsaXN0LlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgRXZlbnRcbiAgICpcbiAgICovXG4gIHZhciBvbkNoYW5nZU9yZGVyID0gZnVuY3Rpb24gb25DaGFuZ2VPcmRlcihldmVudCkge1xuICAgIC8vIEdldCBtb3ZlZCBwbGF5bGlzdCBJRC5cbiAgICB2YXIgcGxheWxpc3RJRCA9IGV2ZW50Lml0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLWlkJyk7XG4gICAgZGlzcGF0Y2gob3JkZXJDaGFuZ2Uoe1xuICAgICAgcGxheWxpc3RJRDogcGxheWxpc3RJRCxcbiAgICAgIG9sZEluZGV4OiBldmVudC5vbGRJbmRleCxcbiAgICAgIG5ld0luZGV4OiBldmVudC5uZXdJbmRleFxuICAgIH0pKTtcbiAgfTtcbiAgdmFyIHBsYXlsaXN0c0hhc0luaXRpYXRlZCA9IGZpbHRlcmVkTGlzdC5sZW5ndGggPiAwO1xuICB2YXIgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpO1xuXG4gIC8vIEhhbmRsaW5nIHJvdXRlcyBjb21pbmcgZnJvbSBkYXNoYm9hcmQgcGFnZVxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChwbGF5bGlzdHNIYXNJbml0aWF0ZWQpIHtcbiAgICAgIHZhciBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lO1xuXG4gICAgICAvLyByZWdleCB0byBtYXRjaCB3aXRoIHVybCBwYXRobmFtZSBmb3IgbXVsdGlwbGUgYWN0aW9uc1xuICAgICAgdmFyIHBhdHRlcm4gPSAvXihcXC8odmlkZW9zfGVkaXR8c2V0dGluZ3MpKVxcLyhcXGQrKSQvO1xuICAgICAgdmFyIG1hdGNoZXMgPSBwYXRobmFtZS5tYXRjaChwYXR0ZXJuKTtcbiAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgIHZhciBfbWF0Y2hlcyA9IF9zbGljZWRUb0FycmF5KG1hdGNoZXMsIDQpLFxuICAgICAgICAgIGFjdGlvbiA9IF9tYXRjaGVzWzJdLFxuICAgICAgICAgIHBsYXlsaXN0SUQgPSBfbWF0Y2hlc1szXTtcblxuICAgICAgICAvLyB2aWRlb3M6IG9wZW4gYWRkIHZpZGVvcyBtb2RlbFxuICAgICAgICBpZiAocGxheWxpc3RzW3BsYXlsaXN0SURdICYmIGFjdGlvbiA9PT0gJ3ZpZGVvcycpIHtcbiAgICAgICAgICBzZXRDdXJyZW50UGxheWxpc3QocGxheWxpc3RzW3BsYXlsaXN0SURdKTtcbiAgICAgICAgICBvcGVuVmlkZW9zTW9kYWwoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gZWRpdDogT3BlbiBlZGl0IG1vZGFsXG4gICAgICAgIGlmIChwbGF5bGlzdHNbcGxheWxpc3RJRF0gJiYgYWN0aW9uID09PSAnZWRpdCcpIHtcbiAgICAgICAgICBzZXRDdXJyZW50UGxheWxpc3QocGxheWxpc3RzW3BsYXlsaXN0SURdKTtcbiAgICAgICAgICBvcGVuRWRpdE1vZGFsKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXR0aW5nczogT3BlbiB2aXNpYmlsaXR5IHNldHRpbmdzIG1vZGFsXG4gICAgICAgIGlmIChwbGF5bGlzdHNbcGxheWxpc3RJRF0gJiYgYWN0aW9uID09PSAnc2V0dGluZ3MnKSB7XG4gICAgICAgICAgc2V0Q3VycmVudFBsYXlsaXN0KHBsYXlsaXN0c1twbGF5bGlzdElEXSk7XG4gICAgICAgICAgb3BlblZpc2liaWxpdHlNb2RhbCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCBbcGxheWxpc3RzSGFzSW5pdGlhdGVkXSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeHMoX0ZyYWdtZW50LCB7XG4gICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChNb2RhbCwge1xuICAgICAgc2l6ZTogXCJsZ1wiLFxuICAgICAgaWQ6IGVkaXRNb2RhbElELFxuICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KEVkaXRQbGF5bGlzdCwge1xuICAgICAgICBtb2RhbElEOiBlZGl0TW9kYWxJRCxcbiAgICAgICAgb3Blbk1vZGFsOiBvcGVuRWRpdE1vZGFsLFxuICAgICAgICBjbG9zZU1vZGFsOiBjbG9zZUVkaXRNb2RhbCxcbiAgICAgICAgcGxheWxpc3Q6IGN1cnJlbnRQbGF5bGlzdCxcbiAgICAgICAgc2V0Q3VycmVudFBsYXlsaXN0OiBzZXRDdXJyZW50UGxheWxpc3RcbiAgICAgIH0pXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4KE1vZGFsLCB7XG4gICAgICBpZDogdmlzaWJpbGl0eU1vZGFsSUQsXG4gICAgICBzaXplOiBcImxnXCIsXG4gICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goVmlzaWJpbGl0eVNldHRpbmdzLCB7XG4gICAgICAgIG1vZGFsSUQ6IHZpc2liaWxpdHlNb2RhbElELFxuICAgICAgICBjbG9zZU1vZGFsOiBjbG9zZVZpc2liaWxpdHlNb2RhbCxcbiAgICAgICAgcGxheWxpc3Q6IGN1cnJlbnRQbGF5bGlzdCxcbiAgICAgICAgc2V0Q3VycmVudFBsYXlsaXN0OiBzZXRDdXJyZW50UGxheWxpc3RcbiAgICAgIH0pXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4KE1vZGFsLCB7XG4gICAgICBpZDogdmlkZW9zTW9kYWxJRCxcbiAgICAgIHNpemU6IFwibGdcIixcbiAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChBZGRWaWRlb3MsIHtcbiAgICAgICAgbW9kYWxJRDogdmlkZW9zTW9kYWxJRCxcbiAgICAgICAgY2xvc2VNb2RhbDogY2xvc2VWaWRlb3NNb2RhbCxcbiAgICAgICAgcGxheWxpc3Q6IGN1cnJlbnRQbGF5bGlzdCxcbiAgICAgICAgc2V0Q3VycmVudFBsYXlsaXN0OiBzZXRDdXJyZW50UGxheWxpc3RcbiAgICAgIH0pXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4KE1vZGFsLCB7XG4gICAgICBpZDogZGVsZXRlTW9kYWxJRCxcbiAgICAgIHNpemU6IFwic21cIixcbiAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChEZWxldGVQbGF5bGlzdCwge1xuICAgICAgICBtb2RhbElEOiBkZWxldGVNb2RhbElELFxuICAgICAgICBjbG9zZU1vZGFsOiBjbG9zZURlbGV0ZU1vZGFsLFxuICAgICAgICBwbGF5bGlzdDogY3VycmVudFBsYXlsaXN0XG4gICAgICB9KVxuICAgIH0pLCBpc0xvYWRpbmcgJiYgLyojX19QVVJFX18qL19qc3goUGxheWxpc3RzTG9hZGVyLCB7fSksICFpc0xvYWRpbmcgJiYgLyojX19QVVJFX18qL19qc3goQWNjb3JkaW9uLCB7XG4gICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goU29ydGFibGVFbGVtZW50cywge1xuICAgICAgICBvblVwZGF0ZTogb25DaGFuZ2VPcmRlcixcbiAgICAgICAgY2hpbGRyZW46IGZpbHRlcmVkTGlzdCA9PT0gbnVsbCB8fCBmaWx0ZXJlZExpc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZpbHRlcmVkTGlzdC5tYXAoZnVuY3Rpb24gKHBsYXlsaXN0KSB7XG4gICAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KFBsYXlsaXN0SXRlbSwge1xuICAgICAgICAgICAgb3BlbkVkaXRNb2RhbDogb3BlbkVkaXRNb2RhbCxcbiAgICAgICAgICAgIG9wZW5WaXNpYmlsaXR5TW9kYWw6IG9wZW5WaXNpYmlsaXR5TW9kYWwsXG4gICAgICAgICAgICBvcGVuVmlkZW9zTW9kYWw6IG9wZW5WaWRlb3NNb2RhbCxcbiAgICAgICAgICAgIG9wZW5EZWxldGVNb2RhbDogb3BlbkRlbGV0ZU1vZGFsLFxuICAgICAgICAgICAgcGxheWxpc3Q6IHBsYXlsaXN0LFxuICAgICAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkLFxuICAgICAgICAgICAgc2V0U2VsZWN0ZWQ6IHNldFNlbGVjdGVkLFxuICAgICAgICAgICAgc2V0Q3VycmVudFBsYXlsaXN0OiBzZXRDdXJyZW50UGxheWxpc3RcbiAgICAgICAgICB9LCBwbGF5bGlzdC5pZCk7XG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pXVxuICB9KTtcbn1cbmV4cG9ydCBkZWZhdWx0IFBsYXlsaXN0czsiLCJleHBvcnQgKiBmcm9tICcuL1BsYXlsaXN0cyc7XG5leHBvcnQgKiBmcm9tICcuL1BsYXlsaXN0SXRlbSc7IiwiLyoqXG4gKiBMaWJyYXJ5IGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBJY29uLCBJY29uQnV0dG9uIH0gZnJvbSAnLi4vLi4vLi4vLi4vbGliL2NvbXBvbmVudHMnO1xuXG4vKipcbiAqIEV4dGVybmFsIGNvbXBvbmVudHNcbiAqL1xuaW1wb3J0IHsgX18gfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmV4cG9ydCBmdW5jdGlvbiBQbGF5bGlzdHNMb2FkZXIoKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeHMoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJ3cG11ZGV2LXZpZGVvcy1sb2FkZXIgc3VpLWJveFwiLFxuICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3hzKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJ3cG11ZGV2LXZpZGVvcy1sb2FkZXItLW1hc2tcIixcbiAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goSWNvbiwge1xuICAgICAgICBpY29uOiBcImxvYWRlclwiLFxuICAgICAgICBhbmltYXRlOiB0cnVlXG4gICAgICB9KSwgX18oJ0xvYWRpbmcuLi4nLCAnd3BtdWRldl92aWRzJyldXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4cyhcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwid3BtdWRldi12aWRlb3MtbG9hZGVyLS1jb250ZW50XCIsXG4gICAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLFxuICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJ3cG11ZGV2LXZpZGVvcy1sb2FkZXItLWNoZWNrYm94XCJcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJ3cG11ZGV2LXZpZGVvcy1sb2FkZXItLWltYWdlXCJcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJ3cG11ZGV2LXZpZGVvcy1sb2FkZXItLW5hbWVcIixcbiAgICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KFwic3BhblwiLCB7fSlcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeHMoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwid3BtdWRldi12aWRlb3MtbG9hZGVyLS1hY3Rpb25zXCIsXG4gICAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goSWNvbkJ1dHRvbiwge1xuICAgICAgICAgIHRhZzogXCJkaXZcIixcbiAgICAgICAgICBvdXRsaW5lZDogZmFsc2UsXG4gICAgICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KFwic3BhblwiLCB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IFwic3VpLWljb24td2lkZ2V0LXNldHRpbmdzLWNvbmZpZ1wiLFxuICAgICAgICAgICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIlxuICAgICAgICAgIH0pXG4gICAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChJY29uQnV0dG9uLCB7XG4gICAgICAgICAgdGFnOiBcImRpdlwiLFxuICAgICAgICAgIG91dGxpbmVkOiBmYWxzZSxcbiAgICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goXCJzcGFuXCIsIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJzdWktaWNvbi1jaGV2cm9uLWRvd25cIixcbiAgICAgICAgICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCJcbiAgICAgICAgICB9KVxuICAgICAgICB9KV1cbiAgICAgIH0pXVxuICAgIH0pXVxuICB9KTtcbn1cbmV4cG9ydCBkZWZhdWx0IFBsYXlsaXN0c0xvYWRlcjsiLCJleHBvcnQgKiBmcm9tICcuL1BsYXlsaXN0c0xvYWRlcic7IiwiZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkociwgZSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKHIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBlKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgZSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkgeyBpZiAocikgeyBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gXCJPYmplY3RcIiA9PT0gdCAmJiByLmNvbnN0cnVjdG9yICYmICh0ID0gci5jb25zdHJ1Y3Rvci5uYW1lKSwgXCJNYXBcIiA9PT0gdCB8fCBcIlNldFwiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6IFwiQXJndW1lbnRzXCIgPT09IHQgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkgPyBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSA6IHZvaWQgMDsgfSB9XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQociwgbCkgeyB2YXIgdCA9IG51bGwgPT0gciA/IG51bGwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgcltTeW1ib2wuaXRlcmF0b3JdIHx8IHJbXCJAQGl0ZXJhdG9yXCJdOyBpZiAobnVsbCAhPSB0KSB7IHZhciBlLCBuLCBpLCB1LCBhID0gW10sIGYgPSAhMCwgbyA9ICExOyB0cnkgeyBpZiAoaSA9ICh0ID0gdC5jYWxsKHIpKS5uZXh0LCAwID09PSBsKSB7IGlmIChPYmplY3QodCkgIT09IHQpIHJldHVybjsgZiA9ICExOyB9IGVsc2UgZm9yICg7ICEoZiA9IChlID0gaS5jYWxsKHQpKS5kb25lKSAmJiAoYS5wdXNoKGUudmFsdWUpLCBhLmxlbmd0aCAhPT0gbCk7IGYgPSAhMCk7IH0gY2F0Y2ggKHIpIHsgbyA9ICEwLCBuID0gcjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFmICYmIG51bGwgIT0gdC5yZXR1cm4gJiYgKHUgPSB0LnJldHVybigpLCBPYmplY3QodSkgIT09IHUpKSByZXR1cm47IH0gZmluYWxseSB7IGlmIChvKSB0aHJvdyBuOyB9IH0gcmV0dXJuIGE7IH0gfVxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKHIpIHsgaWYgKEFycmF5LmlzQXJyYXkocikpIHJldHVybiByOyB9XG4vKipcbiAqIExpYnJhcnkgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IEJveCwgQ2hlY2tib3gsIFNlbGVjdCwgQnV0dG9uIH0gZnJvbSAnLi4vLi4vLi4vLi4vbGliL2NvbXBvbmVudHMnO1xuXG4vKipcbiAqIEludGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBnZXRTZWxlY3RlZFBsYXlsaXN0cywgYnVsa0RlbGV0ZSwgaW5pdFBsYXlsaXN0cywgdG9nZ2xlQWxsLCBhcmVBbGxTZWxlY3RlZCB9IGZyb20gJy4uLy4uLy4uLy4uL3N0b3JlL3NsaWNlcy9wbGF5bGlzdHMnO1xuaW1wb3J0IHsgaW5pdFZpZGVvcyB9IGZyb20gJy4uLy4uLy4uLy4uL3N0b3JlL3NsaWNlcy92aWRlb3MnO1xuaW1wb3J0ICcuL3N0eWxlLnNjc3MnO1xuXG4vKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBfXyB9IGZyb20gJ0B3b3JkcHJlc3MvaTE4bic7XG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVNlbGVjdG9yLCB1c2VEaXNwYXRjaCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5leHBvcnQgZnVuY3Rpb24gQnVsa0FjdGlvbnMoKSB7XG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZSgnJyksXG4gICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksXG4gICAgYWN0aW9uID0gX3VzZVN0YXRlMlswXSxcbiAgICBzZXRBY3Rpb24gPSBfdXNlU3RhdGUyWzFdO1xuICB2YXIgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuICB2YXIgc2VsZWN0ZWRQbGF5bGlzdHMgPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4gZ2V0U2VsZWN0ZWRQbGF5bGlzdHMoc3RhdGUpO1xuICB9KTtcbiAgdmFyIGFsbFNlbGVjdGVkID0gdXNlU2VsZWN0b3IoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgcmV0dXJuIGFyZUFsbFNlbGVjdGVkKHN0YXRlKTtcbiAgfSk7XG4gIHZhciBfdXNlU3RhdGUzID0gdXNlU3RhdGUoZmFsc2UpLFxuICAgIF91c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUzLCAyKSxcbiAgICBpc0RlbGV0aW5nID0gX3VzZVN0YXRlNFswXSxcbiAgICBzZXRJc0RlbGV0aW5nID0gX3VzZVN0YXRlNFsxXTtcbiAgdmFyIG9wdGlvbnMgPSB7XG4gICAgZGVsZXRlOiBfXygnRGVsZXRlJywgJ3dwbXVkZXZfdmlkcycpXG4gIH07XG5cbiAgLyoqXG4gICAqIEJ1bGsgRGVsZXRlIFNlbGVjdGVkIHBsYXlsaXN0cyAmIHZpZGVvc1xuICAgKlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgdmFyIGFwcGx5QWN0aW9ucyA9IGZ1bmN0aW9uIGFwcGx5QWN0aW9ucygpIHtcbiAgICBzZXRJc0RlbGV0aW5nKHRydWUpO1xuICAgIGRpc3BhdGNoKGJ1bGtEZWxldGUoe1xuICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkUGxheWxpc3RzXG4gICAgfSkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBpZiAocmVzcG9uc2UucGF5bG9hZC5zdWNjZXNzICYmIHJlc3BvbnNlLnBheWxvYWQuZGF0YSkge1xuICAgICAgICAvLyBSZWxvYWQgcGxheWxpc3RzXG4gICAgICAgIGRpc3BhdGNoKGluaXRQbGF5bGlzdHMoKSk7XG5cbiAgICAgICAgLy8gUmVsb2FkIHZpZGVvc1xuICAgICAgICBkaXNwYXRjaChpbml0VmlkZW9zKCkpO1xuICAgICAgfVxuICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkge1xuICAgICAgc2V0SXNEZWxldGluZyhmYWxzZSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvbmRpdGlvbnMgdG8gZGlzYWJsZSBidXR0b25cbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICB2YXIgaXNEaXNhYmxlZCA9IGZ1bmN0aW9uIGlzRGlzYWJsZWQoKSB7XG4gICAgcmV0dXJuIGFjdGlvbiA9PT0gJycgfHwgT2JqZWN0LmtleXMoc2VsZWN0ZWRQbGF5bGlzdHMpLmxlbmd0aCA9PT0gMDtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlIGNoZWNrZWQgc3RhdHVzXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgdmFyIHVwZGF0ZUFsbFNlbGVjdGlvbiA9IGZ1bmN0aW9uIHVwZGF0ZUFsbFNlbGVjdGlvbih2YWx1ZSkge1xuICAgIGRpc3BhdGNoKHRvZ2dsZUFsbCh7XG4gICAgICBjaGVja2VkOiB2YWx1ZVxuICAgIH0pKTtcbiAgfTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KEJveCwge1xuICAgIGNsYXNzTmFtZTogXCJzdWktYm94LXN0aWNreVwiLFxuICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeHMoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInN1aS1ib3gtc2VhcmNoXCIsXG4gICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFwibGFiZWxcIiwge1xuICAgICAgICBodG1sRm9yOiBcIndwbXVkZXYtdmlkZW9zLXBsYXlsaXN0cy1idWxrLWNoZWNrXCIsXG4gICAgICAgIGNsYXNzTmFtZTogXCJzdWktY2hlY2tib3hcIixcbiAgICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KENoZWNrYm94LCB7XG4gICAgICAgICAgaWQ6IFwid3BtdWRldi12aWRlb3MtcGxheWxpc3RzLWJ1bGstY2hlY2tcIixcbiAgICAgICAgICBsYWJlbDogZmFsc2UsXG4gICAgICAgICAgY2hlY2tlZDogYWxsU2VsZWN0ZWQsXG4gICAgICAgICAgb25DaGFuZ2U6IHVwZGF0ZUFsbFNlbGVjdGlvblxuICAgICAgICB9KVxuICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFNlbGVjdCwge1xuICAgICAgICB2YWx1ZTogYWN0aW9uLFxuICAgICAgICBvbkNoYW5nZTogc2V0QWN0aW9uLFxuICAgICAgICBwbGFjZWhvbGRlcjogX18oJ0J1bGsgYWN0aW9ucycsICd3cG11ZGV2X3ZpZHMnKSxcbiAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgaWQ6IFwid3BtdWRldi12aWRlb3MtcGxheWxpc3RzLWJ1bGstYWN0aW9uc1wiLFxuICAgICAgICBpc1NtYWxsOiB0cnVlLFxuICAgICAgICBjbGFzc05hbWU6IFwic3VpLXNlbGVjdC1pbmxpbmVcIixcbiAgICAgICAgZGF0YVdpZHRoOiBcIjEyMHB4XCJcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChCdXR0b24sIHtcbiAgICAgICAgb25Mb2FkaW5nVGV4dDogX18oJ1Byb2Nlc3NpbmcnLCAnd3BtdWRldl92aWRzJyksXG4gICAgICAgIGljb246IFwiY2hlY2tcIixcbiAgICAgICAgZGlzYWJsZWQ6IGlzRGlzYWJsZWQoKSxcbiAgICAgICAgb25DbGljazogYXBwbHlBY3Rpb25zLFxuICAgICAgICBpc0xvYWRpbmc6IGlzRGVsZXRpbmcsXG4gICAgICAgIGNoaWxkcmVuOiBfXygnQXBwbHknLCAnd3BtdWRldl92aWRzJylcbiAgICAgIH0pXVxuICAgIH0pXG4gIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgQnVsa0FjdGlvbnM7IiwiZXhwb3J0ICogZnJvbSAnLi9CdWxrQWN0aW9ucyc7IiwiZXhwb3J0ICogZnJvbSAnLi9TdW1tYXJ5Qm94JztcbmV4cG9ydCAqIGZyb20gJy4vUGxheWxpc3RzJztcbmV4cG9ydCAqIGZyb20gJy4vUGxheWxpc3RzTG9hZGVyJztcbmV4cG9ydCAqIGZyb20gJy4vQnVsa0FjdGlvbnMnOyIsImZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KHIsIGUpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQociwgZSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGUpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGEpIHsgaWYgKHIpIHsgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKTsgdmFyIHQgPSB7fS50b1N0cmluZy5jYWxsKHIpLnNsaWNlKDgsIC0xKTsgcmV0dXJuIFwiT2JqZWN0XCIgPT09IHQgJiYgci5jb25zdHJ1Y3RvciAmJiAodCA9IHIuY29uc3RydWN0b3IubmFtZSksIFwiTWFwXCIgPT09IHQgfHwgXCJTZXRcIiA9PT0gdCA/IEFycmF5LmZyb20ocikgOiBcIkFyZ3VtZW50c1wiID09PSB0IHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpID8gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgOiB2b2lkIDA7IH0gfVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfVxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGwpIHsgdmFyIHQgPSBudWxsID09IHIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByW1wiQEBpdGVyYXRvclwiXTsgaWYgKG51bGwgIT0gdCkgeyB2YXIgZSwgbiwgaSwgdSwgYSA9IFtdLCBmID0gITAsIG8gPSAhMTsgdHJ5IHsgaWYgKGkgPSAodCA9IHQuY2FsbChyKSkubmV4dCwgMCA9PT0gbCkgeyBpZiAoT2JqZWN0KHQpICE9PSB0KSByZXR1cm47IGYgPSAhMTsgfSBlbHNlIGZvciAoOyAhKGYgPSAoZSA9IGkuY2FsbCh0KSkuZG9uZSkgJiYgKGEucHVzaChlLnZhbHVlKSwgYS5sZW5ndGggIT09IGwpOyBmID0gITApOyB9IGNhdGNoIChyKSB7IG8gPSAhMCwgbiA9IHI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghZiAmJiBudWxsICE9IHQucmV0dXJuICYmICh1ID0gdC5yZXR1cm4oKSwgT2JqZWN0KHUpICE9PSB1KSkgcmV0dXJuOyB9IGZpbmFsbHkgeyBpZiAobykgdGhyb3cgbjsgfSB9IHJldHVybiBhOyB9IH1cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhyKSB7IGlmIChBcnJheS5pc0FycmF5KHIpKSByZXR1cm4gcjsgfVxuLyoqXG4gKiBMaWJyYXJ5IGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBIZWFkZXIsIEJ1dHRvbiwgVG9wTm90aWNlLCBNb2RhbCB9IGZyb20gJy4uLy4uL2xpYi9jb21wb25lbnRzJztcbmltcG9ydCB7IHVzZU1vZGFsIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzJztcblxuLyoqXG4gKiBJbnRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgZ2V0Q3VycmVudE5vdGljZSB9IGZyb20gJy4uLy4uL3N0b3JlL3NsaWNlcy9ub3RpY2UnO1xuaW1wb3J0IHsgU3VtbWFyeUJveCwgUGxheWxpc3RzIH0gZnJvbSAnLi9wYXJ0aWFscyc7XG5pbXBvcnQgeyBleHBpcmVkTWVtYmVyLCB2YWxpZE1lbWJlciwgZGFzaENvbm5lY3RlZCB9IGZyb20gJy4uLy4uL2hlbHBlcnMvdXRpbHMvJztcbmltcG9ydCB7IGluaXRQbGF5bGlzdHMgfSBmcm9tICcuLi8uLi9zdG9yZS9zbGljZXMvcGxheWxpc3RzJztcbmltcG9ydCB7IGluaXRWaWRlb3MgfSBmcm9tICcuLi8uLi9zdG9yZS9zbGljZXMvdmlkZW9zJztcbmltcG9ydCAnLi9zdHlsZXMvbWFpbi5zY3NzJztcbmltcG9ydCB7IENyZWF0ZVBsYXlsaXN0IH0gZnJvbSAnLi9tb2RhbHMnO1xuaW1wb3J0IHsgQnVsa0FjdGlvbnMgfSBmcm9tICcuL3BhcnRpYWxzL0J1bGtBY3Rpb25zJztcbmltcG9ydCB7IFBhZ2VGb290ZXIgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzJztcbmltcG9ydCB7IFVwZ3JhZGVOb3RpY2UsIEV4cGlyZWROb3RpY2UsIERhc2hOb3RpY2UgfSBmcm9tICcuL2NvbXBvbmVudHMnO1xuXG4vKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyB1c2VTZWxlY3RvciwgdXNlRGlzcGF0Y2ggfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VMb2NhdGlvbiB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IHsgX18gfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmV4cG9ydCBmdW5jdGlvbiBBcHAoKSB7XG4gIHZhciBfd2luZG93JGl2dFZhcnM7XG4gIHZhciBjdXJyZW50Tm90aWNlID0gdXNlU2VsZWN0b3IoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgcmV0dXJuIGdldEN1cnJlbnROb3RpY2Uoc3RhdGUpO1xuICB9KTtcbiAgdmFyIGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcblxuICAvLyBOb3RpY2UgRGF0YVxuICB2YXIgaWQgPSBjdXJyZW50Tm90aWNlLmlkLFxuICAgIG1lc3NhZ2UgPSBjdXJyZW50Tm90aWNlLm1lc3NhZ2UsXG4gICAgdHlwZSA9IGN1cnJlbnROb3RpY2UudHlwZSxcbiAgICBkaXNtaXNzID0gY3VycmVudE5vdGljZS5kaXNtaXNzO1xuXG4gIC8vIENyZWF0ZVBsYXlsaXN0IE1vZGFsXG4gIHZhciBwbGF5bGlzdE1vZGFsSUQgPSAnd3BtdWRldi12aWRlb3MtcGxheWxpc3QtY3JlYXRlLW1vZGFsJztcbiAgdmFyIF91c2VNb2RhbCA9IHVzZU1vZGFsKHtcbiAgICAgIGlkOiBwbGF5bGlzdE1vZGFsSURcbiAgICB9KSxcbiAgICBfdXNlTW9kYWwyID0gX3NsaWNlZFRvQXJyYXkoX3VzZU1vZGFsLCAyKSxcbiAgICBvcGVuUGxheWxpc3RNb2RhbCA9IF91c2VNb2RhbDJbMF0sXG4gICAgY2xvc2VQbGF5bGlzdE1vZGFsID0gX3VzZU1vZGFsMlsxXTtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgY3VycmVudCBtZW1iZXJzaGlwIG5lZWRzIGFuIHVwZ3JhZGUuXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBmdW5jdGlvbiBzaG91bGRVcGdyYWRlKCkge1xuICAgIHJldHVybiAhZXhwaXJlZE1lbWJlcigpICYmICF2YWxpZE1lbWJlcigpICYmIGRhc2hDb25uZWN0ZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIGRhdGEgb24gbW91bnRcbiAgICovXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgLy8gTG9hZCB2aWRlb3NcbiAgICBkaXNwYXRjaChpbml0VmlkZW9zKCkpO1xuXG4gICAgLy8gTG9hZCBQbGF5bGlzdHNcbiAgICBkaXNwYXRjaChpbml0UGxheWxpc3RzKCkpO1xuICB9LCBbXSk7XG5cbiAgLy8gR2xvYmFsIFZhcmlhYmxlc1xuICB2YXIgX3JlZiA9IChfd2luZG93JGl2dFZhcnMgPSB3aW5kb3cuaXZ0VmFycykgIT09IG51bGwgJiYgX3dpbmRvdyRpdnRWYXJzICE9PSB2b2lkIDAgPyBfd2luZG93JGl2dFZhcnMgOiB7fSxcbiAgICBoaWRlX2RvY19saW5rID0gX3JlZi53aGl0ZWxhYmVsLmhpZGVfZG9jX2xpbms7XG4gIHZhciBsb2NhdGlvbiA9IHVzZUxvY2F0aW9uKCk7XG5cbiAgLy8gSGFuZGxpbmcgcm91dGVzIGNvbWluZyBmcm9tIGRhc2hib2FyZFxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHZhciBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lO1xuICAgIGlmIChwYXRobmFtZS5zbGljZSgxKSA9PT0gJ2NyZWF0ZScpIHtcbiAgICAgIG9wZW5QbGF5bGlzdE1vZGFsKCk7XG4gICAgfVxuICB9LCBbXSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeHMoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzdWktd3JhcFwiLFxuICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goTW9kYWwsIHtcbiAgICAgIHNpemU6IFwibGdcIixcbiAgICAgIGlkOiBwbGF5bGlzdE1vZGFsSUQsXG4gICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goQ3JlYXRlUGxheWxpc3QsIHtcbiAgICAgICAgY2xvc2VNb2RhbDogY2xvc2VQbGF5bGlzdE1vZGFsLFxuICAgICAgICBtb2RhbElEOiBwbGF5bGlzdE1vZGFsSURcbiAgICAgIH0pXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4KEhlYWRlciwge1xuICAgICAgc2hvd0RvY0xpbms6ICFoaWRlX2RvY19saW5rLFxuICAgICAgZG9jTGluazogXCJodHRwczovL3dwbXVkZXYuY29tL2RvY3Mvd3BtdS1kZXYtcGx1Z2lucy9pbnRlZ3JhdGVkLXZpZGVvLXR1dG9yaWFscy9cIixcbiAgICAgIGRvY1RleHQ6IF9fKCdWaWV3IERvY3VtZW50YXRpb24nLCAnd3BtdWRldl92aWRzJyksXG4gICAgICB0aXRsZTogX18oJ1BsYXlsaXN0cycsICd3cG11ZGV2X3ZpZHMnKSxcbiAgICAgIGFjdGlvbnNMZWZ0OiAvKiNfX1BVUkVfXyovX2pzeChCdXR0b24sIHtcbiAgICAgICAgb25DbGljazogb3BlblBsYXlsaXN0TW9kYWwsXG4gICAgICAgIGljb246IFwicGx1c1wiLFxuICAgICAgICBjb2xvcjogXCJibHVlXCIsXG4gICAgICAgIGNoaWxkcmVuOiBfXygnQ3JlYXRlIFBsYXlsaXN0JywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICB9KVxuICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwic3VpLWZsb2F0aW5nLW5vdGljZXNcIixcbiAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChUb3BOb3RpY2UsIHtcbiAgICAgICAgaWQ6IGlkLFxuICAgICAgICBkaXNtaXNzOiBkaXNtaXNzLFxuICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBsYWJlbDogX18oJ0Rpc21pc3MgdGhpcyBub3RpY2UnLCAnd3BtdWRldl92aWRzJylcbiAgICAgIH0pXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFN1bW1hcnlCb3gsIHt9KSwgc2hvdWxkVXBncmFkZSgpICYmIC8qI19fUFVSRV9fKi9fanN4KFVwZ3JhZGVOb3RpY2UsIHt9KSwgIXNob3VsZFVwZ3JhZGUoKSAmJiBleHBpcmVkTWVtYmVyKCkgJiYgLyojX19QVVJFX18qL19qc3goRXhwaXJlZE5vdGljZSwge30pLCAhc2hvdWxkVXBncmFkZSgpICYmICFleHBpcmVkTWVtYmVyKCkgJiYgIXZhbGlkTWVtYmVyKCkgJiYgLyojX19QVVJFX18qL19qc3goRGFzaE5vdGljZSwge30pLCAvKiNfX1BVUkVfXyovX2pzeChCdWxrQWN0aW9ucywge30pLCAvKiNfX1BVUkVfXyovX2pzeChQbGF5bGlzdHMsIHt9KSwgLyojX19QVVJFX18qL19qc3goUGFnZUZvb3Rlciwge30pXVxuICB9KTtcbn1cbmV4cG9ydCBkZWZhdWx0IEFwcDsiLCJpbXBvcnQgeyBTdHJpY3RNb2RlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbS9jbGllbnQnO1xuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgc3RvcmUgZnJvbSAnLi4vLi4vc3RvcmUvc3RvcmUnO1xuaW1wb3J0IHsgSGFzaFJvdXRlciB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IEFwcCBmcm9tICcuL0FwcCc7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIHJvb3QgPSBSZWFjdERPTS5jcmVhdGVSb290KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3cG11ZGV2LXZpZGVvcy1wbGF5bGlzdHMtYXBwJykpO1xucm9vdC5yZW5kZXIoIC8qI19fUFVSRV9fKi9fanN4KFN0cmljdE1vZGUsIHtcbiAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KFByb3ZpZGVyLCB7XG4gICAgc3RvcmU6IHN0b3JlLFxuICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChIYXNoUm91dGVyLCB7XG4gICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goQXBwLCB7fSlcbiAgICB9KVxuICB9KVxufSkpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3754\n')},9317:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A1: function() { return /* binding */ getFiltered; },\n/* harmony export */   E9: function() { return /* binding */ toggleAll; },\n/* harmony export */   Eo: function() { return /* binding */ getPlaylists; },\n/* harmony export */   FN: function() { return /* binding */ orderChange; },\n/* harmony export */   H: function() { return /* binding */ getLoadingStatus; },\n/* harmony export */   Nt: function() { return /* binding */ createPlaylist; },\n/* harmony export */   QY: function() { return /* binding */ bulkDelete; },\n/* harmony export */   SX: function() { return /* binding */ savePlaylist; },\n/* harmony export */   V4: function() { return /* binding */ isVideoSelected; },\n/* harmony export */   WM: function() { return /* binding */ toggleVideo; },\n/* harmony export */   ag: function() { return /* binding */ deletePlaylist; },\n/* harmony export */   cM: function() { return /* binding */ initPlaylists; },\n/* harmony export */   dC: function() { return /* binding */ getSelectedPlaylists; },\n/* harmony export */   fk: function() { return /* binding */ togglePlaylist; },\n/* harmony export */   ko: function() { return /* binding */ isPlaylistSelected; },\n/* harmony export */   tc: function() { return /* binding */ areAllSelected; },\n/* harmony export */   xu: function() { return /* binding */ setPlaylist; }\n/* harmony export */ });\n/* unused harmony export updatePlaylistKey */\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8740);\n/* harmony import */ var _helpers_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9331);\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4214);\n/* harmony import */ var reselect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1081);\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator.return && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, catch: function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\n\n\n\n\n\n/***************************************************\n *\n * Asynchronous Requests\n *\n * *************************************************/\n/**\n * Initialize the playlist list\n *\n * @return {Promise}\n */\nvar initPlaylists = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'playlists/init\',\n// Redux action type\nfunction (params) {\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restGet */ .B8)({\n    path: \'playlists\',\n    params: params\n  });\n});\n\n/**\n * Save a single playlist changes to database\n *\n * @return {Promise}\n */\nvar savePlaylist = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'playlists/updateSinglePlaylist\',\n// Redux action type\nfunction (data) {\n  var playlist = data.playlist,\n    id = data.id;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restPost */ .J8)({\n    path: "playlists/".concat(id),\n    data: playlist\n  });\n});\n\n/**\n * Create a new playlist\n *\n * @return {Promise}\n */\nvar createPlaylist = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'playlists/createPlaylist\',\n/*#__PURE__*/\n// Redux action type\nfunction () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(data, _ref) {\n    var rejectWithValue, playlist;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          rejectWithValue = _ref.rejectWithValue;\n          playlist = data.playlist;\n          _context.prev = 2;\n          _context.next = 5;\n          return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restPost */ .J8)({\n            path: "playlists",\n            data: playlist\n          });\n        case 5:\n          return _context.abrupt("return", _context.sent);\n        case 8:\n          _context.prev = 8;\n          _context.t0 = _context["catch"](2);\n          return _context.abrupt("return", rejectWithValue(_context.t0));\n        case 11:\n        case "end":\n          return _context.stop();\n      }\n    }, _callee, null, [[2, 8]]);\n  }));\n  return function (_x, _x2) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n/**\n * Change Playlist Order\n *\n * @return {void}\n */\nvar orderChange = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'playlists/changePlaylistOrder\',\n// Redux action type\n\nfunction (data) {\n  var playlistID = data.playlistID,\n    oldIndex = data.oldIndex,\n    newIndex = data.newIndex;\n  if (playlistID > 0 && oldIndex !== newIndex) {\n    (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restGet */ .B8)({\n      path: \'playlists/reorder\',\n      params: {\n        playlist: playlistID,\n        from: oldIndex,\n        to: newIndex\n      }\n    });\n  }\n});\n\n/**\n * Delete a playlist\n *\n * @return {Promise}\n */\nvar deletePlaylist = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'playlists/deletePlaylist\',\n// Redux action type\nfunction (data) {\n  var id = data.id;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restDelete */ ._8)({\n    path: "playlists/".concat(id)\n  });\n});\n\n/**\n * Bulk delete playlists & videos\n *\n * @return {Promise}\n */\nvar bulkDelete = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'playlists/bulkDelete\',\n// Redux action type\nfunction (data) {\n  var selected = data.selected;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restPost */ .J8)({\n    path: "playlists/bulk-actions",\n    data: {\n      action: \'delete\',\n      items: selected\n    }\n  });\n});\n\n/***************************************************\n *\n * Playlists Slice\n *\n * *************************************************/\nvar playlistsSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createSlice */ .Z0)({\n  name: \'playlists\',\n  /***************************************************\n   *\n   * Initial State\n   *\n   * *************************************************/\n\n  initialState: {\n    playlists: {},\n    filtered: [],\n    selected: {},\n    isLoading: false\n  },\n  /***************************************************\n   *\n   * Reducers\n   *\n   * *************************************************/\n  reducers: {\n    /**\n     * Update a single playlist in the playlists list\n     *\n     * If playlist exist, it will replace the playlist object,\n     * if not, it will add the playlist object.\n     *\n     * @param {object} state Current state.\n     * @param {object} action action data.\n     */\n    setPlaylist: function setPlaylist(state, action) {\n      var playlist = action.payload.playlist;\n      var playlists = state.playlists;\n      var newPlaylists = _objectSpread(_objectSpread({}, playlists), {}, _defineProperty({}, playlist.id, playlist));\n      return _objectSpread(_objectSpread({}, state), {}, {\n        playlists: newPlaylists\n      });\n    },\n    /**\n     * Select or deselect a playlist ( checkbox )\n     *\n     * @return {void}\n     */\n    togglePlaylist: function togglePlaylist(state, action) {\n      var _state$playlists, _selected$id;\n      var _action$payload = action.payload,\n        checked = _action$payload.checked,\n        id = _action$payload.id;\n      var allVideos = (_state$playlists = state.playlists) === null || _state$playlists === void 0 || (_state$playlists = _state$playlists[id]) === null || _state$playlists === void 0 ? void 0 : _state$playlists.videos;\n\n      // The new selected object\n      var selected = _objectSpread(_objectSpread({}, state.selected), {}, _defineProperty({}, id, {\n        selected: checked,\n        videos: checked && allVideos || []\n      }));\n\n      // If playlist is not selected and no videos are selected,\n      // remove the playlist\n      if ((selected === null || selected === void 0 || (_selected$id = selected[id]) === null || _selected$id === void 0 || (_selected$id = _selected$id.videos) === null || _selected$id === void 0 ? void 0 : _selected$id.length) === 0 && !checked) {\n        delete selected[id];\n      }\n      return _objectSpread(_objectSpread({}, state), {}, {\n        selected: selected\n      });\n    },\n    /**\n     * Select or de-select all playlists and videos ( checkbox )\n     *\n     * @return {void}\n     */\n    toggleAll: function toggleAll(state, action) {\n      var checked = action.payload.checked;\n      var playlists = state.playlists;\n\n      // The new selected object\n      var newSelected = {};\n      if (checked === true) {\n        Object.keys(playlists).forEach(function (id) {\n          newSelected[id] = {\n            selected: true,\n            videos: (playlists === null || playlists === void 0 ? void 0 : playlists[id].videos) || []\n          };\n        });\n      }\n      return _objectSpread(_objectSpread({}, state), {}, {\n        selected: newSelected\n      });\n    },\n    /**\n     * Update selected videos list ( checkbox )\n     *\n     * @return {void}\n     */\n    toggleVideo: function toggleVideo(state, action) {\n      var _selected$playlistID, _selected$playlistID2;\n      var _action$payload2 = action.payload,\n        videoID = _action$payload2.videoID,\n        playlistID = _action$payload2.playlistID;\n      var selected = state.selected;\n      var videos = (selected === null || selected === void 0 || (_selected$playlistID = selected[playlistID]) === null || _selected$playlistID === void 0 ? void 0 : _selected$playlistID.videos) || [];\n\n      // The new selected object\n      var newSelected = {};\n\n      // The new videos array\n      var newVideos = [];\n\n      // Toggle video\n      if (videos.includes(videoID)) {\n        // Remove video if it exists\n        newVideos = videos.filter(function (el) {\n          return el !== videoID;\n        });\n      } else {\n        // Add video if it doesn\'t exist\n        newVideos = [].concat(_toConsumableArray(videos), [videoID]);\n      }\n      var isPlaylistSelected = (selected === null || selected === void 0 || (_selected$playlistID2 = selected[playlistID]) === null || _selected$playlistID2 === void 0 ? void 0 : _selected$playlistID2.selected) || false;\n\n      // Update selected object\n      newSelected = _objectSpread(_objectSpread({}, selected), {}, _defineProperty({}, playlistID, {\n        selected: isPlaylistSelected,\n        videos: newVideos\n      }));\n\n      /* If playlist is not selected and no video is selected,\n      remove the playlist */\n      if (newVideos.length === 0 && !isPlaylistSelected) {\n        delete newSelected[playlistID];\n      }\n\n      // Set the state\n      return _objectSpread(_objectSpread({}, state), {}, {\n        selected: newSelected\n      });\n    }\n  },\n  /***************************************************\n   *\n   * Extra Reducers\n   *\n   * Manage of asynchronous requests states\n   *\n   * *************************************************/\n  extraReducers: function extraReducers(builder) {\n    builder\n    // Playlists Init\n    .addCase(initPlaylists.pending, function (state) {\n      state.isLoading = true;\n    }).addCase(initPlaylists.fulfilled, function (state, action) {\n      state.isLoading = false;\n      var payload = action.payload;\n      if (payload.success && payload.data) {\n        var playlists = {};\n        var filtered = [];\n\n        // Setup the list data.\n        payload.data.forEach(function (playlist) {\n          playlists[playlist.id] = playlist;\n          filtered.push(playlist.id);\n        });\n\n        // update the state\n        state.playlists = playlists;\n        state.filtered = filtered;\n      }\n    }).addCase(initPlaylists.rejected, function (state) {\n      state.isLoading = false;\n    })\n    // Save Playlist\n    .addCase(savePlaylist.pending, function (state) {\n      state.isLoading = true;\n    }).addCase(savePlaylist.fulfilled, function (state, action) {\n      var data = action.payload.data;\n      var playlists = state.playlists;\n      var newPlaylists = _objectSpread(_objectSpread({}, playlists), {}, _defineProperty({}, data.id, data));\n      state.isLoading = false;\n      state.playlists = newPlaylists;\n    }).addCase(savePlaylist.rejected, function (state) {\n      state.isLoading = false;\n    })\n    // Create Playlist\n    .addCase(createPlaylist.pending, function (state) {\n      state.isLoading = true;\n    }).addCase(createPlaylist.fulfilled, function (state, action) {\n      var _action$payload3 = action.payload,\n        data = _action$payload3.data,\n        success = _action$payload3.success;\n      if (success && data) {\n        var playlists = state.playlists,\n          filtered = state.filtered;\n        // update the list in the store\n        state.playlists = _objectSpread(_objectSpread({}, playlists), {}, _defineProperty({}, data.id, data));\n        state.filtered = [].concat(_toConsumableArray(filtered), [data.id]);\n      }\n      state.isLoading = false;\n    }).addCase(createPlaylist.rejected, function (state) {\n      state.isLoading = false;\n    })\n    // Delete Playlist\n    .addCase(deletePlaylist.pending, function (state) {\n      state.isLoading = true;\n    }).addCase(deletePlaylist.fulfilled, function (state, action) {\n      var id = action.meta.arg.id,\n        success = action.payload.success;\n\n      // Remove the playlist if success\n      if (success === true) {\n        var playlists = state.playlists,\n          filtered = state.filtered;\n        var newPlaylists = _objectSpread({}, playlists);\n        delete newPlaylists[id];\n        // update the list in the store\n        state.playlists = _objectSpread({}, newPlaylists);\n        state.filtered = filtered.filter(function (item) {\n          return item !== id;\n        });\n      }\n      state.isLoading = false;\n    }).addCase(deletePlaylist.rejected, function (state) {\n      state.isLoading = false;\n    })\n    // Bulk Delete\n    .addCase(bulkDelete.pending, function (state) {\n      state.isLoading = true;\n    }).addCase(bulkDelete.fulfilled, function (state) {\n      state.isLoading = false;\n\n      // Empty the selected list\n      state.selected = [];\n    }).addCase(bulkDelete.rejected, function (state) {\n      state.isLoading = false;\n\n      // Empty the selected list\n      state.selected = [];\n    });\n  }\n});\n\n/***************************************************\n *\n * Selectors\n *\n * *************************************************/\n\nvar playlistsState = function playlistsState(state) {\n  return state.playlists;\n};\n\n/**\n * Get playlists object\n *\n * @param {object} playlistsState the playlists object.\n *\n * @return {object}\n */\nvar getPlaylists = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(playlistsState, function (playlistsState) {\n  return playlistsState.playlists;\n});\n\n/**\n * Get filtered array\n *\n * @param {object} playlistsState the playlists object.\n *\n * @return {array}\n */\nvar getFiltered = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(playlistsState, function (playlistsState) {\n  return playlistsState.filtered;\n});\n\n/**\n * Checks if the playlist is selected\n *\n * @param {object} playlistsState the playlists object.\n * @param {number} id playlist id\n *\n * @return {boolean}\n */\nvar isPlaylistSelected = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(playlistsState, function (_, id) {\n  return id;\n}, function (playlistsState, id) {\n  var _playlistsState$selec;\n  return (_playlistsState$selec = playlistsState.selected) === null || _playlistsState$selec === void 0 || (_playlistsState$selec = _playlistsState$selec[id]) === null || _playlistsState$selec === void 0 ? void 0 : _playlistsState$selec.selected;\n});\n\n/**\n * Checks if video is selected\n *\n * @param {object} playlistsState the playlists object.\n * @param {object} ids playlistID & videoID\n *\n * @return {boolean}\n */\nvar isVideoSelected = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(playlistsState, function (_, ids) {\n  return ids;\n}, function (playlistsState, ids) {\n  var _playlistsState$selec2;\n  var _ref3 = ids !== null && ids !== void 0 ? ids : {},\n    playlistID = _ref3.playlistID,\n    videoID = _ref3.videoID;\n  var videos = ((_playlistsState$selec2 = playlistsState.selected) === null || _playlistsState$selec2 === void 0 || (_playlistsState$selec2 = _playlistsState$selec2[playlistID]) === null || _playlistsState$selec2 === void 0 ? void 0 : _playlistsState$selec2.videos) || [];\n  return videos.includes(videoID);\n});\n\n/**\n * Check of all videos and playlists are selected\n *\n * @param {object} playlistsState the playlists object.\n * @return {boolean}\n *\n */\nvar areAllSelected = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(playlistsState, function (playlistsState) {\n  var playlists = playlistsState.playlists,\n    selected = playlistsState.selected;\n\n  // return false if at least one playlist is not selected\n  for (var playlistId in playlists) {\n    var _selected$playlistId, _playlists$playlistId, _selected$playlistId2;\n    var isSelected = (selected === null || selected === void 0 || (_selected$playlistId = selected[playlistId]) === null || _selected$playlistId === void 0 ? void 0 : _selected$playlistId.selected) || false;\n    if (!isSelected) {\n      return false;\n    }\n\n    // return false if at least one video is not selected\n    var allVideos = (playlists === null || playlists === void 0 || (_playlists$playlistId = playlists[playlistId]) === null || _playlists$playlistId === void 0 ? void 0 : _playlists$playlistId.videos) || [];\n    var selectedVideos = (selected === null || selected === void 0 || (_selected$playlistId2 = selected[playlistId]) === null || _selected$playlistId2 === void 0 ? void 0 : _selected$playlistId2.videos) || [];\n\n    // It suffices to compare lengths only\n    if (allVideos.length !== selectedVideos.length) {\n      return false;\n    }\n  }\n  return Object.keys(playlists).length > 0;\n});\n\n/**\n * Get selected Playlists & videos\n *\n * @param {object} playlistsState the playlists object.\n *\n * @return {object}\n */\nvar getSelectedPlaylists = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(playlistsState, function (playlistsState) {\n  return playlistsState.selected;\n});\n\n/**\n * Get Loading status\n *\n * @param {object} playlistsState the playlists object.\n *\n * @return {*}\n */\nvar getLoadingStatus = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(playlistsState, function (playlistsState) {\n  return playlistsState.isLoading;\n});\n\n// Export actions\nvar _playlistsSlice$actio = playlistsSlice.actions,\n  setPlaylist = _playlistsSlice$actio.setPlaylist,\n  updatePlaylistKey = _playlistsSlice$actio.updatePlaylistKey,\n  togglePlaylist = _playlistsSlice$actio.togglePlaylist,\n  toggleVideo = _playlistsSlice$actio.toggleVideo,\n  toggleAll = _playlistsSlice$actio.toggleAll;\n\n/* harmony default export */ __webpack_exports__.Ay = (playlistsSlice.reducer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTMxNy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3N0b3JlL3NsaWNlcy9wbGF5bGlzdHMuanM/NDA0YiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkocikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKHIpIHx8IF9pdGVyYWJsZVRvQXJyYXkocikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkgeyBpZiAocikgeyBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gXCJPYmplY3RcIiA9PT0gdCAmJiByLmNvbnN0cnVjdG9yICYmICh0ID0gci5jb25zdHJ1Y3Rvci5uYW1lKSwgXCJNYXBcIiA9PT0gdCB8fCBcIlNldFwiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6IFwiQXJndW1lbnRzXCIgPT09IHQgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkgPyBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSA6IHZvaWQgMDsgfSB9XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KHIpIHsgaWYgKFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiBudWxsICE9IHJbU3ltYm9sLml0ZXJhdG9yXSB8fCBudWxsICE9IHJbXCJAQGl0ZXJhdG9yXCJdKSByZXR1cm4gQXJyYXkuZnJvbShyKTsgfVxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKHIpIHsgaWYgKEFycmF5LmlzQXJyYXkocikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyKTsgfVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfVxuZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkoZSwgciwgdCkgeyByZXR1cm4gKHIgPSBfdG9Qcm9wZXJ0eUtleShyKSkgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCB7IHZhbHVlOiB0LCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pIDogZVtyXSA9IHQsIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG5mdW5jdGlvbiBfcmVnZW5lcmF0b3JSdW50aW1lKCkgeyBcInVzZSBzdHJpY3RcIjsgLyohIHJlZ2VuZXJhdG9yLXJ1bnRpbWUgLS0gQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuIC0tIGxpY2Vuc2UgKE1JVCk6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9ibG9iL21haW4vTElDRU5TRSAqLyBfcmVnZW5lcmF0b3JSdW50aW1lID0gZnVuY3Rpb24gX3JlZ2VuZXJhdG9yUnVudGltZSgpIHsgcmV0dXJuIGU7IH07IHZhciB0LCBlID0ge30sIHIgPSBPYmplY3QucHJvdG90eXBlLCBuID0gci5oYXNPd25Qcm9wZXJ0eSwgbyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB8fCBmdW5jdGlvbiAodCwgZSwgcikgeyB0W2VdID0gci52YWx1ZTsgfSwgaSA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sID8gU3ltYm9sIDoge30sIGEgPSBpLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiLCBjID0gaS5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCIsIHUgPSBpLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiOyBmdW5jdGlvbiBkZWZpbmUodCwgZSwgcikgeyByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIGUsIHsgdmFsdWU6IHIsIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAgfSksIHRbZV07IH0gdHJ5IHsgZGVmaW5lKHt9LCBcIlwiKTsgfSBjYXRjaCAodCkgeyBkZWZpbmUgPSBmdW5jdGlvbiBkZWZpbmUodCwgZSwgcikgeyByZXR1cm4gdFtlXSA9IHI7IH07IH0gZnVuY3Rpb24gd3JhcCh0LCBlLCByLCBuKSB7IHZhciBpID0gZSAmJiBlLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IGUgOiBHZW5lcmF0b3IsIGEgPSBPYmplY3QuY3JlYXRlKGkucHJvdG90eXBlKSwgYyA9IG5ldyBDb250ZXh0KG4gfHwgW10pOyByZXR1cm4gbyhhLCBcIl9pbnZva2VcIiwgeyB2YWx1ZTogbWFrZUludm9rZU1ldGhvZCh0LCByLCBjKSB9KSwgYTsgfSBmdW5jdGlvbiB0cnlDYXRjaCh0LCBlLCByKSB7IHRyeSB7IHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogdC5jYWxsKGUsIHIpIH07IH0gY2F0Y2ggKHQpIHsgcmV0dXJuIHsgdHlwZTogXCJ0aHJvd1wiLCBhcmc6IHQgfTsgfSB9IGUud3JhcCA9IHdyYXA7IHZhciBoID0gXCJzdXNwZW5kZWRTdGFydFwiLCBsID0gXCJzdXNwZW5kZWRZaWVsZFwiLCBmID0gXCJleGVjdXRpbmdcIiwgcyA9IFwiY29tcGxldGVkXCIsIHkgPSB7fTsgZnVuY3Rpb24gR2VuZXJhdG9yKCkge30gZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fSBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9IHZhciBwID0ge307IGRlZmluZShwLCBhLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KTsgdmFyIGQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YsIHYgPSBkICYmIGQoZCh2YWx1ZXMoW10pKSk7IHYgJiYgdiAhPT0gciAmJiBuLmNhbGwodiwgYSkgJiYgKHAgPSB2KTsgdmFyIGcgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPSBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShwKTsgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHQpIHsgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24gKGUpIHsgZGVmaW5lKHQsIGUsIGZ1bmN0aW9uICh0KSB7IHJldHVybiB0aGlzLl9pbnZva2UoZSwgdCk7IH0pOyB9KTsgfSBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKHQsIGUpIHsgZnVuY3Rpb24gaW52b2tlKHIsIG8sIGksIGEpIHsgdmFyIGMgPSB0cnlDYXRjaCh0W3JdLCB0LCBvKTsgaWYgKFwidGhyb3dcIiAhPT0gYy50eXBlKSB7IHZhciB1ID0gYy5hcmcsIGggPSB1LnZhbHVlOyByZXR1cm4gaCAmJiBcIm9iamVjdFwiID09IF90eXBlb2YoaCkgJiYgbi5jYWxsKGgsIFwiX19hd2FpdFwiKSA/IGUucmVzb2x2ZShoLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24gKHQpIHsgaW52b2tlKFwibmV4dFwiLCB0LCBpLCBhKTsgfSwgZnVuY3Rpb24gKHQpIHsgaW52b2tlKFwidGhyb3dcIiwgdCwgaSwgYSk7IH0pIDogZS5yZXNvbHZlKGgpLnRoZW4oZnVuY3Rpb24gKHQpIHsgdS52YWx1ZSA9IHQsIGkodSk7IH0sIGZ1bmN0aW9uICh0KSB7IHJldHVybiBpbnZva2UoXCJ0aHJvd1wiLCB0LCBpLCBhKTsgfSk7IH0gYShjLmFyZyk7IH0gdmFyIHI7IG8odGhpcywgXCJfaW52b2tlXCIsIHsgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKHQsIG4pIHsgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7IHJldHVybiBuZXcgZShmdW5jdGlvbiAoZSwgcikgeyBpbnZva2UodCwgbiwgZSwgcik7IH0pOyB9IHJldHVybiByID0gciA/IHIudGhlbihjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZywgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcpIDogY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKTsgfSB9KTsgfSBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGUsIHIsIG4pIHsgdmFyIG8gPSBoOyByZXR1cm4gZnVuY3Rpb24gKGksIGEpIHsgaWYgKG8gPT09IGYpIHRocm93IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTsgaWYgKG8gPT09IHMpIHsgaWYgKFwidGhyb3dcIiA9PT0gaSkgdGhyb3cgYTsgcmV0dXJuIHsgdmFsdWU6IHQsIGRvbmU6ICEwIH07IH0gZm9yIChuLm1ldGhvZCA9IGksIG4uYXJnID0gYTs7KSB7IHZhciBjID0gbi5kZWxlZ2F0ZTsgaWYgKGMpIHsgdmFyIHUgPSBtYXliZUludm9rZURlbGVnYXRlKGMsIG4pOyBpZiAodSkgeyBpZiAodSA9PT0geSkgY29udGludWU7IHJldHVybiB1OyB9IH0gaWYgKFwibmV4dFwiID09PSBuLm1ldGhvZCkgbi5zZW50ID0gbi5fc2VudCA9IG4uYXJnO2Vsc2UgaWYgKFwidGhyb3dcIiA9PT0gbi5tZXRob2QpIHsgaWYgKG8gPT09IGgpIHRocm93IG8gPSBzLCBuLmFyZzsgbi5kaXNwYXRjaEV4Y2VwdGlvbihuLmFyZyk7IH0gZWxzZSBcInJldHVyblwiID09PSBuLm1ldGhvZCAmJiBuLmFicnVwdChcInJldHVyblwiLCBuLmFyZyk7IG8gPSBmOyB2YXIgcCA9IHRyeUNhdGNoKGUsIHIsIG4pOyBpZiAoXCJub3JtYWxcIiA9PT0gcC50eXBlKSB7IGlmIChvID0gbi5kb25lID8gcyA6IGwsIHAuYXJnID09PSB5KSBjb250aW51ZTsgcmV0dXJuIHsgdmFsdWU6IHAuYXJnLCBkb25lOiBuLmRvbmUgfTsgfSBcInRocm93XCIgPT09IHAudHlwZSAmJiAobyA9IHMsIG4ubWV0aG9kID0gXCJ0aHJvd1wiLCBuLmFyZyA9IHAuYXJnKTsgfSB9OyB9IGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZSwgcikgeyB2YXIgbiA9IHIubWV0aG9kLCBvID0gZS5pdGVyYXRvcltuXTsgaWYgKG8gPT09IHQpIHJldHVybiByLmRlbGVnYXRlID0gbnVsbCwgXCJ0aHJvd1wiID09PSBuICYmIGUuaXRlcmF0b3IucmV0dXJuICYmIChyLm1ldGhvZCA9IFwicmV0dXJuXCIsIHIuYXJnID0gdCwgbWF5YmVJbnZva2VEZWxlZ2F0ZShlLCByKSwgXCJ0aHJvd1wiID09PSByLm1ldGhvZCkgfHwgXCJyZXR1cm5cIiAhPT0gbiAmJiAoci5tZXRob2QgPSBcInRocm93XCIsIHIuYXJnID0gbmV3IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ1wiICsgbiArIFwiJyBtZXRob2RcIikpLCB5OyB2YXIgaSA9IHRyeUNhdGNoKG8sIGUuaXRlcmF0b3IsIHIuYXJnKTsgaWYgKFwidGhyb3dcIiA9PT0gaS50eXBlKSByZXR1cm4gci5tZXRob2QgPSBcInRocm93XCIsIHIuYXJnID0gaS5hcmcsIHIuZGVsZWdhdGUgPSBudWxsLCB5OyB2YXIgYSA9IGkuYXJnOyByZXR1cm4gYSA/IGEuZG9uZSA/IChyW2UucmVzdWx0TmFtZV0gPSBhLnZhbHVlLCByLm5leHQgPSBlLm5leHRMb2MsIFwicmV0dXJuXCIgIT09IHIubWV0aG9kICYmIChyLm1ldGhvZCA9IFwibmV4dFwiLCByLmFyZyA9IHQpLCByLmRlbGVnYXRlID0gbnVsbCwgeSkgOiBhIDogKHIubWV0aG9kID0gXCJ0aHJvd1wiLCByLmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKSwgci5kZWxlZ2F0ZSA9IG51bGwsIHkpOyB9IGZ1bmN0aW9uIHB1c2hUcnlFbnRyeSh0KSB7IHZhciBlID0geyB0cnlMb2M6IHRbMF0gfTsgMSBpbiB0ICYmIChlLmNhdGNoTG9jID0gdFsxXSksIDIgaW4gdCAmJiAoZS5maW5hbGx5TG9jID0gdFsyXSwgZS5hZnRlckxvYyA9IHRbM10pLCB0aGlzLnRyeUVudHJpZXMucHVzaChlKTsgfSBmdW5jdGlvbiByZXNldFRyeUVudHJ5KHQpIHsgdmFyIGUgPSB0LmNvbXBsZXRpb24gfHwge307IGUudHlwZSA9IFwibm9ybWFsXCIsIGRlbGV0ZSBlLmFyZywgdC5jb21wbGV0aW9uID0gZTsgfSBmdW5jdGlvbiBDb250ZXh0KHQpIHsgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XSwgdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyksIHRoaXMucmVzZXQoITApOyB9IGZ1bmN0aW9uIHZhbHVlcyhlKSB7IGlmIChlIHx8IFwiXCIgPT09IGUpIHsgdmFyIHIgPSBlW2FdOyBpZiAocikgcmV0dXJuIHIuY2FsbChlKTsgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZS5uZXh0KSByZXR1cm4gZTsgaWYgKCFpc05hTihlLmxlbmd0aCkpIHsgdmFyIG8gPSAtMSwgaSA9IGZ1bmN0aW9uIG5leHQoKSB7IGZvciAoOyArK28gPCBlLmxlbmd0aDspIGlmIChuLmNhbGwoZSwgbykpIHJldHVybiBuZXh0LnZhbHVlID0gZVtvXSwgbmV4dC5kb25lID0gITEsIG5leHQ7IHJldHVybiBuZXh0LnZhbHVlID0gdCwgbmV4dC5kb25lID0gITAsIG5leHQ7IH07IHJldHVybiBpLm5leHQgPSBpOyB9IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihfdHlwZW9mKGUpICsgXCIgaXMgbm90IGl0ZXJhYmxlXCIpOyB9IHJldHVybiBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgbyhnLCBcImNvbnN0cnVjdG9yXCIsIHsgdmFsdWU6IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBjb25maWd1cmFibGU6ICEwIH0pLCBvKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBcImNvbnN0cnVjdG9yXCIsIHsgdmFsdWU6IEdlbmVyYXRvckZ1bmN0aW9uLCBjb25maWd1cmFibGU6ICEwIH0pLCBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IGRlZmluZShHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgdSwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKSwgZS5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24gKHQpIHsgdmFyIGUgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHQgJiYgdC5jb25zdHJ1Y3RvcjsgcmV0dXJuICEhZSAmJiAoZSA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHwgXCJHZW5lcmF0b3JGdW5jdGlvblwiID09PSAoZS5kaXNwbGF5TmFtZSB8fCBlLm5hbWUpKTsgfSwgZS5tYXJrID0gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZih0LCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSkgOiAodC5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgZGVmaW5lKHQsIHUsIFwiR2VuZXJhdG9yRnVuY3Rpb25cIikpLCB0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoZyksIHQ7IH0sIGUuYXdyYXAgPSBmdW5jdGlvbiAodCkgeyByZXR1cm4geyBfX2F3YWl0OiB0IH07IH0sIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSksIGRlZmluZShBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSwgYywgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSksIGUuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3IsIGUuYXN5bmMgPSBmdW5jdGlvbiAodCwgciwgbiwgbywgaSkgeyB2b2lkIDAgPT09IGkgJiYgKGkgPSBQcm9taXNlKTsgdmFyIGEgPSBuZXcgQXN5bmNJdGVyYXRvcih3cmFwKHQsIHIsIG4sIG8pLCBpKTsgcmV0dXJuIGUuaXNHZW5lcmF0b3JGdW5jdGlvbihyKSA/IGEgOiBhLm5leHQoKS50aGVuKGZ1bmN0aW9uICh0KSB7IHJldHVybiB0LmRvbmUgPyB0LnZhbHVlIDogYS5uZXh0KCk7IH0pOyB9LCBkZWZpbmVJdGVyYXRvck1ldGhvZHMoZyksIGRlZmluZShnLCB1LCBcIkdlbmVyYXRvclwiKSwgZGVmaW5lKGcsIGEsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pLCBkZWZpbmUoZywgXCJ0b1N0cmluZ1wiLCBmdW5jdGlvbiAoKSB7IHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiOyB9KSwgZS5rZXlzID0gZnVuY3Rpb24gKHQpIHsgdmFyIGUgPSBPYmplY3QodCksIHIgPSBbXTsgZm9yICh2YXIgbiBpbiBlKSByLnB1c2gobik7IHJldHVybiByLnJldmVyc2UoKSwgZnVuY3Rpb24gbmV4dCgpIHsgZm9yICg7IHIubGVuZ3RoOykgeyB2YXIgdCA9IHIucG9wKCk7IGlmICh0IGluIGUpIHJldHVybiBuZXh0LnZhbHVlID0gdCwgbmV4dC5kb25lID0gITEsIG5leHQ7IH0gcmV0dXJuIG5leHQuZG9uZSA9ICEwLCBuZXh0OyB9OyB9LCBlLnZhbHVlcyA9IHZhbHVlcywgQ29udGV4dC5wcm90b3R5cGUgPSB7IGNvbnN0cnVjdG9yOiBDb250ZXh0LCByZXNldDogZnVuY3Rpb24gcmVzZXQoZSkgeyBpZiAodGhpcy5wcmV2ID0gMCwgdGhpcy5uZXh0ID0gMCwgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IHQsIHRoaXMuZG9uZSA9ICExLCB0aGlzLmRlbGVnYXRlID0gbnVsbCwgdGhpcy5tZXRob2QgPSBcIm5leHRcIiwgdGhpcy5hcmcgPSB0LCB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KSwgIWUpIGZvciAodmFyIHIgaW4gdGhpcykgXCJ0XCIgPT09IHIuY2hhckF0KDApICYmIG4uY2FsbCh0aGlzLCByKSAmJiAhaXNOYU4oK3Iuc2xpY2UoMSkpICYmICh0aGlzW3JdID0gdCk7IH0sIHN0b3A6IGZ1bmN0aW9uIHN0b3AoKSB7IHRoaXMuZG9uZSA9ICEwOyB2YXIgdCA9IHRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uOyBpZiAoXCJ0aHJvd1wiID09PSB0LnR5cGUpIHRocm93IHQuYXJnOyByZXR1cm4gdGhpcy5ydmFsOyB9LCBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24gZGlzcGF0Y2hFeGNlcHRpb24oZSkgeyBpZiAodGhpcy5kb25lKSB0aHJvdyBlOyB2YXIgciA9IHRoaXM7IGZ1bmN0aW9uIGhhbmRsZShuLCBvKSB7IHJldHVybiBhLnR5cGUgPSBcInRocm93XCIsIGEuYXJnID0gZSwgci5uZXh0ID0gbiwgbyAmJiAoci5tZXRob2QgPSBcIm5leHRcIiwgci5hcmcgPSB0KSwgISFvOyB9IGZvciAodmFyIG8gPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgbyA+PSAwOyAtLW8pIHsgdmFyIGkgPSB0aGlzLnRyeUVudHJpZXNbb10sIGEgPSBpLmNvbXBsZXRpb247IGlmIChcInJvb3RcIiA9PT0gaS50cnlMb2MpIHJldHVybiBoYW5kbGUoXCJlbmRcIik7IGlmIChpLnRyeUxvYyA8PSB0aGlzLnByZXYpIHsgdmFyIGMgPSBuLmNhbGwoaSwgXCJjYXRjaExvY1wiKSwgdSA9IG4uY2FsbChpLCBcImZpbmFsbHlMb2NcIik7IGlmIChjICYmIHUpIHsgaWYgKHRoaXMucHJldiA8IGkuY2F0Y2hMb2MpIHJldHVybiBoYW5kbGUoaS5jYXRjaExvYywgITApOyBpZiAodGhpcy5wcmV2IDwgaS5maW5hbGx5TG9jKSByZXR1cm4gaGFuZGxlKGkuZmluYWxseUxvYyk7IH0gZWxzZSBpZiAoYykgeyBpZiAodGhpcy5wcmV2IDwgaS5jYXRjaExvYykgcmV0dXJuIGhhbmRsZShpLmNhdGNoTG9jLCAhMCk7IH0gZWxzZSB7IGlmICghdSkgdGhyb3cgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTsgaWYgKHRoaXMucHJldiA8IGkuZmluYWxseUxvYykgcmV0dXJuIGhhbmRsZShpLmZpbmFsbHlMb2MpOyB9IH0gfSB9LCBhYnJ1cHQ6IGZ1bmN0aW9uIGFicnVwdCh0LCBlKSB7IGZvciAodmFyIHIgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgciA+PSAwOyAtLXIpIHsgdmFyIG8gPSB0aGlzLnRyeUVudHJpZXNbcl07IGlmIChvLnRyeUxvYyA8PSB0aGlzLnByZXYgJiYgbi5jYWxsKG8sIFwiZmluYWxseUxvY1wiKSAmJiB0aGlzLnByZXYgPCBvLmZpbmFsbHlMb2MpIHsgdmFyIGkgPSBvOyBicmVhazsgfSB9IGkgJiYgKFwiYnJlYWtcIiA9PT0gdCB8fCBcImNvbnRpbnVlXCIgPT09IHQpICYmIGkudHJ5TG9jIDw9IGUgJiYgZSA8PSBpLmZpbmFsbHlMb2MgJiYgKGkgPSBudWxsKTsgdmFyIGEgPSBpID8gaS5jb21wbGV0aW9uIDoge307IHJldHVybiBhLnR5cGUgPSB0LCBhLmFyZyA9IGUsIGkgPyAodGhpcy5tZXRob2QgPSBcIm5leHRcIiwgdGhpcy5uZXh0ID0gaS5maW5hbGx5TG9jLCB5KSA6IHRoaXMuY29tcGxldGUoYSk7IH0sIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZSh0LCBlKSB7IGlmIChcInRocm93XCIgPT09IHQudHlwZSkgdGhyb3cgdC5hcmc7IHJldHVybiBcImJyZWFrXCIgPT09IHQudHlwZSB8fCBcImNvbnRpbnVlXCIgPT09IHQudHlwZSA/IHRoaXMubmV4dCA9IHQuYXJnIDogXCJyZXR1cm5cIiA9PT0gdC50eXBlID8gKHRoaXMucnZhbCA9IHRoaXMuYXJnID0gdC5hcmcsIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIiwgdGhpcy5uZXh0ID0gXCJlbmRcIikgOiBcIm5vcm1hbFwiID09PSB0LnR5cGUgJiYgZSAmJiAodGhpcy5uZXh0ID0gZSksIHk7IH0sIGZpbmlzaDogZnVuY3Rpb24gZmluaXNoKHQpIHsgZm9yICh2YXIgZSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBlID49IDA7IC0tZSkgeyB2YXIgciA9IHRoaXMudHJ5RW50cmllc1tlXTsgaWYgKHIuZmluYWxseUxvYyA9PT0gdCkgcmV0dXJuIHRoaXMuY29tcGxldGUoci5jb21wbGV0aW9uLCByLmFmdGVyTG9jKSwgcmVzZXRUcnlFbnRyeShyKSwgeTsgfSB9LCBjYXRjaDogZnVuY3Rpb24gX2NhdGNoKHQpIHsgZm9yICh2YXIgZSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBlID49IDA7IC0tZSkgeyB2YXIgciA9IHRoaXMudHJ5RW50cmllc1tlXTsgaWYgKHIudHJ5TG9jID09PSB0KSB7IHZhciBuID0gci5jb21wbGV0aW9uOyBpZiAoXCJ0aHJvd1wiID09PSBuLnR5cGUpIHsgdmFyIG8gPSBuLmFyZzsgcmVzZXRUcnlFbnRyeShyKTsgfSByZXR1cm4gbzsgfSB9IHRocm93IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpOyB9LCBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbiBkZWxlZ2F0ZVlpZWxkKGUsIHIsIG4pIHsgcmV0dXJuIHRoaXMuZGVsZWdhdGUgPSB7IGl0ZXJhdG9yOiB2YWx1ZXMoZSksIHJlc3VsdE5hbWU6IHIsIG5leHRMb2M6IG4gfSwgXCJuZXh0XCIgPT09IHRoaXMubWV0aG9kICYmICh0aGlzLmFyZyA9IHQpLCB5OyB9IH0sIGU7IH1cbmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChuLCB0LCBlLCByLCBvLCBhLCBjKSB7IHRyeSB7IHZhciBpID0gblthXShjKSwgdSA9IGkudmFsdWU7IH0gY2F0Y2ggKG4pIHsgcmV0dXJuIHZvaWQgZShuKTsgfSBpLmRvbmUgPyB0KHUpIDogUHJvbWlzZS5yZXNvbHZlKHUpLnRoZW4ociwgbyk7IH1cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHQgPSB0aGlzLCBlID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHIsIG8pIHsgdmFyIGEgPSBuLmFwcGx5KHQsIGUpOyBmdW5jdGlvbiBfbmV4dChuKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChhLCByLCBvLCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgbik7IH0gZnVuY3Rpb24gX3Rocm93KG4pIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGEsIHIsIG8sIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgbik7IH0gX25leHQodm9pZCAwKTsgfSk7IH07IH1cbmltcG9ydCB7IGNyZWF0ZVNsaWNlLCBjcmVhdGVBc3luY1RodW5rIH0gZnJvbSAnQHJlZHV4anMvdG9vbGtpdCc7XG5pbXBvcnQgeyByZXN0UG9zdCwgcmVzdEdldCwgcmVzdERlbGV0ZSB9IGZyb20gJy4uLy4uL2hlbHBlcnMvYXBpJztcbmltcG9ydCB7IF9fIH0gZnJvbSAnQHdvcmRwcmVzcy9pMThuJztcbmltcG9ydCB7IGNyZWF0ZVNlbGVjdG9yIH0gZnJvbSAncmVzZWxlY3QnO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKlxuICogQXN5bmNocm9ub3VzIFJlcXVlc3RzXG4gKlxuICogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKlxuICogSW5pdGlhbGl6ZSB0aGUgcGxheWxpc3QgbGlzdFxuICpcbiAqIEByZXR1cm4ge1Byb21pc2V9XG4gKi9cbmV4cG9ydCB2YXIgaW5pdFBsYXlsaXN0cyA9IGNyZWF0ZUFzeW5jVGh1bmsoJ3BsYXlsaXN0cy9pbml0Jyxcbi8vIFJlZHV4IGFjdGlvbiB0eXBlXG5mdW5jdGlvbiAocGFyYW1zKSB7XG4gIHJldHVybiByZXN0R2V0KHtcbiAgICBwYXRoOiAncGxheWxpc3RzJyxcbiAgICBwYXJhbXM6IHBhcmFtc1xuICB9KTtcbn0pO1xuXG4vKipcbiAqIFNhdmUgYSBzaW5nbGUgcGxheWxpc3QgY2hhbmdlcyB0byBkYXRhYmFzZVxuICpcbiAqIEByZXR1cm4ge1Byb21pc2V9XG4gKi9cbmV4cG9ydCB2YXIgc2F2ZVBsYXlsaXN0ID0gY3JlYXRlQXN5bmNUaHVuaygncGxheWxpc3RzL3VwZGF0ZVNpbmdsZVBsYXlsaXN0Jyxcbi8vIFJlZHV4IGFjdGlvbiB0eXBlXG5mdW5jdGlvbiAoZGF0YSkge1xuICB2YXIgcGxheWxpc3QgPSBkYXRhLnBsYXlsaXN0LFxuICAgIGlkID0gZGF0YS5pZDtcbiAgcmV0dXJuIHJlc3RQb3N0KHtcbiAgICBwYXRoOiBcInBsYXlsaXN0cy9cIi5jb25jYXQoaWQpLFxuICAgIGRhdGE6IHBsYXlsaXN0XG4gIH0pO1xufSk7XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IHBsYXlsaXN0XG4gKlxuICogQHJldHVybiB7UHJvbWlzZX1cbiAqL1xuZXhwb3J0IHZhciBjcmVhdGVQbGF5bGlzdCA9IGNyZWF0ZUFzeW5jVGh1bmsoJ3BsYXlsaXN0cy9jcmVhdGVQbGF5bGlzdCcsXG4vKiNfX1BVUkVfXyovXG4vLyBSZWR1eCBhY3Rpb24gdHlwZVxuZnVuY3Rpb24gKCkge1xuICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoZGF0YSwgX3JlZikge1xuICAgIHZhciByZWplY3RXaXRoVmFsdWUsIHBsYXlsaXN0O1xuICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIHJlamVjdFdpdGhWYWx1ZSA9IF9yZWYucmVqZWN0V2l0aFZhbHVlO1xuICAgICAgICAgIHBsYXlsaXN0ID0gZGF0YS5wbGF5bGlzdDtcbiAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjtcbiAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTtcbiAgICAgICAgICByZXR1cm4gcmVzdFBvc3Qoe1xuICAgICAgICAgICAgcGF0aDogXCJwbGF5bGlzdHNcIixcbiAgICAgICAgICAgIGRhdGE6IHBsYXlsaXN0XG4gICAgICAgICAgfSk7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0LnNlbnQpO1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgX2NvbnRleHQucHJldiA9IDg7XG4gICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFtcImNhdGNoXCJdKDIpO1xuICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVqZWN0V2l0aFZhbHVlKF9jb250ZXh0LnQwKSk7XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgfVxuICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMiwgOF1dKTtcbiAgfSkpO1xuICByZXR1cm4gZnVuY3Rpb24gKF94LCBfeDIpIHtcbiAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn0oKSk7XG5cbi8qKlxuICogQ2hhbmdlIFBsYXlsaXN0IE9yZGVyXG4gKlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IHZhciBvcmRlckNoYW5nZSA9IGNyZWF0ZUFzeW5jVGh1bmsoJ3BsYXlsaXN0cy9jaGFuZ2VQbGF5bGlzdE9yZGVyJyxcbi8vIFJlZHV4IGFjdGlvbiB0eXBlXG5cbmZ1bmN0aW9uIChkYXRhKSB7XG4gIHZhciBwbGF5bGlzdElEID0gZGF0YS5wbGF5bGlzdElELFxuICAgIG9sZEluZGV4ID0gZGF0YS5vbGRJbmRleCxcbiAgICBuZXdJbmRleCA9IGRhdGEubmV3SW5kZXg7XG4gIGlmIChwbGF5bGlzdElEID4gMCAmJiBvbGRJbmRleCAhPT0gbmV3SW5kZXgpIHtcbiAgICByZXN0R2V0KHtcbiAgICAgIHBhdGg6ICdwbGF5bGlzdHMvcmVvcmRlcicsXG4gICAgICBwYXJhbXM6IHtcbiAgICAgICAgcGxheWxpc3Q6IHBsYXlsaXN0SUQsXG4gICAgICAgIGZyb206IG9sZEluZGV4LFxuICAgICAgICB0bzogbmV3SW5kZXhcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG5cbi8qKlxuICogRGVsZXRlIGEgcGxheWxpc3RcbiAqXG4gKiBAcmV0dXJuIHtQcm9taXNlfVxuICovXG5leHBvcnQgdmFyIGRlbGV0ZVBsYXlsaXN0ID0gY3JlYXRlQXN5bmNUaHVuaygncGxheWxpc3RzL2RlbGV0ZVBsYXlsaXN0Jyxcbi8vIFJlZHV4IGFjdGlvbiB0eXBlXG5mdW5jdGlvbiAoZGF0YSkge1xuICB2YXIgaWQgPSBkYXRhLmlkO1xuICByZXR1cm4gcmVzdERlbGV0ZSh7XG4gICAgcGF0aDogXCJwbGF5bGlzdHMvXCIuY29uY2F0KGlkKVxuICB9KTtcbn0pO1xuXG4vKipcbiAqIEJ1bGsgZGVsZXRlIHBsYXlsaXN0cyAmIHZpZGVvc1xuICpcbiAqIEByZXR1cm4ge1Byb21pc2V9XG4gKi9cbmV4cG9ydCB2YXIgYnVsa0RlbGV0ZSA9IGNyZWF0ZUFzeW5jVGh1bmsoJ3BsYXlsaXN0cy9idWxrRGVsZXRlJyxcbi8vIFJlZHV4IGFjdGlvbiB0eXBlXG5mdW5jdGlvbiAoZGF0YSkge1xuICB2YXIgc2VsZWN0ZWQgPSBkYXRhLnNlbGVjdGVkO1xuICByZXR1cm4gcmVzdFBvc3Qoe1xuICAgIHBhdGg6IFwicGxheWxpc3RzL2J1bGstYWN0aW9uc1wiLFxuICAgIGRhdGE6IHtcbiAgICAgIGFjdGlvbjogJ2RlbGV0ZScsXG4gICAgICBpdGVtczogc2VsZWN0ZWRcbiAgICB9XG4gIH0pO1xufSk7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqXG4gKiBQbGF5bGlzdHMgU2xpY2VcbiAqXG4gKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xudmFyIHBsYXlsaXN0c1NsaWNlID0gY3JlYXRlU2xpY2Uoe1xuICBuYW1lOiAncGxheWxpc3RzJyxcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgKlxuICAgKiBJbml0aWFsIFN0YXRlXG4gICAqXG4gICAqICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgaW5pdGlhbFN0YXRlOiB7XG4gICAgcGxheWxpc3RzOiB7fSxcbiAgICBmaWx0ZXJlZDogW10sXG4gICAgc2VsZWN0ZWQ6IHt9LFxuICAgIGlzTG9hZGluZzogZmFsc2VcbiAgfSxcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgKlxuICAgKiBSZWR1Y2Vyc1xuICAgKlxuICAgKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICByZWR1Y2Vyczoge1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBhIHNpbmdsZSBwbGF5bGlzdCBpbiB0aGUgcGxheWxpc3RzIGxpc3RcbiAgICAgKlxuICAgICAqIElmIHBsYXlsaXN0IGV4aXN0LCBpdCB3aWxsIHJlcGxhY2UgdGhlIHBsYXlsaXN0IG9iamVjdCxcbiAgICAgKiBpZiBub3QsIGl0IHdpbGwgYWRkIHRoZSBwbGF5bGlzdCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3RhdGUgQ3VycmVudCBzdGF0ZS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gYWN0aW9uIGFjdGlvbiBkYXRhLlxuICAgICAqL1xuICAgIHNldFBsYXlsaXN0OiBmdW5jdGlvbiBzZXRQbGF5bGlzdChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICB2YXIgcGxheWxpc3QgPSBhY3Rpb24ucGF5bG9hZC5wbGF5bGlzdDtcbiAgICAgIHZhciBwbGF5bGlzdHMgPSBzdGF0ZS5wbGF5bGlzdHM7XG4gICAgICB2YXIgbmV3UGxheWxpc3RzID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwbGF5bGlzdHMpLCB7fSwgX2RlZmluZVByb3BlcnR5KHt9LCBwbGF5bGlzdC5pZCwgcGxheWxpc3QpKTtcbiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHN0YXRlKSwge30sIHtcbiAgICAgICAgcGxheWxpc3RzOiBuZXdQbGF5bGlzdHNcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogU2VsZWN0IG9yIGRlc2VsZWN0IGEgcGxheWxpc3QgKCBjaGVja2JveCApXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIHRvZ2dsZVBsYXlsaXN0OiBmdW5jdGlvbiB0b2dnbGVQbGF5bGlzdChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICB2YXIgX3N0YXRlJHBsYXlsaXN0cywgX3NlbGVjdGVkJGlkO1xuICAgICAgdmFyIF9hY3Rpb24kcGF5bG9hZCA9IGFjdGlvbi5wYXlsb2FkLFxuICAgICAgICBjaGVja2VkID0gX2FjdGlvbiRwYXlsb2FkLmNoZWNrZWQsXG4gICAgICAgIGlkID0gX2FjdGlvbiRwYXlsb2FkLmlkO1xuICAgICAgdmFyIGFsbFZpZGVvcyA9IChfc3RhdGUkcGxheWxpc3RzID0gc3RhdGUucGxheWxpc3RzKSA9PT0gbnVsbCB8fCBfc3RhdGUkcGxheWxpc3RzID09PSB2b2lkIDAgfHwgKF9zdGF0ZSRwbGF5bGlzdHMgPSBfc3RhdGUkcGxheWxpc3RzW2lkXSkgPT09IG51bGwgfHwgX3N0YXRlJHBsYXlsaXN0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3N0YXRlJHBsYXlsaXN0cy52aWRlb3M7XG5cbiAgICAgIC8vIFRoZSBuZXcgc2VsZWN0ZWQgb2JqZWN0XG4gICAgICB2YXIgc2VsZWN0ZWQgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLnNlbGVjdGVkKSwge30sIF9kZWZpbmVQcm9wZXJ0eSh7fSwgaWQsIHtcbiAgICAgICAgc2VsZWN0ZWQ6IGNoZWNrZWQsXG4gICAgICAgIHZpZGVvczogY2hlY2tlZCAmJiBhbGxWaWRlb3MgfHwgW11cbiAgICAgIH0pKTtcblxuICAgICAgLy8gSWYgcGxheWxpc3QgaXMgbm90IHNlbGVjdGVkIGFuZCBubyB2aWRlb3MgYXJlIHNlbGVjdGVkLFxuICAgICAgLy8gcmVtb3ZlIHRoZSBwbGF5bGlzdFxuICAgICAgaWYgKChzZWxlY3RlZCA9PT0gbnVsbCB8fCBzZWxlY3RlZCA9PT0gdm9pZCAwIHx8IChfc2VsZWN0ZWQkaWQgPSBzZWxlY3RlZFtpZF0pID09PSBudWxsIHx8IF9zZWxlY3RlZCRpZCA9PT0gdm9pZCAwIHx8IChfc2VsZWN0ZWQkaWQgPSBfc2VsZWN0ZWQkaWQudmlkZW9zKSA9PT0gbnVsbCB8fCBfc2VsZWN0ZWQkaWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zZWxlY3RlZCRpZC5sZW5ndGgpID09PSAwICYmICFjaGVja2VkKSB7XG4gICAgICAgIGRlbGV0ZSBzZWxlY3RlZFtpZF07XG4gICAgICB9XG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZSksIHt9LCB7XG4gICAgICAgIHNlbGVjdGVkOiBzZWxlY3RlZFxuICAgICAgfSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBTZWxlY3Qgb3IgZGUtc2VsZWN0IGFsbCBwbGF5bGlzdHMgYW5kIHZpZGVvcyAoIGNoZWNrYm94IClcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgdG9nZ2xlQWxsOiBmdW5jdGlvbiB0b2dnbGVBbGwoc3RhdGUsIGFjdGlvbikge1xuICAgICAgdmFyIGNoZWNrZWQgPSBhY3Rpb24ucGF5bG9hZC5jaGVja2VkO1xuICAgICAgdmFyIHBsYXlsaXN0cyA9IHN0YXRlLnBsYXlsaXN0cztcblxuICAgICAgLy8gVGhlIG5ldyBzZWxlY3RlZCBvYmplY3RcbiAgICAgIHZhciBuZXdTZWxlY3RlZCA9IHt9O1xuICAgICAgaWYgKGNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgT2JqZWN0LmtleXMocGxheWxpc3RzKS5mb3JFYWNoKGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgIG5ld1NlbGVjdGVkW2lkXSA9IHtcbiAgICAgICAgICAgIHNlbGVjdGVkOiB0cnVlLFxuICAgICAgICAgICAgdmlkZW9zOiAocGxheWxpc3RzID09PSBudWxsIHx8IHBsYXlsaXN0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGxheWxpc3RzW2lkXS52aWRlb3MpIHx8IFtdXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZSksIHt9LCB7XG4gICAgICAgIHNlbGVjdGVkOiBuZXdTZWxlY3RlZFxuICAgICAgfSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgc2VsZWN0ZWQgdmlkZW9zIGxpc3QgKCBjaGVja2JveCApXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIHRvZ2dsZVZpZGVvOiBmdW5jdGlvbiB0b2dnbGVWaWRlbyhzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICB2YXIgX3NlbGVjdGVkJHBsYXlsaXN0SUQsIF9zZWxlY3RlZCRwbGF5bGlzdElEMjtcbiAgICAgIHZhciBfYWN0aW9uJHBheWxvYWQyID0gYWN0aW9uLnBheWxvYWQsXG4gICAgICAgIHZpZGVvSUQgPSBfYWN0aW9uJHBheWxvYWQyLnZpZGVvSUQsXG4gICAgICAgIHBsYXlsaXN0SUQgPSBfYWN0aW9uJHBheWxvYWQyLnBsYXlsaXN0SUQ7XG4gICAgICB2YXIgc2VsZWN0ZWQgPSBzdGF0ZS5zZWxlY3RlZDtcbiAgICAgIHZhciB2aWRlb3MgPSAoc2VsZWN0ZWQgPT09IG51bGwgfHwgc2VsZWN0ZWQgPT09IHZvaWQgMCB8fCAoX3NlbGVjdGVkJHBsYXlsaXN0SUQgPSBzZWxlY3RlZFtwbGF5bGlzdElEXSkgPT09IG51bGwgfHwgX3NlbGVjdGVkJHBsYXlsaXN0SUQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zZWxlY3RlZCRwbGF5bGlzdElELnZpZGVvcykgfHwgW107XG5cbiAgICAgIC8vIFRoZSBuZXcgc2VsZWN0ZWQgb2JqZWN0XG4gICAgICB2YXIgbmV3U2VsZWN0ZWQgPSB7fTtcblxuICAgICAgLy8gVGhlIG5ldyB2aWRlb3MgYXJyYXlcbiAgICAgIHZhciBuZXdWaWRlb3MgPSBbXTtcblxuICAgICAgLy8gVG9nZ2xlIHZpZGVvXG4gICAgICBpZiAodmlkZW9zLmluY2x1ZGVzKHZpZGVvSUQpKSB7XG4gICAgICAgIC8vIFJlbW92ZSB2aWRlbyBpZiBpdCBleGlzdHNcbiAgICAgICAgbmV3VmlkZW9zID0gdmlkZW9zLmZpbHRlcihmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICByZXR1cm4gZWwgIT09IHZpZGVvSUQ7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQWRkIHZpZGVvIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICAgICAgbmV3VmlkZW9zID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh2aWRlb3MpLCBbdmlkZW9JRF0pO1xuICAgICAgfVxuICAgICAgdmFyIGlzUGxheWxpc3RTZWxlY3RlZCA9IChzZWxlY3RlZCA9PT0gbnVsbCB8fCBzZWxlY3RlZCA9PT0gdm9pZCAwIHx8IChfc2VsZWN0ZWQkcGxheWxpc3RJRDIgPSBzZWxlY3RlZFtwbGF5bGlzdElEXSkgPT09IG51bGwgfHwgX3NlbGVjdGVkJHBsYXlsaXN0SUQyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc2VsZWN0ZWQkcGxheWxpc3RJRDIuc2VsZWN0ZWQpIHx8IGZhbHNlO1xuXG4gICAgICAvLyBVcGRhdGUgc2VsZWN0ZWQgb2JqZWN0XG4gICAgICBuZXdTZWxlY3RlZCA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc2VsZWN0ZWQpLCB7fSwgX2RlZmluZVByb3BlcnR5KHt9LCBwbGF5bGlzdElELCB7XG4gICAgICAgIHNlbGVjdGVkOiBpc1BsYXlsaXN0U2VsZWN0ZWQsXG4gICAgICAgIHZpZGVvczogbmV3VmlkZW9zXG4gICAgICB9KSk7XG5cbiAgICAgIC8qIElmIHBsYXlsaXN0IGlzIG5vdCBzZWxlY3RlZCBhbmQgbm8gdmlkZW8gaXMgc2VsZWN0ZWQsXG4gICAgICByZW1vdmUgdGhlIHBsYXlsaXN0ICovXG4gICAgICBpZiAobmV3VmlkZW9zLmxlbmd0aCA9PT0gMCAmJiAhaXNQbGF5bGlzdFNlbGVjdGVkKSB7XG4gICAgICAgIGRlbGV0ZSBuZXdTZWxlY3RlZFtwbGF5bGlzdElEXTtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0IHRoZSBzdGF0ZVxuICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc3RhdGUpLCB7fSwge1xuICAgICAgICBzZWxlY3RlZDogbmV3U2VsZWN0ZWRcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgKlxuICAgKiBFeHRyYSBSZWR1Y2Vyc1xuICAgKlxuICAgKiBNYW5hZ2Ugb2YgYXN5bmNocm9ub3VzIHJlcXVlc3RzIHN0YXRlc1xuICAgKlxuICAgKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICBleHRyYVJlZHVjZXJzOiBmdW5jdGlvbiBleHRyYVJlZHVjZXJzKGJ1aWxkZXIpIHtcbiAgICBidWlsZGVyXG4gICAgLy8gUGxheWxpc3RzIEluaXRcbiAgICAuYWRkQ2FzZShpbml0UGxheWxpc3RzLnBlbmRpbmcsIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgc3RhdGUuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICB9KS5hZGRDYXNlKGluaXRQbGF5bGlzdHMuZnVsZmlsbGVkLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgICAgc3RhdGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICB2YXIgcGF5bG9hZCA9IGFjdGlvbi5wYXlsb2FkO1xuICAgICAgaWYgKHBheWxvYWQuc3VjY2VzcyAmJiBwYXlsb2FkLmRhdGEpIHtcbiAgICAgICAgdmFyIHBsYXlsaXN0cyA9IHt9O1xuICAgICAgICB2YXIgZmlsdGVyZWQgPSBbXTtcblxuICAgICAgICAvLyBTZXR1cCB0aGUgbGlzdCBkYXRhLlxuICAgICAgICBwYXlsb2FkLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAocGxheWxpc3QpIHtcbiAgICAgICAgICBwbGF5bGlzdHNbcGxheWxpc3QuaWRdID0gcGxheWxpc3Q7XG4gICAgICAgICAgZmlsdGVyZWQucHVzaChwbGF5bGlzdC5pZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgc3RhdGVcbiAgICAgICAgc3RhdGUucGxheWxpc3RzID0gcGxheWxpc3RzO1xuICAgICAgICBzdGF0ZS5maWx0ZXJlZCA9IGZpbHRlcmVkO1xuICAgICAgfVxuICAgIH0pLmFkZENhc2UoaW5pdFBsYXlsaXN0cy5yZWplY3RlZCwgZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICB9KVxuICAgIC8vIFNhdmUgUGxheWxpc3RcbiAgICAuYWRkQ2FzZShzYXZlUGxheWxpc3QucGVuZGluZywgZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSB0cnVlO1xuICAgIH0pLmFkZENhc2Uoc2F2ZVBsYXlsaXN0LmZ1bGZpbGxlZCwgZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgIHZhciBkYXRhID0gYWN0aW9uLnBheWxvYWQuZGF0YTtcbiAgICAgIHZhciBwbGF5bGlzdHMgPSBzdGF0ZS5wbGF5bGlzdHM7XG4gICAgICB2YXIgbmV3UGxheWxpc3RzID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwbGF5bGlzdHMpLCB7fSwgX2RlZmluZVByb3BlcnR5KHt9LCBkYXRhLmlkLCBkYXRhKSk7XG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgIHN0YXRlLnBsYXlsaXN0cyA9IG5ld1BsYXlsaXN0cztcbiAgICB9KS5hZGRDYXNlKHNhdmVQbGF5bGlzdC5yZWplY3RlZCwgZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICB9KVxuICAgIC8vIENyZWF0ZSBQbGF5bGlzdFxuICAgIC5hZGRDYXNlKGNyZWF0ZVBsYXlsaXN0LnBlbmRpbmcsIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgc3RhdGUuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICB9KS5hZGRDYXNlKGNyZWF0ZVBsYXlsaXN0LmZ1bGZpbGxlZCwgZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgIHZhciBfYWN0aW9uJHBheWxvYWQzID0gYWN0aW9uLnBheWxvYWQsXG4gICAgICAgIGRhdGEgPSBfYWN0aW9uJHBheWxvYWQzLmRhdGEsXG4gICAgICAgIHN1Y2Nlc3MgPSBfYWN0aW9uJHBheWxvYWQzLnN1Y2Nlc3M7XG4gICAgICBpZiAoc3VjY2VzcyAmJiBkYXRhKSB7XG4gICAgICAgIHZhciBwbGF5bGlzdHMgPSBzdGF0ZS5wbGF5bGlzdHMsXG4gICAgICAgICAgZmlsdGVyZWQgPSBzdGF0ZS5maWx0ZXJlZDtcbiAgICAgICAgLy8gdXBkYXRlIHRoZSBsaXN0IGluIHRoZSBzdG9yZVxuICAgICAgICBzdGF0ZS5wbGF5bGlzdHMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHBsYXlsaXN0cyksIHt9LCBfZGVmaW5lUHJvcGVydHkoe30sIGRhdGEuaWQsIGRhdGEpKTtcbiAgICAgICAgc3RhdGUuZmlsdGVyZWQgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGZpbHRlcmVkKSwgW2RhdGEuaWRdKTtcbiAgICAgIH1cbiAgICAgIHN0YXRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgIH0pLmFkZENhc2UoY3JlYXRlUGxheWxpc3QucmVqZWN0ZWQsIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgc3RhdGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgfSlcbiAgICAvLyBEZWxldGUgUGxheWxpc3RcbiAgICAuYWRkQ2FzZShkZWxldGVQbGF5bGlzdC5wZW5kaW5nLCBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgIHN0YXRlLmlzTG9hZGluZyA9IHRydWU7XG4gICAgfSkuYWRkQ2FzZShkZWxldGVQbGF5bGlzdC5mdWxmaWxsZWQsIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICB2YXIgaWQgPSBhY3Rpb24ubWV0YS5hcmcuaWQsXG4gICAgICAgIHN1Y2Nlc3MgPSBhY3Rpb24ucGF5bG9hZC5zdWNjZXNzO1xuXG4gICAgICAvLyBSZW1vdmUgdGhlIHBsYXlsaXN0IGlmIHN1Y2Nlc3NcbiAgICAgIGlmIChzdWNjZXNzID09PSB0cnVlKSB7XG4gICAgICAgIHZhciBwbGF5bGlzdHMgPSBzdGF0ZS5wbGF5bGlzdHMsXG4gICAgICAgICAgZmlsdGVyZWQgPSBzdGF0ZS5maWx0ZXJlZDtcbiAgICAgICAgdmFyIG5ld1BsYXlsaXN0cyA9IF9vYmplY3RTcHJlYWQoe30sIHBsYXlsaXN0cyk7XG4gICAgICAgIGRlbGV0ZSBuZXdQbGF5bGlzdHNbaWRdO1xuICAgICAgICAvLyB1cGRhdGUgdGhlIGxpc3QgaW4gdGhlIHN0b3JlXG4gICAgICAgIHN0YXRlLnBsYXlsaXN0cyA9IF9vYmplY3RTcHJlYWQoe30sIG5ld1BsYXlsaXN0cyk7XG4gICAgICAgIHN0YXRlLmZpbHRlcmVkID0gZmlsdGVyZWQuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW0gIT09IGlkO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHN0YXRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgIH0pLmFkZENhc2UoZGVsZXRlUGxheWxpc3QucmVqZWN0ZWQsIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgc3RhdGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgfSlcbiAgICAvLyBCdWxrIERlbGV0ZVxuICAgIC5hZGRDYXNlKGJ1bGtEZWxldGUucGVuZGluZywgZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSB0cnVlO1xuICAgIH0pLmFkZENhc2UoYnVsa0RlbGV0ZS5mdWxmaWxsZWQsIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgc3RhdGUuaXNMb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgIC8vIEVtcHR5IHRoZSBzZWxlY3RlZCBsaXN0XG4gICAgICBzdGF0ZS5zZWxlY3RlZCA9IFtdO1xuICAgIH0pLmFkZENhc2UoYnVsa0RlbGV0ZS5yZWplY3RlZCwgZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSBmYWxzZTtcblxuICAgICAgLy8gRW1wdHkgdGhlIHNlbGVjdGVkIGxpc3RcbiAgICAgIHN0YXRlLnNlbGVjdGVkID0gW107XG4gICAgfSk7XG4gIH1cbn0pO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKlxuICogU2VsZWN0b3JzXG4gKlxuICogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxudmFyIHBsYXlsaXN0c1N0YXRlID0gZnVuY3Rpb24gcGxheWxpc3RzU3RhdGUoc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLnBsYXlsaXN0cztcbn07XG5cbi8qKlxuICogR2V0IHBsYXlsaXN0cyBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gcGxheWxpc3RzU3RhdGUgdGhlIHBsYXlsaXN0cyBvYmplY3QuXG4gKlxuICogQHJldHVybiB7b2JqZWN0fVxuICovXG5leHBvcnQgdmFyIGdldFBsYXlsaXN0cyA9IGNyZWF0ZVNlbGVjdG9yKHBsYXlsaXN0c1N0YXRlLCBmdW5jdGlvbiAocGxheWxpc3RzU3RhdGUpIHtcbiAgcmV0dXJuIHBsYXlsaXN0c1N0YXRlLnBsYXlsaXN0cztcbn0pO1xuXG4vKipcbiAqIEdldCBmaWx0ZXJlZCBhcnJheVxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBwbGF5bGlzdHNTdGF0ZSB0aGUgcGxheWxpc3RzIG9iamVjdC5cbiAqXG4gKiBAcmV0dXJuIHthcnJheX1cbiAqL1xuZXhwb3J0IHZhciBnZXRGaWx0ZXJlZCA9IGNyZWF0ZVNlbGVjdG9yKHBsYXlsaXN0c1N0YXRlLCBmdW5jdGlvbiAocGxheWxpc3RzU3RhdGUpIHtcbiAgcmV0dXJuIHBsYXlsaXN0c1N0YXRlLmZpbHRlcmVkO1xufSk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBwbGF5bGlzdCBpcyBzZWxlY3RlZFxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBwbGF5bGlzdHNTdGF0ZSB0aGUgcGxheWxpc3RzIG9iamVjdC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBpZCBwbGF5bGlzdCBpZFxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCB2YXIgaXNQbGF5bGlzdFNlbGVjdGVkID0gY3JlYXRlU2VsZWN0b3IocGxheWxpc3RzU3RhdGUsIGZ1bmN0aW9uIChfLCBpZCkge1xuICByZXR1cm4gaWQ7XG59LCBmdW5jdGlvbiAocGxheWxpc3RzU3RhdGUsIGlkKSB7XG4gIHZhciBfcGxheWxpc3RzU3RhdGUkc2VsZWM7XG4gIHJldHVybiAoX3BsYXlsaXN0c1N0YXRlJHNlbGVjID0gcGxheWxpc3RzU3RhdGUuc2VsZWN0ZWQpID09PSBudWxsIHx8IF9wbGF5bGlzdHNTdGF0ZSRzZWxlYyA9PT0gdm9pZCAwIHx8IChfcGxheWxpc3RzU3RhdGUkc2VsZWMgPSBfcGxheWxpc3RzU3RhdGUkc2VsZWNbaWRdKSA9PT0gbnVsbCB8fCBfcGxheWxpc3RzU3RhdGUkc2VsZWMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wbGF5bGlzdHNTdGF0ZSRzZWxlYy5zZWxlY3RlZDtcbn0pO1xuXG4vKipcbiAqIENoZWNrcyBpZiB2aWRlbyBpcyBzZWxlY3RlZFxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBwbGF5bGlzdHNTdGF0ZSB0aGUgcGxheWxpc3RzIG9iamVjdC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBpZHMgcGxheWxpc3RJRCAmIHZpZGVvSURcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgdmFyIGlzVmlkZW9TZWxlY3RlZCA9IGNyZWF0ZVNlbGVjdG9yKHBsYXlsaXN0c1N0YXRlLCBmdW5jdGlvbiAoXywgaWRzKSB7XG4gIHJldHVybiBpZHM7XG59LCBmdW5jdGlvbiAocGxheWxpc3RzU3RhdGUsIGlkcykge1xuICB2YXIgX3BsYXlsaXN0c1N0YXRlJHNlbGVjMjtcbiAgdmFyIF9yZWYzID0gaWRzICE9PSBudWxsICYmIGlkcyAhPT0gdm9pZCAwID8gaWRzIDoge30sXG4gICAgcGxheWxpc3RJRCA9IF9yZWYzLnBsYXlsaXN0SUQsXG4gICAgdmlkZW9JRCA9IF9yZWYzLnZpZGVvSUQ7XG4gIHZhciB2aWRlb3MgPSAoKF9wbGF5bGlzdHNTdGF0ZSRzZWxlYzIgPSBwbGF5bGlzdHNTdGF0ZS5zZWxlY3RlZCkgPT09IG51bGwgfHwgX3BsYXlsaXN0c1N0YXRlJHNlbGVjMiA9PT0gdm9pZCAwIHx8IChfcGxheWxpc3RzU3RhdGUkc2VsZWMyID0gX3BsYXlsaXN0c1N0YXRlJHNlbGVjMltwbGF5bGlzdElEXSkgPT09IG51bGwgfHwgX3BsYXlsaXN0c1N0YXRlJHNlbGVjMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3BsYXlsaXN0c1N0YXRlJHNlbGVjMi52aWRlb3MpIHx8IFtdO1xuICByZXR1cm4gdmlkZW9zLmluY2x1ZGVzKHZpZGVvSUQpO1xufSk7XG5cbi8qKlxuICogQ2hlY2sgb2YgYWxsIHZpZGVvcyBhbmQgcGxheWxpc3RzIGFyZSBzZWxlY3RlZFxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBwbGF5bGlzdHNTdGF0ZSB0aGUgcGxheWxpc3RzIG9iamVjdC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKlxuICovXG5leHBvcnQgdmFyIGFyZUFsbFNlbGVjdGVkID0gY3JlYXRlU2VsZWN0b3IocGxheWxpc3RzU3RhdGUsIGZ1bmN0aW9uIChwbGF5bGlzdHNTdGF0ZSkge1xuICB2YXIgcGxheWxpc3RzID0gcGxheWxpc3RzU3RhdGUucGxheWxpc3RzLFxuICAgIHNlbGVjdGVkID0gcGxheWxpc3RzU3RhdGUuc2VsZWN0ZWQ7XG5cbiAgLy8gcmV0dXJuIGZhbHNlIGlmIGF0IGxlYXN0IG9uZSBwbGF5bGlzdCBpcyBub3Qgc2VsZWN0ZWRcbiAgZm9yICh2YXIgcGxheWxpc3RJZCBpbiBwbGF5bGlzdHMpIHtcbiAgICB2YXIgX3NlbGVjdGVkJHBsYXlsaXN0SWQsIF9wbGF5bGlzdHMkcGxheWxpc3RJZCwgX3NlbGVjdGVkJHBsYXlsaXN0SWQyO1xuICAgIHZhciBpc1NlbGVjdGVkID0gKHNlbGVjdGVkID09PSBudWxsIHx8IHNlbGVjdGVkID09PSB2b2lkIDAgfHwgKF9zZWxlY3RlZCRwbGF5bGlzdElkID0gc2VsZWN0ZWRbcGxheWxpc3RJZF0pID09PSBudWxsIHx8IF9zZWxlY3RlZCRwbGF5bGlzdElkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc2VsZWN0ZWQkcGxheWxpc3RJZC5zZWxlY3RlZCkgfHwgZmFsc2U7XG4gICAgaWYgKCFpc1NlbGVjdGVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gcmV0dXJuIGZhbHNlIGlmIGF0IGxlYXN0IG9uZSB2aWRlbyBpcyBub3Qgc2VsZWN0ZWRcbiAgICB2YXIgYWxsVmlkZW9zID0gKHBsYXlsaXN0cyA9PT0gbnVsbCB8fCBwbGF5bGlzdHMgPT09IHZvaWQgMCB8fCAoX3BsYXlsaXN0cyRwbGF5bGlzdElkID0gcGxheWxpc3RzW3BsYXlsaXN0SWRdKSA9PT0gbnVsbCB8fCBfcGxheWxpc3RzJHBsYXlsaXN0SWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wbGF5bGlzdHMkcGxheWxpc3RJZC52aWRlb3MpIHx8IFtdO1xuICAgIHZhciBzZWxlY3RlZFZpZGVvcyA9IChzZWxlY3RlZCA9PT0gbnVsbCB8fCBzZWxlY3RlZCA9PT0gdm9pZCAwIHx8IChfc2VsZWN0ZWQkcGxheWxpc3RJZDIgPSBzZWxlY3RlZFtwbGF5bGlzdElkXSkgPT09IG51bGwgfHwgX3NlbGVjdGVkJHBsYXlsaXN0SWQyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc2VsZWN0ZWQkcGxheWxpc3RJZDIudmlkZW9zKSB8fCBbXTtcblxuICAgIC8vIEl0IHN1ZmZpY2VzIHRvIGNvbXBhcmUgbGVuZ3RocyBvbmx5XG4gICAgaWYgKGFsbFZpZGVvcy5sZW5ndGggIT09IHNlbGVjdGVkVmlkZW9zLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gT2JqZWN0LmtleXMocGxheWxpc3RzKS5sZW5ndGggPiAwO1xufSk7XG5cbi8qKlxuICogR2V0IHNlbGVjdGVkIFBsYXlsaXN0cyAmIHZpZGVvc1xuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBwbGF5bGlzdHNTdGF0ZSB0aGUgcGxheWxpc3RzIG9iamVjdC5cbiAqXG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKi9cbmV4cG9ydCB2YXIgZ2V0U2VsZWN0ZWRQbGF5bGlzdHMgPSBjcmVhdGVTZWxlY3RvcihwbGF5bGlzdHNTdGF0ZSwgZnVuY3Rpb24gKHBsYXlsaXN0c1N0YXRlKSB7XG4gIHJldHVybiBwbGF5bGlzdHNTdGF0ZS5zZWxlY3RlZDtcbn0pO1xuXG4vKipcbiAqIEdldCBMb2FkaW5nIHN0YXR1c1xuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBwbGF5bGlzdHNTdGF0ZSB0aGUgcGxheWxpc3RzIG9iamVjdC5cbiAqXG4gKiBAcmV0dXJuIHsqfVxuICovXG5leHBvcnQgdmFyIGdldExvYWRpbmdTdGF0dXMgPSBjcmVhdGVTZWxlY3RvcihwbGF5bGlzdHNTdGF0ZSwgZnVuY3Rpb24gKHBsYXlsaXN0c1N0YXRlKSB7XG4gIHJldHVybiBwbGF5bGlzdHNTdGF0ZS5pc0xvYWRpbmc7XG59KTtcblxuLy8gRXhwb3J0IGFjdGlvbnNcbnZhciBfcGxheWxpc3RzU2xpY2UkYWN0aW8gPSBwbGF5bGlzdHNTbGljZS5hY3Rpb25zLFxuICBzZXRQbGF5bGlzdCA9IF9wbGF5bGlzdHNTbGljZSRhY3Rpby5zZXRQbGF5bGlzdCxcbiAgdXBkYXRlUGxheWxpc3RLZXkgPSBfcGxheWxpc3RzU2xpY2UkYWN0aW8udXBkYXRlUGxheWxpc3RLZXksXG4gIHRvZ2dsZVBsYXlsaXN0ID0gX3BsYXlsaXN0c1NsaWNlJGFjdGlvLnRvZ2dsZVBsYXlsaXN0LFxuICB0b2dnbGVWaWRlbyA9IF9wbGF5bGlzdHNTbGljZSRhY3Rpby50b2dnbGVWaWRlbyxcbiAgdG9nZ2xlQWxsID0gX3BsYXlsaXN0c1NsaWNlJGFjdGlvLnRvZ2dsZUFsbDtcbmV4cG9ydCB7IHNldFBsYXlsaXN0LCB1cGRhdGVQbGF5bGlzdEtleSwgdG9nZ2xlUGxheWxpc3QsIHRvZ2dsZVZpZGVvLCB0b2dnbGVBbGwgfTtcbmV4cG9ydCBkZWZhdWx0IHBsYXlsaXN0c1NsaWNlLnJlZHVjZXI7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9317\n')},4084:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Q6: function() { return /* binding */ getFilteredIds; },\n/* harmony export */   fY: function() { return /* binding */ getVideos; },\n/* harmony export */   kZ: function() { return /* binding */ setFiltered; },\n/* harmony export */   oA: function() { return /* binding */ unAssignVideo; },\n/* harmony export */   r2: function() { return /* binding */ initVideos; }\n/* harmony export */ });\n/* unused harmony exports deleteVideo, fetchEmbed, createVideo, updateVideo, searchVideos, getEmbed, getLoadingStatus */\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8740);\n/* harmony import */ var _helpers_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9331);\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4214);\n/* harmony import */ var reselect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1081);\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator.return && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, catch: function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\n\n\n\n\n\n/**\n * Re-initialize the videos list\n *\n * @return {Promise}\n */\nvar initVideos = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'videos/init\',\n// Redux action type\nfunction (params) {\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restGet */ .B8)({\n    path: \'videos\',\n    params: params\n  });\n});\n\n/**\n * Deletes a video\n *\n * @return {Promise}\n */\nvar deleteVideo = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'videos/delete\',\n// Redux action type\nfunction (data) {\n  var id = data.id;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restDelete */ ._8)({\n    path: "videos/".concat(id)\n  });\n});\n\n/**\n * Delete a video from playlist\n *\n * @return {Promise}\n */\nvar unAssignVideo = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'videos/delete\',\n// Redux action type\nfunction (_ref) {\n  var playlistID = _ref.playlistID,\n    videoID = _ref.videoID;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restDelete */ ._8)({\n    path: "playlists/".concat(playlistID, "/videos"),\n    data: {\n      videos: [videoID]\n    }\n  });\n});\n\n/**\n * Fetch a single embed object using API.\n *\n * Use this only if the embed is not already\n * found in state.\n *\n * @param {object} data Video ID and other args.\n *\n * @return {Promise}\n */\nvar fetchEmbed = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'videos/fetchEmbed\', /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(data) {\n    var response;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          if (!(data.id && data.id > 0)) {\n            _context.next = 6;\n            break;\n          }\n          _context.next = 3;\n          return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restGet */ .B8)({\n            path: "videos/".concat(data.id, "/embed"),\n            params: data\n          });\n        case 3:\n          response = _context.sent;\n          // Include the id in response\n          response.id = data.id;\n          return _context.abrupt("return", response);\n        case 6:\n        case "end":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n/**\n * Create a video\n *\n * @param {object} video Video object\n *\n * @return {Promise}\n */\nvar createVideo = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'videos/create\', function (data) {\n  var video = data.video;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restPost */ .J8)({\n    path: \'videos\',\n    data: video\n  });\n});\n\n/**\n * Update a video\n *\n * @param {object} video Video object\n *\n * @return {Promise}\n */\nvar updateVideo = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'videos/update\', function (data) {\n  var video = data.video,\n    id = data.id;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restPost */ .J8)({\n    path: "videos/".concat(id),\n    data: video\n  });\n});\n\n/**\n * Search Videos\n *\n * @param {object} search search string\n *\n * @return {Promise}\n */\nvar searchVideos = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'videos/search\', function (data) {\n  var search = data.search;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restGet */ .B8)({\n    path: "videos",\n    params: {\n      search: search,\n      field: \'ids\'\n    }\n  });\n});\nvar videosSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createSlice */ .Z0)({\n  name: \'videos\',\n  initialState: {\n    videos: {},\n    embeds: {},\n    filtered: [],\n    isLoading: false\n  },\n  reducers: {\n    /**\n     * Set a filtered video ids in state.\n     *\n     * It replaces the filtered list with the provided one\n     *\n     * @param {state} state object\n     * @param {object} action object\n     *\n     * @return {object} New State Object\n     */\n    setFiltered: function setFiltered(state, action) {\n      var ids = action.payload.ids;\n      return _objectSpread(_objectSpread({}, state), {}, {\n        filtered: ids\n      });\n    }\n  },\n  extraReducers: function extraReducers(builder) {\n    builder\n    // Handling initVideos status\n    .addCase(initVideos.pending, function (state) {\n      // Set Loading\n      state.isLoading = true;\n    }).addCase(initVideos.fulfilled, function (state, action) {\n      state.isLoading = false;\n      var payload = action.payload;\n      if (payload.success && payload.data) {\n        var videos = {};\n        var filtered = [];\n\n        // Setup the list data.\n        payload.data.forEach(function (video) {\n          videos[video.id] = video;\n          filtered.push(video.id);\n        });\n\n        // update the state\n        state.videos = videos;\n        state.filtered = filtered;\n      }\n      state.status = \'success\';\n    }).addCase(initVideos.rejected, function (state) {\n      // Update Status\n      state.status = \'error\';\n    })\n\n    // Handling fetchEmbed\n    .addCase(fetchEmbed.fulfilled, function (state, action) {\n      var embed = {};\n\n      // Update state\n      var payload = action.payload;\n      if (payload !== null && payload !== void 0 && payload.success && payload !== null && payload !== void 0 && payload.data && payload !== null && payload !== void 0 && payload.data.html) {\n        embed = payload.data;\n        var newData = _objectSpread({}, payload.data);\n        newData.id = payload.id;\n\n        // Update the state\n        state.embeds[payload.id] = newData;\n      }\n    })\n\n    // Handling Video Create\n    .addCase(createVideo.fulfilled, function (state, action) {\n      // Update state\n      var payload = action.payload;\n      if (payload !== null && payload !== void 0 && payload.success) {\n        var video = payload.data;\n\n        // Add video to state\n        if (video.id && video.id > 0) {\n          state.videos = _objectSpread(_objectSpread({}, state.videos), {}, _defineProperty({}, video.id, video));\n\n          // Add the id to the filtered list so the video will be displayed\n          state.filtered = [].concat(_toConsumableArray(state.filtered), [video.id]);\n        }\n      }\n    })\n\n    // Handeling Video Update\n    .addCase(updateVideo.fulfilled, function (state, action) {\n      var payload = action.payload;\n      var newVideo = payload.data;\n      if (payload !== null && payload !== void 0 && payload.success) {\n        // Update videos state\n        state.videos = _objectSpread(_objectSpread({}, state.videos), {}, _defineProperty({}, newVideo.id, newVideo));\n      }\n    })\n\n    // Handeling Video Delete\n    .addCase(deleteVideo.fulfilled, function (state, action) {\n      var id = action.meta.arg.id,\n        success = action.payload.success;\n      if (success === true) {\n        var videos = state.videos,\n          filtered = state.filtered;\n\n        // Remove from filtered list\n        state.filtered = filtered.filter(function (item) {\n          return id !== item;\n        });\n\n        // Delete the video from the videos object\n        var newVideos = _objectSpread({}, videos);\n        delete newVideos[id];\n        state.videos = newVideos;\n      }\n    })\n\n    // Handeling Video Search\n    .addCase(searchVideos.pending, function (state, action) {\n      // Set Loading\n      state.isLoading = true;\n    }).addCase(searchVideos.fulfilled, function (state, action) {\n      var _action$payload;\n      var ids = (action === null || action === void 0 || (_action$payload = action.payload) === null || _action$payload === void 0 ? void 0 : _action$payload.data) || [];\n      state.filtered = ids;\n\n      // Set Loading\n      state.isLoading = false;\n    }).addCase(searchVideos.rejected, function (state, action) {\n      state.isLoading = false;\n    });\n  }\n});\n\n// Selectors\nvar videosState = function videosState(state) {\n  return state.videos;\n};\n\n/**\n * Get video(s) object(s) by id(s)\n *\n * @param {object} videosState\n * @param {array|string} ids videos ids\n *\n * @return {array|object|false}\n */\nvar getVideos = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(videosState, function (_, ids) {\n  return ids;\n}, function (videosState, ids) {\n  var videos = [];\n  if (Array.isArray(ids)) {\n    ids.forEach(function (id) {\n      if (videosState.videos[id]) {\n        videos.push(videosState.videos[id]);\n      }\n    });\n    return videos;\n  } else if (typeof ids === \'string\' || typeof ids === \'number\') {\n    return videosState.videos[ids];\n  } else {\n    // If ids is not provided get all videos\n    return videosState.videos;\n  }\n});\n\n/**\n * Get Filtered IDs\n *\n * @param {object} videosState\n *\n * @return {array}\n */\nvar getFilteredIds = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(videosState, function (videosState) {\n  return videosState.filtered;\n});\n\n/**\n * Get a single embed object\n *\n * @param {object} videosState\n * @param {number} videoId\n *\n * @return {array}\n */\nvar getEmbed = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(videosState, function (_, id) {\n  return id;\n}, function (videosState, id) {\n  return videosState.embeds[id] || false;\n});\n\n/**\n * Get loading status\n *\n * @param {object} videosState the videos state object.\n *\n * @return {boolean}\n */\nvar getLoadingStatus = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(videosState, function (videosState) {\n  return videosState.isLoading;\n});\n\n// Export actions\nvar setFiltered = videosSlice.actions.setFiltered;\n\n/* harmony default export */ __webpack_exports__.Ay = (videosSlice.reducer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDA4NC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3N0b3JlL3NsaWNlcy92aWRlb3MuanM/MWIwYyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkocikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKHIpIHx8IF9pdGVyYWJsZVRvQXJyYXkocikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkgeyBpZiAocikgeyBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gXCJPYmplY3RcIiA9PT0gdCAmJiByLmNvbnN0cnVjdG9yICYmICh0ID0gci5jb25zdHJ1Y3Rvci5uYW1lKSwgXCJNYXBcIiA9PT0gdCB8fCBcIlNldFwiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6IFwiQXJndW1lbnRzXCIgPT09IHQgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkgPyBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSA6IHZvaWQgMDsgfSB9XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KHIpIHsgaWYgKFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiBudWxsICE9IHJbU3ltYm9sLml0ZXJhdG9yXSB8fCBudWxsICE9IHJbXCJAQGl0ZXJhdG9yXCJdKSByZXR1cm4gQXJyYXkuZnJvbShyKTsgfVxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKHIpIHsgaWYgKEFycmF5LmlzQXJyYXkocikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyKTsgfVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfVxuZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkoZSwgciwgdCkgeyByZXR1cm4gKHIgPSBfdG9Qcm9wZXJ0eUtleShyKSkgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCB7IHZhbHVlOiB0LCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pIDogZVtyXSA9IHQsIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG5mdW5jdGlvbiBfcmVnZW5lcmF0b3JSdW50aW1lKCkgeyBcInVzZSBzdHJpY3RcIjsgLyohIHJlZ2VuZXJhdG9yLXJ1bnRpbWUgLS0gQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuIC0tIGxpY2Vuc2UgKE1JVCk6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9ibG9iL21haW4vTElDRU5TRSAqLyBfcmVnZW5lcmF0b3JSdW50aW1lID0gZnVuY3Rpb24gX3JlZ2VuZXJhdG9yUnVudGltZSgpIHsgcmV0dXJuIGU7IH07IHZhciB0LCBlID0ge30sIHIgPSBPYmplY3QucHJvdG90eXBlLCBuID0gci5oYXNPd25Qcm9wZXJ0eSwgbyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB8fCBmdW5jdGlvbiAodCwgZSwgcikgeyB0W2VdID0gci52YWx1ZTsgfSwgaSA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sID8gU3ltYm9sIDoge30sIGEgPSBpLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiLCBjID0gaS5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCIsIHUgPSBpLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiOyBmdW5jdGlvbiBkZWZpbmUodCwgZSwgcikgeyByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIGUsIHsgdmFsdWU6IHIsIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAgfSksIHRbZV07IH0gdHJ5IHsgZGVmaW5lKHt9LCBcIlwiKTsgfSBjYXRjaCAodCkgeyBkZWZpbmUgPSBmdW5jdGlvbiBkZWZpbmUodCwgZSwgcikgeyByZXR1cm4gdFtlXSA9IHI7IH07IH0gZnVuY3Rpb24gd3JhcCh0LCBlLCByLCBuKSB7IHZhciBpID0gZSAmJiBlLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IGUgOiBHZW5lcmF0b3IsIGEgPSBPYmplY3QuY3JlYXRlKGkucHJvdG90eXBlKSwgYyA9IG5ldyBDb250ZXh0KG4gfHwgW10pOyByZXR1cm4gbyhhLCBcIl9pbnZva2VcIiwgeyB2YWx1ZTogbWFrZUludm9rZU1ldGhvZCh0LCByLCBjKSB9KSwgYTsgfSBmdW5jdGlvbiB0cnlDYXRjaCh0LCBlLCByKSB7IHRyeSB7IHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogdC5jYWxsKGUsIHIpIH07IH0gY2F0Y2ggKHQpIHsgcmV0dXJuIHsgdHlwZTogXCJ0aHJvd1wiLCBhcmc6IHQgfTsgfSB9IGUud3JhcCA9IHdyYXA7IHZhciBoID0gXCJzdXNwZW5kZWRTdGFydFwiLCBsID0gXCJzdXNwZW5kZWRZaWVsZFwiLCBmID0gXCJleGVjdXRpbmdcIiwgcyA9IFwiY29tcGxldGVkXCIsIHkgPSB7fTsgZnVuY3Rpb24gR2VuZXJhdG9yKCkge30gZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fSBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9IHZhciBwID0ge307IGRlZmluZShwLCBhLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KTsgdmFyIGQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YsIHYgPSBkICYmIGQoZCh2YWx1ZXMoW10pKSk7IHYgJiYgdiAhPT0gciAmJiBuLmNhbGwodiwgYSkgJiYgKHAgPSB2KTsgdmFyIGcgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPSBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShwKTsgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHQpIHsgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24gKGUpIHsgZGVmaW5lKHQsIGUsIGZ1bmN0aW9uICh0KSB7IHJldHVybiB0aGlzLl9pbnZva2UoZSwgdCk7IH0pOyB9KTsgfSBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKHQsIGUpIHsgZnVuY3Rpb24gaW52b2tlKHIsIG8sIGksIGEpIHsgdmFyIGMgPSB0cnlDYXRjaCh0W3JdLCB0LCBvKTsgaWYgKFwidGhyb3dcIiAhPT0gYy50eXBlKSB7IHZhciB1ID0gYy5hcmcsIGggPSB1LnZhbHVlOyByZXR1cm4gaCAmJiBcIm9iamVjdFwiID09IF90eXBlb2YoaCkgJiYgbi5jYWxsKGgsIFwiX19hd2FpdFwiKSA/IGUucmVzb2x2ZShoLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24gKHQpIHsgaW52b2tlKFwibmV4dFwiLCB0LCBpLCBhKTsgfSwgZnVuY3Rpb24gKHQpIHsgaW52b2tlKFwidGhyb3dcIiwgdCwgaSwgYSk7IH0pIDogZS5yZXNvbHZlKGgpLnRoZW4oZnVuY3Rpb24gKHQpIHsgdS52YWx1ZSA9IHQsIGkodSk7IH0sIGZ1bmN0aW9uICh0KSB7IHJldHVybiBpbnZva2UoXCJ0aHJvd1wiLCB0LCBpLCBhKTsgfSk7IH0gYShjLmFyZyk7IH0gdmFyIHI7IG8odGhpcywgXCJfaW52b2tlXCIsIHsgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKHQsIG4pIHsgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7IHJldHVybiBuZXcgZShmdW5jdGlvbiAoZSwgcikgeyBpbnZva2UodCwgbiwgZSwgcik7IH0pOyB9IHJldHVybiByID0gciA/IHIudGhlbihjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZywgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcpIDogY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKTsgfSB9KTsgfSBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGUsIHIsIG4pIHsgdmFyIG8gPSBoOyByZXR1cm4gZnVuY3Rpb24gKGksIGEpIHsgaWYgKG8gPT09IGYpIHRocm93IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTsgaWYgKG8gPT09IHMpIHsgaWYgKFwidGhyb3dcIiA9PT0gaSkgdGhyb3cgYTsgcmV0dXJuIHsgdmFsdWU6IHQsIGRvbmU6ICEwIH07IH0gZm9yIChuLm1ldGhvZCA9IGksIG4uYXJnID0gYTs7KSB7IHZhciBjID0gbi5kZWxlZ2F0ZTsgaWYgKGMpIHsgdmFyIHUgPSBtYXliZUludm9rZURlbGVnYXRlKGMsIG4pOyBpZiAodSkgeyBpZiAodSA9PT0geSkgY29udGludWU7IHJldHVybiB1OyB9IH0gaWYgKFwibmV4dFwiID09PSBuLm1ldGhvZCkgbi5zZW50ID0gbi5fc2VudCA9IG4uYXJnO2Vsc2UgaWYgKFwidGhyb3dcIiA9PT0gbi5tZXRob2QpIHsgaWYgKG8gPT09IGgpIHRocm93IG8gPSBzLCBuLmFyZzsgbi5kaXNwYXRjaEV4Y2VwdGlvbihuLmFyZyk7IH0gZWxzZSBcInJldHVyblwiID09PSBuLm1ldGhvZCAmJiBuLmFicnVwdChcInJldHVyblwiLCBuLmFyZyk7IG8gPSBmOyB2YXIgcCA9IHRyeUNhdGNoKGUsIHIsIG4pOyBpZiAoXCJub3JtYWxcIiA9PT0gcC50eXBlKSB7IGlmIChvID0gbi5kb25lID8gcyA6IGwsIHAuYXJnID09PSB5KSBjb250aW51ZTsgcmV0dXJuIHsgdmFsdWU6IHAuYXJnLCBkb25lOiBuLmRvbmUgfTsgfSBcInRocm93XCIgPT09IHAudHlwZSAmJiAobyA9IHMsIG4ubWV0aG9kID0gXCJ0aHJvd1wiLCBuLmFyZyA9IHAuYXJnKTsgfSB9OyB9IGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZSwgcikgeyB2YXIgbiA9IHIubWV0aG9kLCBvID0gZS5pdGVyYXRvcltuXTsgaWYgKG8gPT09IHQpIHJldHVybiByLmRlbGVnYXRlID0gbnVsbCwgXCJ0aHJvd1wiID09PSBuICYmIGUuaXRlcmF0b3IucmV0dXJuICYmIChyLm1ldGhvZCA9IFwicmV0dXJuXCIsIHIuYXJnID0gdCwgbWF5YmVJbnZva2VEZWxlZ2F0ZShlLCByKSwgXCJ0aHJvd1wiID09PSByLm1ldGhvZCkgfHwgXCJyZXR1cm5cIiAhPT0gbiAmJiAoci5tZXRob2QgPSBcInRocm93XCIsIHIuYXJnID0gbmV3IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ1wiICsgbiArIFwiJyBtZXRob2RcIikpLCB5OyB2YXIgaSA9IHRyeUNhdGNoKG8sIGUuaXRlcmF0b3IsIHIuYXJnKTsgaWYgKFwidGhyb3dcIiA9PT0gaS50eXBlKSByZXR1cm4gci5tZXRob2QgPSBcInRocm93XCIsIHIuYXJnID0gaS5hcmcsIHIuZGVsZWdhdGUgPSBudWxsLCB5OyB2YXIgYSA9IGkuYXJnOyByZXR1cm4gYSA/IGEuZG9uZSA/IChyW2UucmVzdWx0TmFtZV0gPSBhLnZhbHVlLCByLm5leHQgPSBlLm5leHRMb2MsIFwicmV0dXJuXCIgIT09IHIubWV0aG9kICYmIChyLm1ldGhvZCA9IFwibmV4dFwiLCByLmFyZyA9IHQpLCByLmRlbGVnYXRlID0gbnVsbCwgeSkgOiBhIDogKHIubWV0aG9kID0gXCJ0aHJvd1wiLCByLmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKSwgci5kZWxlZ2F0ZSA9IG51bGwsIHkpOyB9IGZ1bmN0aW9uIHB1c2hUcnlFbnRyeSh0KSB7IHZhciBlID0geyB0cnlMb2M6IHRbMF0gfTsgMSBpbiB0ICYmIChlLmNhdGNoTG9jID0gdFsxXSksIDIgaW4gdCAmJiAoZS5maW5hbGx5TG9jID0gdFsyXSwgZS5hZnRlckxvYyA9IHRbM10pLCB0aGlzLnRyeUVudHJpZXMucHVzaChlKTsgfSBmdW5jdGlvbiByZXNldFRyeUVudHJ5KHQpIHsgdmFyIGUgPSB0LmNvbXBsZXRpb24gfHwge307IGUudHlwZSA9IFwibm9ybWFsXCIsIGRlbGV0ZSBlLmFyZywgdC5jb21wbGV0aW9uID0gZTsgfSBmdW5jdGlvbiBDb250ZXh0KHQpIHsgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XSwgdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyksIHRoaXMucmVzZXQoITApOyB9IGZ1bmN0aW9uIHZhbHVlcyhlKSB7IGlmIChlIHx8IFwiXCIgPT09IGUpIHsgdmFyIHIgPSBlW2FdOyBpZiAocikgcmV0dXJuIHIuY2FsbChlKTsgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZS5uZXh0KSByZXR1cm4gZTsgaWYgKCFpc05hTihlLmxlbmd0aCkpIHsgdmFyIG8gPSAtMSwgaSA9IGZ1bmN0aW9uIG5leHQoKSB7IGZvciAoOyArK28gPCBlLmxlbmd0aDspIGlmIChuLmNhbGwoZSwgbykpIHJldHVybiBuZXh0LnZhbHVlID0gZVtvXSwgbmV4dC5kb25lID0gITEsIG5leHQ7IHJldHVybiBuZXh0LnZhbHVlID0gdCwgbmV4dC5kb25lID0gITAsIG5leHQ7IH07IHJldHVybiBpLm5leHQgPSBpOyB9IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihfdHlwZW9mKGUpICsgXCIgaXMgbm90IGl0ZXJhYmxlXCIpOyB9IHJldHVybiBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgbyhnLCBcImNvbnN0cnVjdG9yXCIsIHsgdmFsdWU6IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBjb25maWd1cmFibGU6ICEwIH0pLCBvKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBcImNvbnN0cnVjdG9yXCIsIHsgdmFsdWU6IEdlbmVyYXRvckZ1bmN0aW9uLCBjb25maWd1cmFibGU6ICEwIH0pLCBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IGRlZmluZShHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgdSwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKSwgZS5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24gKHQpIHsgdmFyIGUgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHQgJiYgdC5jb25zdHJ1Y3RvcjsgcmV0dXJuICEhZSAmJiAoZSA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHwgXCJHZW5lcmF0b3JGdW5jdGlvblwiID09PSAoZS5kaXNwbGF5TmFtZSB8fCBlLm5hbWUpKTsgfSwgZS5tYXJrID0gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZih0LCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSkgOiAodC5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgZGVmaW5lKHQsIHUsIFwiR2VuZXJhdG9yRnVuY3Rpb25cIikpLCB0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoZyksIHQ7IH0sIGUuYXdyYXAgPSBmdW5jdGlvbiAodCkgeyByZXR1cm4geyBfX2F3YWl0OiB0IH07IH0sIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSksIGRlZmluZShBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSwgYywgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSksIGUuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3IsIGUuYXN5bmMgPSBmdW5jdGlvbiAodCwgciwgbiwgbywgaSkgeyB2b2lkIDAgPT09IGkgJiYgKGkgPSBQcm9taXNlKTsgdmFyIGEgPSBuZXcgQXN5bmNJdGVyYXRvcih3cmFwKHQsIHIsIG4sIG8pLCBpKTsgcmV0dXJuIGUuaXNHZW5lcmF0b3JGdW5jdGlvbihyKSA/IGEgOiBhLm5leHQoKS50aGVuKGZ1bmN0aW9uICh0KSB7IHJldHVybiB0LmRvbmUgPyB0LnZhbHVlIDogYS5uZXh0KCk7IH0pOyB9LCBkZWZpbmVJdGVyYXRvck1ldGhvZHMoZyksIGRlZmluZShnLCB1LCBcIkdlbmVyYXRvclwiKSwgZGVmaW5lKGcsIGEsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pLCBkZWZpbmUoZywgXCJ0b1N0cmluZ1wiLCBmdW5jdGlvbiAoKSB7IHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiOyB9KSwgZS5rZXlzID0gZnVuY3Rpb24gKHQpIHsgdmFyIGUgPSBPYmplY3QodCksIHIgPSBbXTsgZm9yICh2YXIgbiBpbiBlKSByLnB1c2gobik7IHJldHVybiByLnJldmVyc2UoKSwgZnVuY3Rpb24gbmV4dCgpIHsgZm9yICg7IHIubGVuZ3RoOykgeyB2YXIgdCA9IHIucG9wKCk7IGlmICh0IGluIGUpIHJldHVybiBuZXh0LnZhbHVlID0gdCwgbmV4dC5kb25lID0gITEsIG5leHQ7IH0gcmV0dXJuIG5leHQuZG9uZSA9ICEwLCBuZXh0OyB9OyB9LCBlLnZhbHVlcyA9IHZhbHVlcywgQ29udGV4dC5wcm90b3R5cGUgPSB7IGNvbnN0cnVjdG9yOiBDb250ZXh0LCByZXNldDogZnVuY3Rpb24gcmVzZXQoZSkgeyBpZiAodGhpcy5wcmV2ID0gMCwgdGhpcy5uZXh0ID0gMCwgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IHQsIHRoaXMuZG9uZSA9ICExLCB0aGlzLmRlbGVnYXRlID0gbnVsbCwgdGhpcy5tZXRob2QgPSBcIm5leHRcIiwgdGhpcy5hcmcgPSB0LCB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KSwgIWUpIGZvciAodmFyIHIgaW4gdGhpcykgXCJ0XCIgPT09IHIuY2hhckF0KDApICYmIG4uY2FsbCh0aGlzLCByKSAmJiAhaXNOYU4oK3Iuc2xpY2UoMSkpICYmICh0aGlzW3JdID0gdCk7IH0sIHN0b3A6IGZ1bmN0aW9uIHN0b3AoKSB7IHRoaXMuZG9uZSA9ICEwOyB2YXIgdCA9IHRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uOyBpZiAoXCJ0aHJvd1wiID09PSB0LnR5cGUpIHRocm93IHQuYXJnOyByZXR1cm4gdGhpcy5ydmFsOyB9LCBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24gZGlzcGF0Y2hFeGNlcHRpb24oZSkgeyBpZiAodGhpcy5kb25lKSB0aHJvdyBlOyB2YXIgciA9IHRoaXM7IGZ1bmN0aW9uIGhhbmRsZShuLCBvKSB7IHJldHVybiBhLnR5cGUgPSBcInRocm93XCIsIGEuYXJnID0gZSwgci5uZXh0ID0gbiwgbyAmJiAoci5tZXRob2QgPSBcIm5leHRcIiwgci5hcmcgPSB0KSwgISFvOyB9IGZvciAodmFyIG8gPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgbyA+PSAwOyAtLW8pIHsgdmFyIGkgPSB0aGlzLnRyeUVudHJpZXNbb10sIGEgPSBpLmNvbXBsZXRpb247IGlmIChcInJvb3RcIiA9PT0gaS50cnlMb2MpIHJldHVybiBoYW5kbGUoXCJlbmRcIik7IGlmIChpLnRyeUxvYyA8PSB0aGlzLnByZXYpIHsgdmFyIGMgPSBuLmNhbGwoaSwgXCJjYXRjaExvY1wiKSwgdSA9IG4uY2FsbChpLCBcImZpbmFsbHlMb2NcIik7IGlmIChjICYmIHUpIHsgaWYgKHRoaXMucHJldiA8IGkuY2F0Y2hMb2MpIHJldHVybiBoYW5kbGUoaS5jYXRjaExvYywgITApOyBpZiAodGhpcy5wcmV2IDwgaS5maW5hbGx5TG9jKSByZXR1cm4gaGFuZGxlKGkuZmluYWxseUxvYyk7IH0gZWxzZSBpZiAoYykgeyBpZiAodGhpcy5wcmV2IDwgaS5jYXRjaExvYykgcmV0dXJuIGhhbmRsZShpLmNhdGNoTG9jLCAhMCk7IH0gZWxzZSB7IGlmICghdSkgdGhyb3cgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTsgaWYgKHRoaXMucHJldiA8IGkuZmluYWxseUxvYykgcmV0dXJuIGhhbmRsZShpLmZpbmFsbHlMb2MpOyB9IH0gfSB9LCBhYnJ1cHQ6IGZ1bmN0aW9uIGFicnVwdCh0LCBlKSB7IGZvciAodmFyIHIgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgciA+PSAwOyAtLXIpIHsgdmFyIG8gPSB0aGlzLnRyeUVudHJpZXNbcl07IGlmIChvLnRyeUxvYyA8PSB0aGlzLnByZXYgJiYgbi5jYWxsKG8sIFwiZmluYWxseUxvY1wiKSAmJiB0aGlzLnByZXYgPCBvLmZpbmFsbHlMb2MpIHsgdmFyIGkgPSBvOyBicmVhazsgfSB9IGkgJiYgKFwiYnJlYWtcIiA9PT0gdCB8fCBcImNvbnRpbnVlXCIgPT09IHQpICYmIGkudHJ5TG9jIDw9IGUgJiYgZSA8PSBpLmZpbmFsbHlMb2MgJiYgKGkgPSBudWxsKTsgdmFyIGEgPSBpID8gaS5jb21wbGV0aW9uIDoge307IHJldHVybiBhLnR5cGUgPSB0LCBhLmFyZyA9IGUsIGkgPyAodGhpcy5tZXRob2QgPSBcIm5leHRcIiwgdGhpcy5uZXh0ID0gaS5maW5hbGx5TG9jLCB5KSA6IHRoaXMuY29tcGxldGUoYSk7IH0sIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZSh0LCBlKSB7IGlmIChcInRocm93XCIgPT09IHQudHlwZSkgdGhyb3cgdC5hcmc7IHJldHVybiBcImJyZWFrXCIgPT09IHQudHlwZSB8fCBcImNvbnRpbnVlXCIgPT09IHQudHlwZSA/IHRoaXMubmV4dCA9IHQuYXJnIDogXCJyZXR1cm5cIiA9PT0gdC50eXBlID8gKHRoaXMucnZhbCA9IHRoaXMuYXJnID0gdC5hcmcsIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIiwgdGhpcy5uZXh0ID0gXCJlbmRcIikgOiBcIm5vcm1hbFwiID09PSB0LnR5cGUgJiYgZSAmJiAodGhpcy5uZXh0ID0gZSksIHk7IH0sIGZpbmlzaDogZnVuY3Rpb24gZmluaXNoKHQpIHsgZm9yICh2YXIgZSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBlID49IDA7IC0tZSkgeyB2YXIgciA9IHRoaXMudHJ5RW50cmllc1tlXTsgaWYgKHIuZmluYWxseUxvYyA9PT0gdCkgcmV0dXJuIHRoaXMuY29tcGxldGUoci5jb21wbGV0aW9uLCByLmFmdGVyTG9jKSwgcmVzZXRUcnlFbnRyeShyKSwgeTsgfSB9LCBjYXRjaDogZnVuY3Rpb24gX2NhdGNoKHQpIHsgZm9yICh2YXIgZSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBlID49IDA7IC0tZSkgeyB2YXIgciA9IHRoaXMudHJ5RW50cmllc1tlXTsgaWYgKHIudHJ5TG9jID09PSB0KSB7IHZhciBuID0gci5jb21wbGV0aW9uOyBpZiAoXCJ0aHJvd1wiID09PSBuLnR5cGUpIHsgdmFyIG8gPSBuLmFyZzsgcmVzZXRUcnlFbnRyeShyKTsgfSByZXR1cm4gbzsgfSB9IHRocm93IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpOyB9LCBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbiBkZWxlZ2F0ZVlpZWxkKGUsIHIsIG4pIHsgcmV0dXJuIHRoaXMuZGVsZWdhdGUgPSB7IGl0ZXJhdG9yOiB2YWx1ZXMoZSksIHJlc3VsdE5hbWU6IHIsIG5leHRMb2M6IG4gfSwgXCJuZXh0XCIgPT09IHRoaXMubWV0aG9kICYmICh0aGlzLmFyZyA9IHQpLCB5OyB9IH0sIGU7IH1cbmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChuLCB0LCBlLCByLCBvLCBhLCBjKSB7IHRyeSB7IHZhciBpID0gblthXShjKSwgdSA9IGkudmFsdWU7IH0gY2F0Y2ggKG4pIHsgcmV0dXJuIHZvaWQgZShuKTsgfSBpLmRvbmUgPyB0KHUpIDogUHJvbWlzZS5yZXNvbHZlKHUpLnRoZW4ociwgbyk7IH1cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHQgPSB0aGlzLCBlID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHIsIG8pIHsgdmFyIGEgPSBuLmFwcGx5KHQsIGUpOyBmdW5jdGlvbiBfbmV4dChuKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChhLCByLCBvLCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgbik7IH0gZnVuY3Rpb24gX3Rocm93KG4pIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGEsIHIsIG8sIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgbik7IH0gX25leHQodm9pZCAwKTsgfSk7IH07IH1cbmltcG9ydCB7IGNyZWF0ZVNsaWNlLCBjcmVhdGVBc3luY1RodW5rIH0gZnJvbSAnQHJlZHV4anMvdG9vbGtpdCc7XG5pbXBvcnQgeyByZXN0UG9zdCwgcmVzdERlbGV0ZSwgcmVzdEdldCB9IGZyb20gJy4uLy4uL2hlbHBlcnMvYXBpJztcbmltcG9ydCB7IF9fIH0gZnJvbSAnQHdvcmRwcmVzcy9pMThuJztcbmltcG9ydCB7IGNyZWF0ZVNlbGVjdG9yIH0gZnJvbSAncmVzZWxlY3QnO1xuXG4vKipcbiAqIFJlLWluaXRpYWxpemUgdGhlIHZpZGVvcyBsaXN0XG4gKlxuICogQHJldHVybiB7UHJvbWlzZX1cbiAqL1xuZXhwb3J0IHZhciBpbml0VmlkZW9zID0gY3JlYXRlQXN5bmNUaHVuaygndmlkZW9zL2luaXQnLFxuLy8gUmVkdXggYWN0aW9uIHR5cGVcbmZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgcmV0dXJuIHJlc3RHZXQoe1xuICAgIHBhdGg6ICd2aWRlb3MnLFxuICAgIHBhcmFtczogcGFyYW1zXG4gIH0pO1xufSk7XG5cbi8qKlxuICogRGVsZXRlcyBhIHZpZGVvXG4gKlxuICogQHJldHVybiB7UHJvbWlzZX1cbiAqL1xuZXhwb3J0IHZhciBkZWxldGVWaWRlbyA9IGNyZWF0ZUFzeW5jVGh1bmsoJ3ZpZGVvcy9kZWxldGUnLFxuLy8gUmVkdXggYWN0aW9uIHR5cGVcbmZ1bmN0aW9uIChkYXRhKSB7XG4gIHZhciBpZCA9IGRhdGEuaWQ7XG4gIHJldHVybiByZXN0RGVsZXRlKHtcbiAgICBwYXRoOiBcInZpZGVvcy9cIi5jb25jYXQoaWQpXG4gIH0pO1xufSk7XG5cbi8qKlxuICogRGVsZXRlIGEgdmlkZW8gZnJvbSBwbGF5bGlzdFxuICpcbiAqIEByZXR1cm4ge1Byb21pc2V9XG4gKi9cbmV4cG9ydCB2YXIgdW5Bc3NpZ25WaWRlbyA9IGNyZWF0ZUFzeW5jVGh1bmsoJ3ZpZGVvcy9kZWxldGUnLFxuLy8gUmVkdXggYWN0aW9uIHR5cGVcbmZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBwbGF5bGlzdElEID0gX3JlZi5wbGF5bGlzdElELFxuICAgIHZpZGVvSUQgPSBfcmVmLnZpZGVvSUQ7XG4gIHJldHVybiByZXN0RGVsZXRlKHtcbiAgICBwYXRoOiBcInBsYXlsaXN0cy9cIi5jb25jYXQocGxheWxpc3RJRCwgXCIvdmlkZW9zXCIpLFxuICAgIGRhdGE6IHtcbiAgICAgIHZpZGVvczogW3ZpZGVvSURdXG4gICAgfVxuICB9KTtcbn0pO1xuXG4vKipcbiAqIEZldGNoIGEgc2luZ2xlIGVtYmVkIG9iamVjdCB1c2luZyBBUEkuXG4gKlxuICogVXNlIHRoaXMgb25seSBpZiB0aGUgZW1iZWQgaXMgbm90IGFscmVhZHlcbiAqIGZvdW5kIGluIHN0YXRlLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIFZpZGVvIElEIGFuZCBvdGhlciBhcmdzLlxuICpcbiAqIEByZXR1cm4ge1Byb21pc2V9XG4gKi9cbmV4cG9ydCB2YXIgZmV0Y2hFbWJlZCA9IGNyZWF0ZUFzeW5jVGh1bmsoJ3ZpZGVvcy9mZXRjaEVtYmVkJywgLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKGRhdGEpIHtcbiAgICB2YXIgcmVzcG9uc2U7XG4gICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgaWYgKCEoZGF0YS5pZCAmJiBkYXRhLmlkID4gMCkpIHtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzO1xuICAgICAgICAgIHJldHVybiByZXN0R2V0KHtcbiAgICAgICAgICAgIHBhdGg6IFwidmlkZW9zL1wiLmNvbmNhdChkYXRhLmlkLCBcIi9lbWJlZFwiKSxcbiAgICAgICAgICAgIHBhcmFtczogZGF0YVxuICAgICAgICAgIH0pO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50O1xuICAgICAgICAgIC8vIEluY2x1ZGUgdGhlIGlkIGluIHJlc3BvbnNlXG4gICAgICAgICAgcmVzcG9uc2UuaWQgPSBkYXRhLmlkO1xuICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzcG9uc2UpO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgfVxuICAgIH0sIF9jYWxsZWUpO1xuICB9KSk7XG4gIHJldHVybiBmdW5jdGlvbiAoX3gpIHtcbiAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn0oKSk7XG5cbi8qKlxuICogQ3JlYXRlIGEgdmlkZW9cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gdmlkZW8gVmlkZW8gb2JqZWN0XG4gKlxuICogQHJldHVybiB7UHJvbWlzZX1cbiAqL1xuZXhwb3J0IHZhciBjcmVhdGVWaWRlbyA9IGNyZWF0ZUFzeW5jVGh1bmsoJ3ZpZGVvcy9jcmVhdGUnLCBmdW5jdGlvbiAoZGF0YSkge1xuICB2YXIgdmlkZW8gPSBkYXRhLnZpZGVvO1xuICByZXR1cm4gcmVzdFBvc3Qoe1xuICAgIHBhdGg6ICd2aWRlb3MnLFxuICAgIGRhdGE6IHZpZGVvXG4gIH0pO1xufSk7XG5cbi8qKlxuICogVXBkYXRlIGEgdmlkZW9cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gdmlkZW8gVmlkZW8gb2JqZWN0XG4gKlxuICogQHJldHVybiB7UHJvbWlzZX1cbiAqL1xuZXhwb3J0IHZhciB1cGRhdGVWaWRlbyA9IGNyZWF0ZUFzeW5jVGh1bmsoJ3ZpZGVvcy91cGRhdGUnLCBmdW5jdGlvbiAoZGF0YSkge1xuICB2YXIgdmlkZW8gPSBkYXRhLnZpZGVvLFxuICAgIGlkID0gZGF0YS5pZDtcbiAgcmV0dXJuIHJlc3RQb3N0KHtcbiAgICBwYXRoOiBcInZpZGVvcy9cIi5jb25jYXQoaWQpLFxuICAgIGRhdGE6IHZpZGVvXG4gIH0pO1xufSk7XG5cbi8qKlxuICogU2VhcmNoIFZpZGVvc1xuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBzZWFyY2ggc2VhcmNoIHN0cmluZ1xuICpcbiAqIEByZXR1cm4ge1Byb21pc2V9XG4gKi9cbmV4cG9ydCB2YXIgc2VhcmNoVmlkZW9zID0gY3JlYXRlQXN5bmNUaHVuaygndmlkZW9zL3NlYXJjaCcsIGZ1bmN0aW9uIChkYXRhKSB7XG4gIHZhciBzZWFyY2ggPSBkYXRhLnNlYXJjaDtcbiAgcmV0dXJuIHJlc3RHZXQoe1xuICAgIHBhdGg6IFwidmlkZW9zXCIsXG4gICAgcGFyYW1zOiB7XG4gICAgICBzZWFyY2g6IHNlYXJjaCxcbiAgICAgIGZpZWxkOiAnaWRzJ1xuICAgIH1cbiAgfSk7XG59KTtcbnZhciB2aWRlb3NTbGljZSA9IGNyZWF0ZVNsaWNlKHtcbiAgbmFtZTogJ3ZpZGVvcycsXG4gIGluaXRpYWxTdGF0ZToge1xuICAgIHZpZGVvczoge30sXG4gICAgZW1iZWRzOiB7fSxcbiAgICBmaWx0ZXJlZDogW10sXG4gICAgaXNMb2FkaW5nOiBmYWxzZVxuICB9LFxuICByZWR1Y2Vyczoge1xuICAgIC8qKlxuICAgICAqIFNldCBhIGZpbHRlcmVkIHZpZGVvIGlkcyBpbiBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEl0IHJlcGxhY2VzIHRoZSBmaWx0ZXJlZCBsaXN0IHdpdGggdGhlIHByb3ZpZGVkIG9uZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdGF0ZX0gc3RhdGUgb2JqZWN0XG4gICAgICogQHBhcmFtIHtvYmplY3R9IGFjdGlvbiBvYmplY3RcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge29iamVjdH0gTmV3IFN0YXRlIE9iamVjdFxuICAgICAqL1xuICAgIHNldEZpbHRlcmVkOiBmdW5jdGlvbiBzZXRGaWx0ZXJlZChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICB2YXIgaWRzID0gYWN0aW9uLnBheWxvYWQuaWRzO1xuICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc3RhdGUpLCB7fSwge1xuICAgICAgICBmaWx0ZXJlZDogaWRzXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIGV4dHJhUmVkdWNlcnM6IGZ1bmN0aW9uIGV4dHJhUmVkdWNlcnMoYnVpbGRlcikge1xuICAgIGJ1aWxkZXJcbiAgICAvLyBIYW5kbGluZyBpbml0VmlkZW9zIHN0YXR1c1xuICAgIC5hZGRDYXNlKGluaXRWaWRlb3MucGVuZGluZywgZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAvLyBTZXQgTG9hZGluZ1xuICAgICAgc3RhdGUuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICB9KS5hZGRDYXNlKGluaXRWaWRlb3MuZnVsZmlsbGVkLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgICAgc3RhdGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICB2YXIgcGF5bG9hZCA9IGFjdGlvbi5wYXlsb2FkO1xuICAgICAgaWYgKHBheWxvYWQuc3VjY2VzcyAmJiBwYXlsb2FkLmRhdGEpIHtcbiAgICAgICAgdmFyIHZpZGVvcyA9IHt9O1xuICAgICAgICB2YXIgZmlsdGVyZWQgPSBbXTtcblxuICAgICAgICAvLyBTZXR1cCB0aGUgbGlzdCBkYXRhLlxuICAgICAgICBwYXlsb2FkLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAodmlkZW8pIHtcbiAgICAgICAgICB2aWRlb3NbdmlkZW8uaWRdID0gdmlkZW87XG4gICAgICAgICAgZmlsdGVyZWQucHVzaCh2aWRlby5pZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgc3RhdGVcbiAgICAgICAgc3RhdGUudmlkZW9zID0gdmlkZW9zO1xuICAgICAgICBzdGF0ZS5maWx0ZXJlZCA9IGZpbHRlcmVkO1xuICAgICAgfVxuICAgICAgc3RhdGUuc3RhdHVzID0gJ3N1Y2Nlc3MnO1xuICAgIH0pLmFkZENhc2UoaW5pdFZpZGVvcy5yZWplY3RlZCwgZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAvLyBVcGRhdGUgU3RhdHVzXG4gICAgICBzdGF0ZS5zdGF0dXMgPSAnZXJyb3InO1xuICAgIH0pXG5cbiAgICAvLyBIYW5kbGluZyBmZXRjaEVtYmVkXG4gICAgLmFkZENhc2UoZmV0Y2hFbWJlZC5mdWxmaWxsZWQsIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICB2YXIgZW1iZWQgPSB7fTtcblxuICAgICAgLy8gVXBkYXRlIHN0YXRlXG4gICAgICB2YXIgcGF5bG9hZCA9IGFjdGlvbi5wYXlsb2FkO1xuICAgICAgaWYgKHBheWxvYWQgIT09IG51bGwgJiYgcGF5bG9hZCAhPT0gdm9pZCAwICYmIHBheWxvYWQuc3VjY2VzcyAmJiBwYXlsb2FkICE9PSBudWxsICYmIHBheWxvYWQgIT09IHZvaWQgMCAmJiBwYXlsb2FkLmRhdGEgJiYgcGF5bG9hZCAhPT0gbnVsbCAmJiBwYXlsb2FkICE9PSB2b2lkIDAgJiYgcGF5bG9hZC5kYXRhLmh0bWwpIHtcbiAgICAgICAgZW1iZWQgPSBwYXlsb2FkLmRhdGE7XG4gICAgICAgIHZhciBuZXdEYXRhID0gX29iamVjdFNwcmVhZCh7fSwgcGF5bG9hZC5kYXRhKTtcbiAgICAgICAgbmV3RGF0YS5pZCA9IHBheWxvYWQuaWQ7XG5cbiAgICAgICAgLy8gVXBkYXRlIHRoZSBzdGF0ZVxuICAgICAgICBzdGF0ZS5lbWJlZHNbcGF5bG9hZC5pZF0gPSBuZXdEYXRhO1xuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBIYW5kbGluZyBWaWRlbyBDcmVhdGVcbiAgICAuYWRkQ2FzZShjcmVhdGVWaWRlby5mdWxmaWxsZWQsIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICAvLyBVcGRhdGUgc3RhdGVcbiAgICAgIHZhciBwYXlsb2FkID0gYWN0aW9uLnBheWxvYWQ7XG4gICAgICBpZiAocGF5bG9hZCAhPT0gbnVsbCAmJiBwYXlsb2FkICE9PSB2b2lkIDAgJiYgcGF5bG9hZC5zdWNjZXNzKSB7XG4gICAgICAgIHZhciB2aWRlbyA9IHBheWxvYWQuZGF0YTtcblxuICAgICAgICAvLyBBZGQgdmlkZW8gdG8gc3RhdGVcbiAgICAgICAgaWYgKHZpZGVvLmlkICYmIHZpZGVvLmlkID4gMCkge1xuICAgICAgICAgIHN0YXRlLnZpZGVvcyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc3RhdGUudmlkZW9zKSwge30sIF9kZWZpbmVQcm9wZXJ0eSh7fSwgdmlkZW8uaWQsIHZpZGVvKSk7XG5cbiAgICAgICAgICAvLyBBZGQgdGhlIGlkIHRvIHRoZSBmaWx0ZXJlZCBsaXN0IHNvIHRoZSB2aWRlbyB3aWxsIGJlIGRpc3BsYXllZFxuICAgICAgICAgIHN0YXRlLmZpbHRlcmVkID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShzdGF0ZS5maWx0ZXJlZCksIFt2aWRlby5pZF0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIEhhbmRlbGluZyBWaWRlbyBVcGRhdGVcbiAgICAuYWRkQ2FzZSh1cGRhdGVWaWRlby5mdWxmaWxsZWQsIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICB2YXIgcGF5bG9hZCA9IGFjdGlvbi5wYXlsb2FkO1xuICAgICAgdmFyIG5ld1ZpZGVvID0gcGF5bG9hZC5kYXRhO1xuICAgICAgaWYgKHBheWxvYWQgIT09IG51bGwgJiYgcGF5bG9hZCAhPT0gdm9pZCAwICYmIHBheWxvYWQuc3VjY2Vzcykge1xuICAgICAgICAvLyBVcGRhdGUgdmlkZW9zIHN0YXRlXG4gICAgICAgIHN0YXRlLnZpZGVvcyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc3RhdGUudmlkZW9zKSwge30sIF9kZWZpbmVQcm9wZXJ0eSh7fSwgbmV3VmlkZW8uaWQsIG5ld1ZpZGVvKSk7XG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIEhhbmRlbGluZyBWaWRlbyBEZWxldGVcbiAgICAuYWRkQ2FzZShkZWxldGVWaWRlby5mdWxmaWxsZWQsIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICB2YXIgaWQgPSBhY3Rpb24ubWV0YS5hcmcuaWQsXG4gICAgICAgIHN1Y2Nlc3MgPSBhY3Rpb24ucGF5bG9hZC5zdWNjZXNzO1xuICAgICAgaWYgKHN1Y2Nlc3MgPT09IHRydWUpIHtcbiAgICAgICAgdmFyIHZpZGVvcyA9IHN0YXRlLnZpZGVvcyxcbiAgICAgICAgICBmaWx0ZXJlZCA9IHN0YXRlLmZpbHRlcmVkO1xuXG4gICAgICAgIC8vIFJlbW92ZSBmcm9tIGZpbHRlcmVkIGxpc3RcbiAgICAgICAgc3RhdGUuZmlsdGVyZWQgPSBmaWx0ZXJlZC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gaWQgIT09IGl0ZW07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIERlbGV0ZSB0aGUgdmlkZW8gZnJvbSB0aGUgdmlkZW9zIG9iamVjdFxuICAgICAgICB2YXIgbmV3VmlkZW9zID0gX29iamVjdFNwcmVhZCh7fSwgdmlkZW9zKTtcbiAgICAgICAgZGVsZXRlIG5ld1ZpZGVvc1tpZF07XG4gICAgICAgIHN0YXRlLnZpZGVvcyA9IG5ld1ZpZGVvcztcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gSGFuZGVsaW5nIFZpZGVvIFNlYXJjaFxuICAgIC5hZGRDYXNlKHNlYXJjaFZpZGVvcy5wZW5kaW5nLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgICAgLy8gU2V0IExvYWRpbmdcbiAgICAgIHN0YXRlLmlzTG9hZGluZyA9IHRydWU7XG4gICAgfSkuYWRkQ2FzZShzZWFyY2hWaWRlb3MuZnVsZmlsbGVkLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgICAgdmFyIF9hY3Rpb24kcGF5bG9hZDtcbiAgICAgIHZhciBpZHMgPSAoYWN0aW9uID09PSBudWxsIHx8IGFjdGlvbiA9PT0gdm9pZCAwIHx8IChfYWN0aW9uJHBheWxvYWQgPSBhY3Rpb24ucGF5bG9hZCkgPT09IG51bGwgfHwgX2FjdGlvbiRwYXlsb2FkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYWN0aW9uJHBheWxvYWQuZGF0YSkgfHwgW107XG4gICAgICBzdGF0ZS5maWx0ZXJlZCA9IGlkcztcblxuICAgICAgLy8gU2V0IExvYWRpbmdcbiAgICAgIHN0YXRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgIH0pLmFkZENhc2Uoc2VhcmNoVmlkZW9zLnJlamVjdGVkLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgICAgc3RhdGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgfSk7XG4gIH1cbn0pO1xuXG4vLyBTZWxlY3RvcnNcbnZhciB2aWRlb3NTdGF0ZSA9IGZ1bmN0aW9uIHZpZGVvc1N0YXRlKHN0YXRlKSB7XG4gIHJldHVybiBzdGF0ZS52aWRlb3M7XG59O1xuXG4vKipcbiAqIEdldCB2aWRlbyhzKSBvYmplY3QocykgYnkgaWQocylcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gdmlkZW9zU3RhdGVcbiAqIEBwYXJhbSB7YXJyYXl8c3RyaW5nfSBpZHMgdmlkZW9zIGlkc1xuICpcbiAqIEByZXR1cm4ge2FycmF5fG9iamVjdHxmYWxzZX1cbiAqL1xuZXhwb3J0IHZhciBnZXRWaWRlb3MgPSBjcmVhdGVTZWxlY3Rvcih2aWRlb3NTdGF0ZSwgZnVuY3Rpb24gKF8sIGlkcykge1xuICByZXR1cm4gaWRzO1xufSwgZnVuY3Rpb24gKHZpZGVvc1N0YXRlLCBpZHMpIHtcbiAgdmFyIHZpZGVvcyA9IFtdO1xuICBpZiAoQXJyYXkuaXNBcnJheShpZHMpKSB7XG4gICAgaWRzLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7XG4gICAgICBpZiAodmlkZW9zU3RhdGUudmlkZW9zW2lkXSkge1xuICAgICAgICB2aWRlb3MucHVzaCh2aWRlb3NTdGF0ZS52aWRlb3NbaWRdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdmlkZW9zO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBpZHMgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBpZHMgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZpZGVvc1N0YXRlLnZpZGVvc1tpZHNdO1xuICB9IGVsc2Uge1xuICAgIC8vIElmIGlkcyBpcyBub3QgcHJvdmlkZWQgZ2V0IGFsbCB2aWRlb3NcbiAgICByZXR1cm4gdmlkZW9zU3RhdGUudmlkZW9zO1xuICB9XG59KTtcblxuLyoqXG4gKiBHZXQgRmlsdGVyZWQgSURzXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHZpZGVvc1N0YXRlXG4gKlxuICogQHJldHVybiB7YXJyYXl9XG4gKi9cbmV4cG9ydCB2YXIgZ2V0RmlsdGVyZWRJZHMgPSBjcmVhdGVTZWxlY3Rvcih2aWRlb3NTdGF0ZSwgZnVuY3Rpb24gKHZpZGVvc1N0YXRlKSB7XG4gIHJldHVybiB2aWRlb3NTdGF0ZS5maWx0ZXJlZDtcbn0pO1xuXG4vKipcbiAqIEdldCBhIHNpbmdsZSBlbWJlZCBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gdmlkZW9zU3RhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSB2aWRlb0lkXG4gKlxuICogQHJldHVybiB7YXJyYXl9XG4gKi9cbmV4cG9ydCB2YXIgZ2V0RW1iZWQgPSBjcmVhdGVTZWxlY3Rvcih2aWRlb3NTdGF0ZSwgZnVuY3Rpb24gKF8sIGlkKSB7XG4gIHJldHVybiBpZDtcbn0sIGZ1bmN0aW9uICh2aWRlb3NTdGF0ZSwgaWQpIHtcbiAgcmV0dXJuIHZpZGVvc1N0YXRlLmVtYmVkc1tpZF0gfHwgZmFsc2U7XG59KTtcblxuLyoqXG4gKiBHZXQgbG9hZGluZyBzdGF0dXNcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gdmlkZW9zU3RhdGUgdGhlIHZpZGVvcyBzdGF0ZSBvYmplY3QuXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IHZhciBnZXRMb2FkaW5nU3RhdHVzID0gY3JlYXRlU2VsZWN0b3IodmlkZW9zU3RhdGUsIGZ1bmN0aW9uICh2aWRlb3NTdGF0ZSkge1xuICByZXR1cm4gdmlkZW9zU3RhdGUuaXNMb2FkaW5nO1xufSk7XG5cbi8vIEV4cG9ydCBhY3Rpb25zXG52YXIgc2V0RmlsdGVyZWQgPSB2aWRlb3NTbGljZS5hY3Rpb25zLnNldEZpbHRlcmVkO1xuZXhwb3J0IHsgc2V0RmlsdGVyZWQgfTtcbmV4cG9ydCBkZWZhdWx0IHZpZGVvc1NsaWNlLnJlZHVjZXI7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4084\n')},5524:function(module){eval('!function(t,e){ true?module.exports=e():0}(this,(function(){"use strict";function t(){return(t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}return function(){var e,n=[],i={vendor:void 0,id:void 0,src:void 0,thumbnail:void 0,title:void 0,initialized:!1,y:void 0,debounce:250,lazyload:!0,autoplay:!0,initinview:!1,onLoad:function(t){},onAppend:function(t){},onThumbnailLoad:function(t){}},o={regex:{youtube_nocookie:/(?:youtube-nocookie\\.com\\/\\S*(?:(?:\\/e(?:mbed))?\\/|watch\\?(?:\\S*?&?v\\=)))([a-zA-Z0-9_-]{6,11})/,youtube:/(?:youtube\\.com\\/\\S*(?:(?:\\/e(?:mbed))?\\/|watch\\?(?:\\S*?&?v\\=))|youtu\\.be\\/)([a-zA-Z0-9_-]{6,11})/,vimeo:/vimeo\\.com\\/(?:video\\/)?([0-9]*)(?:\\?|)/},condition:{youtube:function(t){return!(!t||11!=t[1].length)&&t[1]},youtube_nocookie:function(t){return!(!t||11!=t[1].length)&&t[1]},vimeo:function(t){return!!(t&&9===t[1].length||8===t[1].length)&&t[1]}},src:{youtube:function(t){return"https://www.youtube.com/embed/".concat(t.id,"/?autoplay=").concat(t.autoplay?"1":"0","&").concat(t.query)},youtube_nocookie:function(t){return"https://www.youtube-nocookie.com/embed/".concat(t.id,"/?autoplay=").concat(t.autoplay?"1":"0","&").concat(t.query)},vimeo:function(t){return"https://player.vimeo.com/video/".concat(t.id,"/?autoplay=").concat(t.autoplay?"1":"0","&").concat(t.query)}},endpoint:function(t){return"https://noembed.com/embed?url=".concat(t.src)},response:{title:function(t){return t.title},thumbnail:function(t){return t.thumbnail_url}}};function a(t){var n=this;if(t instanceof HTMLElement!=!1&&!t.classList.contains("lazyframe--loaded")){var i={el:t,settings:r(t)};i.el.addEventListener("click",(function(){i.el.appendChild(i.iframe);var e=t.querySelectorAll("iframe");i.settings.onAppend.call(n,e[0])})),e.lazyload?c(i):l(i,i.settings.thumbnail)}}function r(n){var i,a,r=Array.prototype.slice.apply(n.attributes).filter((function(t){return""!==t.value})).reduce((function(t,e){return t[0===e.name.indexOf("data-")?e.name.split("data-")[1]:e.name]=e.value,t}),{}),l=t({},e,r,{y:n.offsetTop,originalSrc:r.src,query:(i=r.src,a=i.split("?"),a[1]?a[1]:null)});if(l.vendor){var u=l.src.match(o.regex[l.vendor]);l.id=o.condition[l.vendor](u)}return l}function l(t){var e=this;!function(t){return!(!t.vendor||t.title&&t.thumbnail)}(t.settings)?c(t,!0):function(t,e){var n=o.endpoint(t.settings),i=new XMLHttpRequest;i.open("GET",n,!0),i.onload=function(){if(i.status>=200&&i.status<400){var n=JSON.parse(i.responseText);e(null,[n,t])}else e(!0)},i.onerror=function(){e(!0)},i.send()}(t,(function(n,i){if(!n){var a=i[0],r=i[1];if(r.settings.title||(r.settings.title=o.response.title(a)),!r.settings.thumbnail){var l=o.response.thumbnail(a);r.settings.thumbnail=l,t.settings.onThumbnailLoad.call(e,l)}c(r,!0)}}))}function u(){var t=this,i=window.innerHeight,o=n.length,a=function(e,n){e.settings.initialized=!0,e.el.classList.add("lazyframe--loaded"),o--,l(e),e.settings.initinview&&e.el.click(),e.settings.onLoad.call(t,e)};n.filter((function(t){return t.settings.y<i})).forEach(a);var r,u,c,s,d=(r=function(){m=f<window.pageYOffset,f=window.pageYOffset,m&&n.filter((function(t){return t.settings.y<i+f&&!1===t.settings.initialized})).forEach(a),0===o&&window.removeEventListener("scroll",d,!1)},u=e.debounce,function(){var t=this,e=arguments,n=function(){s=null,c||r.apply(t,e)},i=c&&!s;clearTimeout(s),s=setTimeout(n,u),i&&r.apply(t,e)}),f=0,m=!1;window.addEventListener("scroll",d,!1)}function c(t,i){if(t.iframe=function(t){var e=document.createDocumentFragment(),n=document.createElement("iframe");t.vendor&&(t.src=o.src[t.vendor](t));n.setAttribute("id","lazyframe-".concat(t.id)),n.setAttribute("src",t.src),n.setAttribute("frameborder",0),n.setAttribute("allowfullscreen",""),t.autoplay&&(n.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture");return e.appendChild(n),e}(t.settings),t.settings.thumbnail&&i&&(t.el.style.backgroundImage="url(".concat(t.settings.thumbnail,")")),t.settings.title&&0===t.el.children.length){var a=document.createDocumentFragment(),r=document.createElement("span");r.className="lazyframe__title",r.innerHTML=t.settings.title,a.appendChild(r),t.el.appendChild(a)}e.lazyload||(t.el.classList.add("lazyframe--loaded"),t.settings.onLoad.call(this,t),n.push(t)),t.settings.initialized||n.push(t)}return function(n){if(e=t({},i,arguments.length<=1?void 0:arguments[1]),"string"==typeof n)for(var o=document.querySelectorAll(n),r=0;r<o.length;r++)a(o[r]);else if(void 0===n.length)a(n);else for(var l=0;l<n.length;l++)a(n[l]);e.lazyload&&u()}}()}));\n//# sourceMappingURL=lazyframe.min.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTUyNC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9ub2RlX21vZHVsZXMvbGF6eWZyYW1lL2Rpc3QvbGF6eWZyYW1lLm1pbi5qcz9iZGRhIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGUpOih0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dHx8c2VsZikubGF6eWZyYW1lPWUoKX0odGhpcywoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KCl7cmV0dXJuKHQ9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdO2Zvcih2YXIgaSBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLGkpJiYodFtpXT1uW2ldKX1yZXR1cm4gdH0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gZnVuY3Rpb24oKXt2YXIgZSxuPVtdLGk9e3ZlbmRvcjp2b2lkIDAsaWQ6dm9pZCAwLHNyYzp2b2lkIDAsdGh1bWJuYWlsOnZvaWQgMCx0aXRsZTp2b2lkIDAsaW5pdGlhbGl6ZWQ6ITEseTp2b2lkIDAsZGVib3VuY2U6MjUwLGxhenlsb2FkOiEwLGF1dG9wbGF5OiEwLGluaXRpbnZpZXc6ITEsb25Mb2FkOmZ1bmN0aW9uKHQpe30sb25BcHBlbmQ6ZnVuY3Rpb24odCl7fSxvblRodW1ibmFpbExvYWQ6ZnVuY3Rpb24odCl7fX0sbz17cmVnZXg6e3lvdXR1YmVfbm9jb29raWU6Lyg/OnlvdXR1YmUtbm9jb29raWVcXC5jb21cXC9cXFMqKD86KD86XFwvZSg/Om1iZWQpKT9cXC98d2F0Y2hcXD8oPzpcXFMqPyY/dlxcPSkpKShbYS16QS1aMC05Xy1dezYsMTF9KS8seW91dHViZTovKD86eW91dHViZVxcLmNvbVxcL1xcUyooPzooPzpcXC9lKD86bWJlZCkpP1xcL3x3YXRjaFxcPyg/OlxcUyo/Jj92XFw9KSl8eW91dHVcXC5iZVxcLykoW2EtekEtWjAtOV8tXXs2LDExfSkvLHZpbWVvOi92aW1lb1xcLmNvbVxcLyg/OnZpZGVvXFwvKT8oWzAtOV0qKSg/OlxcP3wpL30sY29uZGl0aW9uOnt5b3V0dWJlOmZ1bmN0aW9uKHQpe3JldHVybiEoIXR8fDExIT10WzFdLmxlbmd0aCkmJnRbMV19LHlvdXR1YmVfbm9jb29raWU6ZnVuY3Rpb24odCl7cmV0dXJuISghdHx8MTEhPXRbMV0ubGVuZ3RoKSYmdFsxXX0sdmltZW86ZnVuY3Rpb24odCl7cmV0dXJuISEodCYmOT09PXRbMV0ubGVuZ3RofHw4PT09dFsxXS5sZW5ndGgpJiZ0WzFdfX0sc3JjOnt5b3V0dWJlOmZ1bmN0aW9uKHQpe3JldHVyblwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvXCIuY29uY2F0KHQuaWQsXCIvP2F1dG9wbGF5PVwiKS5jb25jYXQodC5hdXRvcGxheT9cIjFcIjpcIjBcIixcIiZcIikuY29uY2F0KHQucXVlcnkpfSx5b3V0dWJlX25vY29va2llOmZ1bmN0aW9uKHQpe3JldHVyblwiaHR0cHM6Ly93d3cueW91dHViZS1ub2Nvb2tpZS5jb20vZW1iZWQvXCIuY29uY2F0KHQuaWQsXCIvP2F1dG9wbGF5PVwiKS5jb25jYXQodC5hdXRvcGxheT9cIjFcIjpcIjBcIixcIiZcIikuY29uY2F0KHQucXVlcnkpfSx2aW1lbzpmdW5jdGlvbih0KXtyZXR1cm5cImh0dHBzOi8vcGxheWVyLnZpbWVvLmNvbS92aWRlby9cIi5jb25jYXQodC5pZCxcIi8/YXV0b3BsYXk9XCIpLmNvbmNhdCh0LmF1dG9wbGF5P1wiMVwiOlwiMFwiLFwiJlwiKS5jb25jYXQodC5xdWVyeSl9fSxlbmRwb2ludDpmdW5jdGlvbih0KXtyZXR1cm5cImh0dHBzOi8vbm9lbWJlZC5jb20vZW1iZWQ/dXJsPVwiLmNvbmNhdCh0LnNyYyl9LHJlc3BvbnNlOnt0aXRsZTpmdW5jdGlvbih0KXtyZXR1cm4gdC50aXRsZX0sdGh1bWJuYWlsOmZ1bmN0aW9uKHQpe3JldHVybiB0LnRodW1ibmFpbF91cmx9fX07ZnVuY3Rpb24gYSh0KXt2YXIgbj10aGlzO2lmKHQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCE9ITEmJiF0LmNsYXNzTGlzdC5jb250YWlucyhcImxhenlmcmFtZS0tbG9hZGVkXCIpKXt2YXIgaT17ZWw6dCxzZXR0aW5nczpyKHQpfTtpLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLChmdW5jdGlvbigpe2kuZWwuYXBwZW5kQ2hpbGQoaS5pZnJhbWUpO3ZhciBlPXQucXVlcnlTZWxlY3RvckFsbChcImlmcmFtZVwiKTtpLnNldHRpbmdzLm9uQXBwZW5kLmNhbGwobixlWzBdKX0pKSxlLmxhenlsb2FkP2MoaSk6bChpLGkuc2V0dGluZ3MudGh1bWJuYWlsKX19ZnVuY3Rpb24gcihuKXt2YXIgaSxhLHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KG4uYXR0cmlidXRlcykuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm5cIlwiIT09dC52YWx1ZX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMD09PWUubmFtZS5pbmRleE9mKFwiZGF0YS1cIik/ZS5uYW1lLnNwbGl0KFwiZGF0YS1cIilbMV06ZS5uYW1lXT1lLnZhbHVlLHR9KSx7fSksbD10KHt9LGUscix7eTpuLm9mZnNldFRvcCxvcmlnaW5hbFNyYzpyLnNyYyxxdWVyeTooaT1yLnNyYyxhPWkuc3BsaXQoXCI/XCIpLGFbMV0/YVsxXTpudWxsKX0pO2lmKGwudmVuZG9yKXt2YXIgdT1sLnNyYy5tYXRjaChvLnJlZ2V4W2wudmVuZG9yXSk7bC5pZD1vLmNvbmRpdGlvbltsLnZlbmRvcl0odSl9cmV0dXJuIGx9ZnVuY3Rpb24gbCh0KXt2YXIgZT10aGlzOyFmdW5jdGlvbih0KXtyZXR1cm4hKCF0LnZlbmRvcnx8dC50aXRsZSYmdC50aHVtYm5haWwpfSh0LnNldHRpbmdzKT9jKHQsITApOmZ1bmN0aW9uKHQsZSl7dmFyIG49by5lbmRwb2ludCh0LnNldHRpbmdzKSxpPW5ldyBYTUxIdHRwUmVxdWVzdDtpLm9wZW4oXCJHRVRcIixuLCEwKSxpLm9ubG9hZD1mdW5jdGlvbigpe2lmKGkuc3RhdHVzPj0yMDAmJmkuc3RhdHVzPDQwMCl7dmFyIG49SlNPTi5wYXJzZShpLnJlc3BvbnNlVGV4dCk7ZShudWxsLFtuLHRdKX1lbHNlIGUoITApfSxpLm9uZXJyb3I9ZnVuY3Rpb24oKXtlKCEwKX0saS5zZW5kKCl9KHQsKGZ1bmN0aW9uKG4saSl7aWYoIW4pe3ZhciBhPWlbMF0scj1pWzFdO2lmKHIuc2V0dGluZ3MudGl0bGV8fChyLnNldHRpbmdzLnRpdGxlPW8ucmVzcG9uc2UudGl0bGUoYSkpLCFyLnNldHRpbmdzLnRodW1ibmFpbCl7dmFyIGw9by5yZXNwb25zZS50aHVtYm5haWwoYSk7ci5zZXR0aW5ncy50aHVtYm5haWw9bCx0LnNldHRpbmdzLm9uVGh1bWJuYWlsTG9hZC5jYWxsKGUsbCl9YyhyLCEwKX19KSl9ZnVuY3Rpb24gdSgpe3ZhciB0PXRoaXMsaT13aW5kb3cuaW5uZXJIZWlnaHQsbz1uLmxlbmd0aCxhPWZ1bmN0aW9uKGUsbil7ZS5zZXR0aW5ncy5pbml0aWFsaXplZD0hMCxlLmVsLmNsYXNzTGlzdC5hZGQoXCJsYXp5ZnJhbWUtLWxvYWRlZFwiKSxvLS0sbChlKSxlLnNldHRpbmdzLmluaXRpbnZpZXcmJmUuZWwuY2xpY2soKSxlLnNldHRpbmdzLm9uTG9hZC5jYWxsKHQsZSl9O24uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zZXR0aW5ncy55PGl9KSkuZm9yRWFjaChhKTt2YXIgcix1LGMscyxkPShyPWZ1bmN0aW9uKCl7bT1mPHdpbmRvdy5wYWdlWU9mZnNldCxmPXdpbmRvdy5wYWdlWU9mZnNldCxtJiZuLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2V0dGluZ3MueTxpK2YmJiExPT09dC5zZXR0aW5ncy5pbml0aWFsaXplZH0pKS5mb3JFYWNoKGEpLDA9PT1vJiZ3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLGQsITEpfSx1PWUuZGVib3VuY2UsZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9YXJndW1lbnRzLG49ZnVuY3Rpb24oKXtzPW51bGwsY3x8ci5hcHBseSh0LGUpfSxpPWMmJiFzO2NsZWFyVGltZW91dChzKSxzPXNldFRpbWVvdXQobix1KSxpJiZyLmFwcGx5KHQsZSl9KSxmPTAsbT0hMTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLGQsITEpfWZ1bmN0aW9uIGModCxpKXtpZih0LmlmcmFtZT1mdW5jdGlvbih0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO3QudmVuZG9yJiYodC5zcmM9by5zcmNbdC52ZW5kb3JdKHQpKTtuLnNldEF0dHJpYnV0ZShcImlkXCIsXCJsYXp5ZnJhbWUtXCIuY29uY2F0KHQuaWQpKSxuLnNldEF0dHJpYnV0ZShcInNyY1wiLHQuc3JjKSxuLnNldEF0dHJpYnV0ZShcImZyYW1lYm9yZGVyXCIsMCksbi5zZXRBdHRyaWJ1dGUoXCJhbGxvd2Z1bGxzY3JlZW5cIixcIlwiKSx0LmF1dG9wbGF5JiYobi5hbGxvdz1cImFjY2VsZXJvbWV0ZXI7IGF1dG9wbGF5OyBlbmNyeXB0ZWQtbWVkaWE7IGd5cm9zY29wZTsgcGljdHVyZS1pbi1waWN0dXJlXCIpO3JldHVybiBlLmFwcGVuZENoaWxkKG4pLGV9KHQuc2V0dGluZ3MpLHQuc2V0dGluZ3MudGh1bWJuYWlsJiZpJiYodC5lbC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9XCJ1cmwoXCIuY29uY2F0KHQuc2V0dGluZ3MudGh1bWJuYWlsLFwiKVwiKSksdC5zZXR0aW5ncy50aXRsZSYmMD09PXQuZWwuY2hpbGRyZW4ubGVuZ3RoKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtyLmNsYXNzTmFtZT1cImxhenlmcmFtZV9fdGl0bGVcIixyLmlubmVySFRNTD10LnNldHRpbmdzLnRpdGxlLGEuYXBwZW5kQ2hpbGQociksdC5lbC5hcHBlbmRDaGlsZChhKX1lLmxhenlsb2FkfHwodC5lbC5jbGFzc0xpc3QuYWRkKFwibGF6eWZyYW1lLS1sb2FkZWRcIiksdC5zZXR0aW5ncy5vbkxvYWQuY2FsbCh0aGlzLHQpLG4ucHVzaCh0KSksdC5zZXR0aW5ncy5pbml0aWFsaXplZHx8bi5wdXNoKHQpfXJldHVybiBmdW5jdGlvbihuKXtpZihlPXQoe30saSxhcmd1bWVudHMubGVuZ3RoPD0xP3ZvaWQgMDphcmd1bWVudHNbMV0pLFwic3RyaW5nXCI9PXR5cGVvZiBuKWZvcih2YXIgbz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKG4pLHI9MDtyPG8ubGVuZ3RoO3IrKylhKG9bcl0pO2Vsc2UgaWYodm9pZCAwPT09bi5sZW5ndGgpYShuKTtlbHNlIGZvcih2YXIgbD0wO2w8bi5sZW5ndGg7bCsrKWEobltsXSk7ZS5sYXp5bG9hZCYmdSgpfX0oKX0pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxhenlmcmFtZS5taW4uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5524\n')},5358:function(e,t,l){var n={"./af":5177,"./af.js":5177,"./ar":1509,"./ar-dz":1488,"./ar-dz.js":1488,"./ar-kw":8676,"./ar-kw.js":8676,"./ar-ly":2353,"./ar-ly.js":2353,"./ar-ma":4496,"./ar-ma.js":4496,"./ar-ps":6947,"./ar-ps.js":6947,"./ar-sa":2682,"./ar-sa.js":2682,"./ar-tn":9756,"./ar-tn.js":9756,"./ar.js":1509,"./az":5533,"./az.js":5533,"./be":8959,"./be.js":8959,"./bg":7777,"./bg.js":7777,"./bm":4903,"./bm.js":4903,"./bn":1290,"./bn-bd":7357,"./bn-bd.js":7357,"./bn.js":1290,"./bo":1545,"./bo.js":1545,"./br":1470,"./br.js":1470,"./bs":4429,"./bs.js":4429,"./ca":7306,"./ca.js":7306,"./cs":6464,"./cs.js":6464,"./cv":3635,"./cv.js":3635,"./cy":4226,"./cy.js":4226,"./da":3601,"./da.js":3601,"./de":7853,"./de-at":6111,"./de-at.js":6111,"./de-ch":4697,"./de-ch.js":4697,"./de.js":7853,"./dv":708,"./dv.js":708,"./el":4691,"./el.js":4691,"./en-au":3872,"./en-au.js":3872,"./en-ca":5917,"./en-ca.js":5917,"./en-gb":6195,"./en-gb.js":6195,"./en-ie":6584,"./en-ie.js":6584,"./en-il":5543,"./en-il.js":5543,"./en-in":9033,"./en-in.js":9033,"./en-nz":9402,"./en-nz.js":9402,"./en-sg":3004,"./en-sg.js":3004,"./eo":2934,"./eo.js":2934,"./es":7650,"./es-do":838,"./es-do.js":838,"./es-mx":7730,"./es-mx.js":7730,"./es-us":6575,"./es-us.js":6575,"./es.js":7650,"./et":3035,"./et.js":3035,"./eu":3508,"./eu.js":3508,"./fa":119,"./fa.js":119,"./fi":527,"./fi.js":527,"./fil":5995,"./fil.js":5995,"./fo":2477,"./fo.js":2477,"./fr":3117,"./fr-ca":6435,"./fr-ca.js":6435,"./fr-ch":7892,"./fr-ch.js":7892,"./fr.js":3117,"./fy":7071,"./fy.js":7071,"./ga":1734,"./ga.js":1734,"./gd":217,"./gd.js":217,"./gl":7329,"./gl.js":7329,"./gom-deva":2124,"./gom-deva.js":2124,"./gom-latn":3383,"./gom-latn.js":3383,"./gu":5050,"./gu.js":5050,"./he":1713,"./he.js":1713,"./hi":3861,"./hi.js":3861,"./hr":6308,"./hr.js":6308,"./hu":609,"./hu.js":609,"./hy-am":7160,"./hy-am.js":7160,"./id":4063,"./id.js":4063,"./is":9374,"./is.js":9374,"./it":8383,"./it-ch":1827,"./it-ch.js":1827,"./it.js":8383,"./ja":3827,"./ja.js":3827,"./jv":9722,"./jv.js":9722,"./ka":1794,"./ka.js":1794,"./kk":7088,"./kk.js":7088,"./km":6870,"./km.js":6870,"./kn":4451,"./kn.js":4451,"./ko":3164,"./ko.js":3164,"./ku":8174,"./ku-kmr":6181,"./ku-kmr.js":6181,"./ku.js":8174,"./ky":8474,"./ky.js":8474,"./lb":9680,"./lb.js":9680,"./lo":5867,"./lo.js":5867,"./lt":5766,"./lt.js":5766,"./lv":9532,"./lv.js":9532,"./me":8076,"./me.js":8076,"./mi":1848,"./mi.js":1848,"./mk":306,"./mk.js":306,"./ml":3739,"./ml.js":3739,"./mn":9053,"./mn.js":9053,"./mr":6169,"./mr.js":6169,"./ms":3386,"./ms-my":2297,"./ms-my.js":2297,"./ms.js":3386,"./mt":7075,"./mt.js":7075,"./my":2264,"./my.js":2264,"./nb":2274,"./nb.js":2274,"./ne":8235,"./ne.js":8235,"./nl":2572,"./nl-be":3784,"./nl-be.js":3784,"./nl.js":2572,"./nn":4566,"./nn.js":4566,"./oc-lnc":9330,"./oc-lnc.js":9330,"./pa-in":9849,"./pa-in.js":9849,"./pl":4418,"./pl.js":4418,"./pt":9834,"./pt-br":8303,"./pt-br.js":8303,"./pt.js":9834,"./ro":4457,"./ro.js":4457,"./ru":2271,"./ru.js":2271,"./sd":1221,"./sd.js":1221,"./se":3478,"./se.js":3478,"./si":7538,"./si.js":7538,"./sk":5784,"./sk.js":5784,"./sl":6637,"./sl.js":6637,"./sq":6794,"./sq.js":6794,"./sr":5719,"./sr-cyrl":3322,"./sr-cyrl.js":3322,"./sr.js":5719,"./ss":6e3,"./ss.js":6e3,"./sv":1011,"./sv.js":1011,"./sw":8367,"./sw.js":8367,"./ta":1025,"./ta.js":1025,"./te":1885,"./te.js":1885,"./tet":8861,"./tet.js":8861,"./tg":6571,"./tg.js":6571,"./th":5802,"./th.js":5802,"./tk":9527,"./tk.js":9527,"./tl-ph":9231,"./tl-ph.js":9231,"./tlh":1052,"./tlh.js":1052,"./tr":5096,"./tr.js":5096,"./tzl":9846,"./tzl.js":9846,"./tzm":1765,"./tzm-latn":7711,"./tzm-latn.js":7711,"./tzm.js":1765,"./ug-cn":8414,"./ug-cn.js":8414,"./uk":6618,"./uk.js":6618,"./ur":158,"./ur.js":158,"./uz":7609,"./uz-latn":2475,"./uz-latn.js":2475,"./uz.js":7609,"./vi":1135,"./vi.js":1135,"./x-pseudo":4051,"./x-pseudo.js":4051,"./yo":2218,"./yo.js":2218,"./zh-cn":2648,"./zh-cn.js":2648,"./zh-hk":1632,"./zh-hk.js":1632,"./zh-mo":1541,"./zh-mo.js":1541,"./zh-tw":304,"./zh-tw.js":304};function i(e){var t=I(e);return l(t)}function I(e){if(!l.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=I,e.exports=i,i.id=5358}},__webpack_module_cache__={},deferred,leafPrototypes,getProto;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var l=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(l.exports,l,l.exports,__webpack_require__),l.loaded=!0,l.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=function(e,t,l,n){if(!t){var i=1/0;for(d=0;d<deferred.length;d++){t=deferred[d][0],l=deferred[d][1],n=deferred[d][2];for(var I=!0,c=0;c<t.length;c++)(!1&n||i>=n)&&Object.keys(__webpack_require__.O).every((function(e){return __webpack_require__.O[e](t[c])}))?t.splice(c--,1):(I=!1,n<i&&(i=n));if(I){deferred.splice(d--,1);var g=l();void 0!==g&&(e=g)}}return e}n=n||0;for(var d=deferred.length;d>0&&deferred[d-1][2]>n;d--)deferred[d]=deferred[d-1];deferred[d]=[t,l,n]},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var l=Object.create(null);__webpack_require__.r(l);var n={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var i=2&t&&e;"object"==typeof i&&!~leafPrototypes.indexOf(i);i=getProto(i))Object.getOwnPropertyNames(i).forEach((function(t){n[t]=function(){return e[t]}}));return n.default=function(){return e},__webpack_require__.d(l,n),l},__webpack_require__.d=function(e,t){for(var l in t)__webpack_require__.o(t,l)&&!__webpack_require__.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},__webpack_require__.j=488,function(){var e={488:0};__webpack_require__.O.j=function(t){return 0===e[t]};var t=function(t,l){var n,i,I=l[0],c=l[1],g=l[2],d=0;if(I.some((function(t){return 0!==e[t]}))){for(n in c)__webpack_require__.o(c,n)&&(__webpack_require__.m[n]=c[n]);if(g)var s=g(__webpack_require__)}for(t&&t(l);d<I.length;d++)i=I[d],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return __webpack_require__.O(s)},l=self.webpackChunkwpmudev_videos=self.webpackChunkwpmudev_videos||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var __webpack_exports__=__webpack_require__.O(void 0,[504,996],(function(){return __webpack_require__(3754)}));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();