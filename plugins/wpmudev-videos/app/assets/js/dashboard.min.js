(function(){var __webpack_modules__={135:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Bt: function() { return /* reexport safe */ _ListThumb__WEBPACK_IMPORTED_MODULE_8__.B; },\n/* harmony export */   E0: function() { return /* reexport safe */ _ImageTag__WEBPACK_IMPORTED_MODULE_0__.E; },\n/* harmony export */   FM: function() { return /* reexport safe */ _PageFooter__WEBPACK_IMPORTED_MODULE_2__.F; },\n/* harmony export */   S3: function() { return /* reexport safe */ _WhiteLabelBanner__WEBPACK_IMPORTED_MODULE_1__.S; }\n/* harmony export */ });\n/* harmony import */ var _ImageTag__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8844);\n/* harmony import */ var _WhiteLabelBanner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6057);\n/* harmony import */ var _PageFooter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(5132);\n/* harmony import */ var _UpgradeNotice__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(837);\n/* harmony import */ var _ExpiredNotice__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(3778);\n/* harmony import */ var _DashNotice__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(1319);\n/* harmony import */ var _UserRoles__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(7122);\n/* harmony import */ var _SortableElements__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(3423);\n/* harmony import */ var _ListThumb__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(3603);\n/* harmony import */ var _VideoIframe__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(5841);\n/* harmony import */ var _GoTopButton__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(4460);\n/* harmony import */ var _UploadThumb__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(5320);\n/* harmony import */ var _VideoSearchForm__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(5498);\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM1LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvY29tcG9uZW50cy9pbmRleC5qcz8yZDRmIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vSW1hZ2VUYWcnO1xuZXhwb3J0ICogZnJvbSAnLi9XaGl0ZUxhYmVsQmFubmVyJztcbmV4cG9ydCAqIGZyb20gJy4vUGFnZUZvb3Rlcic7XG5leHBvcnQgKiBmcm9tICcuL1VwZ3JhZGVOb3RpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9FeHBpcmVkTm90aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vRGFzaE5vdGljZSc7XG5leHBvcnQgKiBmcm9tICcuL1VzZXJSb2xlcyc7XG5leHBvcnQgKiBmcm9tICcuL1NvcnRhYmxlRWxlbWVudHMnO1xuZXhwb3J0ICogZnJvbSAnLi9MaXN0VGh1bWInO1xuZXhwb3J0ICogZnJvbSAnLi9WaWRlb0lmcmFtZSc7XG5leHBvcnQgKiBmcm9tICcuL0dvVG9wQnV0dG9uJztcbmV4cG9ydCAqIGZyb20gJy4vVXBsb2FkVGh1bWInO1xuZXhwb3J0ICogZnJvbSAnLi9WaWRlb1NlYXJjaEZvcm0nOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///135\n")},9571:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $n: function() { return /* reexport safe */ _Button__WEBPACK_IMPORTED_MODULE_11__.$; },\n/* harmony export */   B8: function() { return /* reexport safe */ _List__WEBPACK_IMPORTED_MODULE_19__.B; },\n/* harmony export */   In: function() { return /* reexport safe */ _Icon__WEBPACK_IMPORTED_MODULE_0__.I; },\n/* harmony export */   K0: function() { return /* reexport safe */ _IconButton__WEBPACK_IMPORTED_MODULE_26__.K; },\n/* harmony export */   Q8: function() { return /* reexport safe */ _MediaUpload__WEBPACK_IMPORTED_MODULE_24__.Q; },\n/* harmony export */   Sc: function() { return /* reexport safe */ _Checkbox__WEBPACK_IMPORTED_MODULE_12__.S; },\n/* harmony export */   XI: function() { return /* reexport safe */ _Table__WEBPACK_IMPORTED_MODULE_21__.X; },\n/* harmony export */   Y9: function() { return /* reexport safe */ _Header__WEBPACK_IMPORTED_MODULE_1__.Y; },\n/* harmony export */   aF: function() { return /* reexport safe */ _Modal__WEBPACK_IMPORTED_MODULE_14__.a; },\n/* harmony export */   az: function() { return /* reexport safe */ _Box__WEBPACK_IMPORTED_MODULE_7__.a; },\n/* harmony export */   ii: function() { return /* reexport safe */ _TopNotice__WEBPACK_IMPORTED_MODULE_4__.i; },\n/* harmony export */   iw: function() { return /* reexport safe */ _WhiteLabelSummary__WEBPACK_IMPORTED_MODULE_18__.i; },\n/* harmony export */   l6: function() { return /* reexport safe */ _Select__WEBPACK_IMPORTED_MODULE_3__.l; },\n/* harmony export */   wi: function() { return /* reexport safe */ _Footer__WEBPACK_IMPORTED_MODULE_2__.w; }\n/* harmony export */ });\n/* harmony import */ var _Icon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7028);\n/* harmony import */ var _Header__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7347);\n/* harmony import */ var _Footer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(5528);\n/* harmony import */ var _Select__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8216);\n/* harmony import */ var _TopNotice__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(3564);\n/* harmony import */ var _MobileNav__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(6386);\n/* harmony import */ var _SideNav__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(3734);\n/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(9907);\n/* harmony import */ var _Toggle__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(4377);\n/* harmony import */ var _BorderFrame__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(2740);\n/* harmony import */ var _Input__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(2546);\n/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(9590);\n/* harmony import */ var _Checkbox__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(4268);\n/* harmony import */ var _FileUpload__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(8811);\n/* harmony import */ var _Modal__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(6744);\n/* harmony import */ var _StaticNotice__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(9906);\n/* harmony import */ var _ProgressBar__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(4113);\n/* harmony import */ var _RadioTabs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(7385);\n/* harmony import */ var _WhiteLabelSummary__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(5390);\n/* harmony import */ var _List__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(7735);\n/* harmony import */ var _Accordion__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(3057);\n/* harmony import */ var _Table__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(7670);\n/* harmony import */ var _Label__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(6686);\n/* harmony import */ var _Textarea__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(2868);\n/* harmony import */ var _MediaUpload__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(9847);\n/* harmony import */ var _Portal__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(5071);\n/* harmony import */ var _IconButton__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(9850);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTU3MS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9saWIvY29tcG9uZW50cy9pbmRleC5qcz9hYTNjIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vSWNvbic7XG5leHBvcnQgKiBmcm9tICcuL0hlYWRlcic7XG5leHBvcnQgKiBmcm9tICcuL0Zvb3Rlcic7XG5leHBvcnQgKiBmcm9tICcuL1NlbGVjdCc7XG5leHBvcnQgKiBmcm9tICcuL1RvcE5vdGljZSc7XG5leHBvcnQgKiBmcm9tICcuL01vYmlsZU5hdic7XG5leHBvcnQgKiBmcm9tICcuL1NpZGVOYXYnO1xuZXhwb3J0ICogZnJvbSAnLi9Cb3gnO1xuZXhwb3J0ICogZnJvbSAnLi9Ub2dnbGUnO1xuZXhwb3J0ICogZnJvbSAnLi9Cb3JkZXJGcmFtZSc7XG5leHBvcnQgKiBmcm9tICcuL0lucHV0JztcbmV4cG9ydCAqIGZyb20gJy4vQnV0dG9uJztcbmV4cG9ydCAqIGZyb20gJy4vQ2hlY2tib3gnO1xuZXhwb3J0ICogZnJvbSAnLi9GaWxlVXBsb2FkJztcbmV4cG9ydCAqIGZyb20gJy4vTW9kYWwnO1xuZXhwb3J0ICogZnJvbSAnLi9TdGF0aWNOb3RpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9Qcm9ncmVzc0Jhcic7XG5leHBvcnQgKiBmcm9tICcuL1JhZGlvVGFicyc7XG5leHBvcnQgKiBmcm9tICcuL1doaXRlTGFiZWxTdW1tYXJ5JztcbmV4cG9ydCAqIGZyb20gJy4vTGlzdCc7XG5leHBvcnQgKiBmcm9tICcuL0FjY29yZGlvbic7XG5leHBvcnQgKiBmcm9tICcuL1RhYmxlJztcbmV4cG9ydCAqIGZyb20gJy4vTGFiZWwnO1xuZXhwb3J0ICogZnJvbSAnLi9UZXh0YXJlYSc7XG5leHBvcnQgKiBmcm9tICcuL01lZGlhVXBsb2FkJztcbmV4cG9ydCAqIGZyb20gJy4vUG9ydGFsJztcbmV4cG9ydCAqIGZyb20gJy4vSWNvbkJ1dHRvbic7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9571\n")},1377:function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(6540);\n// EXTERNAL MODULE: ./node_modules/react-dom/client.js\nvar client = __webpack_require__(5338);\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 11 modules\nvar es = __webpack_require__(7040);\n// EXTERNAL MODULE: ./app/src/store/store.js\nvar store = __webpack_require__(9457);\n// EXTERNAL MODULE: ./app/src/lib/components/index.js\nvar components = __webpack_require__(9571);\n// EXTERNAL MODULE: ./app/src/lib/hooks/index.js + 4 modules\nvar hooks = __webpack_require__(1635);\n// EXTERNAL MODULE: ./app/src/store/slices/notice.js\nvar notice = __webpack_require__(9472);\n// EXTERNAL MODULE: ./app/src/helpers/api/index.js + 1 modules\nvar api = __webpack_require__(9331);\n// EXTERNAL MODULE: ./node_modules/@wordpress/i18n/build-module/index.js + 10 modules\nvar build_module = __webpack_require__(4214);\n// EXTERNAL MODULE: ./node_modules/moment/moment.js\nvar moment = __webpack_require__(5093);\nvar moment_default = /*#__PURE__*/__webpack_require__.n(moment);\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(4848);\n;// CONCATENATED MODULE: ./app/src/pages/dashboard/partials/SummaryBox/SummaryBox.js\nvar _window$ivtVars;\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n/**\n * External dependencies\n */\n\n\n\n\nvar never = (0,build_module.__)(\'Never\', \'wpmudev_vids\');\n\n// Global Variables\nvar _ref = (_window$ivtVars = window.ivtVars) !== null && _window$ivtVars !== void 0 ? _window$ivtVars : {},\n  urls = _ref.urls;\nvar _ref2 = urls !== null && urls !== void 0 ? urls : {},\n  videosPageUrl = _ref2.videos;\nfunction SummaryBox() {\n  var _useState = (0,react.useState)(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    total = _useState2[0],\n    setTotal = _useState2[1];\n  var _useState3 = (0,react.useState)(never),\n    _useState4 = _slicedToArray(_useState3, 2),\n    recent = _useState4[0],\n    setRecent = _useState4[1];\n  var _useState5 = (0,react.useState)(never),\n    _useState6 = _slicedToArray(_useState5, 2),\n    recentCustom = _useState6[0],\n    setRecentCustom = _useState6[1];\n  var _useState7 = (0,react.useState)(),\n    _useState8 = _slicedToArray(_useState7, 2),\n    recentPlaylist = _useState8[0],\n    setRecentPlaylist = _useState8[1];\n  var _useState9 = (0,react.useState)(\'\'),\n    _useState10 = _slicedToArray(_useState9, 2),\n    lastVideoTime = _useState10[0],\n    setLastVideoTime = _useState10[1];\n\n  // on mount\n  (0,react.useEffect)(function () {\n    // Update summary stats\n    updateStats();\n  }, []);\n\n  /**\n   * Set the summary stats from the API response.\n   *\n   * @returns {void}\n   */\n  var setStats = function setStats(data) {\n    var recent = data.recent;\n    var counts = data.count;\n\n    // Last updated video.\n    if (recent.updated_video.video_title) {\n      setRecent(recent.updated_video);\n    }\n\n    // Last created video.\n    if (recent.created_custom_video.video_title) {\n      setRecentCustom(recent.created_custom_video);\n    }\n\n    // Recently created playlist.\n    if (recent.created_playlist.title) {\n      setRecentPlaylist(recent.created_playlist);\n    }\n\n    // Last video updated time.\n    if (recent.updated_video.date) {\n      var date = moment_default()(recent.updated_video.date);\n\n      // Format to human time.\n      setLastVideoTime(date.format(\'MMMM D, YYYY [at] hh:mm a\'));\n    }\n\n    // Total video count.\n    if (counts.videos) {\n      setTotal(counts.videos);\n    }\n  };\n\n  /**\n   * Update the summary stats using the API.\n   *\n   * @returns {void}\n   */\n  function updateStats() {\n    (0,api/* restGet */.B8)({\n      path: \'summary\'\n    }).then(function (response) {\n      if (response.success && response.data) {\n        setStats(response.data);\n      }\n    });\n  }\n\n  // Items\n  var listItems = [{\n    label: (0,build_module.__)(\'Recently updated video\', \'wpmudev_vids\'),\n    details: recent.video_title,\n    link: "".concat(videosPageUrl, "#/view/").concat(recent.id)\n  }, {\n    label: (0,build_module.__)(\'Recently created custom video\', \'wpmudev_vids\'),\n    details: recentCustom.video_title,\n    link: "".concat(videosPageUrl, "#/view/").concat(recentCustom.id)\n  }, {\n    label: (0,build_module.__)(\'Recently created playlist\', \'wpmudev_vids\'),\n    details: recentPlaylist === null || recentPlaylist === void 0 ? void 0 : recentPlaylist.title\n  }];\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* WhiteLabelSummary */.iw, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* WhiteLabelSummary */.iw.Segment, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* WhiteLabelSummary */.iw.Details, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n          className: "sui-summary-large",\n          children: total\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n          className: "sui-summary-sub",\n          children: (0,build_module.__)(\'Total videos\', \'wpmudev_vids\')\n        }), lastVideoTime === \'\' && /*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n          className: "sui-summary-detail",\n          children: never\n        }), lastVideoTime !== \'\' && /*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n          className: "sui-summary-detail",\n          children: lastVideoTime\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n          className: "sui-summary-sub",\n          children: (0,build_module.__)(\'Last uploaded video\', \'wpmudev_vids\')\n        })]\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* WhiteLabelSummary */.iw.Segment, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* List */.B8, {\n        items: listItems\n      })\n    })]\n  });\n}\n/* harmony default export */ var SummaryBox_SummaryBox = ((/* unused pure expression or super */ null && (SummaryBox)));\n;// CONCATENATED MODULE: ./app/src/pages/dashboard/partials/SummaryBox/index.js\n\n// EXTERNAL MODULE: ./app/src/store/slices/playlists.js\nvar slices_playlists = __webpack_require__(9317);\n// EXTERNAL MODULE: ./app/src/components/index.js\nvar src_components = __webpack_require__(135);\n// EXTERNAL MODULE: ./node_modules/clipboard/dist/clipboard.js\nvar clipboard = __webpack_require__(7576);\nvar clipboard_default = /*#__PURE__*/__webpack_require__.n(clipboard);\n;// CONCATENATED MODULE: ./app/src/pages/dashboard/partials/Playlists/Playlists.js\nvar _ivtVars;\nfunction Playlists_slicedToArray(r, e) { return Playlists_arrayWithHoles(r) || Playlists_iterableToArrayLimit(r, e) || Playlists_unsupportedIterableToArray(r, e) || Playlists_nonIterableRest(); }\nfunction Playlists_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction Playlists_unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return Playlists_arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? Playlists_arrayLikeToArray(r, a) : void 0; } }\nfunction Playlists_arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction Playlists_iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction Playlists_arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\n/**\n * External dependencies\n */\n\n\n\n\n\n// Global variables\n\nvar Playlists_ref = (_ivtVars = ivtVars) !== null && _ivtVars !== void 0 ? _ivtVars : {},\n  Playlists_urls = Playlists_ref.urls;\nvar playlistsPageUrl = Playlists_urls.playlists;\nfunction Playlists() {\n  var dispatch = (0,es/* useDispatch */.wA)();\n  var playlists = (0,es/* useSelector */.d4)(function (state) {\n    return (0,slices_playlists/* getPlaylists */.Eo)(state);\n  });\n  var _useState = (0,react.useState)([]),\n    _useState2 = Playlists_slicedToArray(_useState, 2),\n    sortedPlaylists = _useState2[0],\n    setSortedPlaylists = _useState2[1];\n\n  // Initialize clipboard library\n  (0,react.useEffect)(function () {\n    new (clipboard_default())(\'.ivt-copy-shortcode\');\n  }, []);\n\n  // Sort the playlists\n  (0,react.useEffect)(function () {\n    // Init empty array.\n    var sorted = [];\n    Object.keys(playlists).sort() // Sort.\n    .reverse() // Reverse the order.\n    .forEach(function (id) {\n      sorted.push(playlists[id]);\n    });\n    setSortedPlaylists(sorted);\n  }, [playlists]);\n\n  /**\n   * Displays a notice that shortcode was copied successfully\n   *\n   * @return {void}\n   */\n  var displayCopyNotice = function displayCopyNotice() {\n    dispatch((0,notice/* addNotice */.Mp)({\n      message: (0,build_module.__)(\'Shortcode has been copied successfully.\', \'wpmudev_vids\')\n    }));\n  };\n  var hasPlaylists = sortedPlaylists.length > 0;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Header, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Title, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n          icon: "playlist",\n          className: "wpmudev-videos-custom-icon"\n        }), (0,build_module.__)(\'Playlists\', \'wpmudev_vids\')]\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Body, {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n        children: (0,build_module.__)(\'Create playlists of videos and display them around your WordPress Admin area to help your clients get to know WordPress.\', \'wpmudev_vids\')\n      }), !hasPlaylists && /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)("a", {\n          role: "button",\n          className: "sui-button sui-button-blue",\n          href: "".concat(playlistsPageUrl, "#/create"),\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n            icon: "plus"\n          }), (0,build_module.__)(\'Add Playlist\', \'wpmudev_vids\')]\n        })\n      })]\n    }), hasPlaylists && /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Table */.XI, {\n      isFlushed: true,\n      className: "wpmudev-videos-box-table",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Thead, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Table */.XI.Tr, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Th, {\n            className: "wpmudev-videos-row--name",\n            children: (0,build_module.__)(\'Recently added playlists\', \'wpmudev_vids\')\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Th, {\n            className: "wpmudev-videos-row--options",\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n              className: "sui-screen-reader-text",\n              children: (0,build_module.__)(\'Playlist options menu\', \'wpmudev_vids\')\n            })\n          })]\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Tbody, {\n        children: sortedPlaylists.map(function (playlist) {\n          var _playlist$thumbnail;\n          return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Table */.XI.Tr, {\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Td, {\n              className: "sui-table-item-title wpmudev-videos-row--name",\n              children: /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n                className: "wpmudev-videos-name-wrapper",\n                children: [/*#__PURE__*/(0,jsx_runtime.jsx)(src_components/* ListThumb */.Bt, {\n                  url: (_playlist$thumbnail = playlist.thumbnail) === null || _playlist$thumbnail === void 0 ? void 0 : _playlist$thumbnail.url,\n                  hideIcon: true,\n                  className: "playlist-thumb"\n                }), /*#__PURE__*/(0,jsx_runtime.jsx)("a", {\n                  href: "".concat(playlistsPageUrl, "#/edit/").concat(playlist.id),\n                  children: playlist.title\n                })]\n              })\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Td, {\n              className: "wpmudev-videos-name-wrapper",\n              children: /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n                className: "sui-dropdown",\n                children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* IconButton */.K0, {\n                  className: "sui-dropdown-anchor",\n                  icon: "widget-settings-config",\n                  outlined: false,\n                  label: (0,build_module.__)(\'Actions\', \'wpmudev_vids\'),\n                  "aria-label": (0,build_module.__)(\'Actions\', \'wpmudev_vids\')\n                }), /*#__PURE__*/(0,jsx_runtime.jsxs)("ul", {\n                  children: [/*#__PURE__*/(0,jsx_runtime.jsx)("li", {\n                    children: /*#__PURE__*/(0,jsx_runtime.jsxs)("a", {\n                      href: "".concat(playlistsPageUrl, "#/edit/").concat(playlist.id),\n                      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n                        icon: "pencil"\n                      }), (0,build_module.__)(\'Edit\', \'wpmudev_vids\')]\n                    })\n                  }), /*#__PURE__*/(0,jsx_runtime.jsx)("li", {\n                    children: /*#__PURE__*/(0,jsx_runtime.jsxs)("a", {\n                      href: "".concat(playlistsPageUrl, "#/videos/").concat(playlist.id),\n                      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n                        icon: "align-justify"\n                      }), (0,build_module.__)(\'Add videos\', \'wpmudev_vids\')]\n                    })\n                  }), /*#__PURE__*/(0,jsx_runtime.jsx)("li", {\n                    children: /*#__PURE__*/(0,jsx_runtime.jsxs)("a", {\n                      href: "".concat(playlistsPageUrl, "#/settings/").concat(playlist.id),\n                      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n                        icon: "widget-settings-config"\n                      }), (0,build_module.__)(\'Visibility settings\', \'wpmudev_vids\')]\n                    })\n                  }), /*#__PURE__*/(0,jsx_runtime.jsx)("li", {\n                    children: /*#__PURE__*/(0,jsx_runtime.jsxs)("button", {\n                      className: "ivt-copy-shortcode",\n                      onClick: displayCopyNotice,\n                      "data-clipboard-text": "[wpmudev-video group=\\"".concat(playlist.slug, "\\"]"),\n                      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n                        icon: "code"\n                      }), (0,build_module.__)(\'Copy shortcode\', \'wpmudev_vids\')]\n                    })\n                  })]\n                })]\n              })\n            })]\n          }, playlist.id);\n        })\n      })]\n    }), hasPlaylists && /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Footer, {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)("a", {\n        role: "button",\n        className: "sui-button sui-button-blue",\n        href: "".concat(playlistsPageUrl, "#/create"),\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n          icon: "plus"\n        }), (0,build_module.__)(\'Add Playlist\', \'wpmudev_vids\')]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n        className: "sui-actions-right",\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)("a", {\n          role: "button",\n          className: "sui-button sui-button-ghost",\n          href: playlistsPageUrl,\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n            icon: "eye"\n          }), (0,build_module.__)(\'View All\', \'wpmudev_vids\')]\n        })\n      })]\n    })]\n  });\n}\n/* harmony default export */ var Playlists_Playlists = ((/* unused pure expression or super */ null && (Playlists)));\n;// CONCATENATED MODULE: ./app/src/pages/dashboard/partials/Playlists/index.js\n\n// EXTERNAL MODULE: ./app/src/store/slices/videos.js\nvar videos = __webpack_require__(4084);\n;// CONCATENATED MODULE: ./app/src/pages/dashboard/partials/Videos/Videos.js\nvar Videos_ivtVars;\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || Videos_unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return Videos_arrayLikeToArray(r); }\nfunction Videos_slicedToArray(r, e) { return Videos_arrayWithHoles(r) || Videos_iterableToArrayLimit(r, e) || Videos_unsupportedIterableToArray(r, e) || Videos_nonIterableRest(); }\nfunction Videos_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction Videos_unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return Videos_arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? Videos_arrayLikeToArray(r, a) : void 0; } }\nfunction Videos_arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction Videos_iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction Videos_arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\n/**\n * External dependencies\n */\n\n\n\n\n\n// Global variables\n\nvar Videos_ref = (Videos_ivtVars = ivtVars) !== null && Videos_ivtVars !== void 0 ? Videos_ivtVars : {},\n  Videos_urls = Videos_ref.urls;\nvar Videos_videosPageUrl = Videos_urls.videos;\nfunction Videos() {\n  var videosObject = (0,es/* useSelector */.d4)(function (state) {\n    return (0,videos/* getVideos */.fY)(state);\n  });\n  var filtered = (0,es/* useSelector */.d4)(function (state) {\n    return (0,videos/* getFilteredIds */.Q6)(state);\n  });\n  var _useState = (0,react.useState)([]),\n    _useState2 = Videos_slicedToArray(_useState, 2),\n    videosList = _useState2[0],\n    setVideosList = _useState2[1];\n  var dispatch = (0,es/* useDispatch */.wA)();\n\n  // Initialize clipboard library\n  (0,react.useEffect)(function () {\n    new (clipboard_default())(\'.ivt-copy-shortcode\');\n  }, []);\n\n  // Sort videos\n  (0,react.useEffect)(function () {\n    // Init empty array.\n    var videos = [];\n\n    // Only if it\'s an array.\n    if (Array.isArray(filtered)) {\n      // Get filtered ids in reverse order.\n      var sorted = _toConsumableArray(filtered).sort().reverse();\n      sorted.forEach(function (id) {\n        if (videosObject[id]) {\n          // Get the video object.\n          videos.push(videosObject[id]);\n        }\n      });\n    }\n    setVideosList(videos);\n  }, [videosObject, filtered]);\n\n  /**\n   * Displays a notice that shortcode was copied successfully\n   *\n   * @return {void}\n   */\n  var displayCopyNotice = function displayCopyNotice() {\n    dispatch((0,notice/* addNotice */.Mp)({\n      message: (0,build_module.__)(\'Shortcode has been copied successfully.\', \'wpmudev_vids\')\n    }));\n  };\n\n  /**\n   * Get shortcode of the current video.\n   *\n   * @return {string}\n   */\n  var getShortCode = function getShortCode(video) {\n    if (video.video_type === \'custom\') {\n      return "[wpmudev-video video=\\"".concat(video.id, "\\"]");\n    } else {\n      return "[wpmudev-video video=\\"".concat(video.video_slug, "\\"]");\n    }\n  };\n  var hasVideos = videosList.length > 0;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Header, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Title, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n          icon: "animation-video",\n          className: "wpmudev-videos-custom-icon"\n        }), (0,build_module.__)(\'Videos\', \'wpmudev_vids\')]\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Body, {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n        children: (0,build_module.__)(\'View all default video tutorials and upload your own custom videos in the Videos area.\', \'wpmudev_vids\')\n      }), !hasVideos && /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)("a", {\n          role: "button",\n          className: "sui-button sui-button-blue",\n          href: "".concat(Videos_videosPageUrl, "#/create"),\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n            icon: "plus"\n          }), (0,build_module.__)(\'Add Custom Video\', \'wpmudev_vids\')]\n        })\n      })]\n    }), hasVideos && /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Table */.XI, {\n      isFlushed: true,\n      className: "wpmudev-videos-box-table",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Thead, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Table */.XI.Tr, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Th, {\n            className: "wpmudev-videos-row--name",\n            children: (0,build_module.__)(\'Recently added videos\', \'wpmudev_vids\')\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Th, {\n            className: "wpmudev-videos-row--options",\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n              className: "sui-screen-reader-text",\n              children: (0,build_module.__)(\'Video options menu\', \'wpmudev_vids\')\n            })\n          })]\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Tbody, {\n        children: videosList.map(function (video) {\n          var _video$thumbnail;\n          return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Table */.XI.Tr, {\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Td, {\n              className: "sui-table-item-title wpmudev-videos-row--name",\n              children: /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n                className: "wpmudev-videos-name-wrapper",\n                children: [/*#__PURE__*/(0,jsx_runtime.jsx)(src_components/* ListThumb */.Bt, {\n                  url: (_video$thumbnail = video.thumbnail) === null || _video$thumbnail === void 0 ? void 0 : _video$thumbnail.url,\n                  className: "video-thumb",\n                  isCustom: video.video_type === \'custom\',\n                  icon: video.video_slug\n                }), /*#__PURE__*/(0,jsx_runtime.jsx)("a", {\n                  href: "".concat(Videos_videosPageUrl, "#/view/").concat(video.id),\n                  children: video.video_title\n                })]\n              })\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Table */.XI.Td, {\n              className: "wpmudev-videos-row--options",\n              children: /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n                className: "sui-dropdown",\n                children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* IconButton */.K0, {\n                  className: "sui-dropdown-anchor",\n                  icon: "widget-settings-config",\n                  outlined: false,\n                  label: (0,build_module.__)(\'Actions\', \'wpmudev_vids\'),\n                  "aria-label": (0,build_module.__)(\'Actions\', \'wpmudev_vids\')\n                }), /*#__PURE__*/(0,jsx_runtime.jsxs)("ul", {\n                  children: [/*#__PURE__*/(0,jsx_runtime.jsx)("li", {\n                    children: /*#__PURE__*/(0,jsx_runtime.jsxs)("a", {\n                      href: "".concat(Videos_videosPageUrl, "#/edit/").concat(video.id),\n                      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n                        icon: "pencil"\n                      }), video.video_type === \'custom\' ? (0,build_module.__)(\'Edit video\', \'wpmudev_vids\') : (0,build_module.__)(\'Edit title\', \'wpmudev_vids\')]\n                    })\n                  }), /*#__PURE__*/(0,jsx_runtime.jsx)("li", {\n                    children: /*#__PURE__*/(0,jsx_runtime.jsxs)("button", {\n                      className: "ivt-copy-shortcode",\n                      "data-clipboard-text": getShortCode(video),\n                      onClick: displayCopyNotice,\n                      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n                        icon: "code"\n                      }), (0,build_module.__)(\'Copy Shortcode\', \'wpmudev_vids\')]\n                    })\n                  }), /*#__PURE__*/(0,jsx_runtime.jsx)("li", {\n                    children: /*#__PURE__*/(0,jsx_runtime.jsxs)("a", {\n                      href: "".concat(Videos_videosPageUrl, "#/playlist/").concat(video.id),\n                      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n                        icon: "list"\n                      }), (0,build_module.__)(\'Add to Playlist\', \'wpmudev_vids\')]\n                    })\n                  }), video.video_type === \'custom\' && /*#__PURE__*/(0,jsx_runtime.jsx)("li", {\n                    children: /*#__PURE__*/(0,jsx_runtime.jsxs)("a", {\n                      href: "".concat(Videos_videosPageUrl, "#/delete/").concat(video.id),\n                      className: "wpmudev-videos-red",\n                      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n                        icon: "trash"\n                      }), (0,build_module.__)(\'Delete\', \'wpmudev_vids\')]\n                    })\n                  })]\n                })]\n              })\n            })]\n          }, video.id);\n        })\n      })]\n    }), hasVideos && /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Footer, {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)("a", {\n        role: "button",\n        className: "sui-button sui-button-blue",\n        href: "".concat(Videos_videosPageUrl, "#/create"),\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n          icon: "plus"\n        }), (0,build_module.__)(\'Add Custom Video\', \'wpmudev_vids\')]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n        className: "sui-actions-right",\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)("a", {\n          role: "button",\n          className: "sui-button sui-button-ghost",\n          href: Videos_videosPageUrl,\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n            icon: "eye"\n          }), (0,build_module.__)(\'View All\', \'wpmudev_vids\')]\n        })\n      })]\n    })]\n  });\n}\n/* harmony default export */ var Videos_Videos = ((/* unused pure expression or super */ null && (Videos)));\n;// CONCATENATED MODULE: ./app/src/pages/dashboard/partials/Videos/index.js\n\n;// CONCATENATED MODULE: ./app/src/pages/dashboard/partials/index.js\n\n\n\n;// CONCATENATED MODULE: ./app/src/pages/dashboard/banners/ExpiredBanner.js\nvar ExpiredBanner_ivtVars;\nfunction ExpiredBanner_slicedToArray(r, e) { return ExpiredBanner_arrayWithHoles(r) || ExpiredBanner_iterableToArrayLimit(r, e) || ExpiredBanner_unsupportedIterableToArray(r, e) || ExpiredBanner_nonIterableRest(); }\nfunction ExpiredBanner_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction ExpiredBanner_unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return ExpiredBanner_arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? ExpiredBanner_arrayLikeToArray(r, a) : void 0; } }\nfunction ExpiredBanner_arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction ExpiredBanner_iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction ExpiredBanner_arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Library components\n */\n\n\n/**\n * Internal components\n */\n\n\n\n/**\n * External dependencies\n */\n\n\n\n// Global variables\n\nvar ExpiredBanner_ref = (ExpiredBanner_ivtVars = ivtVars) !== null && ExpiredBanner_ivtVars !== void 0 ? ExpiredBanner_ivtVars : {},\n  user_name = ExpiredBanner_ref.user_name,\n  whitelabel = ExpiredBanner_ref.whitelabel;\nvar ExpiredBanner_ref2 = whitelabel !== null && whitelabel !== void 0 ? whitelabel : {},\n  hide_branding = ExpiredBanner_ref2.hide_branding;\nfunction ExpiredBanner() {\n  var _useState = (0,react.useState)(false),\n    _useState2 = ExpiredBanner_slicedToArray(_useState, 2),\n    isRefreshing = _useState2[0],\n    setIsRefreshing = _useState2[1];\n\n  /**\n   * Refresh the membership data using API.\n   *\n   * Reload the current page after refreshing the\n   * status.\n   *\n   * @return {null}\n   */\n  var refreshData = function refreshData() {\n    setIsRefreshing(true);\n    (0,api/* restGet */.B8)({\n      path: \'actions\',\n      params: {\n        action: \'refresh_membership\'\n      }\n    }).then(function () {\n      window.location.reload();\n    }).finally(function () {\n      setIsRefreshing(false);\n    });\n  };\n  var banner_title = (0,build_module.__)(\'Membership Expired\', \'wpmudev_vids\');\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az, {\n    className: "wpmudev-videos-box-message no-logo",\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n      className: "video-sui-col-11 wpmudev-dashboard-message",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)("h2", {\n        className: "wpmudev-videos-box-message--title",\n        children: banner_title\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Description, {\n        Tag: "p",\n        children: (0,build_module/* sprintf */.nv)((0,build_module.__)("%s, welcome to Integrated Video Tutorials - the best video tutorials plugin for WordPress. It looks like your WPMU DEV subscription has expired. To continue displaying WPMU DEV\'s white label tutorial videos to your users, renew your membership today.", \'wpmudev_vids\'), user_name)\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)("p", {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n          onLoadingText: (0,build_module.__)(\'Refreshing Status\', \'wpmudev_vids\'),\n          isLoading: isRefreshing,\n          type: "ghost",\n          icon: "refresh",\n          onClick: refreshData,\n          children: (0,build_module.__)(\'Refresh Status\', \'wpmudev_vids\')\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)("a", {\n          target: "__blank",\n          href: "https://wpmudev.com/?utm_source=integrated_video_tutorials&utm_medium=plugin&utm_campaign=integrated_video_tutorials_banner_renew",\n          className: "sui-button sui-button-purple",\n          children: (0,build_module.__)(\'Renew Membership\', \'wpmudev_vids\')\n        })]\n      })]\n    })\n  });\n}\n/* harmony default export */ var banners_ExpiredBanner = ((/* unused pure expression or super */ null && (ExpiredBanner)));\n;// CONCATENATED MODULE: ./app/src/pages/dashboard/banners/UpgradeBanner.js\nvar UpgradeBanner_ivtVars;\nfunction UpgradeBanner_slicedToArray(r, e) { return UpgradeBanner_arrayWithHoles(r) || UpgradeBanner_iterableToArrayLimit(r, e) || UpgradeBanner_unsupportedIterableToArray(r, e) || UpgradeBanner_nonIterableRest(); }\nfunction UpgradeBanner_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction UpgradeBanner_unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return UpgradeBanner_arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? UpgradeBanner_arrayLikeToArray(r, a) : void 0; } }\nfunction UpgradeBanner_arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction UpgradeBanner_iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction UpgradeBanner_arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n/**\n * External dependencies\n */\n\n\n\n// Global variables\n\nvar UpgradeBanner_ref = (UpgradeBanner_ivtVars = ivtVars) !== null && UpgradeBanner_ivtVars !== void 0 ? UpgradeBanner_ivtVars : {},\n  UpgradeBanner_user_name = UpgradeBanner_ref.user_name,\n  UpgradeBanner_whitelabel = UpgradeBanner_ref.whitelabel;\nvar UpgradeBanner_ref2 = UpgradeBanner_whitelabel !== null && UpgradeBanner_whitelabel !== void 0 ? UpgradeBanner_whitelabel : {},\n  UpgradeBanner_hide_branding = UpgradeBanner_ref2.hide_branding;\nfunction UpgradeBanner() {\n  var _useState = (0,react.useState)(false),\n    _useState2 = UpgradeBanner_slicedToArray(_useState, 2),\n    isRefreshing = _useState2[0],\n    setIsRefreshing = _useState2[1];\n\n  /**\n   * Refresh the membership data using API.\n   *\n   * Reload the current page after refreshing the\n   * status.\n   *\n   * @return {null}\n   */\n  var refreshData = function refreshData() {\n    setIsRefreshing(true);\n    (0,api/* restGet */.B8)({\n      path: \'actions\',\n      params: {\n        action: \'refresh_membership\'\n      }\n    }).then(function () {\n      window.location.reload();\n    }).finally(function () {\n      setIsRefreshing(false);\n    });\n  };\n  var banner_title = (0,build_module.__)(\'Get Integrated Video Tutorial Access\', \'wpmudev_vids\');\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az, {\n    className: "wpmudev-videos-box-message no-logo",\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n      className: "video-sui-col-11 wpmudev-dashboard-message",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)("h2", {\n        className: "wpmudev-videos-box-message--title",\n        children: banner_title\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Description, {\n        Tag: "p",\n        children: sprintf((0,build_module.__)("Hey %s, it looks like you don\'t have access to the WPMU DEV white-labeled video tutorials due to your current membership status. You can gain access by activating a full membership. Click the button below for more information on the WPMU DEV pricing structure.", \'wpmudev_vids\'), UpgradeBanner_user_name)\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)("p", {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n          onLoadingText: (0,build_module.__)(\'Refreshing Status\', \'wpmudev_vids\'),\n          isLoading: isRefreshing,\n          type: "ghost",\n          icon: "refresh",\n          onClick: refreshData,\n          children: (0,build_module.__)(\'Refresh Status\', \'wpmudev_vids\')\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)("a", {\n          target: "_blank",\n          href: "https://wpmudev.com/project/unbranded-video-tutorials/?utm_source=integrated_video_tutorials&utm_medium=plugin&utm_campaign=integrated_video_tutorials_banner_get",\n          className: "sui-button sui-button-purple",\n          children: (0,build_module.__)(\'Get Full Membership\', \'wpmudev_vids\')\n        })]\n      })]\n    })\n  });\n}\n/* harmony default export */ var banners_UpgradeBanner = ((/* unused pure expression or super */ null && (UpgradeBanner)));\n// EXTERNAL MODULE: ./app/src/helpers/utils/utils.js\nvar utils = __webpack_require__(7755);\n;// CONCATENATED MODULE: ./app/src/pages/dashboard/banners/DashBanner.js\nvar DashBanner_window$ivtVars;\nfunction DashBanner_slicedToArray(r, e) { return DashBanner_arrayWithHoles(r) || DashBanner_iterableToArrayLimit(r, e) || DashBanner_unsupportedIterableToArray(r, e) || DashBanner_nonIterableRest(); }\nfunction DashBanner_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction DashBanner_unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return DashBanner_arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? DashBanner_arrayLikeToArray(r, a) : void 0; } }\nfunction DashBanner_arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction DashBanner_iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction DashBanner_arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n/**\n * External dependencies\n */\n\n\n/**\n * Use setState\n */\n\n\n// Global variables\n\nvar DashBanner_ref = (DashBanner_window$ivtVars = window.ivtVars) !== null && DashBanner_window$ivtVars !== void 0 ? DashBanner_window$ivtVars : {},\n  DashBanner_urls = DashBanner_ref.urls,\n  DashBanner_whitelabel = DashBanner_ref.whitelabel;\nvar DashBanner_ref2 = DashBanner_urls !== null && DashBanner_urls !== void 0 ? DashBanner_urls : {},\n  plugins = DashBanner_ref2.plugins,\n  dash_login = DashBanner_ref2.dash_login;\nvar _ref3 = DashBanner_whitelabel !== null && DashBanner_whitelabel !== void 0 ? DashBanner_whitelabel : {},\n  DashBanner_hide_branding = _ref3.hide_branding;\nfunction DashBanner() {\n  var _useState = (0,react.useState)(false),\n    _useState2 = DashBanner_slicedToArray(_useState, 2),\n    showLogo = _useState2[0],\n    setShowLogo = _useState2[1];\n  if ((0,utils/* dashInstalled */.v9)() && (0,utils/* dashActive */.n4)() && (0,utils/* dashConnected */.YT)()) {\n    return;\n  }\n  var disconnectedTitle = (0,build_module.__)(\'Activate WPMU DEV Dashboard\', \'wpmudev_vids\');\n\n  /**\n   * Get labels and links for the banner.\n   *\n   * Based on the status of WPMUDEV Dash plugin status,\n   * set the labels and links for the banner.\n   *\n   * @return {object}\n   */\n  var getLabels = function getLabels() {\n    if (!(0,utils/* dashInstalled */.v9)()) {\n      return {\n        title: (0,build_module.__)(\'Install WPMU DEV Dashboard\', \'wpmudev_vids\'),\n        desc: (0,build_module.__)("You don\'t have the WPMU DEV Dashboard plugin, which you\'ll need to access the videos API. WPMU DEV videos are locked, and you only have access to custom videos on the Video Tutorials page. Install and log in to the dashboard to unlock the complete library of WPMU DEV video tutorials.", \'wpmudev_vids\'),\n        button: (0,build_module.__)(\'Install Plugin\', \'wpmudev_vids\'),\n        link: \'https://wpmudev.com/project/wpmu-dev-dashboard/\',\n        target: \'_blank\'\n      };\n    } else if (!(0,utils/* dashActive */.n4)()) {\n      return {\n        title: disconnectedTitle,\n        desc: (0,build_module.__)(\'The WPMU DEV Dashboard plugin is installed but not activated. Activate the plugin to unlock the complete library of WPMU DEV video tutorials.\', \'wpmudev_vids\'),\n        button: (0,build_module.__)(\'Activate Plugin\', \'wpmudev_vids\'),\n        link: plugins,\n        target: \'_self\'\n      };\n    } else {\n      if (!(0,utils/* dashConnected */.YT)()) {\n        if (!showLogo) {\n          setShowLogo(true);\n        }\n        return {\n          title: (0,build_module.__)(\'Login to WPMU DEV Dashboard\', \'wpmudev_vids\'),\n          desc: (0,build_module.__)("You haven\'t logged into the WPMU DEV Dashboard plugin installed, which you\'ll need to access the videos API. WPMU DEV videos are locked, and you only have access to custom videos on the Video Tutorials page. Log into the WPMU DEV dashboard to unlock the complete library of WPMU DEV video tutorials.", \'wpmudev_vids\'),\n          button: (0,build_module.__)(\'Login into Dashboard\', \'wpmudev_vids\'),\n          link: dash_login,\n          target: \'_self\'\n        };\n      }\n    }\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az, {\n    className: "wpmudev-videos-box-message ".concat(showLogo ? \'video-sui-row\' : \'no-logo\'),\n    children: [showLogo && /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n      className: "video-sui-col-1 wpmudev-dashboard-logo",\n      children: !DashBanner_hide_branding && /*#__PURE__*/(0,jsx_runtime.jsx)(src_components/* ImageTag */.E0, {\n        src: "banner/wpmudev-logo.png",\n        alt: \'\',\n        className: "sui-image sui-image-center"\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n      className: "video-sui-col-11 wpmudev-dashboard-message",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)("h2", {\n        className: "wpmudev-videos-box-message--title",\n        children: getLabels().title\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n        className: "sui-description",\n        children: getLabels().desc\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)("a", {\n          className: "sui-button sui-button-blue",\n          href: getLabels().link,\n          target: getLabels().target,\n          children: [!showLogo && /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n            icon: "wpmudev-logo"\n          }), getLabels().button]\n        })\n      })]\n    })]\n  });\n}\n/* harmony default export */ var banners_DashBanner = ((/* unused pure expression or super */ null && (DashBanner)));\n;// CONCATENATED MODULE: ./app/src/pages/dashboard/banners/index.js\n\n\n\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\nvar classnames = __webpack_require__(6942);\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n;// CONCATENATED MODULE: ./app/src/pages/dashboard/modals/Highlights.js\nvar Highlights_window$ivtVars;\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n/**\n * External dependencies\n */\n\n\n\n// Global Variables\n\nvar Highlights_ref = (Highlights_window$ivtVars = window.ivtVars) !== null && Highlights_window$ivtVars !== void 0 ? Highlights_window$ivtVars : {},\n  Highlights_user_name = Highlights_ref.user_name;\nvar headerClasses = classnames_default()(\'sui-flatten\', \'sui-spacing-top--60\', \'sui-content-center\');\nfunction Highlights(_ref2) {\n  var modalID = _ref2.modalID,\n    closeModal = _ref2.closeModal;\n  /**\n   * Dismiss the modal and set the flag.\n   *\n   * @return {void}\n   */\n  var dismiss = function dismiss() {\n    // Close the modal.\n    closeModal();\n\n    // Manually remove modal class from html element\n    document.getElementsByTagName(\'html\')[0].classList.remove(\'sui-has-modal\');\n\n    // Make sure to set the flag.\n    (0,api/* restGet */.B8)({\n      path: \'actions\',\n      params: {\n        action: \'dismiss_welcome\'\n      }\n    });\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Header, {\n      className: headerClasses,\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(src_components/* WhiteLabelBanner */.S3, {\n        src: "welcome/new-videos.png",\n        alt: (0,build_module.__)(\'Introducing New Videos!\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)("button", {\n        onClick: dismiss,\n        className: classnames_default()(\'sui-button-icon\', \'sui-button-float--right\'),\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n          icon: "close",\n          size: "md"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n          className: "sui-screen-reader-text",\n          children: (0,build_module.__)(\'Close this dialog.\', \'wpmudev_vids\')\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("h3", {\n        id: "".concat(modalID, "-title"),\n        className: "sui-box-title sui-lg",\n        children: (0,build_module.__)(\'Introducing New Videos!\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n        id: "".concat(modalID, "-desc"),\n        className: "sui-description",\n        children: sprintf((0,build_module.__)(\'Hey, %s! WordPress is always evolving with new features and improvements, and our job is to keep you abreast of those changes. So, we’ve added new videos (Site Health, Export and Erase Personal Data, Import and Export, Lists, Categories, and Editing Images) to our Video Tutorials. Take a look!\', \'wpmudev_vids\'), Highlights_user_name)\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Footer, {\n      isFlatten: true,\n      isCentered: true,\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n        onClick: dismiss,\n        children: (0,build_module.__)(\'Got it\', \'wpmudev_vids\')\n      })\n    })]\n  });\n}\n/* harmony default export */ var modals_Highlights = ((/* unused pure expression or super */ null && (Highlights)));\n;// CONCATENATED MODULE: ./app/src/pages/dashboard/modals/ExpiredModal.js\nvar ExpiredModal_window$ivtVars;\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n/**\n * External dependencies\n */\n\n\n\n// Global Variables\n\nvar ExpiredModal_ref = (ExpiredModal_window$ivtVars = window.ivtVars) !== null && ExpiredModal_window$ivtVars !== void 0 ? ExpiredModal_window$ivtVars : {},\n  ExpiredModal_user_name = ExpiredModal_ref.user_name;\nvar ExpiredModal_headerClasses = classnames_default()(\'sui-flatten\', \'sui-spacing-top--60\', \'sui-content-center\');\nfunction ExpiredModal(_ref2) {\n  var modalID = _ref2.modalID,\n    closeModal = _ref2.closeModal;\n  /**\n   * Dismiss the modal and set the flag.\n   *\n   * @return {void}\n   */\n  var dismiss = function dismiss() {\n    // Close the modal.\n    closeModal();\n\n    // Manually remove modal class from html element\n    document.getElementsByTagName(\'html\')[0].classList.remove(\'sui-has-modal\');\n\n    // Make sure to set the flag.\n    (0,api/* restGet */.B8)({\n      path: \'actions\',\n      params: {\n        action: \'dismiss_dash\'\n      }\n    });\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Header, {\n      className: ExpiredModal_headerClasses,\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(src_components/* WhiteLabelBanner */.S3, {\n        src: "modal/wpmudev-modal-header.png",\n        alt: (0,build_module.__)(\'Membership Expired\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)("button", {\n        onClick: dismiss,\n        className: classnames_default()(\'sui-button-icon\', \'sui-button-float--right\'),\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n          icon: "close",\n          size: "md"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n          className: "sui-screen-reader-text",\n          children: (0,build_module.__)(\'Close this dialog.\', \'wpmudev_vids\')\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("h3", {\n        id: "".concat(modalID, "-title"),\n        className: "sui-box-title sui-lg",\n        children: (0,build_module.__)(\'Membership Expired\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n        id: "".concat(modalID, "-desc"),\n        className: "sui-description",\n        children: sprintf((0,build_module.__)("%s, welcome to Integrated Video Tutorials - the best video tutorials plugin for WordPress. It looks like your WPMU DEV subscription has expired. To continue displaying WPMU DEV\'s white label tutorial videos to your users, renew your membership today.", \'wpmudev_vids\'), ExpiredModal_user_name)\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Footer, {\n      isFlatten: true,\n      isCentered: true,\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)("a", {\n        id: "wpmudev-videos-expired-account-button",\n        className: "sui-button sui-button-purple",\n        target: "_blank",\n        href: "https://wpmudev.com/?utm_source=integrated_video_tutorials&utm_medium=plugin&utm_campaign=integrated_video_tutorials_modal_renew",\n        children: (0,build_module.__)(\'Renew Membership\', \'wpmudev_vids\')\n      })\n    })]\n  });\n}\n/* harmony default export */ var modals_ExpiredModal = ((/* unused pure expression or super */ null && (ExpiredModal)));\n;// CONCATENATED MODULE: ./app/src/pages/dashboard/modals/UpgradeModal.js\nvar UpgradeModal_window$ivtVars;\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n/**\n * External dependencies\n */\n\n\n\n// Global Variables\n\nvar UpgradeModal_ref = (UpgradeModal_window$ivtVars = window.ivtVars) !== null && UpgradeModal_window$ivtVars !== void 0 ? UpgradeModal_window$ivtVars : {},\n  UpgradeModal_user_name = UpgradeModal_ref.user_name;\nvar UpgradeModal_headerClasses = classnames_default()(\'sui-flatten\', \'sui-spacing-top--60\', \'sui-content-center\');\nfunction UpgradeModal(_ref2) {\n  var modalID = _ref2.modalID,\n    closeModal = _ref2.closeModal;\n  /**\n   * Dismiss the modal and set the flag.\n   *\n   * @return {void}\n   */\n  var dismiss = function dismiss() {\n    // Close the modal.\n    closeModal();\n\n    // Manually remove modal class from html element\n    document.getElementsByTagName(\'html\')[0].classList.remove(\'sui-has-modal\');\n\n    // Make sure to set the flag.\n    (0,api/* restGet */.B8)({\n      path: \'actions\',\n      params: {\n        action: \'dismiss_dash\'\n      }\n    });\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Header, {\n      className: UpgradeModal_headerClasses,\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(src_components/* WhiteLabelBanner */.S3, {\n        src: "modal/wpmudev-modal-header.png",\n        alt: (0,build_module.__)(\'Get Integrated Video Tutorial Access\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)("button", {\n        onClick: dismiss,\n        className: classnames_default()(\'sui-button-icon\', \'sui-button-float--right\'),\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n          icon: "close",\n          size: "md"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n          className: "sui-screen-reader-text",\n          children: (0,build_module.__)(\'Close this dialog.\', \'wpmudev_vids\')\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("h3", {\n        id: "".concat(modalID, "-title"),\n        className: "sui-box-title sui-lg",\n        children: (0,build_module.__)(\'Get Integrated Video Tutorial Access\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n        id: "".concat(modalID, "-desc"),\n        className: "sui-description",\n        children: sprintf((0,build_module.__)("Hey %s, it looks like you don\'t have access to the WPMU DEV white-labeled video tutorials due to your current membership status. You can gain access by activating a full membership. Click the button below for more information on the WPMU DEV pricing structure.", \'wpmudev_vids\'), UpgradeModal_user_name)\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Footer, {\n      isFlatten: true,\n      isCentered: true,\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)("a", {\n        id: "wpmudev-videos-upgrade-account-button",\n        className: "sui-button sui-button-purple",\n        target: "_blank",\n        href: "https://wpmudev.com/project/unbranded-video-tutorials/?utm_source=integrated_video_tutorials&utm_medium=plugin&utm_campaign=integrated_video_tutorials_modal_upgrade",\n        children: (0,build_module.__)(\'Get Full Membership\', \'wpmudev_vids\')\n      })\n    })]\n  });\n}\n/* harmony default export */ var modals_UpgradeModal = ((/* unused pure expression or super */ null && (UpgradeModal)));\n;// CONCATENATED MODULE: ./app/src/pages/dashboard/modals/DashModal.js\nvar DashModal_window$ivtVars;\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\n/**\n * External dependencies\n */\n\n\n\n// Global Variables\n\nvar DashModal_ref = (DashModal_window$ivtVars = window.ivtVars) !== null && DashModal_window$ivtVars !== void 0 ? DashModal_window$ivtVars : {},\n  DashModal_user_name = DashModal_ref.user_name,\n  DashModal_urls = DashModal_ref.urls;\nvar DashModal_ref2 = DashModal_urls !== null && DashModal_urls !== void 0 ? DashModal_urls : {},\n  DashModal_plugins = DashModal_ref2.plugins,\n  DashModal_dash_login = DashModal_ref2.dash_login;\nvar DashModal_headerClasses = classnames_default()(\'sui-flatten\', \'sui-spacing-top--60\', \'sui-content-center\', \'install-dashboard-modal\');\nfunction DashModal(_ref3) {\n  var modalID = _ref3.modalID,\n    closeModal = _ref3.closeModal;\n  /**\n   * Dismiss the modal and set the flag.\n   *\n   * @return {void}\n   */\n  var dismiss = function dismiss() {\n    // Make sure to set the flag.\n    (0,api/* restGet */.B8)({\n      path: \'actions\',\n      params: {\n        action: \'dismiss_dash\'\n      }\n    });\n\n    // Manually remove modal class from html element\n    document.getElementsByTagName(\'html\')[0].classList.remove(\'sui-has-modal\');\n\n    // Close the modal.\n    closeModal();\n  };\n\n  /**\n   * Get labels and links for the banner.\n   *\n   * Based on the status of WPMUDEV Dash plugin status,\n   * set the labels and links for the banner.\n   *\n   * @return {object}\n   */\n  var getLabels = function getLabels() {\n    if (!(0,utils/* dashInstalled */.v9)()) {\n      return {\n        title: (0,build_module.__)(\'Install WPMU DEV Dashboard\', \'wpmudev_vids\'),\n        desc: sprintf((0,build_module.__)("%s, welcome to Integrated Video Tutorials - the best tutorials plugin for WordPress. It looks like you don\'t have the WPMU DEV Dashboard plugin installed, which you\'ll need to access the videos API. Install and log into the plugin to start setting up your video tutorials.", \'wpmudev_vids\'), DashModal_user_name),\n        button: (0,build_module.__)(\'Install Plugin\', \'wpmudev_vids\'),\n        link: \'https://wpmudev.com/project/wpmu-dev-dashboard/\',\n        target: \'_blank\'\n      };\n    } else if (!(0,utils/* dashActive */.n4)()) {\n      return {\n        title: (0,build_module.__)(\'Activate WPMU DEV Dashboard\', \'wpmudev_vids\'),\n        desc: sprintf((0,build_module.__)("Great, %s! The WPMU DEV Dashboard plugin is installed, but not activated yet. You\'ll need to activate it to access our videos API and set up your video tutorials.", \'wpmudev_vids\'), DashModal_user_name),\n        button: (0,build_module.__)(\'Activate Plugin\', \'wpmudev_vids\'),\n        link: DashModal_plugins,\n        target: \'_self\'\n      };\n    } else {\n      return {\n        title: (0,build_module.__)(\'Login to WPMU DEV Dashboard\', \'wpmudev_vids\'),\n        desc: sprintf((0,build_module.__)("%s, welcome to Integrated Video Tutorials - the best tutorials plugin for WordPress. It looks like you haven\'t logged into the WPMU DEV Dashboard plugin, which you\'ll need to do to access the videos API. Log into the plugin to begin setting up your video tutorials."), DashModal_user_name),\n        button: (0,build_module.__)(\'Login\', \'wpmudev_vids\'),\n        link: DashModal_dash_login,\n        target: \'_self\'\n      };\n    }\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Header, {\n      className: DashModal_headerClasses,\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(src_components/* WhiteLabelBanner */.S3, {\n        src: "modal/ivt-main-modal-header.png",\n        alt: (0,build_module.__)(getLabels().title, \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* IconButton */.K0, {\n        outlined: false,\n        className: "sui-button-float--right",\n        onClick: dismiss,\n        id: "".concat(modalID, "-close"),\n        icon: "close",\n        size: "md",\n        label: (0,build_module.__)(\'Close this dialog.\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("h3", {\n        id: "".concat(modalID, "-title"),\n        className: "sui-box-title sui-lg",\n        children: getLabels().title\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n        id: "".concat(modalID, "-desc"),\n        className: "sui-description",\n        children: getLabels().desc\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Footer, {\n      isFlatten: true,\n      isCentered: true,\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)("a", {\n        className: "sui-button sui-button-blue",\n        target: getLabels().target,\n        href: getLabels().link,\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n          icon: "wpmudev-logo"\n        }), getLabels().button]\n      })\n    })]\n  });\n}\n/* harmony default export */ var modals_DashModal = ((/* unused pure expression or super */ null && (DashModal)));\n;// CONCATENATED MODULE: ./app/src/pages/dashboard/modals/index.js\n\n\n\n\n// EXTERNAL MODULE: ./app/src/store/slices/settings.js\nvar settings = __webpack_require__(9569);\n;// CONCATENATED MODULE: ./app/src/pages/dashboard/App.js\nvar App_window$ivtVars;\nfunction App_slicedToArray(r, e) { return App_arrayWithHoles(r) || App_iterableToArrayLimit(r, e) || App_unsupportedIterableToArray(r, e) || App_nonIterableRest(); }\nfunction App_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction App_unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return App_arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? App_arrayLikeToArray(r, a) : void 0; } }\nfunction App_arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction App_iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction App_arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Library dependencies\n */\n\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\n\n\n\n\n\n\n\n/**\n * External dependencies\n */\n\n\n\n\n// Global Variables\n\nvar App_ref = (App_window$ivtVars = window.ivtVars) !== null && App_window$ivtVars !== void 0 ? App_window$ivtVars : {},\n  hide_doc_link = App_ref.whitelabel.hide_doc_link;\nfunction App() {\n  var dispatch = (0,es/* useDispatch */.wA)();\n  var currentNotice = (0,es/* useSelector */.d4)(function (state) {\n    return (0,notice/* getCurrentNotice */.Og)(state);\n  });\n\n  // Notice Data\n  var id = currentNotice.id,\n    message = currentNotice.message,\n    type = currentNotice.type,\n    dismiss = currentNotice.dismiss;\n  var dismissWelcomeNotice = (0,es/* useSelector */.d4)(function (state) {\n    return (0,settings/* getOption */.om)(state, \'dismiss_welcome_notice\', 0);\n  });\n  var dismissDashNotice = (0,es/* useSelector */.d4)(function (state) {\n    return (0,settings/* getOption */.om)(state, \'dismiss_dash_notice\', 0);\n  });\n\n  /**\n   * Check if current membership needs an upgrade.\n   *\n   * @return {boolean}\n   */\n  var shouldUpgrade = function shouldUpgrade() {\n    return !(0,utils/* expiredMember */.gL)() && !(0,utils/* validMember */.xH)() && (0,utils/* dashConnected */.YT)();\n  };\n\n  /**\n   * Check if welcome modal is required.\n   *\n   * @return {boolean}\n   */\n  var showWelcome = function showWelcome() {\n    return dismissWelcomeNotice <= 0;\n  };\n\n  /**\n   * Check if dash modal can be shown.\n   *\n   * @return {boolean}\n   */\n  var canShowModal = function canShowModal() {\n    return dismissDashNotice <= 0;\n  };\n\n  /**\n   * Check if Dash plugin modal is required.\n   *\n   * @return {boolean}\n   */\n  var showDashModal = function showDashModal() {\n    return !(0,utils/* validMember */.xH)() && canShowModal();\n  };\n\n  /**\n   * Check if we need to show expired membership modal.\n   *\n   * @return {boolean}\n   */\n  var showExpiredModal = function showExpiredModal() {\n    return (0,utils/* expiredMember */.gL)() && (0,utils/* dashActive */.n4)() && canShowModal();\n  };\n\n  /**\n   * Check if we need to show upgrade membership modal.\n   *\n   * @return {boolean}\n   */\n  var showUpgradeModal = function showUpgradeModal() {\n    return shouldUpgrade() && canShowModal();\n  };\n\n  /**\n   * Load data on mount\n   */\n  (0,react.useEffect)(function () {\n    // Load videos\n    dispatch((0,videos/* initVideos */.r2)({\n      count: 5,\n      type: (0,utils/* validMember */.xH)() ? \'\' : \'custom\'\n    }));\n\n    // Load Playlists\n    dispatch((0,slices_playlists/* initPlaylists */.cM)({\n      count: 5\n    }));\n  }, []);\n\n  // Highlights Modal\n  var highlightsModalId = \'wpmudev-videos-welcome-highlight\';\n  var _useModal = (0,hooks/* useModal */.h)({\n      id: highlightsModalId\n    }),\n    _useModal2 = App_slicedToArray(_useModal, 2),\n    openHighlightsModal = _useModal2[0],\n    closeHighlightsModal = _useModal2[1];\n\n  // Expired Modal\n  var expiredModalId = \'wpmudev-videos-expired-account\';\n  var _useModal3 = (0,hooks/* useModal */.h)({\n      id: expiredModalId\n    }),\n    _useModal4 = App_slicedToArray(_useModal3, 2),\n    openExpiredModal = _useModal4[0],\n    closeExpiredModal = _useModal4[1];\n\n  // Upgrade Modal\n  var upgradeModalId = \'wpmudev-videos-upgrade-account\';\n  var _useModal5 = (0,hooks/* useModal */.h)({\n      id: upgradeModalId\n    }),\n    _useModal6 = App_slicedToArray(_useModal5, 2),\n    openUpgradeModal = _useModal6[0],\n    closeUpgradeModal = _useModal6[1];\n\n  // Dash Modal\n  var dashModalId = \'wpmudev-videos-install-activate\';\n  var _useModal7 = (0,hooks/* useModal */.h)({\n      id: dashModalId\n    }),\n    _useModal8 = App_slicedToArray(_useModal7, 2),\n    openDashModal = _useModal8[0],\n    closeDashModal = _useModal8[1];\n\n  // Open modals according to conditions\n  (0,react.useEffect)(function () {\n    if (showWelcome()) {\n      openHighlightsModal();\n    } else if (showExpiredModal()) {\n      openExpiredModal();\n    } else if (showUpgradeModal()) {\n      openUpgradeModal();\n    } else if (showDashModal()) {\n      openDashModal();\n    }\n  }, []);\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n    className: "sui-wrap",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Modal */.aF, {\n      id: highlightsModalId,\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(Highlights, {\n        modalID: highlightsModalId,\n        closeModal: closeHighlightsModal\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Modal */.aF, {\n      id: expiredModalId,\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(ExpiredModal, {\n        modalID: expiredModalId,\n        closeModal: closeExpiredModal\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Modal */.aF, {\n      id: upgradeModalId,\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(UpgradeModal, {\n        modalID: upgradeModalId,\n        closeModal: closeUpgradeModal\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Modal */.aF, {\n      id: dashModalId,\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(DashModal, {\n        modalID: dashModalId,\n        closeModal: closeDashModal\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Header */.Y9, {\n      showDocLink: !hide_doc_link,\n      docLink: "https://wpmudev.com/docs/wpmu-dev-plugins/integrated-video-tutorials/",\n      docText: (0,build_module.__)(\'View Documentation\', \'wpmudev_vids\'),\n      title: (0,build_module.__)(\'Dashboard\', \'wpmudev_vids\')\n    }), (0,utils/* expiredMember */.gL)() && /*#__PURE__*/(0,jsx_runtime.jsx)(ExpiredBanner, {}), !(0,utils/* expiredMember */.gL)() && shouldUpgrade() && /*#__PURE__*/(0,jsx_runtime.jsx)(UpgradeBanner, {}), !(!(0,utils/* expiredMember */.gL)() && shouldUpgrade()) && !(0,utils/* validMember */.xH)() && /*#__PURE__*/(0,jsx_runtime.jsx)(DashBanner, {}), /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n      className: "sui-floating-notices",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* TopNotice */.ii, {\n        id: id,\n        dismiss: dismiss,\n        message: message,\n        type: type,\n        label: (0,build_module.__)(\'Dismiss this notice\', \'wpmudev_vids\')\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(SummaryBox, {}), /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n      className: "sui-row",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n        className: "sui-col-md-6",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(Videos, {})\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n        className: "sui-col-md-6",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(Playlists, {})\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(src_components/* PageFooter */.FM, {})]\n  });\n}\n/* harmony default export */ var dashboard_App = (App);\n;// CONCATENATED MODULE: ./app/src/pages/dashboard/main.js\n\n\n\n\n\n\nvar root = client.createRoot(document.getElementById(\'wpmudev-videos-dashboard-app\'));\nroot.render( /*#__PURE__*/(0,jsx_runtime.jsx)(react.StrictMode, {\n  children: /*#__PURE__*/(0,jsx_runtime.jsx)(es/* Provider */.Kq, {\n    store: store/* default */.A,\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(dashboard_App, {})\n  })\n}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM3Ny5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBRXhKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBRWxNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FFL05BO0FBQ0E7OztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ3ZGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RIQTtBQUNBOzs7Ozs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVIQTtBQUNBO0FBQ0E7Ozs7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvZGFzaGJvYXJkL3BhcnRpYWxzL1N1bW1hcnlCb3gvU3VtbWFyeUJveC5qcz9kMTMxIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9kYXNoYm9hcmQvcGFydGlhbHMvU3VtbWFyeUJveC9pbmRleC5qcz82MzRiIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9kYXNoYm9hcmQvcGFydGlhbHMvUGxheWxpc3RzL1BsYXlsaXN0cy5qcz84Y2E0Iiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9kYXNoYm9hcmQvcGFydGlhbHMvUGxheWxpc3RzL2luZGV4LmpzPzhmYWIiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL2Rhc2hib2FyZC9wYXJ0aWFscy9WaWRlb3MvVmlkZW9zLmpzP2IxZTAiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL2Rhc2hib2FyZC9wYXJ0aWFscy9WaWRlb3MvaW5kZXguanM/NGJlZSIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvZGFzaGJvYXJkL3BhcnRpYWxzL2luZGV4LmpzPzJjNmUiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL2Rhc2hib2FyZC9iYW5uZXJzL0V4cGlyZWRCYW5uZXIuanM/M2IwMyIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvZGFzaGJvYXJkL2Jhbm5lcnMvVXBncmFkZUJhbm5lci5qcz9lZGEwIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9kYXNoYm9hcmQvYmFubmVycy9EYXNoQmFubmVyLmpzPzhjZDMiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL2Rhc2hib2FyZC9iYW5uZXJzL2luZGV4LmpzP2JjZWIiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL2Rhc2hib2FyZC9tb2RhbHMvSGlnaGxpZ2h0cy5qcz9hNmQyIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9kYXNoYm9hcmQvbW9kYWxzL0V4cGlyZWRNb2RhbC5qcz9lMTg2Iiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9kYXNoYm9hcmQvbW9kYWxzL1VwZ3JhZGVNb2RhbC5qcz81MDM1Iiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9kYXNoYm9hcmQvbW9kYWxzL0Rhc2hNb2RhbC5qcz9jYjM5Iiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9kYXNoYm9hcmQvbW9kYWxzL2luZGV4LmpzPzdjNWMiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL2Rhc2hib2FyZC9BcHAuanM/ZWY3NCIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvZGFzaGJvYXJkL21haW4uanM/MDA5MSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX3dpbmRvdyRpdnRWYXJzO1xuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkociwgZSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKHIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBlKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgZSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkgeyBpZiAocikgeyBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gXCJPYmplY3RcIiA9PT0gdCAmJiByLmNvbnN0cnVjdG9yICYmICh0ID0gci5jb25zdHJ1Y3Rvci5uYW1lKSwgXCJNYXBcIiA9PT0gdCB8fCBcIlNldFwiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6IFwiQXJndW1lbnRzXCIgPT09IHQgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkgPyBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSA6IHZvaWQgMDsgfSB9XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQociwgbCkgeyB2YXIgdCA9IG51bGwgPT0gciA/IG51bGwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgcltTeW1ib2wuaXRlcmF0b3JdIHx8IHJbXCJAQGl0ZXJhdG9yXCJdOyBpZiAobnVsbCAhPSB0KSB7IHZhciBlLCBuLCBpLCB1LCBhID0gW10sIGYgPSAhMCwgbyA9ICExOyB0cnkgeyBpZiAoaSA9ICh0ID0gdC5jYWxsKHIpKS5uZXh0LCAwID09PSBsKSB7IGlmIChPYmplY3QodCkgIT09IHQpIHJldHVybjsgZiA9ICExOyB9IGVsc2UgZm9yICg7ICEoZiA9IChlID0gaS5jYWxsKHQpKS5kb25lKSAmJiAoYS5wdXNoKGUudmFsdWUpLCBhLmxlbmd0aCAhPT0gbCk7IGYgPSAhMCk7IH0gY2F0Y2ggKHIpIHsgbyA9ICEwLCBuID0gcjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFmICYmIG51bGwgIT0gdC5yZXR1cm4gJiYgKHUgPSB0LnJldHVybigpLCBPYmplY3QodSkgIT09IHUpKSByZXR1cm47IH0gZmluYWxseSB7IGlmIChvKSB0aHJvdyBuOyB9IH0gcmV0dXJuIGE7IH0gfVxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKHIpIHsgaWYgKEFycmF5LmlzQXJyYXkocikpIHJldHVybiByOyB9XG4vKipcbiAqIExpYnJhcnkgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IFdoaXRlTGFiZWxTdW1tYXJ5LCBMaXN0IH0gZnJvbSAnLi4vLi4vLi4vLi4vbGliL2NvbXBvbmVudHMnO1xuXG4vKipcbiAqIEludGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyByZXN0R2V0IH0gZnJvbSAnLi4vLi4vLi4vLi4vaGVscGVycy9hcGknO1xuXG4vKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgX18gfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBuZXZlciA9IF9fKCdOZXZlcicsICd3cG11ZGV2X3ZpZHMnKTtcblxuLy8gR2xvYmFsIFZhcmlhYmxlc1xudmFyIF9yZWYgPSAoX3dpbmRvdyRpdnRWYXJzID0gd2luZG93Lml2dFZhcnMpICE9PSBudWxsICYmIF93aW5kb3ckaXZ0VmFycyAhPT0gdm9pZCAwID8gX3dpbmRvdyRpdnRWYXJzIDoge30sXG4gIHVybHMgPSBfcmVmLnVybHM7XG52YXIgX3JlZjIgPSB1cmxzICE9PSBudWxsICYmIHVybHMgIT09IHZvaWQgMCA/IHVybHMgOiB7fSxcbiAgdmlkZW9zUGFnZVVybCA9IF9yZWYyLnZpZGVvcztcbmV4cG9ydCBmdW5jdGlvbiBTdW1tYXJ5Qm94KCkge1xuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoMCksXG4gICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksXG4gICAgdG90YWwgPSBfdXNlU3RhdGUyWzBdLFxuICAgIHNldFRvdGFsID0gX3VzZVN0YXRlMlsxXTtcbiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZShuZXZlciksXG4gICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLFxuICAgIHJlY2VudCA9IF91c2VTdGF0ZTRbMF0sXG4gICAgc2V0UmVjZW50ID0gX3VzZVN0YXRlNFsxXTtcbiAgdmFyIF91c2VTdGF0ZTUgPSB1c2VTdGF0ZShuZXZlciksXG4gICAgX3VzZVN0YXRlNiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTUsIDIpLFxuICAgIHJlY2VudEN1c3RvbSA9IF91c2VTdGF0ZTZbMF0sXG4gICAgc2V0UmVjZW50Q3VzdG9tID0gX3VzZVN0YXRlNlsxXTtcbiAgdmFyIF91c2VTdGF0ZTcgPSB1c2VTdGF0ZSgpLFxuICAgIF91c2VTdGF0ZTggPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU3LCAyKSxcbiAgICByZWNlbnRQbGF5bGlzdCA9IF91c2VTdGF0ZThbMF0sXG4gICAgc2V0UmVjZW50UGxheWxpc3QgPSBfdXNlU3RhdGU4WzFdO1xuICB2YXIgX3VzZVN0YXRlOSA9IHVzZVN0YXRlKCcnKSxcbiAgICBfdXNlU3RhdGUxMCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTksIDIpLFxuICAgIGxhc3RWaWRlb1RpbWUgPSBfdXNlU3RhdGUxMFswXSxcbiAgICBzZXRMYXN0VmlkZW9UaW1lID0gX3VzZVN0YXRlMTBbMV07XG5cbiAgLy8gb24gbW91bnRcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAvLyBVcGRhdGUgc3VtbWFyeSBzdGF0c1xuICAgIHVwZGF0ZVN0YXRzKCk7XG4gIH0sIFtdKTtcblxuICAvKipcbiAgICogU2V0IHRoZSBzdW1tYXJ5IHN0YXRzIGZyb20gdGhlIEFQSSByZXNwb25zZS5cbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICB2YXIgc2V0U3RhdHMgPSBmdW5jdGlvbiBzZXRTdGF0cyhkYXRhKSB7XG4gICAgdmFyIHJlY2VudCA9IGRhdGEucmVjZW50O1xuICAgIHZhciBjb3VudHMgPSBkYXRhLmNvdW50O1xuXG4gICAgLy8gTGFzdCB1cGRhdGVkIHZpZGVvLlxuICAgIGlmIChyZWNlbnQudXBkYXRlZF92aWRlby52aWRlb190aXRsZSkge1xuICAgICAgc2V0UmVjZW50KHJlY2VudC51cGRhdGVkX3ZpZGVvKTtcbiAgICB9XG5cbiAgICAvLyBMYXN0IGNyZWF0ZWQgdmlkZW8uXG4gICAgaWYgKHJlY2VudC5jcmVhdGVkX2N1c3RvbV92aWRlby52aWRlb190aXRsZSkge1xuICAgICAgc2V0UmVjZW50Q3VzdG9tKHJlY2VudC5jcmVhdGVkX2N1c3RvbV92aWRlbyk7XG4gICAgfVxuXG4gICAgLy8gUmVjZW50bHkgY3JlYXRlZCBwbGF5bGlzdC5cbiAgICBpZiAocmVjZW50LmNyZWF0ZWRfcGxheWxpc3QudGl0bGUpIHtcbiAgICAgIHNldFJlY2VudFBsYXlsaXN0KHJlY2VudC5jcmVhdGVkX3BsYXlsaXN0KTtcbiAgICB9XG5cbiAgICAvLyBMYXN0IHZpZGVvIHVwZGF0ZWQgdGltZS5cbiAgICBpZiAocmVjZW50LnVwZGF0ZWRfdmlkZW8uZGF0ZSkge1xuICAgICAgdmFyIGRhdGUgPSBtb21lbnQocmVjZW50LnVwZGF0ZWRfdmlkZW8uZGF0ZSk7XG5cbiAgICAgIC8vIEZvcm1hdCB0byBodW1hbiB0aW1lLlxuICAgICAgc2V0TGFzdFZpZGVvVGltZShkYXRlLmZvcm1hdCgnTU1NTSBELCBZWVlZIFthdF0gaGg6bW0gYScpKTtcbiAgICB9XG5cbiAgICAvLyBUb3RhbCB2aWRlbyBjb3VudC5cbiAgICBpZiAoY291bnRzLnZpZGVvcykge1xuICAgICAgc2V0VG90YWwoY291bnRzLnZpZGVvcyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIHN1bW1hcnkgc3RhdHMgdXNpbmcgdGhlIEFQSS5cbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBmdW5jdGlvbiB1cGRhdGVTdGF0cygpIHtcbiAgICByZXN0R2V0KHtcbiAgICAgIHBhdGg6ICdzdW1tYXJ5J1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBpZiAocmVzcG9uc2Uuc3VjY2VzcyAmJiByZXNwb25zZS5kYXRhKSB7XG4gICAgICAgIHNldFN0YXRzKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gSXRlbXNcbiAgdmFyIGxpc3RJdGVtcyA9IFt7XG4gICAgbGFiZWw6IF9fKCdSZWNlbnRseSB1cGRhdGVkIHZpZGVvJywgJ3dwbXVkZXZfdmlkcycpLFxuICAgIGRldGFpbHM6IHJlY2VudC52aWRlb190aXRsZSxcbiAgICBsaW5rOiBcIlwiLmNvbmNhdCh2aWRlb3NQYWdlVXJsLCBcIiMvdmlldy9cIikuY29uY2F0KHJlY2VudC5pZClcbiAgfSwge1xuICAgIGxhYmVsOiBfXygnUmVjZW50bHkgY3JlYXRlZCBjdXN0b20gdmlkZW8nLCAnd3BtdWRldl92aWRzJyksXG4gICAgZGV0YWlsczogcmVjZW50Q3VzdG9tLnZpZGVvX3RpdGxlLFxuICAgIGxpbms6IFwiXCIuY29uY2F0KHZpZGVvc1BhZ2VVcmwsIFwiIy92aWV3L1wiKS5jb25jYXQocmVjZW50Q3VzdG9tLmlkKVxuICB9LCB7XG4gICAgbGFiZWw6IF9fKCdSZWNlbnRseSBjcmVhdGVkIHBsYXlsaXN0JywgJ3dwbXVkZXZfdmlkcycpLFxuICAgIGRldGFpbHM6IHJlY2VudFBsYXlsaXN0ID09PSBudWxsIHx8IHJlY2VudFBsYXlsaXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZWNlbnRQbGF5bGlzdC50aXRsZVxuICB9XTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4cyhXaGl0ZUxhYmVsU3VtbWFyeSwge1xuICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goV2hpdGVMYWJlbFN1bW1hcnkuU2VnbWVudCwge1xuICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4cyhXaGl0ZUxhYmVsU3VtbWFyeS5EZXRhaWxzLCB7XG4gICAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goXCJwXCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwic3VpLXN1bW1hcnktbGFyZ2VcIixcbiAgICAgICAgICBjaGlsZHJlbjogdG90YWxcbiAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwicFwiLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1zdW1tYXJ5LXN1YlwiLFxuICAgICAgICAgIGNoaWxkcmVuOiBfXygnVG90YWwgdmlkZW9zJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICAgIH0pLCBsYXN0VmlkZW9UaW1lID09PSAnJyAmJiAvKiNfX1BVUkVfXyovX2pzeChcInNwYW5cIiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJzdWktc3VtbWFyeS1kZXRhaWxcIixcbiAgICAgICAgICBjaGlsZHJlbjogbmV2ZXJcbiAgICAgICAgfSksIGxhc3RWaWRlb1RpbWUgIT09ICcnICYmIC8qI19fUFVSRV9fKi9fanN4KFwic3BhblwiLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1zdW1tYXJ5LWRldGFpbFwiLFxuICAgICAgICAgIGNoaWxkcmVuOiBsYXN0VmlkZW9UaW1lXG4gICAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcInNwYW5cIiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJzdWktc3VtbWFyeS1zdWJcIixcbiAgICAgICAgICBjaGlsZHJlbjogX18oJ0xhc3QgdXBsb2FkZWQgdmlkZW8nLCAnd3BtdWRldl92aWRzJylcbiAgICAgICAgfSldXG4gICAgICB9KVxuICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChXaGl0ZUxhYmVsU3VtbWFyeS5TZWdtZW50LCB7XG4gICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goTGlzdCwge1xuICAgICAgICBpdGVtczogbGlzdEl0ZW1zXG4gICAgICB9KVxuICAgIH0pXVxuICB9KTtcbn1cbmV4cG9ydCBkZWZhdWx0IFN1bW1hcnlCb3g7IiwiZXhwb3J0ICogZnJvbSAnLi9TdW1tYXJ5Qm94JzsiLCJ2YXIgX2l2dFZhcnM7XG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShyLCBlKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMocikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGUpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBlKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBhKSB7IGlmIChyKSB7IGlmIChcInN0cmluZ1wiID09IHR5cGVvZiByKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkociwgYSk7IHZhciB0ID0ge30udG9TdHJpbmcuY2FsbChyKS5zbGljZSg4LCAtMSk7IHJldHVybiBcIk9iamVjdFwiID09PSB0ICYmIHIuY29uc3RydWN0b3IgJiYgKHQgPSByLmNvbnN0cnVjdG9yLm5hbWUpLCBcIk1hcFwiID09PSB0IHx8IFwiU2V0XCIgPT09IHQgPyBBcnJheS5mcm9tKHIpIDogXCJBcmd1bWVudHNcIiA9PT0gdCB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSA/IF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIDogdm9pZCAwOyB9IH1cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIHsgKG51bGwgPT0gYSB8fCBhID4gci5sZW5ndGgpICYmIChhID0gci5sZW5ndGgpOyBmb3IgKHZhciBlID0gMCwgbiA9IEFycmF5KGEpOyBlIDwgYTsgZSsrKSBuW2VdID0gcltlXTsgcmV0dXJuIG47IH1cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBsKSB7IHZhciB0ID0gbnVsbCA9PSByID8gbnVsbCA6IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiByW1N5bWJvbC5pdGVyYXRvcl0gfHwgcltcIkBAaXRlcmF0b3JcIl07IGlmIChudWxsICE9IHQpIHsgdmFyIGUsIG4sIGksIHUsIGEgPSBbXSwgZiA9ICEwLCBvID0gITE7IHRyeSB7IGlmIChpID0gKHQgPSB0LmNhbGwocikpLm5leHQsIDAgPT09IGwpIHsgaWYgKE9iamVjdCh0KSAhPT0gdCkgcmV0dXJuOyBmID0gITE7IH0gZWxzZSBmb3IgKDsgIShmID0gKGUgPSBpLmNhbGwodCkpLmRvbmUpICYmIChhLnB1c2goZS52YWx1ZSksIGEubGVuZ3RoICE9PSBsKTsgZiA9ICEwKTsgfSBjYXRjaCAocikgeyBvID0gITAsIG4gPSByOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIWYgJiYgbnVsbCAhPSB0LnJldHVybiAmJiAodSA9IHQucmV0dXJuKCksIE9iamVjdCh1KSAhPT0gdSkpIHJldHVybjsgfSBmaW5hbGx5IHsgaWYgKG8pIHRocm93IG47IH0gfSByZXR1cm4gYTsgfSB9XG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMocikgeyBpZiAoQXJyYXkuaXNBcnJheShyKSkgcmV0dXJuIHI7IH1cbi8qKlxuICogTGlicmFyeSBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgQm94LCBJY29uLCBUYWJsZSwgSWNvbkJ1dHRvbiB9IGZyb20gJy4uLy4uLy4uLy4uL2xpYi9jb21wb25lbnRzJztcblxuLyoqXG4gKiBJbnRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgZ2V0UGxheWxpc3RzIH0gZnJvbSAnLi4vLi4vLi4vLi4vc3RvcmUvc2xpY2VzL3BsYXlsaXN0cyc7XG5pbXBvcnQgeyBMaXN0VGh1bWIgfSBmcm9tICcuLi8uLi8uLi8uLi9jb21wb25lbnRzJztcbmltcG9ydCB7IGFkZE5vdGljZSB9IGZyb20gJy4uLy4uLy4uLy4uL3N0b3JlL3NsaWNlcy9ub3RpY2UnO1xuXG4vKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBfXyB9IGZyb20gJ0B3b3JkcHJlc3MvaTE4bic7XG5pbXBvcnQgeyB1c2VTZWxlY3RvciwgdXNlRGlzcGF0Y2ggfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IENsaXBib2FyZEpTIGZyb20gJ2NsaXBib2FyZCc7XG5cbi8vIEdsb2JhbCB2YXJpYWJsZXNcbmltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgX3JlZiA9IChfaXZ0VmFycyA9IGl2dFZhcnMpICE9PSBudWxsICYmIF9pdnRWYXJzICE9PSB2b2lkIDAgPyBfaXZ0VmFycyA6IHt9LFxuICB1cmxzID0gX3JlZi51cmxzO1xudmFyIHBsYXlsaXN0c1BhZ2VVcmwgPSB1cmxzLnBsYXlsaXN0cztcbmV4cG9ydCBmdW5jdGlvbiBQbGF5bGlzdHMoKSB7XG4gIHZhciBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gIHZhciBwbGF5bGlzdHMgPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4gZ2V0UGxheWxpc3RzKHN0YXRlKTtcbiAgfSk7XG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShbXSksXG4gICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksXG4gICAgc29ydGVkUGxheWxpc3RzID0gX3VzZVN0YXRlMlswXSxcbiAgICBzZXRTb3J0ZWRQbGF5bGlzdHMgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIC8vIEluaXRpYWxpemUgY2xpcGJvYXJkIGxpYnJhcnlcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBuZXcgQ2xpcGJvYXJkSlMoJy5pdnQtY29weS1zaG9ydGNvZGUnKTtcbiAgfSwgW10pO1xuXG4gIC8vIFNvcnQgdGhlIHBsYXlsaXN0c1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIC8vIEluaXQgZW1wdHkgYXJyYXkuXG4gICAgdmFyIHNvcnRlZCA9IFtdO1xuICAgIE9iamVjdC5rZXlzKHBsYXlsaXN0cykuc29ydCgpIC8vIFNvcnQuXG4gICAgLnJldmVyc2UoKSAvLyBSZXZlcnNlIHRoZSBvcmRlci5cbiAgICAuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHtcbiAgICAgIHNvcnRlZC5wdXNoKHBsYXlsaXN0c1tpZF0pO1xuICAgIH0pO1xuICAgIHNldFNvcnRlZFBsYXlsaXN0cyhzb3J0ZWQpO1xuICB9LCBbcGxheWxpc3RzXSk7XG5cbiAgLyoqXG4gICAqIERpc3BsYXlzIGEgbm90aWNlIHRoYXQgc2hvcnRjb2RlIHdhcyBjb3BpZWQgc3VjY2Vzc2Z1bGx5XG4gICAqXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICB2YXIgZGlzcGxheUNvcHlOb3RpY2UgPSBmdW5jdGlvbiBkaXNwbGF5Q29weU5vdGljZSgpIHtcbiAgICBkaXNwYXRjaChhZGROb3RpY2Uoe1xuICAgICAgbWVzc2FnZTogX18oJ1Nob3J0Y29kZSBoYXMgYmVlbiBjb3BpZWQgc3VjY2Vzc2Z1bGx5LicsICd3cG11ZGV2X3ZpZHMnKVxuICAgIH0pKTtcbiAgfTtcbiAgdmFyIGhhc1BsYXlsaXN0cyA9IHNvcnRlZFBsYXlsaXN0cy5sZW5ndGggPiAwO1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3hzKEJveCwge1xuICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goQm94LkhlYWRlciwge1xuICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4cyhCb3guVGl0bGUsIHtcbiAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChJY29uLCB7XG4gICAgICAgICAgaWNvbjogXCJwbGF5bGlzdFwiLFxuICAgICAgICAgIGNsYXNzTmFtZTogXCJ3cG11ZGV2LXZpZGVvcy1jdXN0b20taWNvblwiXG4gICAgICAgIH0pLCBfXygnUGxheWxpc3RzJywgJ3dwbXVkZXZfdmlkcycpXVxuICAgICAgfSlcbiAgICB9KSwgLyojX19QVVJFX18qL19qc3hzKEJveC5Cb2R5LCB7XG4gICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFwicFwiLCB7XG4gICAgICAgIGNoaWxkcmVuOiBfXygnQ3JlYXRlIHBsYXlsaXN0cyBvZiB2aWRlb3MgYW5kIGRpc3BsYXkgdGhlbSBhcm91bmQgeW91ciBXb3JkUHJlc3MgQWRtaW4gYXJlYSB0byBoZWxwIHlvdXIgY2xpZW50cyBnZXQgdG8ga25vdyBXb3JkUHJlc3MuJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICB9KSwgIWhhc1BsYXlsaXN0cyAmJiAvKiNfX1BVUkVfXyovX2pzeChcInBcIiwge1xuICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3hzKFwiYVwiLCB7XG4gICAgICAgICAgcm9sZTogXCJidXR0b25cIixcbiAgICAgICAgICBjbGFzc05hbWU6IFwic3VpLWJ1dHRvbiBzdWktYnV0dG9uLWJsdWVcIixcbiAgICAgICAgICBocmVmOiBcIlwiLmNvbmNhdChwbGF5bGlzdHNQYWdlVXJsLCBcIiMvY3JlYXRlXCIpLFxuICAgICAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goSWNvbiwge1xuICAgICAgICAgICAgaWNvbjogXCJwbHVzXCJcbiAgICAgICAgICB9KSwgX18oJ0FkZCBQbGF5bGlzdCcsICd3cG11ZGV2X3ZpZHMnKV1cbiAgICAgICAgfSlcbiAgICAgIH0pXVxuICAgIH0pLCBoYXNQbGF5bGlzdHMgJiYgLyojX19QVVJFX18qL19qc3hzKFRhYmxlLCB7XG4gICAgICBpc0ZsdXNoZWQ6IHRydWUsXG4gICAgICBjbGFzc05hbWU6IFwid3BtdWRldi12aWRlb3MtYm94LXRhYmxlXCIsXG4gICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFRhYmxlLlRoZWFkLCB7XG4gICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeHMoVGFibGUuVHIsIHtcbiAgICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFRhYmxlLlRoLCB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IFwid3BtdWRldi12aWRlb3Mtcm93LS1uYW1lXCIsXG4gICAgICAgICAgICBjaGlsZHJlbjogX18oJ1JlY2VudGx5IGFkZGVkIHBsYXlsaXN0cycsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChUYWJsZS5UaCwge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcIndwbXVkZXYtdmlkZW9zLXJvdy0tb3B0aW9uc1wiLFxuICAgICAgICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KFwic3BhblwiLCB7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJzdWktc2NyZWVuLXJlYWRlci10ZXh0XCIsXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBfXygnUGxheWxpc3Qgb3B0aW9ucyBtZW51JywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXVxuICAgICAgICB9KVxuICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFRhYmxlLlRib2R5LCB7XG4gICAgICAgIGNoaWxkcmVuOiBzb3J0ZWRQbGF5bGlzdHMubWFwKGZ1bmN0aW9uIChwbGF5bGlzdCkge1xuICAgICAgICAgIHZhciBfcGxheWxpc3QkdGh1bWJuYWlsO1xuICAgICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeHMoVGFibGUuVHIsIHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goVGFibGUuVGQsIHtcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcInN1aS10YWJsZS1pdGVtLXRpdGxlIHdwbXVkZXYtdmlkZW9zLXJvdy0tbmFtZVwiLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3hzKFwiZGl2XCIsIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwid3BtdWRldi12aWRlb3MtbmFtZS13cmFwcGVyXCIsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChMaXN0VGh1bWIsIHtcbiAgICAgICAgICAgICAgICAgIHVybDogKF9wbGF5bGlzdCR0aHVtYm5haWwgPSBwbGF5bGlzdC50aHVtYm5haWwpID09PSBudWxsIHx8IF9wbGF5bGlzdCR0aHVtYm5haWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wbGF5bGlzdCR0aHVtYm5haWwudXJsLFxuICAgICAgICAgICAgICAgICAgaGlkZUljb246IHRydWUsXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwicGxheWxpc3QtdGh1bWJcIlxuICAgICAgICAgICAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcImFcIiwge1xuICAgICAgICAgICAgICAgICAgaHJlZjogXCJcIi5jb25jYXQocGxheWxpc3RzUGFnZVVybCwgXCIjL2VkaXQvXCIpLmNvbmNhdChwbGF5bGlzdC5pZCksXG4gICAgICAgICAgICAgICAgICBjaGlsZHJlbjogcGxheWxpc3QudGl0bGVcbiAgICAgICAgICAgICAgICB9KV1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChUYWJsZS5UZCwge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IFwid3BtdWRldi12aWRlb3MtbmFtZS13cmFwcGVyXCIsXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeHMoXCJkaXZcIiwge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJzdWktZHJvcGRvd25cIixcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KEljb25CdXR0b24sIHtcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJzdWktZHJvcGRvd24tYW5jaG9yXCIsXG4gICAgICAgICAgICAgICAgICBpY29uOiBcIndpZGdldC1zZXR0aW5ncy1jb25maWdcIixcbiAgICAgICAgICAgICAgICAgIG91dGxpbmVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiBfXygnQWN0aW9ucycsICd3cG11ZGV2X3ZpZHMnKSxcbiAgICAgICAgICAgICAgICAgIFwiYXJpYS1sYWJlbFwiOiBfXygnQWN0aW9ucycsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgICAgICAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeHMoXCJ1bFwiLCB7XG4gICAgICAgICAgICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFwibGlcIiwge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3hzKFwiYVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgaHJlZjogXCJcIi5jb25jYXQocGxheWxpc3RzUGFnZVVybCwgXCIjL2VkaXQvXCIpLmNvbmNhdChwbGF5bGlzdC5pZCksXG4gICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChJY29uLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBcInBlbmNpbFwiXG4gICAgICAgICAgICAgICAgICAgICAgfSksIF9fKCdFZGl0JywgJ3dwbXVkZXZfdmlkcycpXVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwibGlcIiwge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3hzKFwiYVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgaHJlZjogXCJcIi5jb25jYXQocGxheWxpc3RzUGFnZVVybCwgXCIjL3ZpZGVvcy9cIikuY29uY2F0KHBsYXlsaXN0LmlkKSxcbiAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KEljb24sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246IFwiYWxpZ24tanVzdGlmeVwiXG4gICAgICAgICAgICAgICAgICAgICAgfSksIF9fKCdBZGQgdmlkZW9zJywgJ3dwbXVkZXZfdmlkcycpXVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwibGlcIiwge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3hzKFwiYVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgaHJlZjogXCJcIi5jb25jYXQocGxheWxpc3RzUGFnZVVybCwgXCIjL3NldHRpbmdzL1wiKS5jb25jYXQocGxheWxpc3QuaWQpLFxuICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goSWNvbiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogXCJ3aWRnZXQtc2V0dGluZ3MtY29uZmlnXCJcbiAgICAgICAgICAgICAgICAgICAgICB9KSwgX18oJ1Zpc2liaWxpdHkgc2V0dGluZ3MnLCAnd3BtdWRldl92aWRzJyldXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJsaVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeHMoXCJidXR0b25cIiwge1xuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJpdnQtY29weS1zaG9ydGNvZGVcIixcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBkaXNwbGF5Q29weU5vdGljZSxcbiAgICAgICAgICAgICAgICAgICAgICBcImRhdGEtY2xpcGJvYXJkLXRleHRcIjogXCJbd3BtdWRldi12aWRlbyBncm91cD1cXFwiXCIuY29uY2F0KHBsYXlsaXN0LnNsdWcsIFwiXFxcIl1cIiksXG4gICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChJY29uLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBcImNvZGVcIlxuICAgICAgICAgICAgICAgICAgICAgIH0pLCBfXygnQ29weSBzaG9ydGNvZGUnLCAnd3BtdWRldl92aWRzJyldXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICB9KV1cbiAgICAgICAgICAgICAgICB9KV1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXVxuICAgICAgICAgIH0sIHBsYXlsaXN0LmlkKTtcbiAgICAgICAgfSlcbiAgICAgIH0pXVxuICAgIH0pLCBoYXNQbGF5bGlzdHMgJiYgLyojX19QVVJFX18qL19qc3hzKEJveC5Gb290ZXIsIHtcbiAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3hzKFwiYVwiLCB7XG4gICAgICAgIHJvbGU6IFwiYnV0dG9uXCIsXG4gICAgICAgIGNsYXNzTmFtZTogXCJzdWktYnV0dG9uIHN1aS1idXR0b24tYmx1ZVwiLFxuICAgICAgICBocmVmOiBcIlwiLmNvbmNhdChwbGF5bGlzdHNQYWdlVXJsLCBcIiMvY3JlYXRlXCIpLFxuICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KEljb24sIHtcbiAgICAgICAgICBpY29uOiBcInBsdXNcIlxuICAgICAgICB9KSwgX18oJ0FkZCBQbGF5bGlzdCcsICd3cG11ZGV2X3ZpZHMnKV1cbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJzdWktYWN0aW9ucy1yaWdodFwiLFxuICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3hzKFwiYVwiLCB7XG4gICAgICAgICAgcm9sZTogXCJidXR0b25cIixcbiAgICAgICAgICBjbGFzc05hbWU6IFwic3VpLWJ1dHRvbiBzdWktYnV0dG9uLWdob3N0XCIsXG4gICAgICAgICAgaHJlZjogcGxheWxpc3RzUGFnZVVybCxcbiAgICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KEljb24sIHtcbiAgICAgICAgICAgIGljb246IFwiZXllXCJcbiAgICAgICAgICB9KSwgX18oJ1ZpZXcgQWxsJywgJ3dwbXVkZXZfdmlkcycpXVxuICAgICAgICB9KVxuICAgICAgfSldXG4gICAgfSldXG4gIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgUGxheWxpc3RzOyIsImV4cG9ydCAqIGZyb20gJy4vUGxheWxpc3RzJzsiLCJ2YXIgX2l2dFZhcnM7XG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkocikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKHIpIHx8IF9pdGVyYWJsZVRvQXJyYXkocikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KHIpIHsgaWYgKFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiBudWxsICE9IHJbU3ltYm9sLml0ZXJhdG9yXSB8fCBudWxsICE9IHJbXCJAQGl0ZXJhdG9yXCJdKSByZXR1cm4gQXJyYXkuZnJvbShyKTsgfVxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKHIpIHsgaWYgKEFycmF5LmlzQXJyYXkocikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyKTsgfVxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkociwgZSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKHIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBlKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgZSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkgeyBpZiAocikgeyBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gXCJPYmplY3RcIiA9PT0gdCAmJiByLmNvbnN0cnVjdG9yICYmICh0ID0gci5jb25zdHJ1Y3Rvci5uYW1lKSwgXCJNYXBcIiA9PT0gdCB8fCBcIlNldFwiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6IFwiQXJndW1lbnRzXCIgPT09IHQgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkgPyBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSA6IHZvaWQgMDsgfSB9XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQociwgbCkgeyB2YXIgdCA9IG51bGwgPT0gciA/IG51bGwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgcltTeW1ib2wuaXRlcmF0b3JdIHx8IHJbXCJAQGl0ZXJhdG9yXCJdOyBpZiAobnVsbCAhPSB0KSB7IHZhciBlLCBuLCBpLCB1LCBhID0gW10sIGYgPSAhMCwgbyA9ICExOyB0cnkgeyBpZiAoaSA9ICh0ID0gdC5jYWxsKHIpKS5uZXh0LCAwID09PSBsKSB7IGlmIChPYmplY3QodCkgIT09IHQpIHJldHVybjsgZiA9ICExOyB9IGVsc2UgZm9yICg7ICEoZiA9IChlID0gaS5jYWxsKHQpKS5kb25lKSAmJiAoYS5wdXNoKGUudmFsdWUpLCBhLmxlbmd0aCAhPT0gbCk7IGYgPSAhMCk7IH0gY2F0Y2ggKHIpIHsgbyA9ICEwLCBuID0gcjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFmICYmIG51bGwgIT0gdC5yZXR1cm4gJiYgKHUgPSB0LnJldHVybigpLCBPYmplY3QodSkgIT09IHUpKSByZXR1cm47IH0gZmluYWxseSB7IGlmIChvKSB0aHJvdyBuOyB9IH0gcmV0dXJuIGE7IH0gfVxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKHIpIHsgaWYgKEFycmF5LmlzQXJyYXkocikpIHJldHVybiByOyB9XG4vKipcbiAqIExpYnJhcnkgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IEJveCwgSWNvbiwgVGFibGUsIEljb25CdXR0b24gfSBmcm9tICcuLi8uLi8uLi8uLi9saWIvY29tcG9uZW50cyc7XG5cbi8qKlxuICogSW50ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IGdldFZpZGVvcywgZ2V0RmlsdGVyZWRJZHMgfSBmcm9tICcuLi8uLi8uLi8uLi9zdG9yZS9zbGljZXMvdmlkZW9zJztcbmltcG9ydCB7IExpc3RUaHVtYiB9IGZyb20gJy4uLy4uLy4uLy4uL2NvbXBvbmVudHMnO1xuaW1wb3J0IHsgYWRkTm90aWNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc3RvcmUvc2xpY2VzL25vdGljZSc7XG5cbi8qKlxuICogRXh0ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IF9fIH0gZnJvbSAnQHdvcmRwcmVzcy9pMThuJztcbmltcG9ydCB7IHVzZVNlbGVjdG9yLCB1c2VEaXNwYXRjaCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ2xpcGJvYXJkSlMgZnJvbSAnY2xpcGJvYXJkJztcblxuLy8gR2xvYmFsIHZhcmlhYmxlc1xuaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBfcmVmID0gKF9pdnRWYXJzID0gaXZ0VmFycykgIT09IG51bGwgJiYgX2l2dFZhcnMgIT09IHZvaWQgMCA/IF9pdnRWYXJzIDoge30sXG4gIHVybHMgPSBfcmVmLnVybHM7XG52YXIgdmlkZW9zUGFnZVVybCA9IHVybHMudmlkZW9zO1xuZXhwb3J0IGZ1bmN0aW9uIFZpZGVvcygpIHtcbiAgdmFyIHZpZGVvc09iamVjdCA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBnZXRWaWRlb3Moc3RhdGUpO1xuICB9KTtcbiAgdmFyIGZpbHRlcmVkID0gdXNlU2VsZWN0b3IoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgcmV0dXJuIGdldEZpbHRlcmVkSWRzKHN0YXRlKTtcbiAgfSk7XG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShbXSksXG4gICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksXG4gICAgdmlkZW9zTGlzdCA9IF91c2VTdGF0ZTJbMF0sXG4gICAgc2V0VmlkZW9zTGlzdCA9IF91c2VTdGF0ZTJbMV07XG4gIHZhciBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG5cbiAgLy8gSW5pdGlhbGl6ZSBjbGlwYm9hcmQgbGlicmFyeVxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIG5ldyBDbGlwYm9hcmRKUygnLml2dC1jb3B5LXNob3J0Y29kZScpO1xuICB9LCBbXSk7XG5cbiAgLy8gU29ydCB2aWRlb3NcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAvLyBJbml0IGVtcHR5IGFycmF5LlxuICAgIHZhciB2aWRlb3MgPSBbXTtcblxuICAgIC8vIE9ubHkgaWYgaXQncyBhbiBhcnJheS5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShmaWx0ZXJlZCkpIHtcbiAgICAgIC8vIEdldCBmaWx0ZXJlZCBpZHMgaW4gcmV2ZXJzZSBvcmRlci5cbiAgICAgIHZhciBzb3J0ZWQgPSBfdG9Db25zdW1hYmxlQXJyYXkoZmlsdGVyZWQpLnNvcnQoKS5yZXZlcnNlKCk7XG4gICAgICBzb3J0ZWQuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgaWYgKHZpZGVvc09iamVjdFtpZF0pIHtcbiAgICAgICAgICAvLyBHZXQgdGhlIHZpZGVvIG9iamVjdC5cbiAgICAgICAgICB2aWRlb3MucHVzaCh2aWRlb3NPYmplY3RbaWRdKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHNldFZpZGVvc0xpc3QodmlkZW9zKTtcbiAgfSwgW3ZpZGVvc09iamVjdCwgZmlsdGVyZWRdKTtcblxuICAvKipcbiAgICogRGlzcGxheXMgYSBub3RpY2UgdGhhdCBzaG9ydGNvZGUgd2FzIGNvcGllZCBzdWNjZXNzZnVsbHlcbiAgICpcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHZhciBkaXNwbGF5Q29weU5vdGljZSA9IGZ1bmN0aW9uIGRpc3BsYXlDb3B5Tm90aWNlKCkge1xuICAgIGRpc3BhdGNoKGFkZE5vdGljZSh7XG4gICAgICBtZXNzYWdlOiBfXygnU2hvcnRjb2RlIGhhcyBiZWVuIGNvcGllZCBzdWNjZXNzZnVsbHkuJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgfSkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgc2hvcnRjb2RlIG9mIHRoZSBjdXJyZW50IHZpZGVvLlxuICAgKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICB2YXIgZ2V0U2hvcnRDb2RlID0gZnVuY3Rpb24gZ2V0U2hvcnRDb2RlKHZpZGVvKSB7XG4gICAgaWYgKHZpZGVvLnZpZGVvX3R5cGUgPT09ICdjdXN0b20nKSB7XG4gICAgICByZXR1cm4gXCJbd3BtdWRldi12aWRlbyB2aWRlbz1cXFwiXCIuY29uY2F0KHZpZGVvLmlkLCBcIlxcXCJdXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJbd3BtdWRldi12aWRlbyB2aWRlbz1cXFwiXCIuY29uY2F0KHZpZGVvLnZpZGVvX3NsdWcsIFwiXFxcIl1cIik7XG4gICAgfVxuICB9O1xuICB2YXIgaGFzVmlkZW9zID0gdmlkZW9zTGlzdC5sZW5ndGggPiAwO1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3hzKEJveCwge1xuICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goQm94LkhlYWRlciwge1xuICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4cyhCb3guVGl0bGUsIHtcbiAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChJY29uLCB7XG4gICAgICAgICAgaWNvbjogXCJhbmltYXRpb24tdmlkZW9cIixcbiAgICAgICAgICBjbGFzc05hbWU6IFwid3BtdWRldi12aWRlb3MtY3VzdG9tLWljb25cIlxuICAgICAgICB9KSwgX18oJ1ZpZGVvcycsICd3cG11ZGV2X3ZpZHMnKV1cbiAgICAgIH0pXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4cyhCb3guQm9keSwge1xuICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChcInBcIiwge1xuICAgICAgICBjaGlsZHJlbjogX18oJ1ZpZXcgYWxsIGRlZmF1bHQgdmlkZW8gdHV0b3JpYWxzIGFuZCB1cGxvYWQgeW91ciBvd24gY3VzdG9tIHZpZGVvcyBpbiB0aGUgVmlkZW9zIGFyZWEuJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICB9KSwgIWhhc1ZpZGVvcyAmJiAvKiNfX1BVUkVfXyovX2pzeChcInBcIiwge1xuICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3hzKFwiYVwiLCB7XG4gICAgICAgICAgcm9sZTogXCJidXR0b25cIixcbiAgICAgICAgICBjbGFzc05hbWU6IFwic3VpLWJ1dHRvbiBzdWktYnV0dG9uLWJsdWVcIixcbiAgICAgICAgICBocmVmOiBcIlwiLmNvbmNhdCh2aWRlb3NQYWdlVXJsLCBcIiMvY3JlYXRlXCIpLFxuICAgICAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goSWNvbiwge1xuICAgICAgICAgICAgaWNvbjogXCJwbHVzXCJcbiAgICAgICAgICB9KSwgX18oJ0FkZCBDdXN0b20gVmlkZW8nLCAnd3BtdWRldl92aWRzJyldXG4gICAgICAgIH0pXG4gICAgICB9KV1cbiAgICB9KSwgaGFzVmlkZW9zICYmIC8qI19fUFVSRV9fKi9fanN4cyhUYWJsZSwge1xuICAgICAgaXNGbHVzaGVkOiB0cnVlLFxuICAgICAgY2xhc3NOYW1lOiBcIndwbXVkZXYtdmlkZW9zLWJveC10YWJsZVwiLFxuICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChUYWJsZS5UaGVhZCwge1xuICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3hzKFRhYmxlLlRyLCB7XG4gICAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChUYWJsZS5UaCwge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcIndwbXVkZXYtdmlkZW9zLXJvdy0tbmFtZVwiLFxuICAgICAgICAgICAgY2hpbGRyZW46IF9fKCdSZWNlbnRseSBhZGRlZCB2aWRlb3MnLCAnd3BtdWRldl92aWRzJylcbiAgICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goVGFibGUuVGgsIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJ3cG11ZGV2LXZpZGVvcy1yb3ctLW9wdGlvbnNcIixcbiAgICAgICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChcInNwYW5cIiwge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IFwic3VpLXNjcmVlbi1yZWFkZXItdGV4dFwiLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogX18oJ1ZpZGVvIG9wdGlvbnMgbWVudScsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KV1cbiAgICAgICAgfSlcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChUYWJsZS5UYm9keSwge1xuICAgICAgICBjaGlsZHJlbjogdmlkZW9zTGlzdC5tYXAoZnVuY3Rpb24gKHZpZGVvKSB7XG4gICAgICAgICAgdmFyIF92aWRlbyR0aHVtYm5haWw7XG4gICAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4cyhUYWJsZS5Uciwge1xuICAgICAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChUYWJsZS5UZCwge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IFwic3VpLXRhYmxlLWl0ZW0tdGl0bGUgd3BtdWRldi12aWRlb3Mtcm93LS1uYW1lXCIsXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeHMoXCJkaXZcIiwge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJ3cG11ZGV2LXZpZGVvcy1uYW1lLXdyYXBwZXJcIixcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KExpc3RUaHVtYiwge1xuICAgICAgICAgICAgICAgICAgdXJsOiAoX3ZpZGVvJHRodW1ibmFpbCA9IHZpZGVvLnRodW1ibmFpbCkgPT09IG51bGwgfHwgX3ZpZGVvJHRodW1ibmFpbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3ZpZGVvJHRodW1ibmFpbC51cmwsXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwidmlkZW8tdGh1bWJcIixcbiAgICAgICAgICAgICAgICAgIGlzQ3VzdG9tOiB2aWRlby52aWRlb190eXBlID09PSAnY3VzdG9tJyxcbiAgICAgICAgICAgICAgICAgIGljb246IHZpZGVvLnZpZGVvX3NsdWdcbiAgICAgICAgICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJhXCIsIHtcbiAgICAgICAgICAgICAgICAgIGhyZWY6IFwiXCIuY29uY2F0KHZpZGVvc1BhZ2VVcmwsIFwiIy92aWV3L1wiKS5jb25jYXQodmlkZW8uaWQpLFxuICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IHZpZGVvLnZpZGVvX3RpdGxlXG4gICAgICAgICAgICAgICAgfSldXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goVGFibGUuVGQsIHtcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcIndwbXVkZXYtdmlkZW9zLXJvdy0tb3B0aW9uc1wiLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3hzKFwiZGl2XCIsIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwic3VpLWRyb3Bkb3duXCIsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChJY29uQnV0dG9uLCB7XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwic3VpLWRyb3Bkb3duLWFuY2hvclwiLFxuICAgICAgICAgICAgICAgICAgaWNvbjogXCJ3aWRnZXQtc2V0dGluZ3MtY29uZmlnXCIsXG4gICAgICAgICAgICAgICAgICBvdXRsaW5lZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICBsYWJlbDogX18oJ0FjdGlvbnMnLCAnd3BtdWRldl92aWRzJyksXG4gICAgICAgICAgICAgICAgICBcImFyaWEtbGFiZWxcIjogX18oJ0FjdGlvbnMnLCAnd3BtdWRldl92aWRzJylcbiAgICAgICAgICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3hzKFwidWxcIiwge1xuICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChcImxpXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4cyhcImFcIiwge1xuICAgICAgICAgICAgICAgICAgICAgIGhyZWY6IFwiXCIuY29uY2F0KHZpZGVvc1BhZ2VVcmwsIFwiIy9lZGl0L1wiKS5jb25jYXQodmlkZW8uaWQpLFxuICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goSWNvbiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogXCJwZW5jaWxcIlxuICAgICAgICAgICAgICAgICAgICAgIH0pLCB2aWRlby52aWRlb190eXBlID09PSAnY3VzdG9tJyA/IF9fKCdFZGl0IHZpZGVvJywgJ3dwbXVkZXZfdmlkcycpIDogX18oJ0VkaXQgdGl0bGUnLCAnd3BtdWRldl92aWRzJyldXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJsaVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeHMoXCJidXR0b25cIiwge1xuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJpdnQtY29weS1zaG9ydGNvZGVcIixcbiAgICAgICAgICAgICAgICAgICAgICBcImRhdGEtY2xpcGJvYXJkLXRleHRcIjogZ2V0U2hvcnRDb2RlKHZpZGVvKSxcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBkaXNwbGF5Q29weU5vdGljZSxcbiAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KEljb24sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246IFwiY29kZVwiXG4gICAgICAgICAgICAgICAgICAgICAgfSksIF9fKCdDb3B5IFNob3J0Y29kZScsICd3cG11ZGV2X3ZpZHMnKV1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcImxpXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4cyhcImFcIiwge1xuICAgICAgICAgICAgICAgICAgICAgIGhyZWY6IFwiXCIuY29uY2F0KHZpZGVvc1BhZ2VVcmwsIFwiIy9wbGF5bGlzdC9cIikuY29uY2F0KHZpZGVvLmlkKSxcbiAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KEljb24sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246IFwibGlzdFwiXG4gICAgICAgICAgICAgICAgICAgICAgfSksIF9fKCdBZGQgdG8gUGxheWxpc3QnLCAnd3BtdWRldl92aWRzJyldXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICB9KSwgdmlkZW8udmlkZW9fdHlwZSA9PT0gJ2N1c3RvbScgJiYgLyojX19QVVJFX18qL19qc3goXCJsaVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeHMoXCJhXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICBocmVmOiBcIlwiLmNvbmNhdCh2aWRlb3NQYWdlVXJsLCBcIiMvZGVsZXRlL1wiKS5jb25jYXQodmlkZW8uaWQpLFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJ3cG11ZGV2LXZpZGVvcy1yZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KEljb24sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246IFwidHJhc2hcIlxuICAgICAgICAgICAgICAgICAgICAgIH0pLCBfXygnRGVsZXRlJywgJ3dwbXVkZXZfdmlkcycpXVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgfSldXG4gICAgICAgICAgICAgICAgfSldXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KV1cbiAgICAgICAgICB9LCB2aWRlby5pZCk7XG4gICAgICAgIH0pXG4gICAgICB9KV1cbiAgICB9KSwgaGFzVmlkZW9zICYmIC8qI19fUFVSRV9fKi9fanN4cyhCb3guRm9vdGVyLCB7XG4gICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4cyhcImFcIiwge1xuICAgICAgICByb2xlOiBcImJ1dHRvblwiLFxuICAgICAgICBjbGFzc05hbWU6IFwic3VpLWJ1dHRvbiBzdWktYnV0dG9uLWJsdWVcIixcbiAgICAgICAgaHJlZjogXCJcIi5jb25jYXQodmlkZW9zUGFnZVVybCwgXCIjL2NyZWF0ZVwiKSxcbiAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChJY29uLCB7XG4gICAgICAgICAgaWNvbjogXCJwbHVzXCJcbiAgICAgICAgfSksIF9fKCdBZGQgQ3VzdG9tIFZpZGVvJywgJ3dwbXVkZXZfdmlkcycpXVxuICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1hY3Rpb25zLXJpZ2h0XCIsXG4gICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeHMoXCJhXCIsIHtcbiAgICAgICAgICByb2xlOiBcImJ1dHRvblwiLFxuICAgICAgICAgIGNsYXNzTmFtZTogXCJzdWktYnV0dG9uIHN1aS1idXR0b24tZ2hvc3RcIixcbiAgICAgICAgICBocmVmOiB2aWRlb3NQYWdlVXJsLFxuICAgICAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goSWNvbiwge1xuICAgICAgICAgICAgaWNvbjogXCJleWVcIlxuICAgICAgICAgIH0pLCBfXygnVmlldyBBbGwnLCAnd3BtdWRldl92aWRzJyldXG4gICAgICAgIH0pXG4gICAgICB9KV1cbiAgICB9KV1cbiAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCBWaWRlb3M7IiwiZXhwb3J0ICogZnJvbSAnLi9WaWRlb3MnOyIsImV4cG9ydCAqIGZyb20gJy4vU3VtbWFyeUJveCc7XG5leHBvcnQgKiBmcm9tICcuL1BsYXlsaXN0cyc7XG5leHBvcnQgKiBmcm9tICcuL1ZpZGVvcyc7IiwidmFyIF9pdnRWYXJzO1xuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkociwgZSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKHIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBlKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgZSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkgeyBpZiAocikgeyBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gXCJPYmplY3RcIiA9PT0gdCAmJiByLmNvbnN0cnVjdG9yICYmICh0ID0gci5jb25zdHJ1Y3Rvci5uYW1lKSwgXCJNYXBcIiA9PT0gdCB8fCBcIlNldFwiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6IFwiQXJndW1lbnRzXCIgPT09IHQgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkgPyBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSA6IHZvaWQgMDsgfSB9XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQociwgbCkgeyB2YXIgdCA9IG51bGwgPT0gciA/IG51bGwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgcltTeW1ib2wuaXRlcmF0b3JdIHx8IHJbXCJAQGl0ZXJhdG9yXCJdOyBpZiAobnVsbCAhPSB0KSB7IHZhciBlLCBuLCBpLCB1LCBhID0gW10sIGYgPSAhMCwgbyA9ICExOyB0cnkgeyBpZiAoaSA9ICh0ID0gdC5jYWxsKHIpKS5uZXh0LCAwID09PSBsKSB7IGlmIChPYmplY3QodCkgIT09IHQpIHJldHVybjsgZiA9ICExOyB9IGVsc2UgZm9yICg7ICEoZiA9IChlID0gaS5jYWxsKHQpKS5kb25lKSAmJiAoYS5wdXNoKGUudmFsdWUpLCBhLmxlbmd0aCAhPT0gbCk7IGYgPSAhMCk7IH0gY2F0Y2ggKHIpIHsgbyA9ICEwLCBuID0gcjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFmICYmIG51bGwgIT0gdC5yZXR1cm4gJiYgKHUgPSB0LnJldHVybigpLCBPYmplY3QodSkgIT09IHUpKSByZXR1cm47IH0gZmluYWxseSB7IGlmIChvKSB0aHJvdyBuOyB9IH0gcmV0dXJuIGE7IH0gfVxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKHIpIHsgaWYgKEFycmF5LmlzQXJyYXkocikpIHJldHVybiByOyB9XG4vKipcbiAqIExpYnJhcnkgY29tcG9uZW50c1xuICovXG5pbXBvcnQgeyBCb3gsIEJ1dHRvbiB9IGZyb20gJy4uLy4uLy4uL2xpYi9jb21wb25lbnRzJztcblxuLyoqXG4gKiBJbnRlcm5hbCBjb21wb25lbnRzXG4gKi9cbmltcG9ydCB7IEltYWdlVGFnIH0gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cyc7XG5pbXBvcnQgeyByZXN0R2V0IH0gZnJvbSAnLi4vLi4vLi4vaGVscGVycy9hcGknO1xuXG4vKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBfXywgc3ByaW50ZiB9IGZyb20gJ0B3b3JkcHJlc3MvaTE4bic7XG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcblxuLy8gR2xvYmFsIHZhcmlhYmxlc1xuaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBfcmVmID0gKF9pdnRWYXJzID0gaXZ0VmFycykgIT09IG51bGwgJiYgX2l2dFZhcnMgIT09IHZvaWQgMCA/IF9pdnRWYXJzIDoge30sXG4gIHVzZXJfbmFtZSA9IF9yZWYudXNlcl9uYW1lLFxuICB3aGl0ZWxhYmVsID0gX3JlZi53aGl0ZWxhYmVsO1xudmFyIF9yZWYyID0gd2hpdGVsYWJlbCAhPT0gbnVsbCAmJiB3aGl0ZWxhYmVsICE9PSB2b2lkIDAgPyB3aGl0ZWxhYmVsIDoge30sXG4gIGhpZGVfYnJhbmRpbmcgPSBfcmVmMi5oaWRlX2JyYW5kaW5nO1xuZXhwb3J0IGZ1bmN0aW9uIEV4cGlyZWRCYW5uZXIoKSB7XG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShmYWxzZSksXG4gICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksXG4gICAgaXNSZWZyZXNoaW5nID0gX3VzZVN0YXRlMlswXSxcbiAgICBzZXRJc1JlZnJlc2hpbmcgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIC8qKlxuICAgKiBSZWZyZXNoIHRoZSBtZW1iZXJzaGlwIGRhdGEgdXNpbmcgQVBJLlxuICAgKlxuICAgKiBSZWxvYWQgdGhlIGN1cnJlbnQgcGFnZSBhZnRlciByZWZyZXNoaW5nIHRoZVxuICAgKiBzdGF0dXMuXG4gICAqXG4gICAqIEByZXR1cm4ge251bGx9XG4gICAqL1xuICB2YXIgcmVmcmVzaERhdGEgPSBmdW5jdGlvbiByZWZyZXNoRGF0YSgpIHtcbiAgICBzZXRJc1JlZnJlc2hpbmcodHJ1ZSk7XG4gICAgcmVzdEdldCh7XG4gICAgICBwYXRoOiAnYWN0aW9ucycsXG4gICAgICBwYXJhbXM6IHtcbiAgICAgICAgYWN0aW9uOiAncmVmcmVzaF9tZW1iZXJzaGlwJ1xuICAgICAgfVxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkge1xuICAgICAgc2V0SXNSZWZyZXNoaW5nKGZhbHNlKTtcbiAgICB9KTtcbiAgfTtcbiAgdmFyIGJhbm5lcl90aXRsZSA9IF9fKCdNZW1iZXJzaGlwIEV4cGlyZWQnLCAnd3BtdWRldl92aWRzJyk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeChCb3gsIHtcbiAgICBjbGFzc05hbWU6IFwid3BtdWRldi12aWRlb3MtYm94LW1lc3NhZ2Ugbm8tbG9nb1wiLFxuICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeHMoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInZpZGVvLXN1aS1jb2wtMTEgd3BtdWRldi1kYXNoYm9hcmQtbWVzc2FnZVwiLFxuICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChcImgyXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcIndwbXVkZXYtdmlkZW9zLWJveC1tZXNzYWdlLS10aXRsZVwiLFxuICAgICAgICBjaGlsZHJlbjogYmFubmVyX3RpdGxlXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3goQm94LkRlc2NyaXB0aW9uLCB7XG4gICAgICAgIFRhZzogXCJwXCIsXG4gICAgICAgIGNoaWxkcmVuOiBzcHJpbnRmKF9fKFwiJXMsIHdlbGNvbWUgdG8gSW50ZWdyYXRlZCBWaWRlbyBUdXRvcmlhbHMgLSB0aGUgYmVzdCB2aWRlbyB0dXRvcmlhbHMgcGx1Z2luIGZvciBXb3JkUHJlc3MuIEl0IGxvb2tzIGxpa2UgeW91ciBXUE1VIERFViBzdWJzY3JpcHRpb24gaGFzIGV4cGlyZWQuIFRvIGNvbnRpbnVlIGRpc3BsYXlpbmcgV1BNVSBERVYncyB3aGl0ZSBsYWJlbCB0dXRvcmlhbCB2aWRlb3MgdG8geW91ciB1c2VycywgcmVuZXcgeW91ciBtZW1iZXJzaGlwIHRvZGF5LlwiLCAnd3BtdWRldl92aWRzJyksIHVzZXJfbmFtZSlcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeHMoXCJwXCIsIHtcbiAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChCdXR0b24sIHtcbiAgICAgICAgICBvbkxvYWRpbmdUZXh0OiBfXygnUmVmcmVzaGluZyBTdGF0dXMnLCAnd3BtdWRldl92aWRzJyksXG4gICAgICAgICAgaXNMb2FkaW5nOiBpc1JlZnJlc2hpbmcsXG4gICAgICAgICAgdHlwZTogXCJnaG9zdFwiLFxuICAgICAgICAgIGljb246IFwicmVmcmVzaFwiLFxuICAgICAgICAgIG9uQ2xpY2s6IHJlZnJlc2hEYXRhLFxuICAgICAgICAgIGNoaWxkcmVuOiBfXygnUmVmcmVzaCBTdGF0dXMnLCAnd3BtdWRldl92aWRzJylcbiAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwiYVwiLCB7XG4gICAgICAgICAgdGFyZ2V0OiBcIl9fYmxhbmtcIixcbiAgICAgICAgICBocmVmOiBcImh0dHBzOi8vd3BtdWRldi5jb20vP3V0bV9zb3VyY2U9aW50ZWdyYXRlZF92aWRlb190dXRvcmlhbHMmdXRtX21lZGl1bT1wbHVnaW4mdXRtX2NhbXBhaWduPWludGVncmF0ZWRfdmlkZW9fdHV0b3JpYWxzX2Jhbm5lcl9yZW5ld1wiLFxuICAgICAgICAgIGNsYXNzTmFtZTogXCJzdWktYnV0dG9uIHN1aS1idXR0b24tcHVycGxlXCIsXG4gICAgICAgICAgY2hpbGRyZW46IF9fKCdSZW5ldyBNZW1iZXJzaGlwJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICAgIH0pXVxuICAgICAgfSldXG4gICAgfSlcbiAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCBFeHBpcmVkQmFubmVyOyIsInZhciBfaXZ0VmFycztcbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KHIsIGUpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQociwgZSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGUpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGEpIHsgaWYgKHIpIHsgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKTsgdmFyIHQgPSB7fS50b1N0cmluZy5jYWxsKHIpLnNsaWNlKDgsIC0xKTsgcmV0dXJuIFwiT2JqZWN0XCIgPT09IHQgJiYgci5jb25zdHJ1Y3RvciAmJiAodCA9IHIuY29uc3RydWN0b3IubmFtZSksIFwiTWFwXCIgPT09IHQgfHwgXCJTZXRcIiA9PT0gdCA/IEFycmF5LmZyb20ocikgOiBcIkFyZ3VtZW50c1wiID09PSB0IHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpID8gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgOiB2b2lkIDA7IH0gfVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfVxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGwpIHsgdmFyIHQgPSBudWxsID09IHIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByW1wiQEBpdGVyYXRvclwiXTsgaWYgKG51bGwgIT0gdCkgeyB2YXIgZSwgbiwgaSwgdSwgYSA9IFtdLCBmID0gITAsIG8gPSAhMTsgdHJ5IHsgaWYgKGkgPSAodCA9IHQuY2FsbChyKSkubmV4dCwgMCA9PT0gbCkgeyBpZiAoT2JqZWN0KHQpICE9PSB0KSByZXR1cm47IGYgPSAhMTsgfSBlbHNlIGZvciAoOyAhKGYgPSAoZSA9IGkuY2FsbCh0KSkuZG9uZSkgJiYgKGEucHVzaChlLnZhbHVlKSwgYS5sZW5ndGggIT09IGwpOyBmID0gITApOyB9IGNhdGNoIChyKSB7IG8gPSAhMCwgbiA9IHI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghZiAmJiBudWxsICE9IHQucmV0dXJuICYmICh1ID0gdC5yZXR1cm4oKSwgT2JqZWN0KHUpICE9PSB1KSkgcmV0dXJuOyB9IGZpbmFsbHkgeyBpZiAobykgdGhyb3cgbjsgfSB9IHJldHVybiBhOyB9IH1cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhyKSB7IGlmIChBcnJheS5pc0FycmF5KHIpKSByZXR1cm4gcjsgfVxuLyoqXG4gKiBMaWJyYXJ5IGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBCb3gsIEJ1dHRvbiB9IGZyb20gJy4uLy4uLy4uL2xpYi9jb21wb25lbnRzJztcblxuLyoqXG4gKiBJbnRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgSW1hZ2VUYWcgfSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzJztcbmltcG9ydCB7IHJlc3RHZXQgfSBmcm9tICcuLi8uLi8uLi9oZWxwZXJzL2FwaSc7XG5cbi8qKlxuICogRXh0ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IF9fIH0gZnJvbSAnQHdvcmRwcmVzcy9pMThuJztcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuXG4vLyBHbG9iYWwgdmFyaWFibGVzXG5pbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIF9yZWYgPSAoX2l2dFZhcnMgPSBpdnRWYXJzKSAhPT0gbnVsbCAmJiBfaXZ0VmFycyAhPT0gdm9pZCAwID8gX2l2dFZhcnMgOiB7fSxcbiAgdXNlcl9uYW1lID0gX3JlZi51c2VyX25hbWUsXG4gIHdoaXRlbGFiZWwgPSBfcmVmLndoaXRlbGFiZWw7XG52YXIgX3JlZjIgPSB3aGl0ZWxhYmVsICE9PSBudWxsICYmIHdoaXRlbGFiZWwgIT09IHZvaWQgMCA/IHdoaXRlbGFiZWwgOiB7fSxcbiAgaGlkZV9icmFuZGluZyA9IF9yZWYyLmhpZGVfYnJhbmRpbmc7XG5leHBvcnQgZnVuY3Rpb24gVXBncmFkZUJhbm5lcigpIHtcbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSxcbiAgICBpc1JlZnJlc2hpbmcgPSBfdXNlU3RhdGUyWzBdLFxuICAgIHNldElzUmVmcmVzaGluZyA9IF91c2VTdGF0ZTJbMV07XG5cbiAgLyoqXG4gICAqIFJlZnJlc2ggdGhlIG1lbWJlcnNoaXAgZGF0YSB1c2luZyBBUEkuXG4gICAqXG4gICAqIFJlbG9hZCB0aGUgY3VycmVudCBwYWdlIGFmdGVyIHJlZnJlc2hpbmcgdGhlXG4gICAqIHN0YXR1cy5cbiAgICpcbiAgICogQHJldHVybiB7bnVsbH1cbiAgICovXG4gIHZhciByZWZyZXNoRGF0YSA9IGZ1bmN0aW9uIHJlZnJlc2hEYXRhKCkge1xuICAgIHNldElzUmVmcmVzaGluZyh0cnVlKTtcbiAgICByZXN0R2V0KHtcbiAgICAgIHBhdGg6ICdhY3Rpb25zJyxcbiAgICAgIHBhcmFtczoge1xuICAgICAgICBhY3Rpb246ICdyZWZyZXNoX21lbWJlcnNoaXAnXG4gICAgICB9XG4gICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7XG4gICAgICBzZXRJc1JlZnJlc2hpbmcoZmFsc2UpO1xuICAgIH0pO1xuICB9O1xuICB2YXIgYmFubmVyX3RpdGxlID0gX18oJ0dldCBJbnRlZ3JhdGVkIFZpZGVvIFR1dG9yaWFsIEFjY2VzcycsICd3cG11ZGV2X3ZpZHMnKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KEJveCwge1xuICAgIGNsYXNzTmFtZTogXCJ3cG11ZGV2LXZpZGVvcy1ib3gtbWVzc2FnZSBuby1sb2dvXCIsXG4gICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4cyhcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwidmlkZW8tc3VpLWNvbC0xMSB3cG11ZGV2LWRhc2hib2FyZC1tZXNzYWdlXCIsXG4gICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFwiaDJcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwid3BtdWRldi12aWRlb3MtYm94LW1lc3NhZ2UtLXRpdGxlXCIsXG4gICAgICAgIGNoaWxkcmVuOiBiYW5uZXJfdGl0bGVcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChCb3guRGVzY3JpcHRpb24sIHtcbiAgICAgICAgVGFnOiBcInBcIixcbiAgICAgICAgY2hpbGRyZW46IHNwcmludGYoX18oXCJIZXkgJXMsIGl0IGxvb2tzIGxpa2UgeW91IGRvbid0IGhhdmUgYWNjZXNzIHRvIHRoZSBXUE1VIERFViB3aGl0ZS1sYWJlbGVkIHZpZGVvIHR1dG9yaWFscyBkdWUgdG8geW91ciBjdXJyZW50IG1lbWJlcnNoaXAgc3RhdHVzLiBZb3UgY2FuIGdhaW4gYWNjZXNzIGJ5IGFjdGl2YXRpbmcgYSBmdWxsIG1lbWJlcnNoaXAuIENsaWNrIHRoZSBidXR0b24gYmVsb3cgZm9yIG1vcmUgaW5mb3JtYXRpb24gb24gdGhlIFdQTVUgREVWIHByaWNpbmcgc3RydWN0dXJlLlwiLCAnd3BtdWRldl92aWRzJyksIHVzZXJfbmFtZSlcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeHMoXCJwXCIsIHtcbiAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChCdXR0b24sIHtcbiAgICAgICAgICBvbkxvYWRpbmdUZXh0OiBfXygnUmVmcmVzaGluZyBTdGF0dXMnLCAnd3BtdWRldl92aWRzJyksXG4gICAgICAgICAgaXNMb2FkaW5nOiBpc1JlZnJlc2hpbmcsXG4gICAgICAgICAgdHlwZTogXCJnaG9zdFwiLFxuICAgICAgICAgIGljb246IFwicmVmcmVzaFwiLFxuICAgICAgICAgIG9uQ2xpY2s6IHJlZnJlc2hEYXRhLFxuICAgICAgICAgIGNoaWxkcmVuOiBfXygnUmVmcmVzaCBTdGF0dXMnLCAnd3BtdWRldl92aWRzJylcbiAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwiYVwiLCB7XG4gICAgICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgICAgICAgIGhyZWY6IFwiaHR0cHM6Ly93cG11ZGV2LmNvbS9wcm9qZWN0L3VuYnJhbmRlZC12aWRlby10dXRvcmlhbHMvP3V0bV9zb3VyY2U9aW50ZWdyYXRlZF92aWRlb190dXRvcmlhbHMmdXRtX21lZGl1bT1wbHVnaW4mdXRtX2NhbXBhaWduPWludGVncmF0ZWRfdmlkZW9fdHV0b3JpYWxzX2Jhbm5lcl9nZXRcIixcbiAgICAgICAgICBjbGFzc05hbWU6IFwic3VpLWJ1dHRvbiBzdWktYnV0dG9uLXB1cnBsZVwiLFxuICAgICAgICAgIGNoaWxkcmVuOiBfXygnR2V0IEZ1bGwgTWVtYmVyc2hpcCcsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgICB9KV1cbiAgICAgIH0pXVxuICAgIH0pXG4gIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgVXBncmFkZUJhbm5lcjsiLCJ2YXIgX3dpbmRvdyRpdnRWYXJzO1xuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkociwgZSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKHIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBlKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgZSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkgeyBpZiAocikgeyBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gXCJPYmplY3RcIiA9PT0gdCAmJiByLmNvbnN0cnVjdG9yICYmICh0ID0gci5jb25zdHJ1Y3Rvci5uYW1lKSwgXCJNYXBcIiA9PT0gdCB8fCBcIlNldFwiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6IFwiQXJndW1lbnRzXCIgPT09IHQgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkgPyBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSA6IHZvaWQgMDsgfSB9XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQociwgbCkgeyB2YXIgdCA9IG51bGwgPT0gciA/IG51bGwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgcltTeW1ib2wuaXRlcmF0b3JdIHx8IHJbXCJAQGl0ZXJhdG9yXCJdOyBpZiAobnVsbCAhPSB0KSB7IHZhciBlLCBuLCBpLCB1LCBhID0gW10sIGYgPSAhMCwgbyA9ICExOyB0cnkgeyBpZiAoaSA9ICh0ID0gdC5jYWxsKHIpKS5uZXh0LCAwID09PSBsKSB7IGlmIChPYmplY3QodCkgIT09IHQpIHJldHVybjsgZiA9ICExOyB9IGVsc2UgZm9yICg7ICEoZiA9IChlID0gaS5jYWxsKHQpKS5kb25lKSAmJiAoYS5wdXNoKGUudmFsdWUpLCBhLmxlbmd0aCAhPT0gbCk7IGYgPSAhMCk7IH0gY2F0Y2ggKHIpIHsgbyA9ICEwLCBuID0gcjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFmICYmIG51bGwgIT0gdC5yZXR1cm4gJiYgKHUgPSB0LnJldHVybigpLCBPYmplY3QodSkgIT09IHUpKSByZXR1cm47IH0gZmluYWxseSB7IGlmIChvKSB0aHJvdyBuOyB9IH0gcmV0dXJuIGE7IH0gfVxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKHIpIHsgaWYgKEFycmF5LmlzQXJyYXkocikpIHJldHVybiByOyB9XG4vKipcbiAqIExpYnJhcnkgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IEJveCwgSWNvbiB9IGZyb20gJy4uLy4uLy4uL2xpYi9jb21wb25lbnRzJztcblxuLyoqXG4gKiBJbnRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgZGFzaEluc3RhbGxlZCwgZGFzaEFjdGl2ZSwgZGFzaENvbm5lY3RlZCB9IGZyb20gJy4uLy4uLy4uL2hlbHBlcnMvdXRpbHMnO1xuaW1wb3J0IHsgSW1hZ2VUYWcgfSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzJztcblxuLyoqXG4gKiBFeHRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgX18gfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuXG4vKipcbiAqIFVzZSBzZXRTdGF0ZVxuICovXG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcblxuLy8gR2xvYmFsIHZhcmlhYmxlc1xuaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBfcmVmID0gKF93aW5kb3ckaXZ0VmFycyA9IHdpbmRvdy5pdnRWYXJzKSAhPT0gbnVsbCAmJiBfd2luZG93JGl2dFZhcnMgIT09IHZvaWQgMCA/IF93aW5kb3ckaXZ0VmFycyA6IHt9LFxuICB1cmxzID0gX3JlZi51cmxzLFxuICB3aGl0ZWxhYmVsID0gX3JlZi53aGl0ZWxhYmVsO1xudmFyIF9yZWYyID0gdXJscyAhPT0gbnVsbCAmJiB1cmxzICE9PSB2b2lkIDAgPyB1cmxzIDoge30sXG4gIHBsdWdpbnMgPSBfcmVmMi5wbHVnaW5zLFxuICBkYXNoX2xvZ2luID0gX3JlZjIuZGFzaF9sb2dpbjtcbnZhciBfcmVmMyA9IHdoaXRlbGFiZWwgIT09IG51bGwgJiYgd2hpdGVsYWJlbCAhPT0gdm9pZCAwID8gd2hpdGVsYWJlbCA6IHt9LFxuICBoaWRlX2JyYW5kaW5nID0gX3JlZjMuaGlkZV9icmFuZGluZztcbmV4cG9ydCBmdW5jdGlvbiBEYXNoQmFubmVyKCkge1xuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoZmFsc2UpLFxuICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgIHNob3dMb2dvID0gX3VzZVN0YXRlMlswXSxcbiAgICBzZXRTaG93TG9nbyA9IF91c2VTdGF0ZTJbMV07XG4gIGlmIChkYXNoSW5zdGFsbGVkKCkgJiYgZGFzaEFjdGl2ZSgpICYmIGRhc2hDb25uZWN0ZWQoKSkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgZGlzY29ubmVjdGVkVGl0bGUgPSBfXygnQWN0aXZhdGUgV1BNVSBERVYgRGFzaGJvYXJkJywgJ3dwbXVkZXZfdmlkcycpO1xuXG4gIC8qKlxuICAgKiBHZXQgbGFiZWxzIGFuZCBsaW5rcyBmb3IgdGhlIGJhbm5lci5cbiAgICpcbiAgICogQmFzZWQgb24gdGhlIHN0YXR1cyBvZiBXUE1VREVWIERhc2ggcGx1Z2luIHN0YXR1cyxcbiAgICogc2V0IHRoZSBsYWJlbHMgYW5kIGxpbmtzIGZvciB0aGUgYmFubmVyLlxuICAgKlxuICAgKiBAcmV0dXJuIHtvYmplY3R9XG4gICAqL1xuICB2YXIgZ2V0TGFiZWxzID0gZnVuY3Rpb24gZ2V0TGFiZWxzKCkge1xuICAgIGlmICghZGFzaEluc3RhbGxlZCgpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZTogX18oJ0luc3RhbGwgV1BNVSBERVYgRGFzaGJvYXJkJywgJ3dwbXVkZXZfdmlkcycpLFxuICAgICAgICBkZXNjOiBfXyhcIllvdSBkb24ndCBoYXZlIHRoZSBXUE1VIERFViBEYXNoYm9hcmQgcGx1Z2luLCB3aGljaCB5b3UnbGwgbmVlZCB0byBhY2Nlc3MgdGhlIHZpZGVvcyBBUEkuIFdQTVUgREVWIHZpZGVvcyBhcmUgbG9ja2VkLCBhbmQgeW91IG9ubHkgaGF2ZSBhY2Nlc3MgdG8gY3VzdG9tIHZpZGVvcyBvbiB0aGUgVmlkZW8gVHV0b3JpYWxzIHBhZ2UuIEluc3RhbGwgYW5kIGxvZyBpbiB0byB0aGUgZGFzaGJvYXJkIHRvIHVubG9jayB0aGUgY29tcGxldGUgbGlicmFyeSBvZiBXUE1VIERFViB2aWRlbyB0dXRvcmlhbHMuXCIsICd3cG11ZGV2X3ZpZHMnKSxcbiAgICAgICAgYnV0dG9uOiBfXygnSW5zdGFsbCBQbHVnaW4nLCAnd3BtdWRldl92aWRzJyksXG4gICAgICAgIGxpbms6ICdodHRwczovL3dwbXVkZXYuY29tL3Byb2plY3Qvd3BtdS1kZXYtZGFzaGJvYXJkLycsXG4gICAgICAgIHRhcmdldDogJ19ibGFuaydcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmICghZGFzaEFjdGl2ZSgpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZTogZGlzY29ubmVjdGVkVGl0bGUsXG4gICAgICAgIGRlc2M6IF9fKCdUaGUgV1BNVSBERVYgRGFzaGJvYXJkIHBsdWdpbiBpcyBpbnN0YWxsZWQgYnV0IG5vdCBhY3RpdmF0ZWQuIEFjdGl2YXRlIHRoZSBwbHVnaW4gdG8gdW5sb2NrIHRoZSBjb21wbGV0ZSBsaWJyYXJ5IG9mIFdQTVUgREVWIHZpZGVvIHR1dG9yaWFscy4nLCAnd3BtdWRldl92aWRzJyksXG4gICAgICAgIGJ1dHRvbjogX18oJ0FjdGl2YXRlIFBsdWdpbicsICd3cG11ZGV2X3ZpZHMnKSxcbiAgICAgICAgbGluazogcGx1Z2lucyxcbiAgICAgICAgdGFyZ2V0OiAnX3NlbGYnXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWRhc2hDb25uZWN0ZWQoKSkge1xuICAgICAgICBpZiAoIXNob3dMb2dvKSB7XG4gICAgICAgICAgc2V0U2hvd0xvZ28odHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0aXRsZTogX18oJ0xvZ2luIHRvIFdQTVUgREVWIERhc2hib2FyZCcsICd3cG11ZGV2X3ZpZHMnKSxcbiAgICAgICAgICBkZXNjOiBfXyhcIllvdSBoYXZlbid0IGxvZ2dlZCBpbnRvIHRoZSBXUE1VIERFViBEYXNoYm9hcmQgcGx1Z2luIGluc3RhbGxlZCwgd2hpY2ggeW91J2xsIG5lZWQgdG8gYWNjZXNzIHRoZSB2aWRlb3MgQVBJLiBXUE1VIERFViB2aWRlb3MgYXJlIGxvY2tlZCwgYW5kIHlvdSBvbmx5IGhhdmUgYWNjZXNzIHRvIGN1c3RvbSB2aWRlb3Mgb24gdGhlIFZpZGVvIFR1dG9yaWFscyBwYWdlLiBMb2cgaW50byB0aGUgV1BNVSBERVYgZGFzaGJvYXJkIHRvIHVubG9jayB0aGUgY29tcGxldGUgbGlicmFyeSBvZiBXUE1VIERFViB2aWRlbyB0dXRvcmlhbHMuXCIsICd3cG11ZGV2X3ZpZHMnKSxcbiAgICAgICAgICBidXR0b246IF9fKCdMb2dpbiBpbnRvIERhc2hib2FyZCcsICd3cG11ZGV2X3ZpZHMnKSxcbiAgICAgICAgICBsaW5rOiBkYXNoX2xvZ2luLFxuICAgICAgICAgIHRhcmdldDogJ19zZWxmJ1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4cyhCb3gsIHtcbiAgICBjbGFzc05hbWU6IFwid3BtdWRldi12aWRlb3MtYm94LW1lc3NhZ2UgXCIuY29uY2F0KHNob3dMb2dvID8gJ3ZpZGVvLXN1aS1yb3cnIDogJ25vLWxvZ28nKSxcbiAgICBjaGlsZHJlbjogW3Nob3dMb2dvICYmIC8qI19fUFVSRV9fKi9fanN4KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJ2aWRlby1zdWktY29sLTEgd3BtdWRldi1kYXNoYm9hcmQtbG9nb1wiLFxuICAgICAgY2hpbGRyZW46ICFoaWRlX2JyYW5kaW5nICYmIC8qI19fUFVSRV9fKi9fanN4KEltYWdlVGFnLCB7XG4gICAgICAgIHNyYzogXCJiYW5uZXIvd3BtdWRldi1sb2dvLnBuZ1wiLFxuICAgICAgICBhbHQ6ICcnLFxuICAgICAgICBjbGFzc05hbWU6IFwic3VpLWltYWdlIHN1aS1pbWFnZS1jZW50ZXJcIlxuICAgICAgfSlcbiAgICB9KSwgLyojX19QVVJFX18qL19qc3hzKFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJ2aWRlby1zdWktY29sLTExIHdwbXVkZXYtZGFzaGJvYXJkLW1lc3NhZ2VcIixcbiAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goXCJoMlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJ3cG11ZGV2LXZpZGVvcy1ib3gtbWVzc2FnZS0tdGl0bGVcIixcbiAgICAgICAgY2hpbGRyZW46IGdldExhYmVscygpLnRpdGxlXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJwXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1kZXNjcmlwdGlvblwiLFxuICAgICAgICBjaGlsZHJlbjogZ2V0TGFiZWxzKCkuZGVzY1xuICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwicFwiLCB7XG4gICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeHMoXCJhXCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwic3VpLWJ1dHRvbiBzdWktYnV0dG9uLWJsdWVcIixcbiAgICAgICAgICBocmVmOiBnZXRMYWJlbHMoKS5saW5rLFxuICAgICAgICAgIHRhcmdldDogZ2V0TGFiZWxzKCkudGFyZ2V0LFxuICAgICAgICAgIGNoaWxkcmVuOiBbIXNob3dMb2dvICYmIC8qI19fUFVSRV9fKi9fanN4KEljb24sIHtcbiAgICAgICAgICAgIGljb246IFwid3BtdWRldi1sb2dvXCJcbiAgICAgICAgICB9KSwgZ2V0TGFiZWxzKCkuYnV0dG9uXVxuICAgICAgICB9KVxuICAgICAgfSldXG4gICAgfSldXG4gIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgRGFzaEJhbm5lcjsiLCJleHBvcnQgKiBmcm9tICcuL0V4cGlyZWRCYW5uZXInO1xuZXhwb3J0ICogZnJvbSAnLi9VcGdyYWRlQmFubmVyJztcbmV4cG9ydCAqIGZyb20gJy4vRGFzaEJhbm5lcic7IiwidmFyIF93aW5kb3ckaXZ0VmFycztcbi8qKlxuICogTGlicmFyeSBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgQm94LCBCdXR0b24sIEljb24gfSBmcm9tICcuLi8uLi8uLi9saWIvY29tcG9uZW50cyc7XG5cbi8qKlxuICogSW50ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IFdoaXRlTGFiZWxCYW5uZXIgfSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzJztcbmltcG9ydCB7IHJlc3RHZXQgfSBmcm9tICcuLi8uLi8uLi9oZWxwZXJzL2FwaSc7XG5cbi8qKlxuICogRXh0ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IF9fIH0gZnJvbSAnQHdvcmRwcmVzcy9pMThuJztcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuXG4vLyBHbG9iYWwgVmFyaWFibGVzXG5pbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIF9yZWYgPSAoX3dpbmRvdyRpdnRWYXJzID0gd2luZG93Lml2dFZhcnMpICE9PSBudWxsICYmIF93aW5kb3ckaXZ0VmFycyAhPT0gdm9pZCAwID8gX3dpbmRvdyRpdnRWYXJzIDoge30sXG4gIHVzZXJfbmFtZSA9IF9yZWYudXNlcl9uYW1lO1xudmFyIGhlYWRlckNsYXNzZXMgPSBjbGFzc25hbWVzKCdzdWktZmxhdHRlbicsICdzdWktc3BhY2luZy10b3AtLTYwJywgJ3N1aS1jb250ZW50LWNlbnRlcicpO1xuZXhwb3J0IGZ1bmN0aW9uIEhpZ2hsaWdodHMoX3JlZjIpIHtcbiAgdmFyIG1vZGFsSUQgPSBfcmVmMi5tb2RhbElELFxuICAgIGNsb3NlTW9kYWwgPSBfcmVmMi5jbG9zZU1vZGFsO1xuICAvKipcbiAgICogRGlzbWlzcyB0aGUgbW9kYWwgYW5kIHNldCB0aGUgZmxhZy5cbiAgICpcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHZhciBkaXNtaXNzID0gZnVuY3Rpb24gZGlzbWlzcygpIHtcbiAgICAvLyBDbG9zZSB0aGUgbW9kYWwuXG4gICAgY2xvc2VNb2RhbCgpO1xuXG4gICAgLy8gTWFudWFsbHkgcmVtb3ZlIG1vZGFsIGNsYXNzIGZyb20gaHRtbCBlbGVtZW50XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2h0bWwnKVswXS5jbGFzc0xpc3QucmVtb3ZlKCdzdWktaGFzLW1vZGFsJyk7XG5cbiAgICAvLyBNYWtlIHN1cmUgdG8gc2V0IHRoZSBmbGFnLlxuICAgIHJlc3RHZXQoe1xuICAgICAgcGF0aDogJ2FjdGlvbnMnLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIGFjdGlvbjogJ2Rpc21pc3Nfd2VsY29tZSdcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4cyhCb3gsIHtcbiAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4cyhCb3guSGVhZGVyLCB7XG4gICAgICBjbGFzc05hbWU6IGhlYWRlckNsYXNzZXMsXG4gICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFdoaXRlTGFiZWxCYW5uZXIsIHtcbiAgICAgICAgc3JjOiBcIndlbGNvbWUvbmV3LXZpZGVvcy5wbmdcIixcbiAgICAgICAgYWx0OiBfXygnSW50cm9kdWNpbmcgTmV3IFZpZGVvcyEnLCAnd3BtdWRldl92aWRzJylcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeHMoXCJidXR0b25cIiwge1xuICAgICAgICBvbkNsaWNrOiBkaXNtaXNzLFxuICAgICAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXMoJ3N1aS1idXR0b24taWNvbicsICdzdWktYnV0dG9uLWZsb2F0LS1yaWdodCcpLFxuICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KEljb24sIHtcbiAgICAgICAgICBpY29uOiBcImNsb3NlXCIsXG4gICAgICAgICAgc2l6ZTogXCJtZFwiXG4gICAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcInNwYW5cIiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJzdWktc2NyZWVuLXJlYWRlci10ZXh0XCIsXG4gICAgICAgICAgY2hpbGRyZW46IF9fKCdDbG9zZSB0aGlzIGRpYWxvZy4nLCAnd3BtdWRldl92aWRzJylcbiAgICAgICAgfSldXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJoM1wiLCB7XG4gICAgICAgIGlkOiBcIlwiLmNvbmNhdChtb2RhbElELCBcIi10aXRsZVwiKSxcbiAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1ib3gtdGl0bGUgc3VpLWxnXCIsXG4gICAgICAgIGNoaWxkcmVuOiBfXygnSW50cm9kdWNpbmcgTmV3IFZpZGVvcyEnLCAnd3BtdWRldl92aWRzJylcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcInBcIiwge1xuICAgICAgICBpZDogXCJcIi5jb25jYXQobW9kYWxJRCwgXCItZGVzY1wiKSxcbiAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1kZXNjcmlwdGlvblwiLFxuICAgICAgICBjaGlsZHJlbjogc3ByaW50ZihfXygnSGV5LCAlcyEgV29yZFByZXNzIGlzIGFsd2F5cyBldm9sdmluZyB3aXRoIG5ldyBmZWF0dXJlcyBhbmQgaW1wcm92ZW1lbnRzLCBhbmQgb3VyIGpvYiBpcyB0byBrZWVwIHlvdSBhYnJlYXN0IG9mIHRob3NlIGNoYW5nZXMuIFNvLCB3ZeKAmXZlIGFkZGVkIG5ldyB2aWRlb3MgKFNpdGUgSGVhbHRoLCBFeHBvcnQgYW5kIEVyYXNlIFBlcnNvbmFsIERhdGEsIEltcG9ydCBhbmQgRXhwb3J0LCBMaXN0cywgQ2F0ZWdvcmllcywgYW5kIEVkaXRpbmcgSW1hZ2VzKSB0byBvdXIgVmlkZW8gVHV0b3JpYWxzLiBUYWtlIGEgbG9vayEnLCAnd3BtdWRldl92aWRzJyksIHVzZXJfbmFtZSlcbiAgICAgIH0pXVxuICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChCb3guRm9vdGVyLCB7XG4gICAgICBpc0ZsYXR0ZW46IHRydWUsXG4gICAgICBpc0NlbnRlcmVkOiB0cnVlLFxuICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KEJ1dHRvbiwge1xuICAgICAgICBvbkNsaWNrOiBkaXNtaXNzLFxuICAgICAgICBjaGlsZHJlbjogX18oJ0dvdCBpdCcsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSlcbiAgICB9KV1cbiAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCBIaWdobGlnaHRzOyIsInZhciBfd2luZG93JGl2dFZhcnM7XG4vKipcbiAqIExpYnJhcnkgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IEJveCwgSWNvbiB9IGZyb20gJy4uLy4uLy4uL2xpYi9jb21wb25lbnRzJztcblxuLyoqXG4gKiBJbnRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgV2hpdGVMYWJlbEJhbm5lciB9IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMnO1xuaW1wb3J0IHsgcmVzdEdldCB9IGZyb20gJy4uLy4uLy4uL2hlbHBlcnMvYXBpJztcblxuLyoqXG4gKiBFeHRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgX18gfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5cbi8vIEdsb2JhbCBWYXJpYWJsZXNcbmltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgX3JlZiA9IChfd2luZG93JGl2dFZhcnMgPSB3aW5kb3cuaXZ0VmFycykgIT09IG51bGwgJiYgX3dpbmRvdyRpdnRWYXJzICE9PSB2b2lkIDAgPyBfd2luZG93JGl2dFZhcnMgOiB7fSxcbiAgdXNlcl9uYW1lID0gX3JlZi51c2VyX25hbWU7XG52YXIgaGVhZGVyQ2xhc3NlcyA9IGNsYXNzbmFtZXMoJ3N1aS1mbGF0dGVuJywgJ3N1aS1zcGFjaW5nLXRvcC0tNjAnLCAnc3VpLWNvbnRlbnQtY2VudGVyJyk7XG5leHBvcnQgZnVuY3Rpb24gRXhwaXJlZE1vZGFsKF9yZWYyKSB7XG4gIHZhciBtb2RhbElEID0gX3JlZjIubW9kYWxJRCxcbiAgICBjbG9zZU1vZGFsID0gX3JlZjIuY2xvc2VNb2RhbDtcbiAgLyoqXG4gICAqIERpc21pc3MgdGhlIG1vZGFsIGFuZCBzZXQgdGhlIGZsYWcuXG4gICAqXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICB2YXIgZGlzbWlzcyA9IGZ1bmN0aW9uIGRpc21pc3MoKSB7XG4gICAgLy8gQ2xvc2UgdGhlIG1vZGFsLlxuICAgIGNsb3NlTW9kYWwoKTtcblxuICAgIC8vIE1hbnVhbGx5IHJlbW92ZSBtb2RhbCBjbGFzcyBmcm9tIGh0bWwgZWxlbWVudFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdodG1sJylbMF0uY2xhc3NMaXN0LnJlbW92ZSgnc3VpLWhhcy1tb2RhbCcpO1xuXG4gICAgLy8gTWFrZSBzdXJlIHRvIHNldCB0aGUgZmxhZy5cbiAgICByZXN0R2V0KHtcbiAgICAgIHBhdGg6ICdhY3Rpb25zJyxcbiAgICAgIHBhcmFtczoge1xuICAgICAgICBhY3Rpb246ICdkaXNtaXNzX2Rhc2gnXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeHMoQm94LCB7XG4gICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeHMoQm94LkhlYWRlciwge1xuICAgICAgY2xhc3NOYW1lOiBoZWFkZXJDbGFzc2VzLFxuICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChXaGl0ZUxhYmVsQmFubmVyLCB7XG4gICAgICAgIHNyYzogXCJtb2RhbC93cG11ZGV2LW1vZGFsLWhlYWRlci5wbmdcIixcbiAgICAgICAgYWx0OiBfXygnTWVtYmVyc2hpcCBFeHBpcmVkJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3hzKFwiYnV0dG9uXCIsIHtcbiAgICAgICAgb25DbGljazogZGlzbWlzcyxcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc25hbWVzKCdzdWktYnV0dG9uLWljb24nLCAnc3VpLWJ1dHRvbi1mbG9hdC0tcmlnaHQnKSxcbiAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChJY29uLCB7XG4gICAgICAgICAgaWNvbjogXCJjbG9zZVwiLFxuICAgICAgICAgIHNpemU6IFwibWRcIlxuICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJzcGFuXCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwic3VpLXNjcmVlbi1yZWFkZXItdGV4dFwiLFxuICAgICAgICAgIGNoaWxkcmVuOiBfXygnQ2xvc2UgdGhpcyBkaWFsb2cuJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICAgIH0pXVxuICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwiaDNcIiwge1xuICAgICAgICBpZDogXCJcIi5jb25jYXQobW9kYWxJRCwgXCItdGl0bGVcIiksXG4gICAgICAgIGNsYXNzTmFtZTogXCJzdWktYm94LXRpdGxlIHN1aS1sZ1wiLFxuICAgICAgICBjaGlsZHJlbjogX18oJ01lbWJlcnNoaXAgRXhwaXJlZCcsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwicFwiLCB7XG4gICAgICAgIGlkOiBcIlwiLmNvbmNhdChtb2RhbElELCBcIi1kZXNjXCIpLFxuICAgICAgICBjbGFzc05hbWU6IFwic3VpLWRlc2NyaXB0aW9uXCIsXG4gICAgICAgIGNoaWxkcmVuOiBzcHJpbnRmKF9fKFwiJXMsIHdlbGNvbWUgdG8gSW50ZWdyYXRlZCBWaWRlbyBUdXRvcmlhbHMgLSB0aGUgYmVzdCB2aWRlbyB0dXRvcmlhbHMgcGx1Z2luIGZvciBXb3JkUHJlc3MuIEl0IGxvb2tzIGxpa2UgeW91ciBXUE1VIERFViBzdWJzY3JpcHRpb24gaGFzIGV4cGlyZWQuIFRvIGNvbnRpbnVlIGRpc3BsYXlpbmcgV1BNVSBERVYncyB3aGl0ZSBsYWJlbCB0dXRvcmlhbCB2aWRlb3MgdG8geW91ciB1c2VycywgcmVuZXcgeW91ciBtZW1iZXJzaGlwIHRvZGF5LlwiLCAnd3BtdWRldl92aWRzJyksIHVzZXJfbmFtZSlcbiAgICAgIH0pXVxuICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChCb3guRm9vdGVyLCB7XG4gICAgICBpc0ZsYXR0ZW46IHRydWUsXG4gICAgICBpc0NlbnRlcmVkOiB0cnVlLFxuICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KFwiYVwiLCB7XG4gICAgICAgIGlkOiBcIndwbXVkZXYtdmlkZW9zLWV4cGlyZWQtYWNjb3VudC1idXR0b25cIixcbiAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1idXR0b24gc3VpLWJ1dHRvbi1wdXJwbGVcIixcbiAgICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgICAgICBocmVmOiBcImh0dHBzOi8vd3BtdWRldi5jb20vP3V0bV9zb3VyY2U9aW50ZWdyYXRlZF92aWRlb190dXRvcmlhbHMmdXRtX21lZGl1bT1wbHVnaW4mdXRtX2NhbXBhaWduPWludGVncmF0ZWRfdmlkZW9fdHV0b3JpYWxzX21vZGFsX3JlbmV3XCIsXG4gICAgICAgIGNoaWxkcmVuOiBfXygnUmVuZXcgTWVtYmVyc2hpcCcsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSlcbiAgICB9KV1cbiAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCBFeHBpcmVkTW9kYWw7IiwidmFyIF93aW5kb3ckaXZ0VmFycztcbi8qKlxuICogTGlicmFyeSBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgQm94LCBJY29uIH0gZnJvbSAnLi4vLi4vLi4vbGliL2NvbXBvbmVudHMnO1xuXG4vKipcbiAqIEludGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBXaGl0ZUxhYmVsQmFubmVyIH0gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cyc7XG5pbXBvcnQgeyByZXN0R2V0IH0gZnJvbSAnLi4vLi4vLi4vaGVscGVycy9hcGknO1xuXG4vKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBfXyB9IGZyb20gJ0B3b3JkcHJlc3MvaTE4bic7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcblxuLy8gR2xvYmFsIFZhcmlhYmxlc1xuaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBfcmVmID0gKF93aW5kb3ckaXZ0VmFycyA9IHdpbmRvdy5pdnRWYXJzKSAhPT0gbnVsbCAmJiBfd2luZG93JGl2dFZhcnMgIT09IHZvaWQgMCA/IF93aW5kb3ckaXZ0VmFycyA6IHt9LFxuICB1c2VyX25hbWUgPSBfcmVmLnVzZXJfbmFtZTtcbnZhciBoZWFkZXJDbGFzc2VzID0gY2xhc3NuYW1lcygnc3VpLWZsYXR0ZW4nLCAnc3VpLXNwYWNpbmctdG9wLS02MCcsICdzdWktY29udGVudC1jZW50ZXInKTtcbmV4cG9ydCBmdW5jdGlvbiBVcGdyYWRlTW9kYWwoX3JlZjIpIHtcbiAgdmFyIG1vZGFsSUQgPSBfcmVmMi5tb2RhbElELFxuICAgIGNsb3NlTW9kYWwgPSBfcmVmMi5jbG9zZU1vZGFsO1xuICAvKipcbiAgICogRGlzbWlzcyB0aGUgbW9kYWwgYW5kIHNldCB0aGUgZmxhZy5cbiAgICpcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHZhciBkaXNtaXNzID0gZnVuY3Rpb24gZGlzbWlzcygpIHtcbiAgICAvLyBDbG9zZSB0aGUgbW9kYWwuXG4gICAgY2xvc2VNb2RhbCgpO1xuXG4gICAgLy8gTWFudWFsbHkgcmVtb3ZlIG1vZGFsIGNsYXNzIGZyb20gaHRtbCBlbGVtZW50XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2h0bWwnKVswXS5jbGFzc0xpc3QucmVtb3ZlKCdzdWktaGFzLW1vZGFsJyk7XG5cbiAgICAvLyBNYWtlIHN1cmUgdG8gc2V0IHRoZSBmbGFnLlxuICAgIHJlc3RHZXQoe1xuICAgICAgcGF0aDogJ2FjdGlvbnMnLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIGFjdGlvbjogJ2Rpc21pc3NfZGFzaCdcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4cyhCb3gsIHtcbiAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4cyhCb3guSGVhZGVyLCB7XG4gICAgICBjbGFzc05hbWU6IGhlYWRlckNsYXNzZXMsXG4gICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFdoaXRlTGFiZWxCYW5uZXIsIHtcbiAgICAgICAgc3JjOiBcIm1vZGFsL3dwbXVkZXYtbW9kYWwtaGVhZGVyLnBuZ1wiLFxuICAgICAgICBhbHQ6IF9fKCdHZXQgSW50ZWdyYXRlZCBWaWRlbyBUdXRvcmlhbCBBY2Nlc3MnLCAnd3BtdWRldl92aWRzJylcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeHMoXCJidXR0b25cIiwge1xuICAgICAgICBvbkNsaWNrOiBkaXNtaXNzLFxuICAgICAgICBjbGFzc05hbWU6IGNsYXNzbmFtZXMoJ3N1aS1idXR0b24taWNvbicsICdzdWktYnV0dG9uLWZsb2F0LS1yaWdodCcpLFxuICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KEljb24sIHtcbiAgICAgICAgICBpY29uOiBcImNsb3NlXCIsXG4gICAgICAgICAgc2l6ZTogXCJtZFwiXG4gICAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcInNwYW5cIiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJzdWktc2NyZWVuLXJlYWRlci10ZXh0XCIsXG4gICAgICAgICAgY2hpbGRyZW46IF9fKCdDbG9zZSB0aGlzIGRpYWxvZy4nLCAnd3BtdWRldl92aWRzJylcbiAgICAgICAgfSldXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJoM1wiLCB7XG4gICAgICAgIGlkOiBcIlwiLmNvbmNhdChtb2RhbElELCBcIi10aXRsZVwiKSxcbiAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1ib3gtdGl0bGUgc3VpLWxnXCIsXG4gICAgICAgIGNoaWxkcmVuOiBfXygnR2V0IEludGVncmF0ZWQgVmlkZW8gVHV0b3JpYWwgQWNjZXNzJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJwXCIsIHtcbiAgICAgICAgaWQ6IFwiXCIuY29uY2F0KG1vZGFsSUQsIFwiLWRlc2NcIiksXG4gICAgICAgIGNsYXNzTmFtZTogXCJzdWktZGVzY3JpcHRpb25cIixcbiAgICAgICAgY2hpbGRyZW46IHNwcmludGYoX18oXCJIZXkgJXMsIGl0IGxvb2tzIGxpa2UgeW91IGRvbid0IGhhdmUgYWNjZXNzIHRvIHRoZSBXUE1VIERFViB3aGl0ZS1sYWJlbGVkIHZpZGVvIHR1dG9yaWFscyBkdWUgdG8geW91ciBjdXJyZW50IG1lbWJlcnNoaXAgc3RhdHVzLiBZb3UgY2FuIGdhaW4gYWNjZXNzIGJ5IGFjdGl2YXRpbmcgYSBmdWxsIG1lbWJlcnNoaXAuIENsaWNrIHRoZSBidXR0b24gYmVsb3cgZm9yIG1vcmUgaW5mb3JtYXRpb24gb24gdGhlIFdQTVUgREVWIHByaWNpbmcgc3RydWN0dXJlLlwiLCAnd3BtdWRldl92aWRzJyksIHVzZXJfbmFtZSlcbiAgICAgIH0pXVxuICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChCb3guRm9vdGVyLCB7XG4gICAgICBpc0ZsYXR0ZW46IHRydWUsXG4gICAgICBpc0NlbnRlcmVkOiB0cnVlLFxuICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KFwiYVwiLCB7XG4gICAgICAgIGlkOiBcIndwbXVkZXYtdmlkZW9zLXVwZ3JhZGUtYWNjb3VudC1idXR0b25cIixcbiAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1idXR0b24gc3VpLWJ1dHRvbi1wdXJwbGVcIixcbiAgICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgICAgICBocmVmOiBcImh0dHBzOi8vd3BtdWRldi5jb20vcHJvamVjdC91bmJyYW5kZWQtdmlkZW8tdHV0b3JpYWxzLz91dG1fc291cmNlPWludGVncmF0ZWRfdmlkZW9fdHV0b3JpYWxzJnV0bV9tZWRpdW09cGx1Z2luJnV0bV9jYW1wYWlnbj1pbnRlZ3JhdGVkX3ZpZGVvX3R1dG9yaWFsc19tb2RhbF91cGdyYWRlXCIsXG4gICAgICAgIGNoaWxkcmVuOiBfXygnR2V0IEZ1bGwgTWVtYmVyc2hpcCcsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSlcbiAgICB9KV1cbiAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCBVcGdyYWRlTW9kYWw7IiwidmFyIF93aW5kb3ckaXZ0VmFycztcbi8qKlxuICogTGlicmFyeSBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgQm94LCBJY29uLCBJY29uQnV0dG9uIH0gZnJvbSAnLi4vLi4vLi4vbGliL2NvbXBvbmVudHMnO1xuXG4vKipcbiAqIEludGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBXaGl0ZUxhYmVsQmFubmVyIH0gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cyc7XG5pbXBvcnQgeyByZXN0R2V0IH0gZnJvbSAnLi4vLi4vLi4vaGVscGVycy9hcGknO1xuaW1wb3J0IHsgZGFzaEluc3RhbGxlZCwgZGFzaEFjdGl2ZSB9IGZyb20gJy4uLy4uLy4uL2hlbHBlcnMvdXRpbHMnO1xuXG4vKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBfXyB9IGZyb20gJ0B3b3JkcHJlc3MvaTE4bic7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcblxuLy8gR2xvYmFsIFZhcmlhYmxlc1xuaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBfcmVmID0gKF93aW5kb3ckaXZ0VmFycyA9IHdpbmRvdy5pdnRWYXJzKSAhPT0gbnVsbCAmJiBfd2luZG93JGl2dFZhcnMgIT09IHZvaWQgMCA/IF93aW5kb3ckaXZ0VmFycyA6IHt9LFxuICB1c2VyX25hbWUgPSBfcmVmLnVzZXJfbmFtZSxcbiAgdXJscyA9IF9yZWYudXJscztcbnZhciBfcmVmMiA9IHVybHMgIT09IG51bGwgJiYgdXJscyAhPT0gdm9pZCAwID8gdXJscyA6IHt9LFxuICBwbHVnaW5zID0gX3JlZjIucGx1Z2lucyxcbiAgZGFzaF9sb2dpbiA9IF9yZWYyLmRhc2hfbG9naW47XG52YXIgaGVhZGVyQ2xhc3NlcyA9IGNsYXNzbmFtZXMoJ3N1aS1mbGF0dGVuJywgJ3N1aS1zcGFjaW5nLXRvcC0tNjAnLCAnc3VpLWNvbnRlbnQtY2VudGVyJywgJ2luc3RhbGwtZGFzaGJvYXJkLW1vZGFsJyk7XG5leHBvcnQgZnVuY3Rpb24gRGFzaE1vZGFsKF9yZWYzKSB7XG4gIHZhciBtb2RhbElEID0gX3JlZjMubW9kYWxJRCxcbiAgICBjbG9zZU1vZGFsID0gX3JlZjMuY2xvc2VNb2RhbDtcbiAgLyoqXG4gICAqIERpc21pc3MgdGhlIG1vZGFsIGFuZCBzZXQgdGhlIGZsYWcuXG4gICAqXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICB2YXIgZGlzbWlzcyA9IGZ1bmN0aW9uIGRpc21pc3MoKSB7XG4gICAgLy8gTWFrZSBzdXJlIHRvIHNldCB0aGUgZmxhZy5cbiAgICByZXN0R2V0KHtcbiAgICAgIHBhdGg6ICdhY3Rpb25zJyxcbiAgICAgIHBhcmFtczoge1xuICAgICAgICBhY3Rpb246ICdkaXNtaXNzX2Rhc2gnXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBNYW51YWxseSByZW1vdmUgbW9kYWwgY2xhc3MgZnJvbSBodG1sIGVsZW1lbnRcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaHRtbCcpWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ3N1aS1oYXMtbW9kYWwnKTtcblxuICAgIC8vIENsb3NlIHRoZSBtb2RhbC5cbiAgICBjbG9zZU1vZGFsKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCBsYWJlbHMgYW5kIGxpbmtzIGZvciB0aGUgYmFubmVyLlxuICAgKlxuICAgKiBCYXNlZCBvbiB0aGUgc3RhdHVzIG9mIFdQTVVERVYgRGFzaCBwbHVnaW4gc3RhdHVzLFxuICAgKiBzZXQgdGhlIGxhYmVscyBhbmQgbGlua3MgZm9yIHRoZSBiYW5uZXIuXG4gICAqXG4gICAqIEByZXR1cm4ge29iamVjdH1cbiAgICovXG4gIHZhciBnZXRMYWJlbHMgPSBmdW5jdGlvbiBnZXRMYWJlbHMoKSB7XG4gICAgaWYgKCFkYXNoSW5zdGFsbGVkKCkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlOiBfXygnSW5zdGFsbCBXUE1VIERFViBEYXNoYm9hcmQnLCAnd3BtdWRldl92aWRzJyksXG4gICAgICAgIGRlc2M6IHNwcmludGYoX18oXCIlcywgd2VsY29tZSB0byBJbnRlZ3JhdGVkIFZpZGVvIFR1dG9yaWFscyAtIHRoZSBiZXN0IHR1dG9yaWFscyBwbHVnaW4gZm9yIFdvcmRQcmVzcy4gSXQgbG9va3MgbGlrZSB5b3UgZG9uJ3QgaGF2ZSB0aGUgV1BNVSBERVYgRGFzaGJvYXJkIHBsdWdpbiBpbnN0YWxsZWQsIHdoaWNoIHlvdSdsbCBuZWVkIHRvIGFjY2VzcyB0aGUgdmlkZW9zIEFQSS4gSW5zdGFsbCBhbmQgbG9nIGludG8gdGhlIHBsdWdpbiB0byBzdGFydCBzZXR0aW5nIHVwIHlvdXIgdmlkZW8gdHV0b3JpYWxzLlwiLCAnd3BtdWRldl92aWRzJyksIHVzZXJfbmFtZSksXG4gICAgICAgIGJ1dHRvbjogX18oJ0luc3RhbGwgUGx1Z2luJywgJ3dwbXVkZXZfdmlkcycpLFxuICAgICAgICBsaW5rOiAnaHR0cHM6Ly93cG11ZGV2LmNvbS9wcm9qZWN0L3dwbXUtZGV2LWRhc2hib2FyZC8nLFxuICAgICAgICB0YXJnZXQ6ICdfYmxhbmsnXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoIWRhc2hBY3RpdmUoKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IF9fKCdBY3RpdmF0ZSBXUE1VIERFViBEYXNoYm9hcmQnLCAnd3BtdWRldl92aWRzJyksXG4gICAgICAgIGRlc2M6IHNwcmludGYoX18oXCJHcmVhdCwgJXMhIFRoZSBXUE1VIERFViBEYXNoYm9hcmQgcGx1Z2luIGlzIGluc3RhbGxlZCwgYnV0IG5vdCBhY3RpdmF0ZWQgeWV0LiBZb3UnbGwgbmVlZCB0byBhY3RpdmF0ZSBpdCB0byBhY2Nlc3Mgb3VyIHZpZGVvcyBBUEkgYW5kIHNldCB1cCB5b3VyIHZpZGVvIHR1dG9yaWFscy5cIiwgJ3dwbXVkZXZfdmlkcycpLCB1c2VyX25hbWUpLFxuICAgICAgICBidXR0b246IF9fKCdBY3RpdmF0ZSBQbHVnaW4nLCAnd3BtdWRldl92aWRzJyksXG4gICAgICAgIGxpbms6IHBsdWdpbnMsXG4gICAgICAgIHRhcmdldDogJ19zZWxmJ1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IF9fKCdMb2dpbiB0byBXUE1VIERFViBEYXNoYm9hcmQnLCAnd3BtdWRldl92aWRzJyksXG4gICAgICAgIGRlc2M6IHNwcmludGYoX18oXCIlcywgd2VsY29tZSB0byBJbnRlZ3JhdGVkIFZpZGVvIFR1dG9yaWFscyAtIHRoZSBiZXN0IHR1dG9yaWFscyBwbHVnaW4gZm9yIFdvcmRQcmVzcy4gSXQgbG9va3MgbGlrZSB5b3UgaGF2ZW4ndCBsb2dnZWQgaW50byB0aGUgV1BNVSBERVYgRGFzaGJvYXJkIHBsdWdpbiwgd2hpY2ggeW91J2xsIG5lZWQgdG8gZG8gdG8gYWNjZXNzIHRoZSB2aWRlb3MgQVBJLiBMb2cgaW50byB0aGUgcGx1Z2luIHRvIGJlZ2luIHNldHRpbmcgdXAgeW91ciB2aWRlbyB0dXRvcmlhbHMuXCIpLCB1c2VyX25hbWUpLFxuICAgICAgICBidXR0b246IF9fKCdMb2dpbicsICd3cG11ZGV2X3ZpZHMnKSxcbiAgICAgICAgbGluazogZGFzaF9sb2dpbixcbiAgICAgICAgdGFyZ2V0OiAnX3NlbGYnXG4gICAgICB9O1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4cyhCb3gsIHtcbiAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4cyhCb3guSGVhZGVyLCB7XG4gICAgICBjbGFzc05hbWU6IGhlYWRlckNsYXNzZXMsXG4gICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFdoaXRlTGFiZWxCYW5uZXIsIHtcbiAgICAgICAgc3JjOiBcIm1vZGFsL2l2dC1tYWluLW1vZGFsLWhlYWRlci5wbmdcIixcbiAgICAgICAgYWx0OiBfXyhnZXRMYWJlbHMoKS50aXRsZSwgJ3dwbXVkZXZfdmlkcycpXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3goSWNvbkJ1dHRvbiwge1xuICAgICAgICBvdXRsaW5lZDogZmFsc2UsXG4gICAgICAgIGNsYXNzTmFtZTogXCJzdWktYnV0dG9uLWZsb2F0LS1yaWdodFwiLFxuICAgICAgICBvbkNsaWNrOiBkaXNtaXNzLFxuICAgICAgICBpZDogXCJcIi5jb25jYXQobW9kYWxJRCwgXCItY2xvc2VcIiksXG4gICAgICAgIGljb246IFwiY2xvc2VcIixcbiAgICAgICAgc2l6ZTogXCJtZFwiLFxuICAgICAgICBsYWJlbDogX18oJ0Nsb3NlIHRoaXMgZGlhbG9nLicsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwiaDNcIiwge1xuICAgICAgICBpZDogXCJcIi5jb25jYXQobW9kYWxJRCwgXCItdGl0bGVcIiksXG4gICAgICAgIGNsYXNzTmFtZTogXCJzdWktYm94LXRpdGxlIHN1aS1sZ1wiLFxuICAgICAgICBjaGlsZHJlbjogZ2V0TGFiZWxzKCkudGl0bGVcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcInBcIiwge1xuICAgICAgICBpZDogXCJcIi5jb25jYXQobW9kYWxJRCwgXCItZGVzY1wiKSxcbiAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1kZXNjcmlwdGlvblwiLFxuICAgICAgICBjaGlsZHJlbjogZ2V0TGFiZWxzKCkuZGVzY1xuICAgICAgfSldXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4KEJveC5Gb290ZXIsIHtcbiAgICAgIGlzRmxhdHRlbjogdHJ1ZSxcbiAgICAgIGlzQ2VudGVyZWQ6IHRydWUsXG4gICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3hzKFwiYVwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJzdWktYnV0dG9uIHN1aS1idXR0b24tYmx1ZVwiLFxuICAgICAgICB0YXJnZXQ6IGdldExhYmVscygpLnRhcmdldCxcbiAgICAgICAgaHJlZjogZ2V0TGFiZWxzKCkubGluayxcbiAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChJY29uLCB7XG4gICAgICAgICAgaWNvbjogXCJ3cG11ZGV2LWxvZ29cIlxuICAgICAgICB9KSwgZ2V0TGFiZWxzKCkuYnV0dG9uXVxuICAgICAgfSlcbiAgICB9KV1cbiAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCBEYXNoTW9kYWw7IiwiZXhwb3J0ICogZnJvbSAnLi9IaWdobGlnaHRzJztcbmV4cG9ydCAqIGZyb20gJy4vRXhwaXJlZE1vZGFsJztcbmV4cG9ydCAqIGZyb20gJy4vVXBncmFkZU1vZGFsJztcbmV4cG9ydCAqIGZyb20gJy4vRGFzaE1vZGFsJzsiLCJ2YXIgX3dpbmRvdyRpdnRWYXJzO1xuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkociwgZSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKHIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBlKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgZSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkgeyBpZiAocikgeyBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gXCJPYmplY3RcIiA9PT0gdCAmJiByLmNvbnN0cnVjdG9yICYmICh0ID0gci5jb25zdHJ1Y3Rvci5uYW1lKSwgXCJNYXBcIiA9PT0gdCB8fCBcIlNldFwiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6IFwiQXJndW1lbnRzXCIgPT09IHQgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkgPyBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSA6IHZvaWQgMDsgfSB9XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQociwgbCkgeyB2YXIgdCA9IG51bGwgPT0gciA/IG51bGwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgcltTeW1ib2wuaXRlcmF0b3JdIHx8IHJbXCJAQGl0ZXJhdG9yXCJdOyBpZiAobnVsbCAhPSB0KSB7IHZhciBlLCBuLCBpLCB1LCBhID0gW10sIGYgPSAhMCwgbyA9ICExOyB0cnkgeyBpZiAoaSA9ICh0ID0gdC5jYWxsKHIpKS5uZXh0LCAwID09PSBsKSB7IGlmIChPYmplY3QodCkgIT09IHQpIHJldHVybjsgZiA9ICExOyB9IGVsc2UgZm9yICg7ICEoZiA9IChlID0gaS5jYWxsKHQpKS5kb25lKSAmJiAoYS5wdXNoKGUudmFsdWUpLCBhLmxlbmd0aCAhPT0gbCk7IGYgPSAhMCk7IH0gY2F0Y2ggKHIpIHsgbyA9ICEwLCBuID0gcjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFmICYmIG51bGwgIT0gdC5yZXR1cm4gJiYgKHUgPSB0LnJldHVybigpLCBPYmplY3QodSkgIT09IHUpKSByZXR1cm47IH0gZmluYWxseSB7IGlmIChvKSB0aHJvdyBuOyB9IH0gcmV0dXJuIGE7IH0gfVxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKHIpIHsgaWYgKEFycmF5LmlzQXJyYXkocikpIHJldHVybiByOyB9XG4vKipcbiAqIExpYnJhcnkgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IEhlYWRlciwgVG9wTm90aWNlLCBNb2RhbCB9IGZyb20gJy4uLy4uL2xpYi9jb21wb25lbnRzJztcbmltcG9ydCB7IHVzZU1vZGFsIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzJztcblxuLyoqXG4gKiBJbnRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgZ2V0Q3VycmVudE5vdGljZSB9IGZyb20gJy4uLy4uL3N0b3JlL3NsaWNlcy9ub3RpY2UnO1xuaW1wb3J0IHsgU3VtbWFyeUJveCwgVmlkZW9zLCBQbGF5bGlzdHMgfSBmcm9tICcuL3BhcnRpYWxzJztcbmltcG9ydCB7IGluaXRQbGF5bGlzdHMgfSBmcm9tICcuLi8uLi9zdG9yZS9zbGljZXMvcGxheWxpc3RzJztcbmltcG9ydCB7IEV4cGlyZWRCYW5uZXIsIFVwZ3JhZGVCYW5uZXIsIERhc2hCYW5uZXIgfSBmcm9tICcuL2Jhbm5lcnMnO1xuaW1wb3J0IHsgaW5pdFZpZGVvcyB9IGZyb20gJy4uLy4uL3N0b3JlL3NsaWNlcy92aWRlb3MnO1xuaW1wb3J0IHsgdmFsaWRNZW1iZXIsIGV4cGlyZWRNZW1iZXIsIGRhc2hDb25uZWN0ZWQsIGRhc2hBY3RpdmUgfSBmcm9tICcuLi8uLi9oZWxwZXJzL3V0aWxzJztcbmltcG9ydCB7IFBhZ2VGb290ZXIgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzJztcbmltcG9ydCB7IEhpZ2hsaWdodHMsIEV4cGlyZWRNb2RhbCwgVXBncmFkZU1vZGFsLCBEYXNoTW9kYWwgfSBmcm9tICcuL21vZGFscyc7XG5pbXBvcnQgeyBnZXRPcHRpb24gfSBmcm9tICcuLi8uLi9zdG9yZS9zbGljZXMvc2V0dGluZ3MnO1xuaW1wb3J0ICcuL3N0eWxlcy9tYWluLnNjc3MnO1xuXG4vKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBfXyB9IGZyb20gJ0B3b3JkcHJlc3MvaTE4bic7XG5pbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VEaXNwYXRjaCwgdXNlU2VsZWN0b3IgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5cbi8vIEdsb2JhbCBWYXJpYWJsZXNcbmltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgX3JlZiA9IChfd2luZG93JGl2dFZhcnMgPSB3aW5kb3cuaXZ0VmFycykgIT09IG51bGwgJiYgX3dpbmRvdyRpdnRWYXJzICE9PSB2b2lkIDAgPyBfd2luZG93JGl2dFZhcnMgOiB7fSxcbiAgaGlkZV9kb2NfbGluayA9IF9yZWYud2hpdGVsYWJlbC5oaWRlX2RvY19saW5rO1xuZXhwb3J0IGZ1bmN0aW9uIEFwcCgpIHtcbiAgdmFyIGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcbiAgdmFyIGN1cnJlbnROb3RpY2UgPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4gZ2V0Q3VycmVudE5vdGljZShzdGF0ZSk7XG4gIH0pO1xuXG4gIC8vIE5vdGljZSBEYXRhXG4gIHZhciBpZCA9IGN1cnJlbnROb3RpY2UuaWQsXG4gICAgbWVzc2FnZSA9IGN1cnJlbnROb3RpY2UubWVzc2FnZSxcbiAgICB0eXBlID0gY3VycmVudE5vdGljZS50eXBlLFxuICAgIGRpc21pc3MgPSBjdXJyZW50Tm90aWNlLmRpc21pc3M7XG4gIHZhciBkaXNtaXNzV2VsY29tZU5vdGljZSA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBnZXRPcHRpb24oc3RhdGUsICdkaXNtaXNzX3dlbGNvbWVfbm90aWNlJywgMCk7XG4gIH0pO1xuICB2YXIgZGlzbWlzc0Rhc2hOb3RpY2UgPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4gZ2V0T3B0aW9uKHN0YXRlLCAnZGlzbWlzc19kYXNoX25vdGljZScsIDApO1xuICB9KTtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgY3VycmVudCBtZW1iZXJzaGlwIG5lZWRzIGFuIHVwZ3JhZGUuXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICB2YXIgc2hvdWxkVXBncmFkZSA9IGZ1bmN0aW9uIHNob3VsZFVwZ3JhZGUoKSB7XG4gICAgcmV0dXJuICFleHBpcmVkTWVtYmVyKCkgJiYgIXZhbGlkTWVtYmVyKCkgJiYgZGFzaENvbm5lY3RlZCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB3ZWxjb21lIG1vZGFsIGlzIHJlcXVpcmVkLlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgdmFyIHNob3dXZWxjb21lID0gZnVuY3Rpb24gc2hvd1dlbGNvbWUoKSB7XG4gICAgcmV0dXJuIGRpc21pc3NXZWxjb21lTm90aWNlIDw9IDA7XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGRhc2ggbW9kYWwgY2FuIGJlIHNob3duLlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgdmFyIGNhblNob3dNb2RhbCA9IGZ1bmN0aW9uIGNhblNob3dNb2RhbCgpIHtcbiAgICByZXR1cm4gZGlzbWlzc0Rhc2hOb3RpY2UgPD0gMDtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgRGFzaCBwbHVnaW4gbW9kYWwgaXMgcmVxdWlyZWQuXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICB2YXIgc2hvd0Rhc2hNb2RhbCA9IGZ1bmN0aW9uIHNob3dEYXNoTW9kYWwoKSB7XG4gICAgcmV0dXJuICF2YWxpZE1lbWJlcigpICYmIGNhblNob3dNb2RhbCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB3ZSBuZWVkIHRvIHNob3cgZXhwaXJlZCBtZW1iZXJzaGlwIG1vZGFsLlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgdmFyIHNob3dFeHBpcmVkTW9kYWwgPSBmdW5jdGlvbiBzaG93RXhwaXJlZE1vZGFsKCkge1xuICAgIHJldHVybiBleHBpcmVkTWVtYmVyKCkgJiYgZGFzaEFjdGl2ZSgpICYmIGNhblNob3dNb2RhbCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB3ZSBuZWVkIHRvIHNob3cgdXBncmFkZSBtZW1iZXJzaGlwIG1vZGFsLlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgdmFyIHNob3dVcGdyYWRlTW9kYWwgPSBmdW5jdGlvbiBzaG93VXBncmFkZU1vZGFsKCkge1xuICAgIHJldHVybiBzaG91bGRVcGdyYWRlKCkgJiYgY2FuU2hvd01vZGFsKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIExvYWQgZGF0YSBvbiBtb3VudFxuICAgKi9cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAvLyBMb2FkIHZpZGVvc1xuICAgIGRpc3BhdGNoKGluaXRWaWRlb3Moe1xuICAgICAgY291bnQ6IDUsXG4gICAgICB0eXBlOiB2YWxpZE1lbWJlcigpID8gJycgOiAnY3VzdG9tJ1xuICAgIH0pKTtcblxuICAgIC8vIExvYWQgUGxheWxpc3RzXG4gICAgZGlzcGF0Y2goaW5pdFBsYXlsaXN0cyh7XG4gICAgICBjb3VudDogNVxuICAgIH0pKTtcbiAgfSwgW10pO1xuXG4gIC8vIEhpZ2hsaWdodHMgTW9kYWxcbiAgdmFyIGhpZ2hsaWdodHNNb2RhbElkID0gJ3dwbXVkZXYtdmlkZW9zLXdlbGNvbWUtaGlnaGxpZ2h0JztcbiAgdmFyIF91c2VNb2RhbCA9IHVzZU1vZGFsKHtcbiAgICAgIGlkOiBoaWdobGlnaHRzTW9kYWxJZFxuICAgIH0pLFxuICAgIF91c2VNb2RhbDIgPSBfc2xpY2VkVG9BcnJheShfdXNlTW9kYWwsIDIpLFxuICAgIG9wZW5IaWdobGlnaHRzTW9kYWwgPSBfdXNlTW9kYWwyWzBdLFxuICAgIGNsb3NlSGlnaGxpZ2h0c01vZGFsID0gX3VzZU1vZGFsMlsxXTtcblxuICAvLyBFeHBpcmVkIE1vZGFsXG4gIHZhciBleHBpcmVkTW9kYWxJZCA9ICd3cG11ZGV2LXZpZGVvcy1leHBpcmVkLWFjY291bnQnO1xuICB2YXIgX3VzZU1vZGFsMyA9IHVzZU1vZGFsKHtcbiAgICAgIGlkOiBleHBpcmVkTW9kYWxJZFxuICAgIH0pLFxuICAgIF91c2VNb2RhbDQgPSBfc2xpY2VkVG9BcnJheShfdXNlTW9kYWwzLCAyKSxcbiAgICBvcGVuRXhwaXJlZE1vZGFsID0gX3VzZU1vZGFsNFswXSxcbiAgICBjbG9zZUV4cGlyZWRNb2RhbCA9IF91c2VNb2RhbDRbMV07XG5cbiAgLy8gVXBncmFkZSBNb2RhbFxuICB2YXIgdXBncmFkZU1vZGFsSWQgPSAnd3BtdWRldi12aWRlb3MtdXBncmFkZS1hY2NvdW50JztcbiAgdmFyIF91c2VNb2RhbDUgPSB1c2VNb2RhbCh7XG4gICAgICBpZDogdXBncmFkZU1vZGFsSWRcbiAgICB9KSxcbiAgICBfdXNlTW9kYWw2ID0gX3NsaWNlZFRvQXJyYXkoX3VzZU1vZGFsNSwgMiksXG4gICAgb3BlblVwZ3JhZGVNb2RhbCA9IF91c2VNb2RhbDZbMF0sXG4gICAgY2xvc2VVcGdyYWRlTW9kYWwgPSBfdXNlTW9kYWw2WzFdO1xuXG4gIC8vIERhc2ggTW9kYWxcbiAgdmFyIGRhc2hNb2RhbElkID0gJ3dwbXVkZXYtdmlkZW9zLWluc3RhbGwtYWN0aXZhdGUnO1xuICB2YXIgX3VzZU1vZGFsNyA9IHVzZU1vZGFsKHtcbiAgICAgIGlkOiBkYXNoTW9kYWxJZFxuICAgIH0pLFxuICAgIF91c2VNb2RhbDggPSBfc2xpY2VkVG9BcnJheShfdXNlTW9kYWw3LCAyKSxcbiAgICBvcGVuRGFzaE1vZGFsID0gX3VzZU1vZGFsOFswXSxcbiAgICBjbG9zZURhc2hNb2RhbCA9IF91c2VNb2RhbDhbMV07XG5cbiAgLy8gT3BlbiBtb2RhbHMgYWNjb3JkaW5nIHRvIGNvbmRpdGlvbnNcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoc2hvd1dlbGNvbWUoKSkge1xuICAgICAgb3BlbkhpZ2hsaWdodHNNb2RhbCgpO1xuICAgIH0gZWxzZSBpZiAoc2hvd0V4cGlyZWRNb2RhbCgpKSB7XG4gICAgICBvcGVuRXhwaXJlZE1vZGFsKCk7XG4gICAgfSBlbHNlIGlmIChzaG93VXBncmFkZU1vZGFsKCkpIHtcbiAgICAgIG9wZW5VcGdyYWRlTW9kYWwoKTtcbiAgICB9IGVsc2UgaWYgKHNob3dEYXNoTW9kYWwoKSkge1xuICAgICAgb3BlbkRhc2hNb2RhbCgpO1xuICAgIH1cbiAgfSwgW10pO1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3hzKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwic3VpLXdyYXBcIixcbiAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KE1vZGFsLCB7XG4gICAgICBpZDogaGlnaGxpZ2h0c01vZGFsSWQsXG4gICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goSGlnaGxpZ2h0cywge1xuICAgICAgICBtb2RhbElEOiBoaWdobGlnaHRzTW9kYWxJZCxcbiAgICAgICAgY2xvc2VNb2RhbDogY2xvc2VIaWdobGlnaHRzTW9kYWxcbiAgICAgIH0pXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4KE1vZGFsLCB7XG4gICAgICBpZDogZXhwaXJlZE1vZGFsSWQsXG4gICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goRXhwaXJlZE1vZGFsLCB7XG4gICAgICAgIG1vZGFsSUQ6IGV4cGlyZWRNb2RhbElkLFxuICAgICAgICBjbG9zZU1vZGFsOiBjbG9zZUV4cGlyZWRNb2RhbFxuICAgICAgfSlcbiAgICB9KSwgLyojX19QVVJFX18qL19qc3goTW9kYWwsIHtcbiAgICAgIGlkOiB1cGdyYWRlTW9kYWxJZCxcbiAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChVcGdyYWRlTW9kYWwsIHtcbiAgICAgICAgbW9kYWxJRDogdXBncmFkZU1vZGFsSWQsXG4gICAgICAgIGNsb3NlTW9kYWw6IGNsb3NlVXBncmFkZU1vZGFsXG4gICAgICB9KVxuICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChNb2RhbCwge1xuICAgICAgaWQ6IGRhc2hNb2RhbElkLFxuICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KERhc2hNb2RhbCwge1xuICAgICAgICBtb2RhbElEOiBkYXNoTW9kYWxJZCxcbiAgICAgICAgY2xvc2VNb2RhbDogY2xvc2VEYXNoTW9kYWxcbiAgICAgIH0pXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4KEhlYWRlciwge1xuICAgICAgc2hvd0RvY0xpbms6ICFoaWRlX2RvY19saW5rLFxuICAgICAgZG9jTGluazogXCJodHRwczovL3dwbXVkZXYuY29tL2RvY3Mvd3BtdS1kZXYtcGx1Z2lucy9pbnRlZ3JhdGVkLXZpZGVvLXR1dG9yaWFscy9cIixcbiAgICAgIGRvY1RleHQ6IF9fKCdWaWV3IERvY3VtZW50YXRpb24nLCAnd3BtdWRldl92aWRzJyksXG4gICAgICB0aXRsZTogX18oJ0Rhc2hib2FyZCcsICd3cG11ZGV2X3ZpZHMnKVxuICAgIH0pLCBleHBpcmVkTWVtYmVyKCkgJiYgLyojX19QVVJFX18qL19qc3goRXhwaXJlZEJhbm5lciwge30pLCAhZXhwaXJlZE1lbWJlcigpICYmIHNob3VsZFVwZ3JhZGUoKSAmJiAvKiNfX1BVUkVfXyovX2pzeChVcGdyYWRlQmFubmVyLCB7fSksICEoIWV4cGlyZWRNZW1iZXIoKSAmJiBzaG91bGRVcGdyYWRlKCkpICYmICF2YWxpZE1lbWJlcigpICYmIC8qI19fUFVSRV9fKi9fanN4KERhc2hCYW5uZXIsIHt9KSwgLyojX19QVVJFX18qL19qc3goXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInN1aS1mbG9hdGluZy1ub3RpY2VzXCIsXG4gICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goVG9wTm90aWNlLCB7XG4gICAgICAgIGlkOiBpZCxcbiAgICAgICAgZGlzbWlzczogZGlzbWlzcyxcbiAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgbGFiZWw6IF9fKCdEaXNtaXNzIHRoaXMgbm90aWNlJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICB9KVxuICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChTdW1tYXJ5Qm94LCB7fSksIC8qI19fUFVSRV9fKi9fanN4cyhcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwic3VpLXJvd1wiLFxuICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJzdWktY29sLW1kLTZcIixcbiAgICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KFZpZGVvcywge30pXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwic3VpLWNvbC1tZC02XCIsXG4gICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChQbGF5bGlzdHMsIHt9KVxuICAgICAgfSldXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFBhZ2VGb290ZXIsIHt9KV1cbiAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCBBcHA7IiwiaW1wb3J0IHsgU3RyaWN0TW9kZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20vY2xpZW50JztcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHN0b3JlIGZyb20gJy4uLy4uL3N0b3JlL3N0b3JlJztcbmltcG9ydCBBcHAgZnJvbSAnLi9BcHAnO1xuaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciByb290ID0gUmVhY3RET00uY3JlYXRlUm9vdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd3BtdWRldi12aWRlb3MtZGFzaGJvYXJkLWFwcCcpKTtcbnJvb3QucmVuZGVyKCAvKiNfX1BVUkVfXyovX2pzeChTdHJpY3RNb2RlLCB7XG4gIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChQcm92aWRlciwge1xuICAgIHN0b3JlOiBzdG9yZSxcbiAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goQXBwLCB7fSlcbiAgfSlcbn0pKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1377\n')},9317:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Eo: function() { return /* binding */ getPlaylists; },\n/* harmony export */   cM: function() { return /* binding */ initPlaylists; }\n/* harmony export */ });\n/* unused harmony exports savePlaylist, createPlaylist, orderChange, deletePlaylist, bulkDelete, getFiltered, isPlaylistSelected, isVideoSelected, areAllSelected, getSelectedPlaylists, getLoadingStatus, setPlaylist, updatePlaylistKey, togglePlaylist, toggleVideo, toggleAll */\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8740);\n/* harmony import */ var _helpers_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9331);\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4214);\n/* harmony import */ var reselect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1081);\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator.return && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, catch: function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\n\n\n\n\n\n/***************************************************\n *\n * Asynchronous Requests\n *\n * *************************************************/\n/**\n * Initialize the playlist list\n *\n * @return {Promise}\n */\nvar initPlaylists = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'playlists/init\',\n// Redux action type\nfunction (params) {\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restGet */ .B8)({\n    path: \'playlists\',\n    params: params\n  });\n});\n\n/**\n * Save a single playlist changes to database\n *\n * @return {Promise}\n */\nvar savePlaylist = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'playlists/updateSinglePlaylist\',\n// Redux action type\nfunction (data) {\n  var playlist = data.playlist,\n    id = data.id;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restPost */ .J8)({\n    path: "playlists/".concat(id),\n    data: playlist\n  });\n});\n\n/**\n * Create a new playlist\n *\n * @return {Promise}\n */\nvar createPlaylist = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'playlists/createPlaylist\',\n/*#__PURE__*/\n// Redux action type\nfunction () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(data, _ref) {\n    var rejectWithValue, playlist;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          rejectWithValue = _ref.rejectWithValue;\n          playlist = data.playlist;\n          _context.prev = 2;\n          _context.next = 5;\n          return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restPost */ .J8)({\n            path: "playlists",\n            data: playlist\n          });\n        case 5:\n          return _context.abrupt("return", _context.sent);\n        case 8:\n          _context.prev = 8;\n          _context.t0 = _context["catch"](2);\n          return _context.abrupt("return", rejectWithValue(_context.t0));\n        case 11:\n        case "end":\n          return _context.stop();\n      }\n    }, _callee, null, [[2, 8]]);\n  }));\n  return function (_x, _x2) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n/**\n * Change Playlist Order\n *\n * @return {void}\n */\nvar orderChange = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'playlists/changePlaylistOrder\',\n// Redux action type\n\nfunction (data) {\n  var playlistID = data.playlistID,\n    oldIndex = data.oldIndex,\n    newIndex = data.newIndex;\n  if (playlistID > 0 && oldIndex !== newIndex) {\n    (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restGet */ .B8)({\n      path: \'playlists/reorder\',\n      params: {\n        playlist: playlistID,\n        from: oldIndex,\n        to: newIndex\n      }\n    });\n  }\n});\n\n/**\n * Delete a playlist\n *\n * @return {Promise}\n */\nvar deletePlaylist = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'playlists/deletePlaylist\',\n// Redux action type\nfunction (data) {\n  var id = data.id;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restDelete */ ._8)({\n    path: "playlists/".concat(id)\n  });\n});\n\n/**\n * Bulk delete playlists & videos\n *\n * @return {Promise}\n */\nvar bulkDelete = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'playlists/bulkDelete\',\n// Redux action type\nfunction (data) {\n  var selected = data.selected;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restPost */ .J8)({\n    path: "playlists/bulk-actions",\n    data: {\n      action: \'delete\',\n      items: selected\n    }\n  });\n});\n\n/***************************************************\n *\n * Playlists Slice\n *\n * *************************************************/\nvar playlistsSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createSlice */ .Z0)({\n  name: \'playlists\',\n  /***************************************************\n   *\n   * Initial State\n   *\n   * *************************************************/\n\n  initialState: {\n    playlists: {},\n    filtered: [],\n    selected: {},\n    isLoading: false\n  },\n  /***************************************************\n   *\n   * Reducers\n   *\n   * *************************************************/\n  reducers: {\n    /**\n     * Update a single playlist in the playlists list\n     *\n     * If playlist exist, it will replace the playlist object,\n     * if not, it will add the playlist object.\n     *\n     * @param {object} state Current state.\n     * @param {object} action action data.\n     */\n    setPlaylist: function setPlaylist(state, action) {\n      var playlist = action.payload.playlist;\n      var playlists = state.playlists;\n      var newPlaylists = _objectSpread(_objectSpread({}, playlists), {}, _defineProperty({}, playlist.id, playlist));\n      return _objectSpread(_objectSpread({}, state), {}, {\n        playlists: newPlaylists\n      });\n    },\n    /**\n     * Select or deselect a playlist ( checkbox )\n     *\n     * @return {void}\n     */\n    togglePlaylist: function togglePlaylist(state, action) {\n      var _state$playlists, _selected$id;\n      var _action$payload = action.payload,\n        checked = _action$payload.checked,\n        id = _action$payload.id;\n      var allVideos = (_state$playlists = state.playlists) === null || _state$playlists === void 0 || (_state$playlists = _state$playlists[id]) === null || _state$playlists === void 0 ? void 0 : _state$playlists.videos;\n\n      // The new selected object\n      var selected = _objectSpread(_objectSpread({}, state.selected), {}, _defineProperty({}, id, {\n        selected: checked,\n        videos: checked && allVideos || []\n      }));\n\n      // If playlist is not selected and no videos are selected,\n      // remove the playlist\n      if ((selected === null || selected === void 0 || (_selected$id = selected[id]) === null || _selected$id === void 0 || (_selected$id = _selected$id.videos) === null || _selected$id === void 0 ? void 0 : _selected$id.length) === 0 && !checked) {\n        delete selected[id];\n      }\n      return _objectSpread(_objectSpread({}, state), {}, {\n        selected: selected\n      });\n    },\n    /**\n     * Select or de-select all playlists and videos ( checkbox )\n     *\n     * @return {void}\n     */\n    toggleAll: function toggleAll(state, action) {\n      var checked = action.payload.checked;\n      var playlists = state.playlists;\n\n      // The new selected object\n      var newSelected = {};\n      if (checked === true) {\n        Object.keys(playlists).forEach(function (id) {\n          newSelected[id] = {\n            selected: true,\n            videos: (playlists === null || playlists === void 0 ? void 0 : playlists[id].videos) || []\n          };\n        });\n      }\n      return _objectSpread(_objectSpread({}, state), {}, {\n        selected: newSelected\n      });\n    },\n    /**\n     * Update selected videos list ( checkbox )\n     *\n     * @return {void}\n     */\n    toggleVideo: function toggleVideo(state, action) {\n      var _selected$playlistID, _selected$playlistID2;\n      var _action$payload2 = action.payload,\n        videoID = _action$payload2.videoID,\n        playlistID = _action$payload2.playlistID;\n      var selected = state.selected;\n      var videos = (selected === null || selected === void 0 || (_selected$playlistID = selected[playlistID]) === null || _selected$playlistID === void 0 ? void 0 : _selected$playlistID.videos) || [];\n\n      // The new selected object\n      var newSelected = {};\n\n      // The new videos array\n      var newVideos = [];\n\n      // Toggle video\n      if (videos.includes(videoID)) {\n        // Remove video if it exists\n        newVideos = videos.filter(function (el) {\n          return el !== videoID;\n        });\n      } else {\n        // Add video if it doesn\'t exist\n        newVideos = [].concat(_toConsumableArray(videos), [videoID]);\n      }\n      var isPlaylistSelected = (selected === null || selected === void 0 || (_selected$playlistID2 = selected[playlistID]) === null || _selected$playlistID2 === void 0 ? void 0 : _selected$playlistID2.selected) || false;\n\n      // Update selected object\n      newSelected = _objectSpread(_objectSpread({}, selected), {}, _defineProperty({}, playlistID, {\n        selected: isPlaylistSelected,\n        videos: newVideos\n      }));\n\n      /* If playlist is not selected and no video is selected,\n      remove the playlist */\n      if (newVideos.length === 0 && !isPlaylistSelected) {\n        delete newSelected[playlistID];\n      }\n\n      // Set the state\n      return _objectSpread(_objectSpread({}, state), {}, {\n        selected: newSelected\n      });\n    }\n  },\n  /***************************************************\n   *\n   * Extra Reducers\n   *\n   * Manage of asynchronous requests states\n   *\n   * *************************************************/\n  extraReducers: function extraReducers(builder) {\n    builder\n    // Playlists Init\n    .addCase(initPlaylists.pending, function (state) {\n      state.isLoading = true;\n    }).addCase(initPlaylists.fulfilled, function (state, action) {\n      state.isLoading = false;\n      var payload = action.payload;\n      if (payload.success && payload.data) {\n        var playlists = {};\n        var filtered = [];\n\n        // Setup the list data.\n        payload.data.forEach(function (playlist) {\n          playlists[playlist.id] = playlist;\n          filtered.push(playlist.id);\n        });\n\n        // update the state\n        state.playlists = playlists;\n        state.filtered = filtered;\n      }\n    }).addCase(initPlaylists.rejected, function (state) {\n      state.isLoading = false;\n    })\n    // Save Playlist\n    .addCase(savePlaylist.pending, function (state) {\n      state.isLoading = true;\n    }).addCase(savePlaylist.fulfilled, function (state, action) {\n      var data = action.payload.data;\n      var playlists = state.playlists;\n      var newPlaylists = _objectSpread(_objectSpread({}, playlists), {}, _defineProperty({}, data.id, data));\n      state.isLoading = false;\n      state.playlists = newPlaylists;\n    }).addCase(savePlaylist.rejected, function (state) {\n      state.isLoading = false;\n    })\n    // Create Playlist\n    .addCase(createPlaylist.pending, function (state) {\n      state.isLoading = true;\n    }).addCase(createPlaylist.fulfilled, function (state, action) {\n      var _action$payload3 = action.payload,\n        data = _action$payload3.data,\n        success = _action$payload3.success;\n      if (success && data) {\n        var playlists = state.playlists,\n          filtered = state.filtered;\n        // update the list in the store\n        state.playlists = _objectSpread(_objectSpread({}, playlists), {}, _defineProperty({}, data.id, data));\n        state.filtered = [].concat(_toConsumableArray(filtered), [data.id]);\n      }\n      state.isLoading = false;\n    }).addCase(createPlaylist.rejected, function (state) {\n      state.isLoading = false;\n    })\n    // Delete Playlist\n    .addCase(deletePlaylist.pending, function (state) {\n      state.isLoading = true;\n    }).addCase(deletePlaylist.fulfilled, function (state, action) {\n      var id = action.meta.arg.id,\n        success = action.payload.success;\n\n      // Remove the playlist if success\n      if (success === true) {\n        var playlists = state.playlists,\n          filtered = state.filtered;\n        var newPlaylists = _objectSpread({}, playlists);\n        delete newPlaylists[id];\n        // update the list in the store\n        state.playlists = _objectSpread({}, newPlaylists);\n        state.filtered = filtered.filter(function (item) {\n          return item !== id;\n        });\n      }\n      state.isLoading = false;\n    }).addCase(deletePlaylist.rejected, function (state) {\n      state.isLoading = false;\n    })\n    // Bulk Delete\n    .addCase(bulkDelete.pending, function (state) {\n      state.isLoading = true;\n    }).addCase(bulkDelete.fulfilled, function (state) {\n      state.isLoading = false;\n\n      // Empty the selected list\n      state.selected = [];\n    }).addCase(bulkDelete.rejected, function (state) {\n      state.isLoading = false;\n\n      // Empty the selected list\n      state.selected = [];\n    });\n  }\n});\n\n/***************************************************\n *\n * Selectors\n *\n * *************************************************/\n\nvar playlistsState = function playlistsState(state) {\n  return state.playlists;\n};\n\n/**\n * Get playlists object\n *\n * @param {object} playlistsState the playlists object.\n *\n * @return {object}\n */\nvar getPlaylists = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(playlistsState, function (playlistsState) {\n  return playlistsState.playlists;\n});\n\n/**\n * Get filtered array\n *\n * @param {object} playlistsState the playlists object.\n *\n * @return {array}\n */\nvar getFiltered = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(playlistsState, function (playlistsState) {\n  return playlistsState.filtered;\n});\n\n/**\n * Checks if the playlist is selected\n *\n * @param {object} playlistsState the playlists object.\n * @param {number} id playlist id\n *\n * @return {boolean}\n */\nvar isPlaylistSelected = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(playlistsState, function (_, id) {\n  return id;\n}, function (playlistsState, id) {\n  var _playlistsState$selec;\n  return (_playlistsState$selec = playlistsState.selected) === null || _playlistsState$selec === void 0 || (_playlistsState$selec = _playlistsState$selec[id]) === null || _playlistsState$selec === void 0 ? void 0 : _playlistsState$selec.selected;\n});\n\n/**\n * Checks if video is selected\n *\n * @param {object} playlistsState the playlists object.\n * @param {object} ids playlistID & videoID\n *\n * @return {boolean}\n */\nvar isVideoSelected = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(playlistsState, function (_, ids) {\n  return ids;\n}, function (playlistsState, ids) {\n  var _playlistsState$selec2;\n  var _ref3 = ids !== null && ids !== void 0 ? ids : {},\n    playlistID = _ref3.playlistID,\n    videoID = _ref3.videoID;\n  var videos = ((_playlistsState$selec2 = playlistsState.selected) === null || _playlistsState$selec2 === void 0 || (_playlistsState$selec2 = _playlistsState$selec2[playlistID]) === null || _playlistsState$selec2 === void 0 ? void 0 : _playlistsState$selec2.videos) || [];\n  return videos.includes(videoID);\n});\n\n/**\n * Check of all videos and playlists are selected\n *\n * @param {object} playlistsState the playlists object.\n * @return {boolean}\n *\n */\nvar areAllSelected = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(playlistsState, function (playlistsState) {\n  var playlists = playlistsState.playlists,\n    selected = playlistsState.selected;\n\n  // return false if at least one playlist is not selected\n  for (var playlistId in playlists) {\n    var _selected$playlistId, _playlists$playlistId, _selected$playlistId2;\n    var isSelected = (selected === null || selected === void 0 || (_selected$playlistId = selected[playlistId]) === null || _selected$playlistId === void 0 ? void 0 : _selected$playlistId.selected) || false;\n    if (!isSelected) {\n      return false;\n    }\n\n    // return false if at least one video is not selected\n    var allVideos = (playlists === null || playlists === void 0 || (_playlists$playlistId = playlists[playlistId]) === null || _playlists$playlistId === void 0 ? void 0 : _playlists$playlistId.videos) || [];\n    var selectedVideos = (selected === null || selected === void 0 || (_selected$playlistId2 = selected[playlistId]) === null || _selected$playlistId2 === void 0 ? void 0 : _selected$playlistId2.videos) || [];\n\n    // It suffices to compare lengths only\n    if (allVideos.length !== selectedVideos.length) {\n      return false;\n    }\n  }\n  return Object.keys(playlists).length > 0;\n});\n\n/**\n * Get selected Playlists & videos\n *\n * @param {object} playlistsState the playlists object.\n *\n * @return {object}\n */\nvar getSelectedPlaylists = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(playlistsState, function (playlistsState) {\n  return playlistsState.selected;\n});\n\n/**\n * Get Loading status\n *\n * @param {object} playlistsState the playlists object.\n *\n * @return {*}\n */\nvar getLoadingStatus = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(playlistsState, function (playlistsState) {\n  return playlistsState.isLoading;\n});\n\n// Export actions\nvar _playlistsSlice$actio = playlistsSlice.actions,\n  setPlaylist = _playlistsSlice$actio.setPlaylist,\n  updatePlaylistKey = _playlistsSlice$actio.updatePlaylistKey,\n  togglePlaylist = _playlistsSlice$actio.togglePlaylist,\n  toggleVideo = _playlistsSlice$actio.toggleVideo,\n  toggleAll = _playlistsSlice$actio.toggleAll;\n\n/* harmony default export */ __webpack_exports__.Ay = (playlistsSlice.reducer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTMxNy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3N0b3JlL3NsaWNlcy9wbGF5bGlzdHMuanM/NDA0YiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkocikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKHIpIHx8IF9pdGVyYWJsZVRvQXJyYXkocikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkgeyBpZiAocikgeyBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gXCJPYmplY3RcIiA9PT0gdCAmJiByLmNvbnN0cnVjdG9yICYmICh0ID0gci5jb25zdHJ1Y3Rvci5uYW1lKSwgXCJNYXBcIiA9PT0gdCB8fCBcIlNldFwiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6IFwiQXJndW1lbnRzXCIgPT09IHQgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkgPyBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSA6IHZvaWQgMDsgfSB9XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KHIpIHsgaWYgKFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiBudWxsICE9IHJbU3ltYm9sLml0ZXJhdG9yXSB8fCBudWxsICE9IHJbXCJAQGl0ZXJhdG9yXCJdKSByZXR1cm4gQXJyYXkuZnJvbShyKTsgfVxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKHIpIHsgaWYgKEFycmF5LmlzQXJyYXkocikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyKTsgfVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfVxuZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkoZSwgciwgdCkgeyByZXR1cm4gKHIgPSBfdG9Qcm9wZXJ0eUtleShyKSkgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCB7IHZhbHVlOiB0LCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pIDogZVtyXSA9IHQsIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG5mdW5jdGlvbiBfcmVnZW5lcmF0b3JSdW50aW1lKCkgeyBcInVzZSBzdHJpY3RcIjsgLyohIHJlZ2VuZXJhdG9yLXJ1bnRpbWUgLS0gQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuIC0tIGxpY2Vuc2UgKE1JVCk6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9ibG9iL21haW4vTElDRU5TRSAqLyBfcmVnZW5lcmF0b3JSdW50aW1lID0gZnVuY3Rpb24gX3JlZ2VuZXJhdG9yUnVudGltZSgpIHsgcmV0dXJuIGU7IH07IHZhciB0LCBlID0ge30sIHIgPSBPYmplY3QucHJvdG90eXBlLCBuID0gci5oYXNPd25Qcm9wZXJ0eSwgbyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB8fCBmdW5jdGlvbiAodCwgZSwgcikgeyB0W2VdID0gci52YWx1ZTsgfSwgaSA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sID8gU3ltYm9sIDoge30sIGEgPSBpLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiLCBjID0gaS5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCIsIHUgPSBpLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiOyBmdW5jdGlvbiBkZWZpbmUodCwgZSwgcikgeyByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIGUsIHsgdmFsdWU6IHIsIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAgfSksIHRbZV07IH0gdHJ5IHsgZGVmaW5lKHt9LCBcIlwiKTsgfSBjYXRjaCAodCkgeyBkZWZpbmUgPSBmdW5jdGlvbiBkZWZpbmUodCwgZSwgcikgeyByZXR1cm4gdFtlXSA9IHI7IH07IH0gZnVuY3Rpb24gd3JhcCh0LCBlLCByLCBuKSB7IHZhciBpID0gZSAmJiBlLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IGUgOiBHZW5lcmF0b3IsIGEgPSBPYmplY3QuY3JlYXRlKGkucHJvdG90eXBlKSwgYyA9IG5ldyBDb250ZXh0KG4gfHwgW10pOyByZXR1cm4gbyhhLCBcIl9pbnZva2VcIiwgeyB2YWx1ZTogbWFrZUludm9rZU1ldGhvZCh0LCByLCBjKSB9KSwgYTsgfSBmdW5jdGlvbiB0cnlDYXRjaCh0LCBlLCByKSB7IHRyeSB7IHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogdC5jYWxsKGUsIHIpIH07IH0gY2F0Y2ggKHQpIHsgcmV0dXJuIHsgdHlwZTogXCJ0aHJvd1wiLCBhcmc6IHQgfTsgfSB9IGUud3JhcCA9IHdyYXA7IHZhciBoID0gXCJzdXNwZW5kZWRTdGFydFwiLCBsID0gXCJzdXNwZW5kZWRZaWVsZFwiLCBmID0gXCJleGVjdXRpbmdcIiwgcyA9IFwiY29tcGxldGVkXCIsIHkgPSB7fTsgZnVuY3Rpb24gR2VuZXJhdG9yKCkge30gZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fSBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9IHZhciBwID0ge307IGRlZmluZShwLCBhLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KTsgdmFyIGQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YsIHYgPSBkICYmIGQoZCh2YWx1ZXMoW10pKSk7IHYgJiYgdiAhPT0gciAmJiBuLmNhbGwodiwgYSkgJiYgKHAgPSB2KTsgdmFyIGcgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPSBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShwKTsgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHQpIHsgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24gKGUpIHsgZGVmaW5lKHQsIGUsIGZ1bmN0aW9uICh0KSB7IHJldHVybiB0aGlzLl9pbnZva2UoZSwgdCk7IH0pOyB9KTsgfSBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKHQsIGUpIHsgZnVuY3Rpb24gaW52b2tlKHIsIG8sIGksIGEpIHsgdmFyIGMgPSB0cnlDYXRjaCh0W3JdLCB0LCBvKTsgaWYgKFwidGhyb3dcIiAhPT0gYy50eXBlKSB7IHZhciB1ID0gYy5hcmcsIGggPSB1LnZhbHVlOyByZXR1cm4gaCAmJiBcIm9iamVjdFwiID09IF90eXBlb2YoaCkgJiYgbi5jYWxsKGgsIFwiX19hd2FpdFwiKSA/IGUucmVzb2x2ZShoLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24gKHQpIHsgaW52b2tlKFwibmV4dFwiLCB0LCBpLCBhKTsgfSwgZnVuY3Rpb24gKHQpIHsgaW52b2tlKFwidGhyb3dcIiwgdCwgaSwgYSk7IH0pIDogZS5yZXNvbHZlKGgpLnRoZW4oZnVuY3Rpb24gKHQpIHsgdS52YWx1ZSA9IHQsIGkodSk7IH0sIGZ1bmN0aW9uICh0KSB7IHJldHVybiBpbnZva2UoXCJ0aHJvd1wiLCB0LCBpLCBhKTsgfSk7IH0gYShjLmFyZyk7IH0gdmFyIHI7IG8odGhpcywgXCJfaW52b2tlXCIsIHsgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKHQsIG4pIHsgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7IHJldHVybiBuZXcgZShmdW5jdGlvbiAoZSwgcikgeyBpbnZva2UodCwgbiwgZSwgcik7IH0pOyB9IHJldHVybiByID0gciA/IHIudGhlbihjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZywgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcpIDogY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKTsgfSB9KTsgfSBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGUsIHIsIG4pIHsgdmFyIG8gPSBoOyByZXR1cm4gZnVuY3Rpb24gKGksIGEpIHsgaWYgKG8gPT09IGYpIHRocm93IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTsgaWYgKG8gPT09IHMpIHsgaWYgKFwidGhyb3dcIiA9PT0gaSkgdGhyb3cgYTsgcmV0dXJuIHsgdmFsdWU6IHQsIGRvbmU6ICEwIH07IH0gZm9yIChuLm1ldGhvZCA9IGksIG4uYXJnID0gYTs7KSB7IHZhciBjID0gbi5kZWxlZ2F0ZTsgaWYgKGMpIHsgdmFyIHUgPSBtYXliZUludm9rZURlbGVnYXRlKGMsIG4pOyBpZiAodSkgeyBpZiAodSA9PT0geSkgY29udGludWU7IHJldHVybiB1OyB9IH0gaWYgKFwibmV4dFwiID09PSBuLm1ldGhvZCkgbi5zZW50ID0gbi5fc2VudCA9IG4uYXJnO2Vsc2UgaWYgKFwidGhyb3dcIiA9PT0gbi5tZXRob2QpIHsgaWYgKG8gPT09IGgpIHRocm93IG8gPSBzLCBuLmFyZzsgbi5kaXNwYXRjaEV4Y2VwdGlvbihuLmFyZyk7IH0gZWxzZSBcInJldHVyblwiID09PSBuLm1ldGhvZCAmJiBuLmFicnVwdChcInJldHVyblwiLCBuLmFyZyk7IG8gPSBmOyB2YXIgcCA9IHRyeUNhdGNoKGUsIHIsIG4pOyBpZiAoXCJub3JtYWxcIiA9PT0gcC50eXBlKSB7IGlmIChvID0gbi5kb25lID8gcyA6IGwsIHAuYXJnID09PSB5KSBjb250aW51ZTsgcmV0dXJuIHsgdmFsdWU6IHAuYXJnLCBkb25lOiBuLmRvbmUgfTsgfSBcInRocm93XCIgPT09IHAudHlwZSAmJiAobyA9IHMsIG4ubWV0aG9kID0gXCJ0aHJvd1wiLCBuLmFyZyA9IHAuYXJnKTsgfSB9OyB9IGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZSwgcikgeyB2YXIgbiA9IHIubWV0aG9kLCBvID0gZS5pdGVyYXRvcltuXTsgaWYgKG8gPT09IHQpIHJldHVybiByLmRlbGVnYXRlID0gbnVsbCwgXCJ0aHJvd1wiID09PSBuICYmIGUuaXRlcmF0b3IucmV0dXJuICYmIChyLm1ldGhvZCA9IFwicmV0dXJuXCIsIHIuYXJnID0gdCwgbWF5YmVJbnZva2VEZWxlZ2F0ZShlLCByKSwgXCJ0aHJvd1wiID09PSByLm1ldGhvZCkgfHwgXCJyZXR1cm5cIiAhPT0gbiAmJiAoci5tZXRob2QgPSBcInRocm93XCIsIHIuYXJnID0gbmV3IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ1wiICsgbiArIFwiJyBtZXRob2RcIikpLCB5OyB2YXIgaSA9IHRyeUNhdGNoKG8sIGUuaXRlcmF0b3IsIHIuYXJnKTsgaWYgKFwidGhyb3dcIiA9PT0gaS50eXBlKSByZXR1cm4gci5tZXRob2QgPSBcInRocm93XCIsIHIuYXJnID0gaS5hcmcsIHIuZGVsZWdhdGUgPSBudWxsLCB5OyB2YXIgYSA9IGkuYXJnOyByZXR1cm4gYSA/IGEuZG9uZSA/IChyW2UucmVzdWx0TmFtZV0gPSBhLnZhbHVlLCByLm5leHQgPSBlLm5leHRMb2MsIFwicmV0dXJuXCIgIT09IHIubWV0aG9kICYmIChyLm1ldGhvZCA9IFwibmV4dFwiLCByLmFyZyA9IHQpLCByLmRlbGVnYXRlID0gbnVsbCwgeSkgOiBhIDogKHIubWV0aG9kID0gXCJ0aHJvd1wiLCByLmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKSwgci5kZWxlZ2F0ZSA9IG51bGwsIHkpOyB9IGZ1bmN0aW9uIHB1c2hUcnlFbnRyeSh0KSB7IHZhciBlID0geyB0cnlMb2M6IHRbMF0gfTsgMSBpbiB0ICYmIChlLmNhdGNoTG9jID0gdFsxXSksIDIgaW4gdCAmJiAoZS5maW5hbGx5TG9jID0gdFsyXSwgZS5hZnRlckxvYyA9IHRbM10pLCB0aGlzLnRyeUVudHJpZXMucHVzaChlKTsgfSBmdW5jdGlvbiByZXNldFRyeUVudHJ5KHQpIHsgdmFyIGUgPSB0LmNvbXBsZXRpb24gfHwge307IGUudHlwZSA9IFwibm9ybWFsXCIsIGRlbGV0ZSBlLmFyZywgdC5jb21wbGV0aW9uID0gZTsgfSBmdW5jdGlvbiBDb250ZXh0KHQpIHsgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XSwgdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyksIHRoaXMucmVzZXQoITApOyB9IGZ1bmN0aW9uIHZhbHVlcyhlKSB7IGlmIChlIHx8IFwiXCIgPT09IGUpIHsgdmFyIHIgPSBlW2FdOyBpZiAocikgcmV0dXJuIHIuY2FsbChlKTsgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZS5uZXh0KSByZXR1cm4gZTsgaWYgKCFpc05hTihlLmxlbmd0aCkpIHsgdmFyIG8gPSAtMSwgaSA9IGZ1bmN0aW9uIG5leHQoKSB7IGZvciAoOyArK28gPCBlLmxlbmd0aDspIGlmIChuLmNhbGwoZSwgbykpIHJldHVybiBuZXh0LnZhbHVlID0gZVtvXSwgbmV4dC5kb25lID0gITEsIG5leHQ7IHJldHVybiBuZXh0LnZhbHVlID0gdCwgbmV4dC5kb25lID0gITAsIG5leHQ7IH07IHJldHVybiBpLm5leHQgPSBpOyB9IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihfdHlwZW9mKGUpICsgXCIgaXMgbm90IGl0ZXJhYmxlXCIpOyB9IHJldHVybiBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgbyhnLCBcImNvbnN0cnVjdG9yXCIsIHsgdmFsdWU6IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBjb25maWd1cmFibGU6ICEwIH0pLCBvKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBcImNvbnN0cnVjdG9yXCIsIHsgdmFsdWU6IEdlbmVyYXRvckZ1bmN0aW9uLCBjb25maWd1cmFibGU6ICEwIH0pLCBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IGRlZmluZShHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgdSwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKSwgZS5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24gKHQpIHsgdmFyIGUgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHQgJiYgdC5jb25zdHJ1Y3RvcjsgcmV0dXJuICEhZSAmJiAoZSA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHwgXCJHZW5lcmF0b3JGdW5jdGlvblwiID09PSAoZS5kaXNwbGF5TmFtZSB8fCBlLm5hbWUpKTsgfSwgZS5tYXJrID0gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZih0LCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSkgOiAodC5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgZGVmaW5lKHQsIHUsIFwiR2VuZXJhdG9yRnVuY3Rpb25cIikpLCB0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoZyksIHQ7IH0sIGUuYXdyYXAgPSBmdW5jdGlvbiAodCkgeyByZXR1cm4geyBfX2F3YWl0OiB0IH07IH0sIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSksIGRlZmluZShBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSwgYywgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSksIGUuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3IsIGUuYXN5bmMgPSBmdW5jdGlvbiAodCwgciwgbiwgbywgaSkgeyB2b2lkIDAgPT09IGkgJiYgKGkgPSBQcm9taXNlKTsgdmFyIGEgPSBuZXcgQXN5bmNJdGVyYXRvcih3cmFwKHQsIHIsIG4sIG8pLCBpKTsgcmV0dXJuIGUuaXNHZW5lcmF0b3JGdW5jdGlvbihyKSA/IGEgOiBhLm5leHQoKS50aGVuKGZ1bmN0aW9uICh0KSB7IHJldHVybiB0LmRvbmUgPyB0LnZhbHVlIDogYS5uZXh0KCk7IH0pOyB9LCBkZWZpbmVJdGVyYXRvck1ldGhvZHMoZyksIGRlZmluZShnLCB1LCBcIkdlbmVyYXRvclwiKSwgZGVmaW5lKGcsIGEsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pLCBkZWZpbmUoZywgXCJ0b1N0cmluZ1wiLCBmdW5jdGlvbiAoKSB7IHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiOyB9KSwgZS5rZXlzID0gZnVuY3Rpb24gKHQpIHsgdmFyIGUgPSBPYmplY3QodCksIHIgPSBbXTsgZm9yICh2YXIgbiBpbiBlKSByLnB1c2gobik7IHJldHVybiByLnJldmVyc2UoKSwgZnVuY3Rpb24gbmV4dCgpIHsgZm9yICg7IHIubGVuZ3RoOykgeyB2YXIgdCA9IHIucG9wKCk7IGlmICh0IGluIGUpIHJldHVybiBuZXh0LnZhbHVlID0gdCwgbmV4dC5kb25lID0gITEsIG5leHQ7IH0gcmV0dXJuIG5leHQuZG9uZSA9ICEwLCBuZXh0OyB9OyB9LCBlLnZhbHVlcyA9IHZhbHVlcywgQ29udGV4dC5wcm90b3R5cGUgPSB7IGNvbnN0cnVjdG9yOiBDb250ZXh0LCByZXNldDogZnVuY3Rpb24gcmVzZXQoZSkgeyBpZiAodGhpcy5wcmV2ID0gMCwgdGhpcy5uZXh0ID0gMCwgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IHQsIHRoaXMuZG9uZSA9ICExLCB0aGlzLmRlbGVnYXRlID0gbnVsbCwgdGhpcy5tZXRob2QgPSBcIm5leHRcIiwgdGhpcy5hcmcgPSB0LCB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KSwgIWUpIGZvciAodmFyIHIgaW4gdGhpcykgXCJ0XCIgPT09IHIuY2hhckF0KDApICYmIG4uY2FsbCh0aGlzLCByKSAmJiAhaXNOYU4oK3Iuc2xpY2UoMSkpICYmICh0aGlzW3JdID0gdCk7IH0sIHN0b3A6IGZ1bmN0aW9uIHN0b3AoKSB7IHRoaXMuZG9uZSA9ICEwOyB2YXIgdCA9IHRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uOyBpZiAoXCJ0aHJvd1wiID09PSB0LnR5cGUpIHRocm93IHQuYXJnOyByZXR1cm4gdGhpcy5ydmFsOyB9LCBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24gZGlzcGF0Y2hFeGNlcHRpb24oZSkgeyBpZiAodGhpcy5kb25lKSB0aHJvdyBlOyB2YXIgciA9IHRoaXM7IGZ1bmN0aW9uIGhhbmRsZShuLCBvKSB7IHJldHVybiBhLnR5cGUgPSBcInRocm93XCIsIGEuYXJnID0gZSwgci5uZXh0ID0gbiwgbyAmJiAoci5tZXRob2QgPSBcIm5leHRcIiwgci5hcmcgPSB0KSwgISFvOyB9IGZvciAodmFyIG8gPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgbyA+PSAwOyAtLW8pIHsgdmFyIGkgPSB0aGlzLnRyeUVudHJpZXNbb10sIGEgPSBpLmNvbXBsZXRpb247IGlmIChcInJvb3RcIiA9PT0gaS50cnlMb2MpIHJldHVybiBoYW5kbGUoXCJlbmRcIik7IGlmIChpLnRyeUxvYyA8PSB0aGlzLnByZXYpIHsgdmFyIGMgPSBuLmNhbGwoaSwgXCJjYXRjaExvY1wiKSwgdSA9IG4uY2FsbChpLCBcImZpbmFsbHlMb2NcIik7IGlmIChjICYmIHUpIHsgaWYgKHRoaXMucHJldiA8IGkuY2F0Y2hMb2MpIHJldHVybiBoYW5kbGUoaS5jYXRjaExvYywgITApOyBpZiAodGhpcy5wcmV2IDwgaS5maW5hbGx5TG9jKSByZXR1cm4gaGFuZGxlKGkuZmluYWxseUxvYyk7IH0gZWxzZSBpZiAoYykgeyBpZiAodGhpcy5wcmV2IDwgaS5jYXRjaExvYykgcmV0dXJuIGhhbmRsZShpLmNhdGNoTG9jLCAhMCk7IH0gZWxzZSB7IGlmICghdSkgdGhyb3cgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTsgaWYgKHRoaXMucHJldiA8IGkuZmluYWxseUxvYykgcmV0dXJuIGhhbmRsZShpLmZpbmFsbHlMb2MpOyB9IH0gfSB9LCBhYnJ1cHQ6IGZ1bmN0aW9uIGFicnVwdCh0LCBlKSB7IGZvciAodmFyIHIgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgciA+PSAwOyAtLXIpIHsgdmFyIG8gPSB0aGlzLnRyeUVudHJpZXNbcl07IGlmIChvLnRyeUxvYyA8PSB0aGlzLnByZXYgJiYgbi5jYWxsKG8sIFwiZmluYWxseUxvY1wiKSAmJiB0aGlzLnByZXYgPCBvLmZpbmFsbHlMb2MpIHsgdmFyIGkgPSBvOyBicmVhazsgfSB9IGkgJiYgKFwiYnJlYWtcIiA9PT0gdCB8fCBcImNvbnRpbnVlXCIgPT09IHQpICYmIGkudHJ5TG9jIDw9IGUgJiYgZSA8PSBpLmZpbmFsbHlMb2MgJiYgKGkgPSBudWxsKTsgdmFyIGEgPSBpID8gaS5jb21wbGV0aW9uIDoge307IHJldHVybiBhLnR5cGUgPSB0LCBhLmFyZyA9IGUsIGkgPyAodGhpcy5tZXRob2QgPSBcIm5leHRcIiwgdGhpcy5uZXh0ID0gaS5maW5hbGx5TG9jLCB5KSA6IHRoaXMuY29tcGxldGUoYSk7IH0sIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZSh0LCBlKSB7IGlmIChcInRocm93XCIgPT09IHQudHlwZSkgdGhyb3cgdC5hcmc7IHJldHVybiBcImJyZWFrXCIgPT09IHQudHlwZSB8fCBcImNvbnRpbnVlXCIgPT09IHQudHlwZSA/IHRoaXMubmV4dCA9IHQuYXJnIDogXCJyZXR1cm5cIiA9PT0gdC50eXBlID8gKHRoaXMucnZhbCA9IHRoaXMuYXJnID0gdC5hcmcsIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIiwgdGhpcy5uZXh0ID0gXCJlbmRcIikgOiBcIm5vcm1hbFwiID09PSB0LnR5cGUgJiYgZSAmJiAodGhpcy5uZXh0ID0gZSksIHk7IH0sIGZpbmlzaDogZnVuY3Rpb24gZmluaXNoKHQpIHsgZm9yICh2YXIgZSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBlID49IDA7IC0tZSkgeyB2YXIgciA9IHRoaXMudHJ5RW50cmllc1tlXTsgaWYgKHIuZmluYWxseUxvYyA9PT0gdCkgcmV0dXJuIHRoaXMuY29tcGxldGUoci5jb21wbGV0aW9uLCByLmFmdGVyTG9jKSwgcmVzZXRUcnlFbnRyeShyKSwgeTsgfSB9LCBjYXRjaDogZnVuY3Rpb24gX2NhdGNoKHQpIHsgZm9yICh2YXIgZSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBlID49IDA7IC0tZSkgeyB2YXIgciA9IHRoaXMudHJ5RW50cmllc1tlXTsgaWYgKHIudHJ5TG9jID09PSB0KSB7IHZhciBuID0gci5jb21wbGV0aW9uOyBpZiAoXCJ0aHJvd1wiID09PSBuLnR5cGUpIHsgdmFyIG8gPSBuLmFyZzsgcmVzZXRUcnlFbnRyeShyKTsgfSByZXR1cm4gbzsgfSB9IHRocm93IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpOyB9LCBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbiBkZWxlZ2F0ZVlpZWxkKGUsIHIsIG4pIHsgcmV0dXJuIHRoaXMuZGVsZWdhdGUgPSB7IGl0ZXJhdG9yOiB2YWx1ZXMoZSksIHJlc3VsdE5hbWU6IHIsIG5leHRMb2M6IG4gfSwgXCJuZXh0XCIgPT09IHRoaXMubWV0aG9kICYmICh0aGlzLmFyZyA9IHQpLCB5OyB9IH0sIGU7IH1cbmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChuLCB0LCBlLCByLCBvLCBhLCBjKSB7IHRyeSB7IHZhciBpID0gblthXShjKSwgdSA9IGkudmFsdWU7IH0gY2F0Y2ggKG4pIHsgcmV0dXJuIHZvaWQgZShuKTsgfSBpLmRvbmUgPyB0KHUpIDogUHJvbWlzZS5yZXNvbHZlKHUpLnRoZW4ociwgbyk7IH1cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHQgPSB0aGlzLCBlID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHIsIG8pIHsgdmFyIGEgPSBuLmFwcGx5KHQsIGUpOyBmdW5jdGlvbiBfbmV4dChuKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChhLCByLCBvLCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgbik7IH0gZnVuY3Rpb24gX3Rocm93KG4pIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGEsIHIsIG8sIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgbik7IH0gX25leHQodm9pZCAwKTsgfSk7IH07IH1cbmltcG9ydCB7IGNyZWF0ZVNsaWNlLCBjcmVhdGVBc3luY1RodW5rIH0gZnJvbSAnQHJlZHV4anMvdG9vbGtpdCc7XG5pbXBvcnQgeyByZXN0UG9zdCwgcmVzdEdldCwgcmVzdERlbGV0ZSB9IGZyb20gJy4uLy4uL2hlbHBlcnMvYXBpJztcbmltcG9ydCB7IF9fIH0gZnJvbSAnQHdvcmRwcmVzcy9pMThuJztcbmltcG9ydCB7IGNyZWF0ZVNlbGVjdG9yIH0gZnJvbSAncmVzZWxlY3QnO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKlxuICogQXN5bmNocm9ub3VzIFJlcXVlc3RzXG4gKlxuICogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKlxuICogSW5pdGlhbGl6ZSB0aGUgcGxheWxpc3QgbGlzdFxuICpcbiAqIEByZXR1cm4ge1Byb21pc2V9XG4gKi9cbmV4cG9ydCB2YXIgaW5pdFBsYXlsaXN0cyA9IGNyZWF0ZUFzeW5jVGh1bmsoJ3BsYXlsaXN0cy9pbml0Jyxcbi8vIFJlZHV4IGFjdGlvbiB0eXBlXG5mdW5jdGlvbiAocGFyYW1zKSB7XG4gIHJldHVybiByZXN0R2V0KHtcbiAgICBwYXRoOiAncGxheWxpc3RzJyxcbiAgICBwYXJhbXM6IHBhcmFtc1xuICB9KTtcbn0pO1xuXG4vKipcbiAqIFNhdmUgYSBzaW5nbGUgcGxheWxpc3QgY2hhbmdlcyB0byBkYXRhYmFzZVxuICpcbiAqIEByZXR1cm4ge1Byb21pc2V9XG4gKi9cbmV4cG9ydCB2YXIgc2F2ZVBsYXlsaXN0ID0gY3JlYXRlQXN5bmNUaHVuaygncGxheWxpc3RzL3VwZGF0ZVNpbmdsZVBsYXlsaXN0Jyxcbi8vIFJlZHV4IGFjdGlvbiB0eXBlXG5mdW5jdGlvbiAoZGF0YSkge1xuICB2YXIgcGxheWxpc3QgPSBkYXRhLnBsYXlsaXN0LFxuICAgIGlkID0gZGF0YS5pZDtcbiAgcmV0dXJuIHJlc3RQb3N0KHtcbiAgICBwYXRoOiBcInBsYXlsaXN0cy9cIi5jb25jYXQoaWQpLFxuICAgIGRhdGE6IHBsYXlsaXN0XG4gIH0pO1xufSk7XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IHBsYXlsaXN0XG4gKlxuICogQHJldHVybiB7UHJvbWlzZX1cbiAqL1xuZXhwb3J0IHZhciBjcmVhdGVQbGF5bGlzdCA9IGNyZWF0ZUFzeW5jVGh1bmsoJ3BsYXlsaXN0cy9jcmVhdGVQbGF5bGlzdCcsXG4vKiNfX1BVUkVfXyovXG4vLyBSZWR1eCBhY3Rpb24gdHlwZVxuZnVuY3Rpb24gKCkge1xuICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoZGF0YSwgX3JlZikge1xuICAgIHZhciByZWplY3RXaXRoVmFsdWUsIHBsYXlsaXN0O1xuICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIHJlamVjdFdpdGhWYWx1ZSA9IF9yZWYucmVqZWN0V2l0aFZhbHVlO1xuICAgICAgICAgIHBsYXlsaXN0ID0gZGF0YS5wbGF5bGlzdDtcbiAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjtcbiAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTtcbiAgICAgICAgICByZXR1cm4gcmVzdFBvc3Qoe1xuICAgICAgICAgICAgcGF0aDogXCJwbGF5bGlzdHNcIixcbiAgICAgICAgICAgIGRhdGE6IHBsYXlsaXN0XG4gICAgICAgICAgfSk7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0LnNlbnQpO1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgX2NvbnRleHQucHJldiA9IDg7XG4gICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFtcImNhdGNoXCJdKDIpO1xuICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVqZWN0V2l0aFZhbHVlKF9jb250ZXh0LnQwKSk7XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgfVxuICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMiwgOF1dKTtcbiAgfSkpO1xuICByZXR1cm4gZnVuY3Rpb24gKF94LCBfeDIpIHtcbiAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn0oKSk7XG5cbi8qKlxuICogQ2hhbmdlIFBsYXlsaXN0IE9yZGVyXG4gKlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IHZhciBvcmRlckNoYW5nZSA9IGNyZWF0ZUFzeW5jVGh1bmsoJ3BsYXlsaXN0cy9jaGFuZ2VQbGF5bGlzdE9yZGVyJyxcbi8vIFJlZHV4IGFjdGlvbiB0eXBlXG5cbmZ1bmN0aW9uIChkYXRhKSB7XG4gIHZhciBwbGF5bGlzdElEID0gZGF0YS5wbGF5bGlzdElELFxuICAgIG9sZEluZGV4ID0gZGF0YS5vbGRJbmRleCxcbiAgICBuZXdJbmRleCA9IGRhdGEubmV3SW5kZXg7XG4gIGlmIChwbGF5bGlzdElEID4gMCAmJiBvbGRJbmRleCAhPT0gbmV3SW5kZXgpIHtcbiAgICByZXN0R2V0KHtcbiAgICAgIHBhdGg6ICdwbGF5bGlzdHMvcmVvcmRlcicsXG4gICAgICBwYXJhbXM6IHtcbiAgICAgICAgcGxheWxpc3Q6IHBsYXlsaXN0SUQsXG4gICAgICAgIGZyb206IG9sZEluZGV4LFxuICAgICAgICB0bzogbmV3SW5kZXhcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG5cbi8qKlxuICogRGVsZXRlIGEgcGxheWxpc3RcbiAqXG4gKiBAcmV0dXJuIHtQcm9taXNlfVxuICovXG5leHBvcnQgdmFyIGRlbGV0ZVBsYXlsaXN0ID0gY3JlYXRlQXN5bmNUaHVuaygncGxheWxpc3RzL2RlbGV0ZVBsYXlsaXN0Jyxcbi8vIFJlZHV4IGFjdGlvbiB0eXBlXG5mdW5jdGlvbiAoZGF0YSkge1xuICB2YXIgaWQgPSBkYXRhLmlkO1xuICByZXR1cm4gcmVzdERlbGV0ZSh7XG4gICAgcGF0aDogXCJwbGF5bGlzdHMvXCIuY29uY2F0KGlkKVxuICB9KTtcbn0pO1xuXG4vKipcbiAqIEJ1bGsgZGVsZXRlIHBsYXlsaXN0cyAmIHZpZGVvc1xuICpcbiAqIEByZXR1cm4ge1Byb21pc2V9XG4gKi9cbmV4cG9ydCB2YXIgYnVsa0RlbGV0ZSA9IGNyZWF0ZUFzeW5jVGh1bmsoJ3BsYXlsaXN0cy9idWxrRGVsZXRlJyxcbi8vIFJlZHV4IGFjdGlvbiB0eXBlXG5mdW5jdGlvbiAoZGF0YSkge1xuICB2YXIgc2VsZWN0ZWQgPSBkYXRhLnNlbGVjdGVkO1xuICByZXR1cm4gcmVzdFBvc3Qoe1xuICAgIHBhdGg6IFwicGxheWxpc3RzL2J1bGstYWN0aW9uc1wiLFxuICAgIGRhdGE6IHtcbiAgICAgIGFjdGlvbjogJ2RlbGV0ZScsXG4gICAgICBpdGVtczogc2VsZWN0ZWRcbiAgICB9XG4gIH0pO1xufSk7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqXG4gKiBQbGF5bGlzdHMgU2xpY2VcbiAqXG4gKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xudmFyIHBsYXlsaXN0c1NsaWNlID0gY3JlYXRlU2xpY2Uoe1xuICBuYW1lOiAncGxheWxpc3RzJyxcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgKlxuICAgKiBJbml0aWFsIFN0YXRlXG4gICAqXG4gICAqICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgaW5pdGlhbFN0YXRlOiB7XG4gICAgcGxheWxpc3RzOiB7fSxcbiAgICBmaWx0ZXJlZDogW10sXG4gICAgc2VsZWN0ZWQ6IHt9LFxuICAgIGlzTG9hZGluZzogZmFsc2VcbiAgfSxcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgKlxuICAgKiBSZWR1Y2Vyc1xuICAgKlxuICAgKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICByZWR1Y2Vyczoge1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBhIHNpbmdsZSBwbGF5bGlzdCBpbiB0aGUgcGxheWxpc3RzIGxpc3RcbiAgICAgKlxuICAgICAqIElmIHBsYXlsaXN0IGV4aXN0LCBpdCB3aWxsIHJlcGxhY2UgdGhlIHBsYXlsaXN0IG9iamVjdCxcbiAgICAgKiBpZiBub3QsIGl0IHdpbGwgYWRkIHRoZSBwbGF5bGlzdCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3RhdGUgQ3VycmVudCBzdGF0ZS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gYWN0aW9uIGFjdGlvbiBkYXRhLlxuICAgICAqL1xuICAgIHNldFBsYXlsaXN0OiBmdW5jdGlvbiBzZXRQbGF5bGlzdChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICB2YXIgcGxheWxpc3QgPSBhY3Rpb24ucGF5bG9hZC5wbGF5bGlzdDtcbiAgICAgIHZhciBwbGF5bGlzdHMgPSBzdGF0ZS5wbGF5bGlzdHM7XG4gICAgICB2YXIgbmV3UGxheWxpc3RzID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwbGF5bGlzdHMpLCB7fSwgX2RlZmluZVByb3BlcnR5KHt9LCBwbGF5bGlzdC5pZCwgcGxheWxpc3QpKTtcbiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHN0YXRlKSwge30sIHtcbiAgICAgICAgcGxheWxpc3RzOiBuZXdQbGF5bGlzdHNcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogU2VsZWN0IG9yIGRlc2VsZWN0IGEgcGxheWxpc3QgKCBjaGVja2JveCApXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIHRvZ2dsZVBsYXlsaXN0OiBmdW5jdGlvbiB0b2dnbGVQbGF5bGlzdChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICB2YXIgX3N0YXRlJHBsYXlsaXN0cywgX3NlbGVjdGVkJGlkO1xuICAgICAgdmFyIF9hY3Rpb24kcGF5bG9hZCA9IGFjdGlvbi5wYXlsb2FkLFxuICAgICAgICBjaGVja2VkID0gX2FjdGlvbiRwYXlsb2FkLmNoZWNrZWQsXG4gICAgICAgIGlkID0gX2FjdGlvbiRwYXlsb2FkLmlkO1xuICAgICAgdmFyIGFsbFZpZGVvcyA9IChfc3RhdGUkcGxheWxpc3RzID0gc3RhdGUucGxheWxpc3RzKSA9PT0gbnVsbCB8fCBfc3RhdGUkcGxheWxpc3RzID09PSB2b2lkIDAgfHwgKF9zdGF0ZSRwbGF5bGlzdHMgPSBfc3RhdGUkcGxheWxpc3RzW2lkXSkgPT09IG51bGwgfHwgX3N0YXRlJHBsYXlsaXN0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3N0YXRlJHBsYXlsaXN0cy52aWRlb3M7XG5cbiAgICAgIC8vIFRoZSBuZXcgc2VsZWN0ZWQgb2JqZWN0XG4gICAgICB2YXIgc2VsZWN0ZWQgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLnNlbGVjdGVkKSwge30sIF9kZWZpbmVQcm9wZXJ0eSh7fSwgaWQsIHtcbiAgICAgICAgc2VsZWN0ZWQ6IGNoZWNrZWQsXG4gICAgICAgIHZpZGVvczogY2hlY2tlZCAmJiBhbGxWaWRlb3MgfHwgW11cbiAgICAgIH0pKTtcblxuICAgICAgLy8gSWYgcGxheWxpc3QgaXMgbm90IHNlbGVjdGVkIGFuZCBubyB2aWRlb3MgYXJlIHNlbGVjdGVkLFxuICAgICAgLy8gcmVtb3ZlIHRoZSBwbGF5bGlzdFxuICAgICAgaWYgKChzZWxlY3RlZCA9PT0gbnVsbCB8fCBzZWxlY3RlZCA9PT0gdm9pZCAwIHx8IChfc2VsZWN0ZWQkaWQgPSBzZWxlY3RlZFtpZF0pID09PSBudWxsIHx8IF9zZWxlY3RlZCRpZCA9PT0gdm9pZCAwIHx8IChfc2VsZWN0ZWQkaWQgPSBfc2VsZWN0ZWQkaWQudmlkZW9zKSA9PT0gbnVsbCB8fCBfc2VsZWN0ZWQkaWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zZWxlY3RlZCRpZC5sZW5ndGgpID09PSAwICYmICFjaGVja2VkKSB7XG4gICAgICAgIGRlbGV0ZSBzZWxlY3RlZFtpZF07XG4gICAgICB9XG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZSksIHt9LCB7XG4gICAgICAgIHNlbGVjdGVkOiBzZWxlY3RlZFxuICAgICAgfSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBTZWxlY3Qgb3IgZGUtc2VsZWN0IGFsbCBwbGF5bGlzdHMgYW5kIHZpZGVvcyAoIGNoZWNrYm94IClcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgdG9nZ2xlQWxsOiBmdW5jdGlvbiB0b2dnbGVBbGwoc3RhdGUsIGFjdGlvbikge1xuICAgICAgdmFyIGNoZWNrZWQgPSBhY3Rpb24ucGF5bG9hZC5jaGVja2VkO1xuICAgICAgdmFyIHBsYXlsaXN0cyA9IHN0YXRlLnBsYXlsaXN0cztcblxuICAgICAgLy8gVGhlIG5ldyBzZWxlY3RlZCBvYmplY3RcbiAgICAgIHZhciBuZXdTZWxlY3RlZCA9IHt9O1xuICAgICAgaWYgKGNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgT2JqZWN0LmtleXMocGxheWxpc3RzKS5mb3JFYWNoKGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgIG5ld1NlbGVjdGVkW2lkXSA9IHtcbiAgICAgICAgICAgIHNlbGVjdGVkOiB0cnVlLFxuICAgICAgICAgICAgdmlkZW9zOiAocGxheWxpc3RzID09PSBudWxsIHx8IHBsYXlsaXN0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGxheWxpc3RzW2lkXS52aWRlb3MpIHx8IFtdXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZSksIHt9LCB7XG4gICAgICAgIHNlbGVjdGVkOiBuZXdTZWxlY3RlZFxuICAgICAgfSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgc2VsZWN0ZWQgdmlkZW9zIGxpc3QgKCBjaGVja2JveCApXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIHRvZ2dsZVZpZGVvOiBmdW5jdGlvbiB0b2dnbGVWaWRlbyhzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICB2YXIgX3NlbGVjdGVkJHBsYXlsaXN0SUQsIF9zZWxlY3RlZCRwbGF5bGlzdElEMjtcbiAgICAgIHZhciBfYWN0aW9uJHBheWxvYWQyID0gYWN0aW9uLnBheWxvYWQsXG4gICAgICAgIHZpZGVvSUQgPSBfYWN0aW9uJHBheWxvYWQyLnZpZGVvSUQsXG4gICAgICAgIHBsYXlsaXN0SUQgPSBfYWN0aW9uJHBheWxvYWQyLnBsYXlsaXN0SUQ7XG4gICAgICB2YXIgc2VsZWN0ZWQgPSBzdGF0ZS5zZWxlY3RlZDtcbiAgICAgIHZhciB2aWRlb3MgPSAoc2VsZWN0ZWQgPT09IG51bGwgfHwgc2VsZWN0ZWQgPT09IHZvaWQgMCB8fCAoX3NlbGVjdGVkJHBsYXlsaXN0SUQgPSBzZWxlY3RlZFtwbGF5bGlzdElEXSkgPT09IG51bGwgfHwgX3NlbGVjdGVkJHBsYXlsaXN0SUQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zZWxlY3RlZCRwbGF5bGlzdElELnZpZGVvcykgfHwgW107XG5cbiAgICAgIC8vIFRoZSBuZXcgc2VsZWN0ZWQgb2JqZWN0XG4gICAgICB2YXIgbmV3U2VsZWN0ZWQgPSB7fTtcblxuICAgICAgLy8gVGhlIG5ldyB2aWRlb3MgYXJyYXlcbiAgICAgIHZhciBuZXdWaWRlb3MgPSBbXTtcblxuICAgICAgLy8gVG9nZ2xlIHZpZGVvXG4gICAgICBpZiAodmlkZW9zLmluY2x1ZGVzKHZpZGVvSUQpKSB7XG4gICAgICAgIC8vIFJlbW92ZSB2aWRlbyBpZiBpdCBleGlzdHNcbiAgICAgICAgbmV3VmlkZW9zID0gdmlkZW9zLmZpbHRlcihmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICByZXR1cm4gZWwgIT09IHZpZGVvSUQ7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQWRkIHZpZGVvIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICAgICAgbmV3VmlkZW9zID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh2aWRlb3MpLCBbdmlkZW9JRF0pO1xuICAgICAgfVxuICAgICAgdmFyIGlzUGxheWxpc3RTZWxlY3RlZCA9IChzZWxlY3RlZCA9PT0gbnVsbCB8fCBzZWxlY3RlZCA9PT0gdm9pZCAwIHx8IChfc2VsZWN0ZWQkcGxheWxpc3RJRDIgPSBzZWxlY3RlZFtwbGF5bGlzdElEXSkgPT09IG51bGwgfHwgX3NlbGVjdGVkJHBsYXlsaXN0SUQyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc2VsZWN0ZWQkcGxheWxpc3RJRDIuc2VsZWN0ZWQpIHx8IGZhbHNlO1xuXG4gICAgICAvLyBVcGRhdGUgc2VsZWN0ZWQgb2JqZWN0XG4gICAgICBuZXdTZWxlY3RlZCA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc2VsZWN0ZWQpLCB7fSwgX2RlZmluZVByb3BlcnR5KHt9LCBwbGF5bGlzdElELCB7XG4gICAgICAgIHNlbGVjdGVkOiBpc1BsYXlsaXN0U2VsZWN0ZWQsXG4gICAgICAgIHZpZGVvczogbmV3VmlkZW9zXG4gICAgICB9KSk7XG5cbiAgICAgIC8qIElmIHBsYXlsaXN0IGlzIG5vdCBzZWxlY3RlZCBhbmQgbm8gdmlkZW8gaXMgc2VsZWN0ZWQsXG4gICAgICByZW1vdmUgdGhlIHBsYXlsaXN0ICovXG4gICAgICBpZiAobmV3VmlkZW9zLmxlbmd0aCA9PT0gMCAmJiAhaXNQbGF5bGlzdFNlbGVjdGVkKSB7XG4gICAgICAgIGRlbGV0ZSBuZXdTZWxlY3RlZFtwbGF5bGlzdElEXTtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0IHRoZSBzdGF0ZVxuICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc3RhdGUpLCB7fSwge1xuICAgICAgICBzZWxlY3RlZDogbmV3U2VsZWN0ZWRcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgKlxuICAgKiBFeHRyYSBSZWR1Y2Vyc1xuICAgKlxuICAgKiBNYW5hZ2Ugb2YgYXN5bmNocm9ub3VzIHJlcXVlc3RzIHN0YXRlc1xuICAgKlxuICAgKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICBleHRyYVJlZHVjZXJzOiBmdW5jdGlvbiBleHRyYVJlZHVjZXJzKGJ1aWxkZXIpIHtcbiAgICBidWlsZGVyXG4gICAgLy8gUGxheWxpc3RzIEluaXRcbiAgICAuYWRkQ2FzZShpbml0UGxheWxpc3RzLnBlbmRpbmcsIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgc3RhdGUuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICB9KS5hZGRDYXNlKGluaXRQbGF5bGlzdHMuZnVsZmlsbGVkLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgICAgc3RhdGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICB2YXIgcGF5bG9hZCA9IGFjdGlvbi5wYXlsb2FkO1xuICAgICAgaWYgKHBheWxvYWQuc3VjY2VzcyAmJiBwYXlsb2FkLmRhdGEpIHtcbiAgICAgICAgdmFyIHBsYXlsaXN0cyA9IHt9O1xuICAgICAgICB2YXIgZmlsdGVyZWQgPSBbXTtcblxuICAgICAgICAvLyBTZXR1cCB0aGUgbGlzdCBkYXRhLlxuICAgICAgICBwYXlsb2FkLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAocGxheWxpc3QpIHtcbiAgICAgICAgICBwbGF5bGlzdHNbcGxheWxpc3QuaWRdID0gcGxheWxpc3Q7XG4gICAgICAgICAgZmlsdGVyZWQucHVzaChwbGF5bGlzdC5pZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgc3RhdGVcbiAgICAgICAgc3RhdGUucGxheWxpc3RzID0gcGxheWxpc3RzO1xuICAgICAgICBzdGF0ZS5maWx0ZXJlZCA9IGZpbHRlcmVkO1xuICAgICAgfVxuICAgIH0pLmFkZENhc2UoaW5pdFBsYXlsaXN0cy5yZWplY3RlZCwgZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICB9KVxuICAgIC8vIFNhdmUgUGxheWxpc3RcbiAgICAuYWRkQ2FzZShzYXZlUGxheWxpc3QucGVuZGluZywgZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSB0cnVlO1xuICAgIH0pLmFkZENhc2Uoc2F2ZVBsYXlsaXN0LmZ1bGZpbGxlZCwgZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgIHZhciBkYXRhID0gYWN0aW9uLnBheWxvYWQuZGF0YTtcbiAgICAgIHZhciBwbGF5bGlzdHMgPSBzdGF0ZS5wbGF5bGlzdHM7XG4gICAgICB2YXIgbmV3UGxheWxpc3RzID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwbGF5bGlzdHMpLCB7fSwgX2RlZmluZVByb3BlcnR5KHt9LCBkYXRhLmlkLCBkYXRhKSk7XG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgIHN0YXRlLnBsYXlsaXN0cyA9IG5ld1BsYXlsaXN0cztcbiAgICB9KS5hZGRDYXNlKHNhdmVQbGF5bGlzdC5yZWplY3RlZCwgZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICB9KVxuICAgIC8vIENyZWF0ZSBQbGF5bGlzdFxuICAgIC5hZGRDYXNlKGNyZWF0ZVBsYXlsaXN0LnBlbmRpbmcsIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgc3RhdGUuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICB9KS5hZGRDYXNlKGNyZWF0ZVBsYXlsaXN0LmZ1bGZpbGxlZCwgZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgIHZhciBfYWN0aW9uJHBheWxvYWQzID0gYWN0aW9uLnBheWxvYWQsXG4gICAgICAgIGRhdGEgPSBfYWN0aW9uJHBheWxvYWQzLmRhdGEsXG4gICAgICAgIHN1Y2Nlc3MgPSBfYWN0aW9uJHBheWxvYWQzLnN1Y2Nlc3M7XG4gICAgICBpZiAoc3VjY2VzcyAmJiBkYXRhKSB7XG4gICAgICAgIHZhciBwbGF5bGlzdHMgPSBzdGF0ZS5wbGF5bGlzdHMsXG4gICAgICAgICAgZmlsdGVyZWQgPSBzdGF0ZS5maWx0ZXJlZDtcbiAgICAgICAgLy8gdXBkYXRlIHRoZSBsaXN0IGluIHRoZSBzdG9yZVxuICAgICAgICBzdGF0ZS5wbGF5bGlzdHMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHBsYXlsaXN0cyksIHt9LCBfZGVmaW5lUHJvcGVydHkoe30sIGRhdGEuaWQsIGRhdGEpKTtcbiAgICAgICAgc3RhdGUuZmlsdGVyZWQgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGZpbHRlcmVkKSwgW2RhdGEuaWRdKTtcbiAgICAgIH1cbiAgICAgIHN0YXRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgIH0pLmFkZENhc2UoY3JlYXRlUGxheWxpc3QucmVqZWN0ZWQsIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgc3RhdGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgfSlcbiAgICAvLyBEZWxldGUgUGxheWxpc3RcbiAgICAuYWRkQ2FzZShkZWxldGVQbGF5bGlzdC5wZW5kaW5nLCBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgIHN0YXRlLmlzTG9hZGluZyA9IHRydWU7XG4gICAgfSkuYWRkQ2FzZShkZWxldGVQbGF5bGlzdC5mdWxmaWxsZWQsIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICB2YXIgaWQgPSBhY3Rpb24ubWV0YS5hcmcuaWQsXG4gICAgICAgIHN1Y2Nlc3MgPSBhY3Rpb24ucGF5bG9hZC5zdWNjZXNzO1xuXG4gICAgICAvLyBSZW1vdmUgdGhlIHBsYXlsaXN0IGlmIHN1Y2Nlc3NcbiAgICAgIGlmIChzdWNjZXNzID09PSB0cnVlKSB7XG4gICAgICAgIHZhciBwbGF5bGlzdHMgPSBzdGF0ZS5wbGF5bGlzdHMsXG4gICAgICAgICAgZmlsdGVyZWQgPSBzdGF0ZS5maWx0ZXJlZDtcbiAgICAgICAgdmFyIG5ld1BsYXlsaXN0cyA9IF9vYmplY3RTcHJlYWQoe30sIHBsYXlsaXN0cyk7XG4gICAgICAgIGRlbGV0ZSBuZXdQbGF5bGlzdHNbaWRdO1xuICAgICAgICAvLyB1cGRhdGUgdGhlIGxpc3QgaW4gdGhlIHN0b3JlXG4gICAgICAgIHN0YXRlLnBsYXlsaXN0cyA9IF9vYmplY3RTcHJlYWQoe30sIG5ld1BsYXlsaXN0cyk7XG4gICAgICAgIHN0YXRlLmZpbHRlcmVkID0gZmlsdGVyZWQuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW0gIT09IGlkO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHN0YXRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgIH0pLmFkZENhc2UoZGVsZXRlUGxheWxpc3QucmVqZWN0ZWQsIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgc3RhdGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgfSlcbiAgICAvLyBCdWxrIERlbGV0ZVxuICAgIC5hZGRDYXNlKGJ1bGtEZWxldGUucGVuZGluZywgZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSB0cnVlO1xuICAgIH0pLmFkZENhc2UoYnVsa0RlbGV0ZS5mdWxmaWxsZWQsIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgc3RhdGUuaXNMb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgIC8vIEVtcHR5IHRoZSBzZWxlY3RlZCBsaXN0XG4gICAgICBzdGF0ZS5zZWxlY3RlZCA9IFtdO1xuICAgIH0pLmFkZENhc2UoYnVsa0RlbGV0ZS5yZWplY3RlZCwgZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSBmYWxzZTtcblxuICAgICAgLy8gRW1wdHkgdGhlIHNlbGVjdGVkIGxpc3RcbiAgICAgIHN0YXRlLnNlbGVjdGVkID0gW107XG4gICAgfSk7XG4gIH1cbn0pO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKlxuICogU2VsZWN0b3JzXG4gKlxuICogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxudmFyIHBsYXlsaXN0c1N0YXRlID0gZnVuY3Rpb24gcGxheWxpc3RzU3RhdGUoc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLnBsYXlsaXN0cztcbn07XG5cbi8qKlxuICogR2V0IHBsYXlsaXN0cyBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gcGxheWxpc3RzU3RhdGUgdGhlIHBsYXlsaXN0cyBvYmplY3QuXG4gKlxuICogQHJldHVybiB7b2JqZWN0fVxuICovXG5leHBvcnQgdmFyIGdldFBsYXlsaXN0cyA9IGNyZWF0ZVNlbGVjdG9yKHBsYXlsaXN0c1N0YXRlLCBmdW5jdGlvbiAocGxheWxpc3RzU3RhdGUpIHtcbiAgcmV0dXJuIHBsYXlsaXN0c1N0YXRlLnBsYXlsaXN0cztcbn0pO1xuXG4vKipcbiAqIEdldCBmaWx0ZXJlZCBhcnJheVxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBwbGF5bGlzdHNTdGF0ZSB0aGUgcGxheWxpc3RzIG9iamVjdC5cbiAqXG4gKiBAcmV0dXJuIHthcnJheX1cbiAqL1xuZXhwb3J0IHZhciBnZXRGaWx0ZXJlZCA9IGNyZWF0ZVNlbGVjdG9yKHBsYXlsaXN0c1N0YXRlLCBmdW5jdGlvbiAocGxheWxpc3RzU3RhdGUpIHtcbiAgcmV0dXJuIHBsYXlsaXN0c1N0YXRlLmZpbHRlcmVkO1xufSk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBwbGF5bGlzdCBpcyBzZWxlY3RlZFxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBwbGF5bGlzdHNTdGF0ZSB0aGUgcGxheWxpc3RzIG9iamVjdC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBpZCBwbGF5bGlzdCBpZFxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCB2YXIgaXNQbGF5bGlzdFNlbGVjdGVkID0gY3JlYXRlU2VsZWN0b3IocGxheWxpc3RzU3RhdGUsIGZ1bmN0aW9uIChfLCBpZCkge1xuICByZXR1cm4gaWQ7XG59LCBmdW5jdGlvbiAocGxheWxpc3RzU3RhdGUsIGlkKSB7XG4gIHZhciBfcGxheWxpc3RzU3RhdGUkc2VsZWM7XG4gIHJldHVybiAoX3BsYXlsaXN0c1N0YXRlJHNlbGVjID0gcGxheWxpc3RzU3RhdGUuc2VsZWN0ZWQpID09PSBudWxsIHx8IF9wbGF5bGlzdHNTdGF0ZSRzZWxlYyA9PT0gdm9pZCAwIHx8IChfcGxheWxpc3RzU3RhdGUkc2VsZWMgPSBfcGxheWxpc3RzU3RhdGUkc2VsZWNbaWRdKSA9PT0gbnVsbCB8fCBfcGxheWxpc3RzU3RhdGUkc2VsZWMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wbGF5bGlzdHNTdGF0ZSRzZWxlYy5zZWxlY3RlZDtcbn0pO1xuXG4vKipcbiAqIENoZWNrcyBpZiB2aWRlbyBpcyBzZWxlY3RlZFxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBwbGF5bGlzdHNTdGF0ZSB0aGUgcGxheWxpc3RzIG9iamVjdC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBpZHMgcGxheWxpc3RJRCAmIHZpZGVvSURcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgdmFyIGlzVmlkZW9TZWxlY3RlZCA9IGNyZWF0ZVNlbGVjdG9yKHBsYXlsaXN0c1N0YXRlLCBmdW5jdGlvbiAoXywgaWRzKSB7XG4gIHJldHVybiBpZHM7XG59LCBmdW5jdGlvbiAocGxheWxpc3RzU3RhdGUsIGlkcykge1xuICB2YXIgX3BsYXlsaXN0c1N0YXRlJHNlbGVjMjtcbiAgdmFyIF9yZWYzID0gaWRzICE9PSBudWxsICYmIGlkcyAhPT0gdm9pZCAwID8gaWRzIDoge30sXG4gICAgcGxheWxpc3RJRCA9IF9yZWYzLnBsYXlsaXN0SUQsXG4gICAgdmlkZW9JRCA9IF9yZWYzLnZpZGVvSUQ7XG4gIHZhciB2aWRlb3MgPSAoKF9wbGF5bGlzdHNTdGF0ZSRzZWxlYzIgPSBwbGF5bGlzdHNTdGF0ZS5zZWxlY3RlZCkgPT09IG51bGwgfHwgX3BsYXlsaXN0c1N0YXRlJHNlbGVjMiA9PT0gdm9pZCAwIHx8IChfcGxheWxpc3RzU3RhdGUkc2VsZWMyID0gX3BsYXlsaXN0c1N0YXRlJHNlbGVjMltwbGF5bGlzdElEXSkgPT09IG51bGwgfHwgX3BsYXlsaXN0c1N0YXRlJHNlbGVjMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3BsYXlsaXN0c1N0YXRlJHNlbGVjMi52aWRlb3MpIHx8IFtdO1xuICByZXR1cm4gdmlkZW9zLmluY2x1ZGVzKHZpZGVvSUQpO1xufSk7XG5cbi8qKlxuICogQ2hlY2sgb2YgYWxsIHZpZGVvcyBhbmQgcGxheWxpc3RzIGFyZSBzZWxlY3RlZFxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBwbGF5bGlzdHNTdGF0ZSB0aGUgcGxheWxpc3RzIG9iamVjdC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKlxuICovXG5leHBvcnQgdmFyIGFyZUFsbFNlbGVjdGVkID0gY3JlYXRlU2VsZWN0b3IocGxheWxpc3RzU3RhdGUsIGZ1bmN0aW9uIChwbGF5bGlzdHNTdGF0ZSkge1xuICB2YXIgcGxheWxpc3RzID0gcGxheWxpc3RzU3RhdGUucGxheWxpc3RzLFxuICAgIHNlbGVjdGVkID0gcGxheWxpc3RzU3RhdGUuc2VsZWN0ZWQ7XG5cbiAgLy8gcmV0dXJuIGZhbHNlIGlmIGF0IGxlYXN0IG9uZSBwbGF5bGlzdCBpcyBub3Qgc2VsZWN0ZWRcbiAgZm9yICh2YXIgcGxheWxpc3RJZCBpbiBwbGF5bGlzdHMpIHtcbiAgICB2YXIgX3NlbGVjdGVkJHBsYXlsaXN0SWQsIF9wbGF5bGlzdHMkcGxheWxpc3RJZCwgX3NlbGVjdGVkJHBsYXlsaXN0SWQyO1xuICAgIHZhciBpc1NlbGVjdGVkID0gKHNlbGVjdGVkID09PSBudWxsIHx8IHNlbGVjdGVkID09PSB2b2lkIDAgfHwgKF9zZWxlY3RlZCRwbGF5bGlzdElkID0gc2VsZWN0ZWRbcGxheWxpc3RJZF0pID09PSBudWxsIHx8IF9zZWxlY3RlZCRwbGF5bGlzdElkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc2VsZWN0ZWQkcGxheWxpc3RJZC5zZWxlY3RlZCkgfHwgZmFsc2U7XG4gICAgaWYgKCFpc1NlbGVjdGVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gcmV0dXJuIGZhbHNlIGlmIGF0IGxlYXN0IG9uZSB2aWRlbyBpcyBub3Qgc2VsZWN0ZWRcbiAgICB2YXIgYWxsVmlkZW9zID0gKHBsYXlsaXN0cyA9PT0gbnVsbCB8fCBwbGF5bGlzdHMgPT09IHZvaWQgMCB8fCAoX3BsYXlsaXN0cyRwbGF5bGlzdElkID0gcGxheWxpc3RzW3BsYXlsaXN0SWRdKSA9PT0gbnVsbCB8fCBfcGxheWxpc3RzJHBsYXlsaXN0SWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wbGF5bGlzdHMkcGxheWxpc3RJZC52aWRlb3MpIHx8IFtdO1xuICAgIHZhciBzZWxlY3RlZFZpZGVvcyA9IChzZWxlY3RlZCA9PT0gbnVsbCB8fCBzZWxlY3RlZCA9PT0gdm9pZCAwIHx8IChfc2VsZWN0ZWQkcGxheWxpc3RJZDIgPSBzZWxlY3RlZFtwbGF5bGlzdElkXSkgPT09IG51bGwgfHwgX3NlbGVjdGVkJHBsYXlsaXN0SWQyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc2VsZWN0ZWQkcGxheWxpc3RJZDIudmlkZW9zKSB8fCBbXTtcblxuICAgIC8vIEl0IHN1ZmZpY2VzIHRvIGNvbXBhcmUgbGVuZ3RocyBvbmx5XG4gICAgaWYgKGFsbFZpZGVvcy5sZW5ndGggIT09IHNlbGVjdGVkVmlkZW9zLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gT2JqZWN0LmtleXMocGxheWxpc3RzKS5sZW5ndGggPiAwO1xufSk7XG5cbi8qKlxuICogR2V0IHNlbGVjdGVkIFBsYXlsaXN0cyAmIHZpZGVvc1xuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBwbGF5bGlzdHNTdGF0ZSB0aGUgcGxheWxpc3RzIG9iamVjdC5cbiAqXG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKi9cbmV4cG9ydCB2YXIgZ2V0U2VsZWN0ZWRQbGF5bGlzdHMgPSBjcmVhdGVTZWxlY3RvcihwbGF5bGlzdHNTdGF0ZSwgZnVuY3Rpb24gKHBsYXlsaXN0c1N0YXRlKSB7XG4gIHJldHVybiBwbGF5bGlzdHNTdGF0ZS5zZWxlY3RlZDtcbn0pO1xuXG4vKipcbiAqIEdldCBMb2FkaW5nIHN0YXR1c1xuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBwbGF5bGlzdHNTdGF0ZSB0aGUgcGxheWxpc3RzIG9iamVjdC5cbiAqXG4gKiBAcmV0dXJuIHsqfVxuICovXG5leHBvcnQgdmFyIGdldExvYWRpbmdTdGF0dXMgPSBjcmVhdGVTZWxlY3RvcihwbGF5bGlzdHNTdGF0ZSwgZnVuY3Rpb24gKHBsYXlsaXN0c1N0YXRlKSB7XG4gIHJldHVybiBwbGF5bGlzdHNTdGF0ZS5pc0xvYWRpbmc7XG59KTtcblxuLy8gRXhwb3J0IGFjdGlvbnNcbnZhciBfcGxheWxpc3RzU2xpY2UkYWN0aW8gPSBwbGF5bGlzdHNTbGljZS5hY3Rpb25zLFxuICBzZXRQbGF5bGlzdCA9IF9wbGF5bGlzdHNTbGljZSRhY3Rpby5zZXRQbGF5bGlzdCxcbiAgdXBkYXRlUGxheWxpc3RLZXkgPSBfcGxheWxpc3RzU2xpY2UkYWN0aW8udXBkYXRlUGxheWxpc3RLZXksXG4gIHRvZ2dsZVBsYXlsaXN0ID0gX3BsYXlsaXN0c1NsaWNlJGFjdGlvLnRvZ2dsZVBsYXlsaXN0LFxuICB0b2dnbGVWaWRlbyA9IF9wbGF5bGlzdHNTbGljZSRhY3Rpby50b2dnbGVWaWRlbyxcbiAgdG9nZ2xlQWxsID0gX3BsYXlsaXN0c1NsaWNlJGFjdGlvLnRvZ2dsZUFsbDtcbmV4cG9ydCB7IHNldFBsYXlsaXN0LCB1cGRhdGVQbGF5bGlzdEtleSwgdG9nZ2xlUGxheWxpc3QsIHRvZ2dsZVZpZGVvLCB0b2dnbGVBbGwgfTtcbmV4cG9ydCBkZWZhdWx0IHBsYXlsaXN0c1NsaWNlLnJlZHVjZXI7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9317\n')},4084:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Q6: function() { return /* binding */ getFilteredIds; },\n/* harmony export */   fY: function() { return /* binding */ getVideos; },\n/* harmony export */   r2: function() { return /* binding */ initVideos; }\n/* harmony export */ });\n/* unused harmony exports deleteVideo, unAssignVideo, fetchEmbed, createVideo, updateVideo, searchVideos, getEmbed, getLoadingStatus, setFiltered */\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8740);\n/* harmony import */ var _helpers_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9331);\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4214);\n/* harmony import */ var reselect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1081);\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator.return && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, catch: function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\n\n\n\n\n\n/**\n * Re-initialize the videos list\n *\n * @return {Promise}\n */\nvar initVideos = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'videos/init\',\n// Redux action type\nfunction (params) {\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restGet */ .B8)({\n    path: \'videos\',\n    params: params\n  });\n});\n\n/**\n * Deletes a video\n *\n * @return {Promise}\n */\nvar deleteVideo = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'videos/delete\',\n// Redux action type\nfunction (data) {\n  var id = data.id;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restDelete */ ._8)({\n    path: "videos/".concat(id)\n  });\n});\n\n/**\n * Delete a video from playlist\n *\n * @return {Promise}\n */\nvar unAssignVideo = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'videos/delete\',\n// Redux action type\nfunction (_ref) {\n  var playlistID = _ref.playlistID,\n    videoID = _ref.videoID;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restDelete */ ._8)({\n    path: "playlists/".concat(playlistID, "/videos"),\n    data: {\n      videos: [videoID]\n    }\n  });\n});\n\n/**\n * Fetch a single embed object using API.\n *\n * Use this only if the embed is not already\n * found in state.\n *\n * @param {object} data Video ID and other args.\n *\n * @return {Promise}\n */\nvar fetchEmbed = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'videos/fetchEmbed\', /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(data) {\n    var response;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          if (!(data.id && data.id > 0)) {\n            _context.next = 6;\n            break;\n          }\n          _context.next = 3;\n          return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restGet */ .B8)({\n            path: "videos/".concat(data.id, "/embed"),\n            params: data\n          });\n        case 3:\n          response = _context.sent;\n          // Include the id in response\n          response.id = data.id;\n          return _context.abrupt("return", response);\n        case 6:\n        case "end":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n/**\n * Create a video\n *\n * @param {object} video Video object\n *\n * @return {Promise}\n */\nvar createVideo = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'videos/create\', function (data) {\n  var video = data.video;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restPost */ .J8)({\n    path: \'videos\',\n    data: video\n  });\n});\n\n/**\n * Update a video\n *\n * @param {object} video Video object\n *\n * @return {Promise}\n */\nvar updateVideo = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'videos/update\', function (data) {\n  var video = data.video,\n    id = data.id;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restPost */ .J8)({\n    path: "videos/".concat(id),\n    data: video\n  });\n});\n\n/**\n * Search Videos\n *\n * @param {object} search search string\n *\n * @return {Promise}\n */\nvar searchVideos = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'videos/search\', function (data) {\n  var search = data.search;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restGet */ .B8)({\n    path: "videos",\n    params: {\n      search: search,\n      field: \'ids\'\n    }\n  });\n});\nvar videosSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createSlice */ .Z0)({\n  name: \'videos\',\n  initialState: {\n    videos: {},\n    embeds: {},\n    filtered: [],\n    isLoading: false\n  },\n  reducers: {\n    /**\n     * Set a filtered video ids in state.\n     *\n     * It replaces the filtered list with the provided one\n     *\n     * @param {state} state object\n     * @param {object} action object\n     *\n     * @return {object} New State Object\n     */\n    setFiltered: function setFiltered(state, action) {\n      var ids = action.payload.ids;\n      return _objectSpread(_objectSpread({}, state), {}, {\n        filtered: ids\n      });\n    }\n  },\n  extraReducers: function extraReducers(builder) {\n    builder\n    // Handling initVideos status\n    .addCase(initVideos.pending, function (state) {\n      // Set Loading\n      state.isLoading = true;\n    }).addCase(initVideos.fulfilled, function (state, action) {\n      state.isLoading = false;\n      var payload = action.payload;\n      if (payload.success && payload.data) {\n        var videos = {};\n        var filtered = [];\n\n        // Setup the list data.\n        payload.data.forEach(function (video) {\n          videos[video.id] = video;\n          filtered.push(video.id);\n        });\n\n        // update the state\n        state.videos = videos;\n        state.filtered = filtered;\n      }\n      state.status = \'success\';\n    }).addCase(initVideos.rejected, function (state) {\n      // Update Status\n      state.status = \'error\';\n    })\n\n    // Handling fetchEmbed\n    .addCase(fetchEmbed.fulfilled, function (state, action) {\n      var embed = {};\n\n      // Update state\n      var payload = action.payload;\n      if (payload !== null && payload !== void 0 && payload.success && payload !== null && payload !== void 0 && payload.data && payload !== null && payload !== void 0 && payload.data.html) {\n        embed = payload.data;\n        var newData = _objectSpread({}, payload.data);\n        newData.id = payload.id;\n\n        // Update the state\n        state.embeds[payload.id] = newData;\n      }\n    })\n\n    // Handling Video Create\n    .addCase(createVideo.fulfilled, function (state, action) {\n      // Update state\n      var payload = action.payload;\n      if (payload !== null && payload !== void 0 && payload.success) {\n        var video = payload.data;\n\n        // Add video to state\n        if (video.id && video.id > 0) {\n          state.videos = _objectSpread(_objectSpread({}, state.videos), {}, _defineProperty({}, video.id, video));\n\n          // Add the id to the filtered list so the video will be displayed\n          state.filtered = [].concat(_toConsumableArray(state.filtered), [video.id]);\n        }\n      }\n    })\n\n    // Handeling Video Update\n    .addCase(updateVideo.fulfilled, function (state, action) {\n      var payload = action.payload;\n      var newVideo = payload.data;\n      if (payload !== null && payload !== void 0 && payload.success) {\n        // Update videos state\n        state.videos = _objectSpread(_objectSpread({}, state.videos), {}, _defineProperty({}, newVideo.id, newVideo));\n      }\n    })\n\n    // Handeling Video Delete\n    .addCase(deleteVideo.fulfilled, function (state, action) {\n      var id = action.meta.arg.id,\n        success = action.payload.success;\n      if (success === true) {\n        var videos = state.videos,\n          filtered = state.filtered;\n\n        // Remove from filtered list\n        state.filtered = filtered.filter(function (item) {\n          return id !== item;\n        });\n\n        // Delete the video from the videos object\n        var newVideos = _objectSpread({}, videos);\n        delete newVideos[id];\n        state.videos = newVideos;\n      }\n    })\n\n    // Handeling Video Search\n    .addCase(searchVideos.pending, function (state, action) {\n      // Set Loading\n      state.isLoading = true;\n    }).addCase(searchVideos.fulfilled, function (state, action) {\n      var _action$payload;\n      var ids = (action === null || action === void 0 || (_action$payload = action.payload) === null || _action$payload === void 0 ? void 0 : _action$payload.data) || [];\n      state.filtered = ids;\n\n      // Set Loading\n      state.isLoading = false;\n    }).addCase(searchVideos.rejected, function (state, action) {\n      state.isLoading = false;\n    });\n  }\n});\n\n// Selectors\nvar videosState = function videosState(state) {\n  return state.videos;\n};\n\n/**\n * Get video(s) object(s) by id(s)\n *\n * @param {object} videosState\n * @param {array|string} ids videos ids\n *\n * @return {array|object|false}\n */\nvar getVideos = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(videosState, function (_, ids) {\n  return ids;\n}, function (videosState, ids) {\n  var videos = [];\n  if (Array.isArray(ids)) {\n    ids.forEach(function (id) {\n      if (videosState.videos[id]) {\n        videos.push(videosState.videos[id]);\n      }\n    });\n    return videos;\n  } else if (typeof ids === \'string\' || typeof ids === \'number\') {\n    return videosState.videos[ids];\n  } else {\n    // If ids is not provided get all videos\n    return videosState.videos;\n  }\n});\n\n/**\n * Get Filtered IDs\n *\n * @param {object} videosState\n *\n * @return {array}\n */\nvar getFilteredIds = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(videosState, function (videosState) {\n  return videosState.filtered;\n});\n\n/**\n * Get a single embed object\n *\n * @param {object} videosState\n * @param {number} videoId\n *\n * @return {array}\n */\nvar getEmbed = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(videosState, function (_, id) {\n  return id;\n}, function (videosState, id) {\n  return videosState.embeds[id] || false;\n});\n\n/**\n * Get loading status\n *\n * @param {object} videosState the videos state object.\n *\n * @return {boolean}\n */\nvar getLoadingStatus = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(videosState, function (videosState) {\n  return videosState.isLoading;\n});\n\n// Export actions\nvar setFiltered = videosSlice.actions.setFiltered;\n\n/* harmony default export */ __webpack_exports__.Ay = (videosSlice.reducer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDA4NC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9zdG9yZS9zbGljZXMvdmlkZW9zLmpzPzFiMGMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KHIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhyKSB8fCBfaXRlcmFibGVUb0FycmF5KHIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfVxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGEpIHsgaWYgKHIpIHsgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKTsgdmFyIHQgPSB7fS50b1N0cmluZy5jYWxsKHIpLnNsaWNlKDgsIC0xKTsgcmV0dXJuIFwiT2JqZWN0XCIgPT09IHQgJiYgci5jb25zdHJ1Y3RvciAmJiAodCA9IHIuY29uc3RydWN0b3IubmFtZSksIFwiTWFwXCIgPT09IHQgfHwgXCJTZXRcIiA9PT0gdCA/IEFycmF5LmZyb20ocikgOiBcIkFyZ3VtZW50c1wiID09PSB0IHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpID8gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgOiB2b2lkIDA7IH0gfVxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShyKSB7IGlmIChcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgbnVsbCAhPSByW1N5bWJvbC5pdGVyYXRvcl0gfHwgbnVsbCAhPSByW1wiQEBpdGVyYXRvclwiXSkgcmV0dXJuIEFycmF5LmZyb20ocik7IH1cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhyKSB7IGlmIChBcnJheS5pc0FycmF5KHIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkocik7IH1cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIHsgKG51bGwgPT0gYSB8fCBhID4gci5sZW5ndGgpICYmIChhID0gci5sZW5ndGgpOyBmb3IgKHZhciBlID0gMCwgbiA9IEFycmF5KGEpOyBlIDwgYTsgZSsrKSBuW2VdID0gcltlXTsgcmV0dXJuIG47IH1cbmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfVxuZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KGUsIHIsIHQpIHsgcmV0dXJuIChyID0gX3RvUHJvcGVydHlLZXkocikpIGluIGUgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgeyB2YWx1ZTogdCwgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9KSA6IGVbcl0gPSB0LCBlOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleSh0KSB7IHZhciBpID0gX3RvUHJpbWl0aXZlKHQsIFwic3RyaW5nXCIpOyByZXR1cm4gXCJzeW1ib2xcIiA9PSBfdHlwZW9mKGkpID8gaSA6IGkgKyBcIlwiOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikgeyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKHQpIHx8ICF0KSByZXR1cm4gdDsgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmICh2b2lkIDAgIT09IGUpIHsgdmFyIGkgPSBlLmNhbGwodCwgciB8fCBcImRlZmF1bHRcIik7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YoaSkpIHJldHVybiBpOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsgfVxuZnVuY3Rpb24gX3JlZ2VuZXJhdG9yUnVudGltZSgpIHsgXCJ1c2Ugc3RyaWN0XCI7IC8qISByZWdlbmVyYXRvci1ydW50aW1lIC0tIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLiAtLSBsaWNlbnNlIChNSVQpOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvYmxvYi9tYWluL0xJQ0VOU0UgKi8gX3JlZ2VuZXJhdG9yUnVudGltZSA9IGZ1bmN0aW9uIF9yZWdlbmVyYXRvclJ1bnRpbWUoKSB7IHJldHVybiBlOyB9OyB2YXIgdCwgZSA9IHt9LCByID0gT2JqZWN0LnByb3RvdHlwZSwgbiA9IHIuaGFzT3duUHJvcGVydHksIG8gPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgfHwgZnVuY3Rpb24gKHQsIGUsIHIpIHsgdFtlXSA9IHIudmFsdWU7IH0sIGkgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCA/IFN5bWJvbCA6IHt9LCBhID0gaS5pdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIiwgYyA9IGkuYXN5bmNJdGVyYXRvciB8fCBcIkBAYXN5bmNJdGVyYXRvclwiLCB1ID0gaS50b1N0cmluZ1RhZyB8fCBcIkBAdG9TdHJpbmdUYWdcIjsgZnVuY3Rpb24gZGVmaW5lKHQsIGUsIHIpIHsgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBlLCB7IHZhbHVlOiByLCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pLCB0W2VdOyB9IHRyeSB7IGRlZmluZSh7fSwgXCJcIik7IH0gY2F0Y2ggKHQpIHsgZGVmaW5lID0gZnVuY3Rpb24gZGVmaW5lKHQsIGUsIHIpIHsgcmV0dXJuIHRbZV0gPSByOyB9OyB9IGZ1bmN0aW9uIHdyYXAodCwgZSwgciwgbikgeyB2YXIgaSA9IGUgJiYgZS5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBlIDogR2VuZXJhdG9yLCBhID0gT2JqZWN0LmNyZWF0ZShpLnByb3RvdHlwZSksIGMgPSBuZXcgQ29udGV4dChuIHx8IFtdKTsgcmV0dXJuIG8oYSwgXCJfaW52b2tlXCIsIHsgdmFsdWU6IG1ha2VJbnZva2VNZXRob2QodCwgciwgYykgfSksIGE7IH0gZnVuY3Rpb24gdHJ5Q2F0Y2godCwgZSwgcikgeyB0cnkgeyByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IHQuY2FsbChlLCByKSB9OyB9IGNhdGNoICh0KSB7IHJldHVybiB7IHR5cGU6IFwidGhyb3dcIiwgYXJnOiB0IH07IH0gfSBlLndyYXAgPSB3cmFwOyB2YXIgaCA9IFwic3VzcGVuZGVkU3RhcnRcIiwgbCA9IFwic3VzcGVuZGVkWWllbGRcIiwgZiA9IFwiZXhlY3V0aW5nXCIsIHMgPSBcImNvbXBsZXRlZFwiLCB5ID0ge307IGZ1bmN0aW9uIEdlbmVyYXRvcigpIHt9IGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge30gZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fSB2YXIgcCA9IHt9OyBkZWZpbmUocCwgYSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSk7IHZhciBkID0gT2JqZWN0LmdldFByb3RvdHlwZU9mLCB2ID0gZCAmJiBkKGQodmFsdWVzKFtdKSkpOyB2ICYmIHYgIT09IHIgJiYgbi5jYWxsKHYsIGEpICYmIChwID0gdik7IHZhciBnID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID0gR2VuZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUocCk7IGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyh0KSB7IFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7IGRlZmluZSh0LCBlLCBmdW5jdGlvbiAodCkgeyByZXR1cm4gdGhpcy5faW52b2tlKGUsIHQpOyB9KTsgfSk7IH0gZnVuY3Rpb24gQXN5bmNJdGVyYXRvcih0LCBlKSB7IGZ1bmN0aW9uIGludm9rZShyLCBvLCBpLCBhKSB7IHZhciBjID0gdHJ5Q2F0Y2godFtyXSwgdCwgbyk7IGlmIChcInRocm93XCIgIT09IGMudHlwZSkgeyB2YXIgdSA9IGMuYXJnLCBoID0gdS52YWx1ZTsgcmV0dXJuIGggJiYgXCJvYmplY3RcIiA9PSBfdHlwZW9mKGgpICYmIG4uY2FsbChoLCBcIl9fYXdhaXRcIikgPyBlLnJlc29sdmUoaC5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uICh0KSB7IGludm9rZShcIm5leHRcIiwgdCwgaSwgYSk7IH0sIGZ1bmN0aW9uICh0KSB7IGludm9rZShcInRocm93XCIsIHQsIGksIGEpOyB9KSA6IGUucmVzb2x2ZShoKS50aGVuKGZ1bmN0aW9uICh0KSB7IHUudmFsdWUgPSB0LCBpKHUpOyB9LCBmdW5jdGlvbiAodCkgeyByZXR1cm4gaW52b2tlKFwidGhyb3dcIiwgdCwgaSwgYSk7IH0pOyB9IGEoYy5hcmcpOyB9IHZhciByOyBvKHRoaXMsIFwiX2ludm9rZVwiLCB7IHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSh0LCBuKSB7IGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkgeyByZXR1cm4gbmV3IGUoZnVuY3Rpb24gKGUsIHIpIHsgaW52b2tlKHQsIG4sIGUsIHIpOyB9KTsgfSByZXR1cm4gciA9IHIgPyByLnRoZW4oY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7IH0gfSk7IH0gZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChlLCByLCBuKSB7IHZhciBvID0gaDsgcmV0dXJuIGZ1bmN0aW9uIChpLCBhKSB7IGlmIChvID09PSBmKSB0aHJvdyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7IGlmIChvID09PSBzKSB7IGlmIChcInRocm93XCIgPT09IGkpIHRocm93IGE7IHJldHVybiB7IHZhbHVlOiB0LCBkb25lOiAhMCB9OyB9IGZvciAobi5tZXRob2QgPSBpLCBuLmFyZyA9IGE7OykgeyB2YXIgYyA9IG4uZGVsZWdhdGU7IGlmIChjKSB7IHZhciB1ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShjLCBuKTsgaWYgKHUpIHsgaWYgKHUgPT09IHkpIGNvbnRpbnVlOyByZXR1cm4gdTsgfSB9IGlmIChcIm5leHRcIiA9PT0gbi5tZXRob2QpIG4uc2VudCA9IG4uX3NlbnQgPSBuLmFyZztlbHNlIGlmIChcInRocm93XCIgPT09IG4ubWV0aG9kKSB7IGlmIChvID09PSBoKSB0aHJvdyBvID0gcywgbi5hcmc7IG4uZGlzcGF0Y2hFeGNlcHRpb24obi5hcmcpOyB9IGVsc2UgXCJyZXR1cm5cIiA9PT0gbi5tZXRob2QgJiYgbi5hYnJ1cHQoXCJyZXR1cm5cIiwgbi5hcmcpOyBvID0gZjsgdmFyIHAgPSB0cnlDYXRjaChlLCByLCBuKTsgaWYgKFwibm9ybWFsXCIgPT09IHAudHlwZSkgeyBpZiAobyA9IG4uZG9uZSA/IHMgOiBsLCBwLmFyZyA9PT0geSkgY29udGludWU7IHJldHVybiB7IHZhbHVlOiBwLmFyZywgZG9uZTogbi5kb25lIH07IH0gXCJ0aHJvd1wiID09PSBwLnR5cGUgJiYgKG8gPSBzLCBuLm1ldGhvZCA9IFwidGhyb3dcIiwgbi5hcmcgPSBwLmFyZyk7IH0gfTsgfSBmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGUsIHIpIHsgdmFyIG4gPSByLm1ldGhvZCwgbyA9IGUuaXRlcmF0b3Jbbl07IGlmIChvID09PSB0KSByZXR1cm4gci5kZWxlZ2F0ZSA9IG51bGwsIFwidGhyb3dcIiA9PT0gbiAmJiBlLml0ZXJhdG9yLnJldHVybiAmJiAoci5tZXRob2QgPSBcInJldHVyblwiLCByLmFyZyA9IHQsIG1heWJlSW52b2tlRGVsZWdhdGUoZSwgciksIFwidGhyb3dcIiA9PT0gci5tZXRob2QpIHx8IFwicmV0dXJuXCIgIT09IG4gJiYgKHIubWV0aG9kID0gXCJ0aHJvd1wiLCByLmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICdcIiArIG4gKyBcIicgbWV0aG9kXCIpKSwgeTsgdmFyIGkgPSB0cnlDYXRjaChvLCBlLml0ZXJhdG9yLCByLmFyZyk7IGlmIChcInRocm93XCIgPT09IGkudHlwZSkgcmV0dXJuIHIubWV0aG9kID0gXCJ0aHJvd1wiLCByLmFyZyA9IGkuYXJnLCByLmRlbGVnYXRlID0gbnVsbCwgeTsgdmFyIGEgPSBpLmFyZzsgcmV0dXJuIGEgPyBhLmRvbmUgPyAocltlLnJlc3VsdE5hbWVdID0gYS52YWx1ZSwgci5uZXh0ID0gZS5uZXh0TG9jLCBcInJldHVyblwiICE9PSByLm1ldGhvZCAmJiAoci5tZXRob2QgPSBcIm5leHRcIiwgci5hcmcgPSB0KSwgci5kZWxlZ2F0ZSA9IG51bGwsIHkpIDogYSA6IChyLm1ldGhvZCA9IFwidGhyb3dcIiwgci5hcmcgPSBuZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIiksIHIuZGVsZWdhdGUgPSBudWxsLCB5KTsgfSBmdW5jdGlvbiBwdXNoVHJ5RW50cnkodCkgeyB2YXIgZSA9IHsgdHJ5TG9jOiB0WzBdIH07IDEgaW4gdCAmJiAoZS5jYXRjaExvYyA9IHRbMV0pLCAyIGluIHQgJiYgKGUuZmluYWxseUxvYyA9IHRbMl0sIGUuYWZ0ZXJMb2MgPSB0WzNdKSwgdGhpcy50cnlFbnRyaWVzLnB1c2goZSk7IH0gZnVuY3Rpb24gcmVzZXRUcnlFbnRyeSh0KSB7IHZhciBlID0gdC5jb21wbGV0aW9uIHx8IHt9OyBlLnR5cGUgPSBcIm5vcm1hbFwiLCBkZWxldGUgZS5hcmcsIHQuY29tcGxldGlvbiA9IGU7IH0gZnVuY3Rpb24gQ29udGV4dCh0KSB7IHRoaXMudHJ5RW50cmllcyA9IFt7IHRyeUxvYzogXCJyb290XCIgfV0sIHQuZm9yRWFjaChwdXNoVHJ5RW50cnksIHRoaXMpLCB0aGlzLnJlc2V0KCEwKTsgfSBmdW5jdGlvbiB2YWx1ZXMoZSkgeyBpZiAoZSB8fCBcIlwiID09PSBlKSB7IHZhciByID0gZVthXTsgaWYgKHIpIHJldHVybiByLmNhbGwoZSk7IGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUubmV4dCkgcmV0dXJuIGU7IGlmICghaXNOYU4oZS5sZW5ndGgpKSB7IHZhciBvID0gLTEsIGkgPSBmdW5jdGlvbiBuZXh0KCkgeyBmb3IgKDsgKytvIDwgZS5sZW5ndGg7KSBpZiAobi5jYWxsKGUsIG8pKSByZXR1cm4gbmV4dC52YWx1ZSA9IGVbb10sIG5leHQuZG9uZSA9ICExLCBuZXh0OyByZXR1cm4gbmV4dC52YWx1ZSA9IHQsIG5leHQuZG9uZSA9ICEwLCBuZXh0OyB9OyByZXR1cm4gaS5uZXh0ID0gaTsgfSB9IHRocm93IG5ldyBUeXBlRXJyb3IoX3R5cGVvZihlKSArIFwiIGlzIG5vdCBpdGVyYWJsZVwiKTsgfSByZXR1cm4gR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIG8oZywgXCJjb25zdHJ1Y3RvclwiLCB7IHZhbHVlOiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgY29uZmlndXJhYmxlOiAhMCB9KSwgbyhHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgXCJjb25zdHJ1Y3RvclwiLCB7IHZhbHVlOiBHZW5lcmF0b3JGdW5jdGlvbiwgY29uZmlndXJhYmxlOiAhMCB9KSwgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBkZWZpbmUoR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIHUsIFwiR2VuZXJhdG9yRnVuY3Rpb25cIiksIGUuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uICh0KSB7IHZhciBlID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiB0ICYmIHQuY29uc3RydWN0b3I7IHJldHVybiAhIWUgJiYgKGUgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8IFwiR2VuZXJhdG9yRnVuY3Rpb25cIiA9PT0gKGUuZGlzcGxheU5hbWUgfHwgZS5uYW1lKSk7IH0sIGUubWFyayA9IGZ1bmN0aW9uICh0KSB7IHJldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YodCwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpIDogKHQuX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIGRlZmluZSh0LCB1LCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpKSwgdC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGcpLCB0OyB9LCBlLmF3cmFwID0gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHsgX19hd2FpdDogdCB9OyB9LCBkZWZpbmVJdGVyYXRvck1ldGhvZHMoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUpLCBkZWZpbmUoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUsIGMsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pLCBlLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yLCBlLmFzeW5jID0gZnVuY3Rpb24gKHQsIHIsIG4sIG8sIGkpIHsgdm9pZCAwID09PSBpICYmIChpID0gUHJvbWlzZSk7IHZhciBhID0gbmV3IEFzeW5jSXRlcmF0b3Iod3JhcCh0LCByLCBuLCBvKSwgaSk7IHJldHVybiBlLmlzR2VuZXJhdG9yRnVuY3Rpb24ocikgPyBhIDogYS5uZXh0KCkudGhlbihmdW5jdGlvbiAodCkgeyByZXR1cm4gdC5kb25lID8gdC52YWx1ZSA6IGEubmV4dCgpOyB9KTsgfSwgZGVmaW5lSXRlcmF0b3JNZXRob2RzKGcpLCBkZWZpbmUoZywgdSwgXCJHZW5lcmF0b3JcIiksIGRlZmluZShnLCBhLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSwgZGVmaW5lKGcsIFwidG9TdHJpbmdcIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjsgfSksIGUua2V5cyA9IGZ1bmN0aW9uICh0KSB7IHZhciBlID0gT2JqZWN0KHQpLCByID0gW107IGZvciAodmFyIG4gaW4gZSkgci5wdXNoKG4pOyByZXR1cm4gci5yZXZlcnNlKCksIGZ1bmN0aW9uIG5leHQoKSB7IGZvciAoOyByLmxlbmd0aDspIHsgdmFyIHQgPSByLnBvcCgpOyBpZiAodCBpbiBlKSByZXR1cm4gbmV4dC52YWx1ZSA9IHQsIG5leHQuZG9uZSA9ICExLCBuZXh0OyB9IHJldHVybiBuZXh0LmRvbmUgPSAhMCwgbmV4dDsgfTsgfSwgZS52YWx1ZXMgPSB2YWx1ZXMsIENvbnRleHQucHJvdG90eXBlID0geyBjb25zdHJ1Y3RvcjogQ29udGV4dCwgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KGUpIHsgaWYgKHRoaXMucHJldiA9IDAsIHRoaXMubmV4dCA9IDAsIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB0LCB0aGlzLmRvbmUgPSAhMSwgdGhpcy5kZWxlZ2F0ZSA9IG51bGwsIHRoaXMubWV0aG9kID0gXCJuZXh0XCIsIHRoaXMuYXJnID0gdCwgdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSksICFlKSBmb3IgKHZhciByIGluIHRoaXMpIFwidFwiID09PSByLmNoYXJBdCgwKSAmJiBuLmNhbGwodGhpcywgcikgJiYgIWlzTmFOKCtyLnNsaWNlKDEpKSAmJiAodGhpc1tyXSA9IHQpOyB9LCBzdG9wOiBmdW5jdGlvbiBzdG9wKCkgeyB0aGlzLmRvbmUgPSAhMDsgdmFyIHQgPSB0aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjsgaWYgKFwidGhyb3dcIiA9PT0gdC50eXBlKSB0aHJvdyB0LmFyZzsgcmV0dXJuIHRoaXMucnZhbDsgfSwgZGlzcGF0Y2hFeGNlcHRpb246IGZ1bmN0aW9uIGRpc3BhdGNoRXhjZXB0aW9uKGUpIHsgaWYgKHRoaXMuZG9uZSkgdGhyb3cgZTsgdmFyIHIgPSB0aGlzOyBmdW5jdGlvbiBoYW5kbGUobiwgbykgeyByZXR1cm4gYS50eXBlID0gXCJ0aHJvd1wiLCBhLmFyZyA9IGUsIHIubmV4dCA9IG4sIG8gJiYgKHIubWV0aG9kID0gXCJuZXh0XCIsIHIuYXJnID0gdCksICEhbzsgfSBmb3IgKHZhciBvID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IG8gPj0gMDsgLS1vKSB7IHZhciBpID0gdGhpcy50cnlFbnRyaWVzW29dLCBhID0gaS5jb21wbGV0aW9uOyBpZiAoXCJyb290XCIgPT09IGkudHJ5TG9jKSByZXR1cm4gaGFuZGxlKFwiZW5kXCIpOyBpZiAoaS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7IHZhciBjID0gbi5jYWxsKGksIFwiY2F0Y2hMb2NcIiksIHUgPSBuLmNhbGwoaSwgXCJmaW5hbGx5TG9jXCIpOyBpZiAoYyAmJiB1KSB7IGlmICh0aGlzLnByZXYgPCBpLmNhdGNoTG9jKSByZXR1cm4gaGFuZGxlKGkuY2F0Y2hMb2MsICEwKTsgaWYgKHRoaXMucHJldiA8IGkuZmluYWxseUxvYykgcmV0dXJuIGhhbmRsZShpLmZpbmFsbHlMb2MpOyB9IGVsc2UgaWYgKGMpIHsgaWYgKHRoaXMucHJldiA8IGkuY2F0Y2hMb2MpIHJldHVybiBoYW5kbGUoaS5jYXRjaExvYywgITApOyB9IGVsc2UgeyBpZiAoIXUpIHRocm93IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7IGlmICh0aGlzLnByZXYgPCBpLmZpbmFsbHlMb2MpIHJldHVybiBoYW5kbGUoaS5maW5hbGx5TG9jKTsgfSB9IH0gfSwgYWJydXB0OiBmdW5jdGlvbiBhYnJ1cHQodCwgZSkgeyBmb3IgKHZhciByID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IHIgPj0gMDsgLS1yKSB7IHZhciBvID0gdGhpcy50cnlFbnRyaWVzW3JdOyBpZiAoby50cnlMb2MgPD0gdGhpcy5wcmV2ICYmIG4uY2FsbChvLCBcImZpbmFsbHlMb2NcIikgJiYgdGhpcy5wcmV2IDwgby5maW5hbGx5TG9jKSB7IHZhciBpID0gbzsgYnJlYWs7IH0gfSBpICYmIChcImJyZWFrXCIgPT09IHQgfHwgXCJjb250aW51ZVwiID09PSB0KSAmJiBpLnRyeUxvYyA8PSBlICYmIGUgPD0gaS5maW5hbGx5TG9jICYmIChpID0gbnVsbCk7IHZhciBhID0gaSA/IGkuY29tcGxldGlvbiA6IHt9OyByZXR1cm4gYS50eXBlID0gdCwgYS5hcmcgPSBlLCBpID8gKHRoaXMubWV0aG9kID0gXCJuZXh0XCIsIHRoaXMubmV4dCA9IGkuZmluYWxseUxvYywgeSkgOiB0aGlzLmNvbXBsZXRlKGEpOyB9LCBjb21wbGV0ZTogZnVuY3Rpb24gY29tcGxldGUodCwgZSkgeyBpZiAoXCJ0aHJvd1wiID09PSB0LnR5cGUpIHRocm93IHQuYXJnOyByZXR1cm4gXCJicmVha1wiID09PSB0LnR5cGUgfHwgXCJjb250aW51ZVwiID09PSB0LnR5cGUgPyB0aGlzLm5leHQgPSB0LmFyZyA6IFwicmV0dXJuXCIgPT09IHQudHlwZSA/ICh0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHQuYXJnLCB0aGlzLm1ldGhvZCA9IFwicmV0dXJuXCIsIHRoaXMubmV4dCA9IFwiZW5kXCIpIDogXCJub3JtYWxcIiA9PT0gdC50eXBlICYmIGUgJiYgKHRoaXMubmV4dCA9IGUpLCB5OyB9LCBmaW5pc2g6IGZ1bmN0aW9uIGZpbmlzaCh0KSB7IGZvciAodmFyIGUgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgZSA+PSAwOyAtLWUpIHsgdmFyIHIgPSB0aGlzLnRyeUVudHJpZXNbZV07IGlmIChyLmZpbmFsbHlMb2MgPT09IHQpIHJldHVybiB0aGlzLmNvbXBsZXRlKHIuY29tcGxldGlvbiwgci5hZnRlckxvYyksIHJlc2V0VHJ5RW50cnkociksIHk7IH0gfSwgY2F0Y2g6IGZ1bmN0aW9uIF9jYXRjaCh0KSB7IGZvciAodmFyIGUgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgZSA+PSAwOyAtLWUpIHsgdmFyIHIgPSB0aGlzLnRyeUVudHJpZXNbZV07IGlmIChyLnRyeUxvYyA9PT0gdCkgeyB2YXIgbiA9IHIuY29tcGxldGlvbjsgaWYgKFwidGhyb3dcIiA9PT0gbi50eXBlKSB7IHZhciBvID0gbi5hcmc7IHJlc2V0VHJ5RW50cnkocik7IH0gcmV0dXJuIG87IH0gfSB0aHJvdyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKTsgfSwgZGVsZWdhdGVZaWVsZDogZnVuY3Rpb24gZGVsZWdhdGVZaWVsZChlLCByLCBuKSB7IHJldHVybiB0aGlzLmRlbGVnYXRlID0geyBpdGVyYXRvcjogdmFsdWVzKGUpLCByZXN1bHROYW1lOiByLCBuZXh0TG9jOiBuIH0sIFwibmV4dFwiID09PSB0aGlzLm1ldGhvZCAmJiAodGhpcy5hcmcgPSB0KSwgeTsgfSB9LCBlOyB9XG5mdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAobiwgdCwgZSwgciwgbywgYSwgYykgeyB0cnkgeyB2YXIgaSA9IG5bYV0oYyksIHUgPSBpLnZhbHVlOyB9IGNhdGNoIChuKSB7IHJldHVybiB2b2lkIGUobik7IH0gaS5kb25lID8gdCh1KSA6IFByb21pc2UucmVzb2x2ZSh1KS50aGVuKHIsIG8pOyB9XG5mdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciB0ID0gdGhpcywgZSA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyLCBvKSB7IHZhciBhID0gbi5hcHBseSh0LCBlKTsgZnVuY3Rpb24gX25leHQobikgeyBhc3luY0dlbmVyYXRvclN0ZXAoYSwgciwgbywgX25leHQsIF90aHJvdywgXCJuZXh0XCIsIG4pOyB9IGZ1bmN0aW9uIF90aHJvdyhuKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChhLCByLCBvLCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIG4pOyB9IF9uZXh0KHZvaWQgMCk7IH0pOyB9OyB9XG5pbXBvcnQgeyBjcmVhdGVTbGljZSwgY3JlYXRlQXN5bmNUaHVuayB9IGZyb20gJ0ByZWR1eGpzL3Rvb2xraXQnO1xuaW1wb3J0IHsgcmVzdFBvc3QsIHJlc3REZWxldGUsIHJlc3RHZXQgfSBmcm9tICcuLi8uLi9oZWxwZXJzL2FwaSc7XG5pbXBvcnQgeyBfXyB9IGZyb20gJ0B3b3JkcHJlc3MvaTE4bic7XG5pbXBvcnQgeyBjcmVhdGVTZWxlY3RvciB9IGZyb20gJ3Jlc2VsZWN0JztcblxuLyoqXG4gKiBSZS1pbml0aWFsaXplIHRoZSB2aWRlb3MgbGlzdFxuICpcbiAqIEByZXR1cm4ge1Byb21pc2V9XG4gKi9cbmV4cG9ydCB2YXIgaW5pdFZpZGVvcyA9IGNyZWF0ZUFzeW5jVGh1bmsoJ3ZpZGVvcy9pbml0Jyxcbi8vIFJlZHV4IGFjdGlvbiB0eXBlXG5mdW5jdGlvbiAocGFyYW1zKSB7XG4gIHJldHVybiByZXN0R2V0KHtcbiAgICBwYXRoOiAndmlkZW9zJyxcbiAgICBwYXJhbXM6IHBhcmFtc1xuICB9KTtcbn0pO1xuXG4vKipcbiAqIERlbGV0ZXMgYSB2aWRlb1xuICpcbiAqIEByZXR1cm4ge1Byb21pc2V9XG4gKi9cbmV4cG9ydCB2YXIgZGVsZXRlVmlkZW8gPSBjcmVhdGVBc3luY1RodW5rKCd2aWRlb3MvZGVsZXRlJyxcbi8vIFJlZHV4IGFjdGlvbiB0eXBlXG5mdW5jdGlvbiAoZGF0YSkge1xuICB2YXIgaWQgPSBkYXRhLmlkO1xuICByZXR1cm4gcmVzdERlbGV0ZSh7XG4gICAgcGF0aDogXCJ2aWRlb3MvXCIuY29uY2F0KGlkKVxuICB9KTtcbn0pO1xuXG4vKipcbiAqIERlbGV0ZSBhIHZpZGVvIGZyb20gcGxheWxpc3RcbiAqXG4gKiBAcmV0dXJuIHtQcm9taXNlfVxuICovXG5leHBvcnQgdmFyIHVuQXNzaWduVmlkZW8gPSBjcmVhdGVBc3luY1RodW5rKCd2aWRlb3MvZGVsZXRlJyxcbi8vIFJlZHV4IGFjdGlvbiB0eXBlXG5mdW5jdGlvbiAoX3JlZikge1xuICB2YXIgcGxheWxpc3RJRCA9IF9yZWYucGxheWxpc3RJRCxcbiAgICB2aWRlb0lEID0gX3JlZi52aWRlb0lEO1xuICByZXR1cm4gcmVzdERlbGV0ZSh7XG4gICAgcGF0aDogXCJwbGF5bGlzdHMvXCIuY29uY2F0KHBsYXlsaXN0SUQsIFwiL3ZpZGVvc1wiKSxcbiAgICBkYXRhOiB7XG4gICAgICB2aWRlb3M6IFt2aWRlb0lEXVxuICAgIH1cbiAgfSk7XG59KTtcblxuLyoqXG4gKiBGZXRjaCBhIHNpbmdsZSBlbWJlZCBvYmplY3QgdXNpbmcgQVBJLlxuICpcbiAqIFVzZSB0aGlzIG9ubHkgaWYgdGhlIGVtYmVkIGlzIG5vdCBhbHJlYWR5XG4gKiBmb3VuZCBpbiBzdGF0ZS5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gZGF0YSBWaWRlbyBJRCBhbmQgb3RoZXIgYXJncy5cbiAqXG4gKiBAcmV0dXJuIHtQcm9taXNlfVxuICovXG5leHBvcnQgdmFyIGZldGNoRW1iZWQgPSBjcmVhdGVBc3luY1RodW5rKCd2aWRlb3MvZmV0Y2hFbWJlZCcsIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShkYXRhKSB7XG4gICAgdmFyIHJlc3BvbnNlO1xuICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIGlmICghKGRhdGEuaWQgJiYgZGF0YS5pZCA+IDApKSB7XG4gICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMztcbiAgICAgICAgICByZXR1cm4gcmVzdEdldCh7XG4gICAgICAgICAgICBwYXRoOiBcInZpZGVvcy9cIi5jb25jYXQoZGF0YS5pZCwgXCIvZW1iZWRcIiksXG4gICAgICAgICAgICBwYXJhbXM6IGRhdGFcbiAgICAgICAgICB9KTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDtcbiAgICAgICAgICAvLyBJbmNsdWRlIHRoZSBpZCBpbiByZXNwb25zZVxuICAgICAgICAgIHJlc3BvbnNlLmlkID0gZGF0YS5pZDtcbiAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIHJlc3BvbnNlKTtcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgIH1cbiAgICB9LCBfY2FsbGVlKTtcbiAgfSkpO1xuICByZXR1cm4gZnVuY3Rpb24gKF94KSB7XG4gICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59KCkpO1xuXG4vKipcbiAqIENyZWF0ZSBhIHZpZGVvXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHZpZGVvIFZpZGVvIG9iamVjdFxuICpcbiAqIEByZXR1cm4ge1Byb21pc2V9XG4gKi9cbmV4cG9ydCB2YXIgY3JlYXRlVmlkZW8gPSBjcmVhdGVBc3luY1RodW5rKCd2aWRlb3MvY3JlYXRlJywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgdmFyIHZpZGVvID0gZGF0YS52aWRlbztcbiAgcmV0dXJuIHJlc3RQb3N0KHtcbiAgICBwYXRoOiAndmlkZW9zJyxcbiAgICBkYXRhOiB2aWRlb1xuICB9KTtcbn0pO1xuXG4vKipcbiAqIFVwZGF0ZSBhIHZpZGVvXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHZpZGVvIFZpZGVvIG9iamVjdFxuICpcbiAqIEByZXR1cm4ge1Byb21pc2V9XG4gKi9cbmV4cG9ydCB2YXIgdXBkYXRlVmlkZW8gPSBjcmVhdGVBc3luY1RodW5rKCd2aWRlb3MvdXBkYXRlJywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgdmFyIHZpZGVvID0gZGF0YS52aWRlbyxcbiAgICBpZCA9IGRhdGEuaWQ7XG4gIHJldHVybiByZXN0UG9zdCh7XG4gICAgcGF0aDogXCJ2aWRlb3MvXCIuY29uY2F0KGlkKSxcbiAgICBkYXRhOiB2aWRlb1xuICB9KTtcbn0pO1xuXG4vKipcbiAqIFNlYXJjaCBWaWRlb3NcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gc2VhcmNoIHNlYXJjaCBzdHJpbmdcbiAqXG4gKiBAcmV0dXJuIHtQcm9taXNlfVxuICovXG5leHBvcnQgdmFyIHNlYXJjaFZpZGVvcyA9IGNyZWF0ZUFzeW5jVGh1bmsoJ3ZpZGVvcy9zZWFyY2gnLCBmdW5jdGlvbiAoZGF0YSkge1xuICB2YXIgc2VhcmNoID0gZGF0YS5zZWFyY2g7XG4gIHJldHVybiByZXN0R2V0KHtcbiAgICBwYXRoOiBcInZpZGVvc1wiLFxuICAgIHBhcmFtczoge1xuICAgICAgc2VhcmNoOiBzZWFyY2gsXG4gICAgICBmaWVsZDogJ2lkcydcbiAgICB9XG4gIH0pO1xufSk7XG52YXIgdmlkZW9zU2xpY2UgPSBjcmVhdGVTbGljZSh7XG4gIG5hbWU6ICd2aWRlb3MnLFxuICBpbml0aWFsU3RhdGU6IHtcbiAgICB2aWRlb3M6IHt9LFxuICAgIGVtYmVkczoge30sXG4gICAgZmlsdGVyZWQ6IFtdLFxuICAgIGlzTG9hZGluZzogZmFsc2VcbiAgfSxcbiAgcmVkdWNlcnM6IHtcbiAgICAvKipcbiAgICAgKiBTZXQgYSBmaWx0ZXJlZCB2aWRlbyBpZHMgaW4gc3RhdGUuXG4gICAgICpcbiAgICAgKiBJdCByZXBsYWNlcyB0aGUgZmlsdGVyZWQgbGlzdCB3aXRoIHRoZSBwcm92aWRlZCBvbmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RhdGV9IHN0YXRlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBhY3Rpb24gb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IE5ldyBTdGF0ZSBPYmplY3RcbiAgICAgKi9cbiAgICBzZXRGaWx0ZXJlZDogZnVuY3Rpb24gc2V0RmlsdGVyZWQoc3RhdGUsIGFjdGlvbikge1xuICAgICAgdmFyIGlkcyA9IGFjdGlvbi5wYXlsb2FkLmlkcztcbiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHN0YXRlKSwge30sIHtcbiAgICAgICAgZmlsdGVyZWQ6IGlkc1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBleHRyYVJlZHVjZXJzOiBmdW5jdGlvbiBleHRyYVJlZHVjZXJzKGJ1aWxkZXIpIHtcbiAgICBidWlsZGVyXG4gICAgLy8gSGFuZGxpbmcgaW5pdFZpZGVvcyBzdGF0dXNcbiAgICAuYWRkQ2FzZShpbml0VmlkZW9zLnBlbmRpbmcsIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgLy8gU2V0IExvYWRpbmdcbiAgICAgIHN0YXRlLmlzTG9hZGluZyA9IHRydWU7XG4gICAgfSkuYWRkQ2FzZShpbml0VmlkZW9zLmZ1bGZpbGxlZCwgZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgIHN0YXRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgdmFyIHBheWxvYWQgPSBhY3Rpb24ucGF5bG9hZDtcbiAgICAgIGlmIChwYXlsb2FkLnN1Y2Nlc3MgJiYgcGF5bG9hZC5kYXRhKSB7XG4gICAgICAgIHZhciB2aWRlb3MgPSB7fTtcbiAgICAgICAgdmFyIGZpbHRlcmVkID0gW107XG5cbiAgICAgICAgLy8gU2V0dXAgdGhlIGxpc3QgZGF0YS5cbiAgICAgICAgcGF5bG9hZC5kYXRhLmZvckVhY2goZnVuY3Rpb24gKHZpZGVvKSB7XG4gICAgICAgICAgdmlkZW9zW3ZpZGVvLmlkXSA9IHZpZGVvO1xuICAgICAgICAgIGZpbHRlcmVkLnB1c2godmlkZW8uaWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyB1cGRhdGUgdGhlIHN0YXRlXG4gICAgICAgIHN0YXRlLnZpZGVvcyA9IHZpZGVvcztcbiAgICAgICAgc3RhdGUuZmlsdGVyZWQgPSBmaWx0ZXJlZDtcbiAgICAgIH1cbiAgICAgIHN0YXRlLnN0YXR1cyA9ICdzdWNjZXNzJztcbiAgICB9KS5hZGRDYXNlKGluaXRWaWRlb3MucmVqZWN0ZWQsIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgLy8gVXBkYXRlIFN0YXR1c1xuICAgICAgc3RhdGUuc3RhdHVzID0gJ2Vycm9yJztcbiAgICB9KVxuXG4gICAgLy8gSGFuZGxpbmcgZmV0Y2hFbWJlZFxuICAgIC5hZGRDYXNlKGZldGNoRW1iZWQuZnVsZmlsbGVkLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgICAgdmFyIGVtYmVkID0ge307XG5cbiAgICAgIC8vIFVwZGF0ZSBzdGF0ZVxuICAgICAgdmFyIHBheWxvYWQgPSBhY3Rpb24ucGF5bG9hZDtcbiAgICAgIGlmIChwYXlsb2FkICE9PSBudWxsICYmIHBheWxvYWQgIT09IHZvaWQgMCAmJiBwYXlsb2FkLnN1Y2Nlc3MgJiYgcGF5bG9hZCAhPT0gbnVsbCAmJiBwYXlsb2FkICE9PSB2b2lkIDAgJiYgcGF5bG9hZC5kYXRhICYmIHBheWxvYWQgIT09IG51bGwgJiYgcGF5bG9hZCAhPT0gdm9pZCAwICYmIHBheWxvYWQuZGF0YS5odG1sKSB7XG4gICAgICAgIGVtYmVkID0gcGF5bG9hZC5kYXRhO1xuICAgICAgICB2YXIgbmV3RGF0YSA9IF9vYmplY3RTcHJlYWQoe30sIHBheWxvYWQuZGF0YSk7XG4gICAgICAgIG5ld0RhdGEuaWQgPSBwYXlsb2FkLmlkO1xuXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgc3RhdGVcbiAgICAgICAgc3RhdGUuZW1iZWRzW3BheWxvYWQuaWRdID0gbmV3RGF0YTtcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gSGFuZGxpbmcgVmlkZW8gQ3JlYXRlXG4gICAgLmFkZENhc2UoY3JlYXRlVmlkZW8uZnVsZmlsbGVkLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgICAgLy8gVXBkYXRlIHN0YXRlXG4gICAgICB2YXIgcGF5bG9hZCA9IGFjdGlvbi5wYXlsb2FkO1xuICAgICAgaWYgKHBheWxvYWQgIT09IG51bGwgJiYgcGF5bG9hZCAhPT0gdm9pZCAwICYmIHBheWxvYWQuc3VjY2Vzcykge1xuICAgICAgICB2YXIgdmlkZW8gPSBwYXlsb2FkLmRhdGE7XG5cbiAgICAgICAgLy8gQWRkIHZpZGVvIHRvIHN0YXRlXG4gICAgICAgIGlmICh2aWRlby5pZCAmJiB2aWRlby5pZCA+IDApIHtcbiAgICAgICAgICBzdGF0ZS52aWRlb3MgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLnZpZGVvcyksIHt9LCBfZGVmaW5lUHJvcGVydHkoe30sIHZpZGVvLmlkLCB2aWRlbykpO1xuXG4gICAgICAgICAgLy8gQWRkIHRoZSBpZCB0byB0aGUgZmlsdGVyZWQgbGlzdCBzbyB0aGUgdmlkZW8gd2lsbCBiZSBkaXNwbGF5ZWRcbiAgICAgICAgICBzdGF0ZS5maWx0ZXJlZCA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoc3RhdGUuZmlsdGVyZWQpLCBbdmlkZW8uaWRdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBIYW5kZWxpbmcgVmlkZW8gVXBkYXRlXG4gICAgLmFkZENhc2UodXBkYXRlVmlkZW8uZnVsZmlsbGVkLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgICAgdmFyIHBheWxvYWQgPSBhY3Rpb24ucGF5bG9hZDtcbiAgICAgIHZhciBuZXdWaWRlbyA9IHBheWxvYWQuZGF0YTtcbiAgICAgIGlmIChwYXlsb2FkICE9PSBudWxsICYmIHBheWxvYWQgIT09IHZvaWQgMCAmJiBwYXlsb2FkLnN1Y2Nlc3MpIHtcbiAgICAgICAgLy8gVXBkYXRlIHZpZGVvcyBzdGF0ZVxuICAgICAgICBzdGF0ZS52aWRlb3MgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLnZpZGVvcyksIHt9LCBfZGVmaW5lUHJvcGVydHkoe30sIG5ld1ZpZGVvLmlkLCBuZXdWaWRlbykpO1xuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBIYW5kZWxpbmcgVmlkZW8gRGVsZXRlXG4gICAgLmFkZENhc2UoZGVsZXRlVmlkZW8uZnVsZmlsbGVkLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgICAgdmFyIGlkID0gYWN0aW9uLm1ldGEuYXJnLmlkLFxuICAgICAgICBzdWNjZXNzID0gYWN0aW9uLnBheWxvYWQuc3VjY2VzcztcbiAgICAgIGlmIChzdWNjZXNzID09PSB0cnVlKSB7XG4gICAgICAgIHZhciB2aWRlb3MgPSBzdGF0ZS52aWRlb3MsXG4gICAgICAgICAgZmlsdGVyZWQgPSBzdGF0ZS5maWx0ZXJlZDtcblxuICAgICAgICAvLyBSZW1vdmUgZnJvbSBmaWx0ZXJlZCBsaXN0XG4gICAgICAgIHN0YXRlLmZpbHRlcmVkID0gZmlsdGVyZWQuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGlkICE9PSBpdGVtO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBEZWxldGUgdGhlIHZpZGVvIGZyb20gdGhlIHZpZGVvcyBvYmplY3RcbiAgICAgICAgdmFyIG5ld1ZpZGVvcyA9IF9vYmplY3RTcHJlYWQoe30sIHZpZGVvcyk7XG4gICAgICAgIGRlbGV0ZSBuZXdWaWRlb3NbaWRdO1xuICAgICAgICBzdGF0ZS52aWRlb3MgPSBuZXdWaWRlb3M7XG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIEhhbmRlbGluZyBWaWRlbyBTZWFyY2hcbiAgICAuYWRkQ2FzZShzZWFyY2hWaWRlb3MucGVuZGluZywgZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgIC8vIFNldCBMb2FkaW5nXG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSB0cnVlO1xuICAgIH0pLmFkZENhc2Uoc2VhcmNoVmlkZW9zLmZ1bGZpbGxlZCwgZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgIHZhciBfYWN0aW9uJHBheWxvYWQ7XG4gICAgICB2YXIgaWRzID0gKGFjdGlvbiA9PT0gbnVsbCB8fCBhY3Rpb24gPT09IHZvaWQgMCB8fCAoX2FjdGlvbiRwYXlsb2FkID0gYWN0aW9uLnBheWxvYWQpID09PSBudWxsIHx8IF9hY3Rpb24kcGF5bG9hZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FjdGlvbiRwYXlsb2FkLmRhdGEpIHx8IFtdO1xuICAgICAgc3RhdGUuZmlsdGVyZWQgPSBpZHM7XG5cbiAgICAgIC8vIFNldCBMb2FkaW5nXG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICB9KS5hZGRDYXNlKHNlYXJjaFZpZGVvcy5yZWplY3RlZCwgZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgIHN0YXRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgIH0pO1xuICB9XG59KTtcblxuLy8gU2VsZWN0b3JzXG52YXIgdmlkZW9zU3RhdGUgPSBmdW5jdGlvbiB2aWRlb3NTdGF0ZShzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUudmlkZW9zO1xufTtcblxuLyoqXG4gKiBHZXQgdmlkZW8ocykgb2JqZWN0KHMpIGJ5IGlkKHMpXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHZpZGVvc1N0YXRlXG4gKiBAcGFyYW0ge2FycmF5fHN0cmluZ30gaWRzIHZpZGVvcyBpZHNcbiAqXG4gKiBAcmV0dXJuIHthcnJheXxvYmplY3R8ZmFsc2V9XG4gKi9cbmV4cG9ydCB2YXIgZ2V0VmlkZW9zID0gY3JlYXRlU2VsZWN0b3IodmlkZW9zU3RhdGUsIGZ1bmN0aW9uIChfLCBpZHMpIHtcbiAgcmV0dXJuIGlkcztcbn0sIGZ1bmN0aW9uICh2aWRlb3NTdGF0ZSwgaWRzKSB7XG4gIHZhciB2aWRlb3MgPSBbXTtcbiAgaWYgKEFycmF5LmlzQXJyYXkoaWRzKSkge1xuICAgIGlkcy5mb3JFYWNoKGZ1bmN0aW9uIChpZCkge1xuICAgICAgaWYgKHZpZGVvc1N0YXRlLnZpZGVvc1tpZF0pIHtcbiAgICAgICAgdmlkZW9zLnB1c2godmlkZW9zU3RhdGUudmlkZW9zW2lkXSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHZpZGVvcztcbiAgfSBlbHNlIGlmICh0eXBlb2YgaWRzID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgaWRzID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiB2aWRlb3NTdGF0ZS52aWRlb3NbaWRzXTtcbiAgfSBlbHNlIHtcbiAgICAvLyBJZiBpZHMgaXMgbm90IHByb3ZpZGVkIGdldCBhbGwgdmlkZW9zXG4gICAgcmV0dXJuIHZpZGVvc1N0YXRlLnZpZGVvcztcbiAgfVxufSk7XG5cbi8qKlxuICogR2V0IEZpbHRlcmVkIElEc1xuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSB2aWRlb3NTdGF0ZVxuICpcbiAqIEByZXR1cm4ge2FycmF5fVxuICovXG5leHBvcnQgdmFyIGdldEZpbHRlcmVkSWRzID0gY3JlYXRlU2VsZWN0b3IodmlkZW9zU3RhdGUsIGZ1bmN0aW9uICh2aWRlb3NTdGF0ZSkge1xuICByZXR1cm4gdmlkZW9zU3RhdGUuZmlsdGVyZWQ7XG59KTtcblxuLyoqXG4gKiBHZXQgYSBzaW5nbGUgZW1iZWQgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHZpZGVvc1N0YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gdmlkZW9JZFxuICpcbiAqIEByZXR1cm4ge2FycmF5fVxuICovXG5leHBvcnQgdmFyIGdldEVtYmVkID0gY3JlYXRlU2VsZWN0b3IodmlkZW9zU3RhdGUsIGZ1bmN0aW9uIChfLCBpZCkge1xuICByZXR1cm4gaWQ7XG59LCBmdW5jdGlvbiAodmlkZW9zU3RhdGUsIGlkKSB7XG4gIHJldHVybiB2aWRlb3NTdGF0ZS5lbWJlZHNbaWRdIHx8IGZhbHNlO1xufSk7XG5cbi8qKlxuICogR2V0IGxvYWRpbmcgc3RhdHVzXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHZpZGVvc1N0YXRlIHRoZSB2aWRlb3Mgc3RhdGUgb2JqZWN0LlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCB2YXIgZ2V0TG9hZGluZ1N0YXR1cyA9IGNyZWF0ZVNlbGVjdG9yKHZpZGVvc1N0YXRlLCBmdW5jdGlvbiAodmlkZW9zU3RhdGUpIHtcbiAgcmV0dXJuIHZpZGVvc1N0YXRlLmlzTG9hZGluZztcbn0pO1xuXG4vLyBFeHBvcnQgYWN0aW9uc1xudmFyIHNldEZpbHRlcmVkID0gdmlkZW9zU2xpY2UuYWN0aW9ucy5zZXRGaWx0ZXJlZDtcbmV4cG9ydCB7IHNldEZpbHRlcmVkIH07XG5leHBvcnQgZGVmYXVsdCB2aWRlb3NTbGljZS5yZWR1Y2VyOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4084\n')},5524:function(module){eval('!function(t,e){ true?module.exports=e():0}(this,(function(){"use strict";function t(){return(t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}return function(){var e,n=[],i={vendor:void 0,id:void 0,src:void 0,thumbnail:void 0,title:void 0,initialized:!1,y:void 0,debounce:250,lazyload:!0,autoplay:!0,initinview:!1,onLoad:function(t){},onAppend:function(t){},onThumbnailLoad:function(t){}},o={regex:{youtube_nocookie:/(?:youtube-nocookie\\.com\\/\\S*(?:(?:\\/e(?:mbed))?\\/|watch\\?(?:\\S*?&?v\\=)))([a-zA-Z0-9_-]{6,11})/,youtube:/(?:youtube\\.com\\/\\S*(?:(?:\\/e(?:mbed))?\\/|watch\\?(?:\\S*?&?v\\=))|youtu\\.be\\/)([a-zA-Z0-9_-]{6,11})/,vimeo:/vimeo\\.com\\/(?:video\\/)?([0-9]*)(?:\\?|)/},condition:{youtube:function(t){return!(!t||11!=t[1].length)&&t[1]},youtube_nocookie:function(t){return!(!t||11!=t[1].length)&&t[1]},vimeo:function(t){return!!(t&&9===t[1].length||8===t[1].length)&&t[1]}},src:{youtube:function(t){return"https://www.youtube.com/embed/".concat(t.id,"/?autoplay=").concat(t.autoplay?"1":"0","&").concat(t.query)},youtube_nocookie:function(t){return"https://www.youtube-nocookie.com/embed/".concat(t.id,"/?autoplay=").concat(t.autoplay?"1":"0","&").concat(t.query)},vimeo:function(t){return"https://player.vimeo.com/video/".concat(t.id,"/?autoplay=").concat(t.autoplay?"1":"0","&").concat(t.query)}},endpoint:function(t){return"https://noembed.com/embed?url=".concat(t.src)},response:{title:function(t){return t.title},thumbnail:function(t){return t.thumbnail_url}}};function a(t){var n=this;if(t instanceof HTMLElement!=!1&&!t.classList.contains("lazyframe--loaded")){var i={el:t,settings:r(t)};i.el.addEventListener("click",(function(){i.el.appendChild(i.iframe);var e=t.querySelectorAll("iframe");i.settings.onAppend.call(n,e[0])})),e.lazyload?c(i):l(i,i.settings.thumbnail)}}function r(n){var i,a,r=Array.prototype.slice.apply(n.attributes).filter((function(t){return""!==t.value})).reduce((function(t,e){return t[0===e.name.indexOf("data-")?e.name.split("data-")[1]:e.name]=e.value,t}),{}),l=t({},e,r,{y:n.offsetTop,originalSrc:r.src,query:(i=r.src,a=i.split("?"),a[1]?a[1]:null)});if(l.vendor){var u=l.src.match(o.regex[l.vendor]);l.id=o.condition[l.vendor](u)}return l}function l(t){var e=this;!function(t){return!(!t.vendor||t.title&&t.thumbnail)}(t.settings)?c(t,!0):function(t,e){var n=o.endpoint(t.settings),i=new XMLHttpRequest;i.open("GET",n,!0),i.onload=function(){if(i.status>=200&&i.status<400){var n=JSON.parse(i.responseText);e(null,[n,t])}else e(!0)},i.onerror=function(){e(!0)},i.send()}(t,(function(n,i){if(!n){var a=i[0],r=i[1];if(r.settings.title||(r.settings.title=o.response.title(a)),!r.settings.thumbnail){var l=o.response.thumbnail(a);r.settings.thumbnail=l,t.settings.onThumbnailLoad.call(e,l)}c(r,!0)}}))}function u(){var t=this,i=window.innerHeight,o=n.length,a=function(e,n){e.settings.initialized=!0,e.el.classList.add("lazyframe--loaded"),o--,l(e),e.settings.initinview&&e.el.click(),e.settings.onLoad.call(t,e)};n.filter((function(t){return t.settings.y<i})).forEach(a);var r,u,c,s,d=(r=function(){m=f<window.pageYOffset,f=window.pageYOffset,m&&n.filter((function(t){return t.settings.y<i+f&&!1===t.settings.initialized})).forEach(a),0===o&&window.removeEventListener("scroll",d,!1)},u=e.debounce,function(){var t=this,e=arguments,n=function(){s=null,c||r.apply(t,e)},i=c&&!s;clearTimeout(s),s=setTimeout(n,u),i&&r.apply(t,e)}),f=0,m=!1;window.addEventListener("scroll",d,!1)}function c(t,i){if(t.iframe=function(t){var e=document.createDocumentFragment(),n=document.createElement("iframe");t.vendor&&(t.src=o.src[t.vendor](t));n.setAttribute("id","lazyframe-".concat(t.id)),n.setAttribute("src",t.src),n.setAttribute("frameborder",0),n.setAttribute("allowfullscreen",""),t.autoplay&&(n.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture");return e.appendChild(n),e}(t.settings),t.settings.thumbnail&&i&&(t.el.style.backgroundImage="url(".concat(t.settings.thumbnail,")")),t.settings.title&&0===t.el.children.length){var a=document.createDocumentFragment(),r=document.createElement("span");r.className="lazyframe__title",r.innerHTML=t.settings.title,a.appendChild(r),t.el.appendChild(a)}e.lazyload||(t.el.classList.add("lazyframe--loaded"),t.settings.onLoad.call(this,t),n.push(t)),t.settings.initialized||n.push(t)}return function(n){if(e=t({},i,arguments.length<=1?void 0:arguments[1]),"string"==typeof n)for(var o=document.querySelectorAll(n),r=0;r<o.length;r++)a(o[r]);else if(void 0===n.length)a(n);else for(var l=0;l<n.length;l++)a(n[l]);e.lazyload&&u()}}()}));\n//# sourceMappingURL=lazyframe.min.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTUyNC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9ub2RlX21vZHVsZXMvbGF6eWZyYW1lL2Rpc3QvbGF6eWZyYW1lLm1pbi5qcz9iZGRhIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGUpOih0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dHx8c2VsZikubGF6eWZyYW1lPWUoKX0odGhpcywoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KCl7cmV0dXJuKHQ9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdO2Zvcih2YXIgaSBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLGkpJiYodFtpXT1uW2ldKX1yZXR1cm4gdH0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gZnVuY3Rpb24oKXt2YXIgZSxuPVtdLGk9e3ZlbmRvcjp2b2lkIDAsaWQ6dm9pZCAwLHNyYzp2b2lkIDAsdGh1bWJuYWlsOnZvaWQgMCx0aXRsZTp2b2lkIDAsaW5pdGlhbGl6ZWQ6ITEseTp2b2lkIDAsZGVib3VuY2U6MjUwLGxhenlsb2FkOiEwLGF1dG9wbGF5OiEwLGluaXRpbnZpZXc6ITEsb25Mb2FkOmZ1bmN0aW9uKHQpe30sb25BcHBlbmQ6ZnVuY3Rpb24odCl7fSxvblRodW1ibmFpbExvYWQ6ZnVuY3Rpb24odCl7fX0sbz17cmVnZXg6e3lvdXR1YmVfbm9jb29raWU6Lyg/OnlvdXR1YmUtbm9jb29raWVcXC5jb21cXC9cXFMqKD86KD86XFwvZSg/Om1iZWQpKT9cXC98d2F0Y2hcXD8oPzpcXFMqPyY/dlxcPSkpKShbYS16QS1aMC05Xy1dezYsMTF9KS8seW91dHViZTovKD86eW91dHViZVxcLmNvbVxcL1xcUyooPzooPzpcXC9lKD86bWJlZCkpP1xcL3x3YXRjaFxcPyg/OlxcUyo/Jj92XFw9KSl8eW91dHVcXC5iZVxcLykoW2EtekEtWjAtOV8tXXs2LDExfSkvLHZpbWVvOi92aW1lb1xcLmNvbVxcLyg/OnZpZGVvXFwvKT8oWzAtOV0qKSg/OlxcP3wpL30sY29uZGl0aW9uOnt5b3V0dWJlOmZ1bmN0aW9uKHQpe3JldHVybiEoIXR8fDExIT10WzFdLmxlbmd0aCkmJnRbMV19LHlvdXR1YmVfbm9jb29raWU6ZnVuY3Rpb24odCl7cmV0dXJuISghdHx8MTEhPXRbMV0ubGVuZ3RoKSYmdFsxXX0sdmltZW86ZnVuY3Rpb24odCl7cmV0dXJuISEodCYmOT09PXRbMV0ubGVuZ3RofHw4PT09dFsxXS5sZW5ndGgpJiZ0WzFdfX0sc3JjOnt5b3V0dWJlOmZ1bmN0aW9uKHQpe3JldHVyblwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvXCIuY29uY2F0KHQuaWQsXCIvP2F1dG9wbGF5PVwiKS5jb25jYXQodC5hdXRvcGxheT9cIjFcIjpcIjBcIixcIiZcIikuY29uY2F0KHQucXVlcnkpfSx5b3V0dWJlX25vY29va2llOmZ1bmN0aW9uKHQpe3JldHVyblwiaHR0cHM6Ly93d3cueW91dHViZS1ub2Nvb2tpZS5jb20vZW1iZWQvXCIuY29uY2F0KHQuaWQsXCIvP2F1dG9wbGF5PVwiKS5jb25jYXQodC5hdXRvcGxheT9cIjFcIjpcIjBcIixcIiZcIikuY29uY2F0KHQucXVlcnkpfSx2aW1lbzpmdW5jdGlvbih0KXtyZXR1cm5cImh0dHBzOi8vcGxheWVyLnZpbWVvLmNvbS92aWRlby9cIi5jb25jYXQodC5pZCxcIi8/YXV0b3BsYXk9XCIpLmNvbmNhdCh0LmF1dG9wbGF5P1wiMVwiOlwiMFwiLFwiJlwiKS5jb25jYXQodC5xdWVyeSl9fSxlbmRwb2ludDpmdW5jdGlvbih0KXtyZXR1cm5cImh0dHBzOi8vbm9lbWJlZC5jb20vZW1iZWQ/dXJsPVwiLmNvbmNhdCh0LnNyYyl9LHJlc3BvbnNlOnt0aXRsZTpmdW5jdGlvbih0KXtyZXR1cm4gdC50aXRsZX0sdGh1bWJuYWlsOmZ1bmN0aW9uKHQpe3JldHVybiB0LnRodW1ibmFpbF91cmx9fX07ZnVuY3Rpb24gYSh0KXt2YXIgbj10aGlzO2lmKHQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCE9ITEmJiF0LmNsYXNzTGlzdC5jb250YWlucyhcImxhenlmcmFtZS0tbG9hZGVkXCIpKXt2YXIgaT17ZWw6dCxzZXR0aW5nczpyKHQpfTtpLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLChmdW5jdGlvbigpe2kuZWwuYXBwZW5kQ2hpbGQoaS5pZnJhbWUpO3ZhciBlPXQucXVlcnlTZWxlY3RvckFsbChcImlmcmFtZVwiKTtpLnNldHRpbmdzLm9uQXBwZW5kLmNhbGwobixlWzBdKX0pKSxlLmxhenlsb2FkP2MoaSk6bChpLGkuc2V0dGluZ3MudGh1bWJuYWlsKX19ZnVuY3Rpb24gcihuKXt2YXIgaSxhLHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KG4uYXR0cmlidXRlcykuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm5cIlwiIT09dC52YWx1ZX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMD09PWUubmFtZS5pbmRleE9mKFwiZGF0YS1cIik/ZS5uYW1lLnNwbGl0KFwiZGF0YS1cIilbMV06ZS5uYW1lXT1lLnZhbHVlLHR9KSx7fSksbD10KHt9LGUscix7eTpuLm9mZnNldFRvcCxvcmlnaW5hbFNyYzpyLnNyYyxxdWVyeTooaT1yLnNyYyxhPWkuc3BsaXQoXCI/XCIpLGFbMV0/YVsxXTpudWxsKX0pO2lmKGwudmVuZG9yKXt2YXIgdT1sLnNyYy5tYXRjaChvLnJlZ2V4W2wudmVuZG9yXSk7bC5pZD1vLmNvbmRpdGlvbltsLnZlbmRvcl0odSl9cmV0dXJuIGx9ZnVuY3Rpb24gbCh0KXt2YXIgZT10aGlzOyFmdW5jdGlvbih0KXtyZXR1cm4hKCF0LnZlbmRvcnx8dC50aXRsZSYmdC50aHVtYm5haWwpfSh0LnNldHRpbmdzKT9jKHQsITApOmZ1bmN0aW9uKHQsZSl7dmFyIG49by5lbmRwb2ludCh0LnNldHRpbmdzKSxpPW5ldyBYTUxIdHRwUmVxdWVzdDtpLm9wZW4oXCJHRVRcIixuLCEwKSxpLm9ubG9hZD1mdW5jdGlvbigpe2lmKGkuc3RhdHVzPj0yMDAmJmkuc3RhdHVzPDQwMCl7dmFyIG49SlNPTi5wYXJzZShpLnJlc3BvbnNlVGV4dCk7ZShudWxsLFtuLHRdKX1lbHNlIGUoITApfSxpLm9uZXJyb3I9ZnVuY3Rpb24oKXtlKCEwKX0saS5zZW5kKCl9KHQsKGZ1bmN0aW9uKG4saSl7aWYoIW4pe3ZhciBhPWlbMF0scj1pWzFdO2lmKHIuc2V0dGluZ3MudGl0bGV8fChyLnNldHRpbmdzLnRpdGxlPW8ucmVzcG9uc2UudGl0bGUoYSkpLCFyLnNldHRpbmdzLnRodW1ibmFpbCl7dmFyIGw9by5yZXNwb25zZS50aHVtYm5haWwoYSk7ci5zZXR0aW5ncy50aHVtYm5haWw9bCx0LnNldHRpbmdzLm9uVGh1bWJuYWlsTG9hZC5jYWxsKGUsbCl9YyhyLCEwKX19KSl9ZnVuY3Rpb24gdSgpe3ZhciB0PXRoaXMsaT13aW5kb3cuaW5uZXJIZWlnaHQsbz1uLmxlbmd0aCxhPWZ1bmN0aW9uKGUsbil7ZS5zZXR0aW5ncy5pbml0aWFsaXplZD0hMCxlLmVsLmNsYXNzTGlzdC5hZGQoXCJsYXp5ZnJhbWUtLWxvYWRlZFwiKSxvLS0sbChlKSxlLnNldHRpbmdzLmluaXRpbnZpZXcmJmUuZWwuY2xpY2soKSxlLnNldHRpbmdzLm9uTG9hZC5jYWxsKHQsZSl9O24uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zZXR0aW5ncy55PGl9KSkuZm9yRWFjaChhKTt2YXIgcix1LGMscyxkPShyPWZ1bmN0aW9uKCl7bT1mPHdpbmRvdy5wYWdlWU9mZnNldCxmPXdpbmRvdy5wYWdlWU9mZnNldCxtJiZuLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2V0dGluZ3MueTxpK2YmJiExPT09dC5zZXR0aW5ncy5pbml0aWFsaXplZH0pKS5mb3JFYWNoKGEpLDA9PT1vJiZ3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLGQsITEpfSx1PWUuZGVib3VuY2UsZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9YXJndW1lbnRzLG49ZnVuY3Rpb24oKXtzPW51bGwsY3x8ci5hcHBseSh0LGUpfSxpPWMmJiFzO2NsZWFyVGltZW91dChzKSxzPXNldFRpbWVvdXQobix1KSxpJiZyLmFwcGx5KHQsZSl9KSxmPTAsbT0hMTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLGQsITEpfWZ1bmN0aW9uIGModCxpKXtpZih0LmlmcmFtZT1mdW5jdGlvbih0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO3QudmVuZG9yJiYodC5zcmM9by5zcmNbdC52ZW5kb3JdKHQpKTtuLnNldEF0dHJpYnV0ZShcImlkXCIsXCJsYXp5ZnJhbWUtXCIuY29uY2F0KHQuaWQpKSxuLnNldEF0dHJpYnV0ZShcInNyY1wiLHQuc3JjKSxuLnNldEF0dHJpYnV0ZShcImZyYW1lYm9yZGVyXCIsMCksbi5zZXRBdHRyaWJ1dGUoXCJhbGxvd2Z1bGxzY3JlZW5cIixcIlwiKSx0LmF1dG9wbGF5JiYobi5hbGxvdz1cImFjY2VsZXJvbWV0ZXI7IGF1dG9wbGF5OyBlbmNyeXB0ZWQtbWVkaWE7IGd5cm9zY29wZTsgcGljdHVyZS1pbi1waWN0dXJlXCIpO3JldHVybiBlLmFwcGVuZENoaWxkKG4pLGV9KHQuc2V0dGluZ3MpLHQuc2V0dGluZ3MudGh1bWJuYWlsJiZpJiYodC5lbC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9XCJ1cmwoXCIuY29uY2F0KHQuc2V0dGluZ3MudGh1bWJuYWlsLFwiKVwiKSksdC5zZXR0aW5ncy50aXRsZSYmMD09PXQuZWwuY2hpbGRyZW4ubGVuZ3RoKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtyLmNsYXNzTmFtZT1cImxhenlmcmFtZV9fdGl0bGVcIixyLmlubmVySFRNTD10LnNldHRpbmdzLnRpdGxlLGEuYXBwZW5kQ2hpbGQociksdC5lbC5hcHBlbmRDaGlsZChhKX1lLmxhenlsb2FkfHwodC5lbC5jbGFzc0xpc3QuYWRkKFwibGF6eWZyYW1lLS1sb2FkZWRcIiksdC5zZXR0aW5ncy5vbkxvYWQuY2FsbCh0aGlzLHQpLG4ucHVzaCh0KSksdC5zZXR0aW5ncy5pbml0aWFsaXplZHx8bi5wdXNoKHQpfXJldHVybiBmdW5jdGlvbihuKXtpZihlPXQoe30saSxhcmd1bWVudHMubGVuZ3RoPD0xP3ZvaWQgMDphcmd1bWVudHNbMV0pLFwic3RyaW5nXCI9PXR5cGVvZiBuKWZvcih2YXIgbz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKG4pLHI9MDtyPG8ubGVuZ3RoO3IrKylhKG9bcl0pO2Vsc2UgaWYodm9pZCAwPT09bi5sZW5ndGgpYShuKTtlbHNlIGZvcih2YXIgbD0wO2w8bi5sZW5ndGg7bCsrKWEobltsXSk7ZS5sYXp5bG9hZCYmdSgpfX0oKX0pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxhenlmcmFtZS5taW4uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5524\n')},5358:function(e,n,t){var I={"./af":5177,"./af.js":5177,"./ar":1509,"./ar-dz":1488,"./ar-dz.js":1488,"./ar-kw":8676,"./ar-kw.js":8676,"./ar-ly":2353,"./ar-ly.js":2353,"./ar-ma":4496,"./ar-ma.js":4496,"./ar-ps":6947,"./ar-ps.js":6947,"./ar-sa":2682,"./ar-sa.js":2682,"./ar-tn":9756,"./ar-tn.js":9756,"./ar.js":1509,"./az":5533,"./az.js":5533,"./be":8959,"./be.js":8959,"./bg":7777,"./bg.js":7777,"./bm":4903,"./bm.js":4903,"./bn":1290,"./bn-bd":7357,"./bn-bd.js":7357,"./bn.js":1290,"./bo":1545,"./bo.js":1545,"./br":1470,"./br.js":1470,"./bs":4429,"./bs.js":4429,"./ca":7306,"./ca.js":7306,"./cs":6464,"./cs.js":6464,"./cv":3635,"./cv.js":3635,"./cy":4226,"./cy.js":4226,"./da":3601,"./da.js":3601,"./de":7853,"./de-at":6111,"./de-at.js":6111,"./de-ch":4697,"./de-ch.js":4697,"./de.js":7853,"./dv":708,"./dv.js":708,"./el":4691,"./el.js":4691,"./en-au":3872,"./en-au.js":3872,"./en-ca":5917,"./en-ca.js":5917,"./en-gb":6195,"./en-gb.js":6195,"./en-ie":6584,"./en-ie.js":6584,"./en-il":5543,"./en-il.js":5543,"./en-in":9033,"./en-in.js":9033,"./en-nz":9402,"./en-nz.js":9402,"./en-sg":3004,"./en-sg.js":3004,"./eo":2934,"./eo.js":2934,"./es":7650,"./es-do":838,"./es-do.js":838,"./es-mx":7730,"./es-mx.js":7730,"./es-us":6575,"./es-us.js":6575,"./es.js":7650,"./et":3035,"./et.js":3035,"./eu":3508,"./eu.js":3508,"./fa":119,"./fa.js":119,"./fi":527,"./fi.js":527,"./fil":5995,"./fil.js":5995,"./fo":2477,"./fo.js":2477,"./fr":3117,"./fr-ca":6435,"./fr-ca.js":6435,"./fr-ch":7892,"./fr-ch.js":7892,"./fr.js":3117,"./fy":7071,"./fy.js":7071,"./ga":1734,"./ga.js":1734,"./gd":217,"./gd.js":217,"./gl":7329,"./gl.js":7329,"./gom-deva":2124,"./gom-deva.js":2124,"./gom-latn":3383,"./gom-latn.js":3383,"./gu":5050,"./gu.js":5050,"./he":1713,"./he.js":1713,"./hi":3861,"./hi.js":3861,"./hr":6308,"./hr.js":6308,"./hu":609,"./hu.js":609,"./hy-am":7160,"./hy-am.js":7160,"./id":4063,"./id.js":4063,"./is":9374,"./is.js":9374,"./it":8383,"./it-ch":1827,"./it-ch.js":1827,"./it.js":8383,"./ja":3827,"./ja.js":3827,"./jv":9722,"./jv.js":9722,"./ka":1794,"./ka.js":1794,"./kk":7088,"./kk.js":7088,"./km":6870,"./km.js":6870,"./kn":4451,"./kn.js":4451,"./ko":3164,"./ko.js":3164,"./ku":8174,"./ku-kmr":6181,"./ku-kmr.js":6181,"./ku.js":8174,"./ky":8474,"./ky.js":8474,"./lb":9680,"./lb.js":9680,"./lo":5867,"./lo.js":5867,"./lt":5766,"./lt.js":5766,"./lv":9532,"./lv.js":9532,"./me":8076,"./me.js":8076,"./mi":1848,"./mi.js":1848,"./mk":306,"./mk.js":306,"./ml":3739,"./ml.js":3739,"./mn":9053,"./mn.js":9053,"./mr":6169,"./mr.js":6169,"./ms":3386,"./ms-my":2297,"./ms-my.js":2297,"./ms.js":3386,"./mt":7075,"./mt.js":7075,"./my":2264,"./my.js":2264,"./nb":2274,"./nb.js":2274,"./ne":8235,"./ne.js":8235,"./nl":2572,"./nl-be":3784,"./nl-be.js":3784,"./nl.js":2572,"./nn":4566,"./nn.js":4566,"./oc-lnc":9330,"./oc-lnc.js":9330,"./pa-in":9849,"./pa-in.js":9849,"./pl":4418,"./pl.js":4418,"./pt":9834,"./pt-br":8303,"./pt-br.js":8303,"./pt.js":9834,"./ro":4457,"./ro.js":4457,"./ru":2271,"./ru.js":2271,"./sd":1221,"./sd.js":1221,"./se":3478,"./se.js":3478,"./si":7538,"./si.js":7538,"./sk":5784,"./sk.js":5784,"./sl":6637,"./sl.js":6637,"./sq":6794,"./sq.js":6794,"./sr":5719,"./sr-cyrl":3322,"./sr-cyrl.js":3322,"./sr.js":5719,"./ss":6e3,"./ss.js":6e3,"./sv":1011,"./sv.js":1011,"./sw":8367,"./sw.js":8367,"./ta":1025,"./ta.js":1025,"./te":1885,"./te.js":1885,"./tet":8861,"./tet.js":8861,"./tg":6571,"./tg.js":6571,"./th":5802,"./th.js":5802,"./tk":9527,"./tk.js":9527,"./tl-ph":9231,"./tl-ph.js":9231,"./tlh":1052,"./tlh.js":1052,"./tr":5096,"./tr.js":5096,"./tzl":9846,"./tzl.js":9846,"./tzm":1765,"./tzm-latn":7711,"./tzm-latn.js":7711,"./tzm.js":1765,"./ug-cn":8414,"./ug-cn.js":8414,"./uk":6618,"./uk.js":6618,"./ur":158,"./ur.js":158,"./uz":7609,"./uz-latn":2475,"./uz-latn.js":2475,"./uz.js":7609,"./vi":1135,"./vi.js":1135,"./x-pseudo":4051,"./x-pseudo.js":4051,"./yo":2218,"./yo.js":2218,"./zh-cn":2648,"./zh-cn.js":2648,"./zh-hk":1632,"./zh-hk.js":1632,"./zh-mo":1541,"./zh-mo.js":1541,"./zh-tw":304,"./zh-tw.js":304};function l(e){var n=i(e);return t(n)}function i(e){if(!t.o(I,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return I[e]}l.keys=function(){return Object.keys(I)},l.resolve=i,e.exports=l,l.id=5358}},__webpack_module_cache__={},deferred,leafPrototypes,getProto;function __webpack_require__(e){var n=__webpack_module_cache__[e];if(void 0!==n)return n.exports;var t=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(t.exports,t,t.exports,__webpack_require__),t.loaded=!0,t.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=function(e,n,t,I){if(!n){var l=1/0;for(a=0;a<deferred.length;a++){n=deferred[a][0],t=deferred[a][1],I=deferred[a][2];for(var i=!0,g=0;g<n.length;g++)(!1&I||l>=I)&&Object.keys(__webpack_require__.O).every((function(e){return __webpack_require__.O[e](n[g])}))?n.splice(g--,1):(i=!1,I<l&&(l=I));if(i){deferred.splice(a--,1);var c=t();void 0!==c&&(e=c)}}return e}I=I||0;for(var a=deferred.length;a>0&&deferred[a-1][2]>I;a--)deferred[a]=deferred[a-1];deferred[a]=[n,t,I]},__webpack_require__.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(n,{a:n}),n},getProto=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},__webpack_require__.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var t=Object.create(null);__webpack_require__.r(t);var I={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var l=2&n&&e;"object"==typeof l&&!~leafPrototypes.indexOf(l);l=getProto(l))Object.getOwnPropertyNames(l).forEach((function(n){I[n]=function(){return e[n]}}));return I.default=function(){return e},__webpack_require__.d(t,I),t},__webpack_require__.d=function(e,n){for(var t in n)__webpack_require__.o(n,t)&&!__webpack_require__.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},__webpack_require__.j=945,function(){var e={945:0};__webpack_require__.O.j=function(n){return 0===e[n]};var n=function(n,t){var I,l,i=t[0],g=t[1],c=t[2],a=0;if(i.some((function(n){return 0!==e[n]}))){for(I in g)__webpack_require__.o(g,I)&&(__webpack_require__.m[I]=g[I]);if(c)var d=c(__webpack_require__)}for(n&&n(t);a<i.length;a++)l=i[a],__webpack_require__.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return __webpack_require__.O(d)},t=self.webpackChunkwpmudev_videos=self.webpackChunkwpmudev_videos||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var __webpack_exports__=__webpack_require__.O(void 0,[504,996],(function(){return __webpack_require__(1377)}));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();