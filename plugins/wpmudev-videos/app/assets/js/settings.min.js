(function(){var __webpack_modules__={135:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   E0: function() { return /* reexport safe */ _ImageTag__WEBPACK_IMPORTED_MODULE_0__.E; },\n/* harmony export */   FM: function() { return /* reexport safe */ _PageFooter__WEBPACK_IMPORTED_MODULE_2__.F; },\n/* harmony export */   fo: function() { return /* reexport safe */ _UserRoles__WEBPACK_IMPORTED_MODULE_6__.f; }\n/* harmony export */ });\n/* harmony import */ var _ImageTag__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8844);\n/* harmony import */ var _WhiteLabelBanner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6057);\n/* harmony import */ var _PageFooter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(5132);\n/* harmony import */ var _UpgradeNotice__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(837);\n/* harmony import */ var _ExpiredNotice__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(3778);\n/* harmony import */ var _DashNotice__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(1319);\n/* harmony import */ var _UserRoles__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(7122);\n/* harmony import */ var _SortableElements__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(3423);\n/* harmony import */ var _ListThumb__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(3603);\n/* harmony import */ var _VideoIframe__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(5841);\n/* harmony import */ var _GoTopButton__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(4460);\n/* harmony import */ var _UploadThumb__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(5320);\n/* harmony import */ var _VideoSearchForm__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(5498);\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM1LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9jb21wb25lbnRzL2luZGV4LmpzPzJkNGYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9JbWFnZVRhZyc7XG5leHBvcnQgKiBmcm9tICcuL1doaXRlTGFiZWxCYW5uZXInO1xuZXhwb3J0ICogZnJvbSAnLi9QYWdlRm9vdGVyJztcbmV4cG9ydCAqIGZyb20gJy4vVXBncmFkZU5vdGljZSc7XG5leHBvcnQgKiBmcm9tICcuL0V4cGlyZWROb3RpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9EYXNoTm90aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vVXNlclJvbGVzJztcbmV4cG9ydCAqIGZyb20gJy4vU29ydGFibGVFbGVtZW50cyc7XG5leHBvcnQgKiBmcm9tICcuL0xpc3RUaHVtYic7XG5leHBvcnQgKiBmcm9tICcuL1ZpZGVvSWZyYW1lJztcbmV4cG9ydCAqIGZyb20gJy4vR29Ub3BCdXR0b24nO1xuZXhwb3J0ICogZnJvbSAnLi9VcGxvYWRUaHVtYic7XG5leHBvcnQgKiBmcm9tICcuL1ZpZGVvU2VhcmNoRm9ybSc7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///135\n")},9571:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $n: function() { return /* reexport safe */ _Button__WEBPACK_IMPORTED_MODULE_11__.$; },\n/* harmony export */   In: function() { return /* reexport safe */ _Icon__WEBPACK_IMPORTED_MODULE_0__.I; },\n/* harmony export */   JU: function() { return /* reexport safe */ _Label__WEBPACK_IMPORTED_MODULE_22__.J; },\n/* harmony export */   K0: function() { return /* reexport safe */ _IconButton__WEBPACK_IMPORTED_MODULE_26__.K; },\n/* harmony export */   Q8: function() { return /* reexport safe */ _MediaUpload__WEBPACK_IMPORTED_MODULE_24__.Q; },\n/* harmony export */   RL: function() { return /* reexport safe */ _StaticNotice__WEBPACK_IMPORTED_MODULE_15__.R; },\n/* harmony export */   Sc: function() { return /* reexport safe */ _Checkbox__WEBPACK_IMPORTED_MODULE_12__.S; },\n/* harmony export */   So: function() { return /* reexport safe */ _RadioTabs__WEBPACK_IMPORTED_MODULE_17__.S; },\n/* harmony export */   Y9: function() { return /* reexport safe */ _Header__WEBPACK_IMPORTED_MODULE_1__.Y; },\n/* harmony export */   aF: function() { return /* reexport safe */ _Modal__WEBPACK_IMPORTED_MODULE_14__.a; },\n/* harmony export */   az: function() { return /* reexport safe */ _Box__WEBPACK_IMPORTED_MODULE_7__.a; },\n/* harmony export */   ef: function() { return /* reexport safe */ _FileUpload__WEBPACK_IMPORTED_MODULE_13__.e; },\n/* harmony export */   f8: function() { return /* reexport safe */ _SideNav__WEBPACK_IMPORTED_MODULE_6__.f; },\n/* harmony export */   ii: function() { return /* reexport safe */ _TopNotice__WEBPACK_IMPORTED_MODULE_4__.i; },\n/* harmony export */   l6: function() { return /* reexport safe */ _Select__WEBPACK_IMPORTED_MODULE_3__.l; },\n/* harmony export */   lM: function() { return /* reexport safe */ _Toggle__WEBPACK_IMPORTED_MODULE_8__.l; },\n/* harmony export */   pd: function() { return /* reexport safe */ _Input__WEBPACK_IMPORTED_MODULE_10__.p; },\n/* harmony export */   qo: function() { return /* reexport safe */ _BorderFrame__WEBPACK_IMPORTED_MODULE_9__.q; },\n/* harmony export */   wi: function() { return /* reexport safe */ _Footer__WEBPACK_IMPORTED_MODULE_2__.w; },\n/* harmony export */   z2: function() { return /* reexport safe */ _ProgressBar__WEBPACK_IMPORTED_MODULE_16__.z; }\n/* harmony export */ });\n/* harmony import */ var _Icon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7028);\n/* harmony import */ var _Header__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7347);\n/* harmony import */ var _Footer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(5528);\n/* harmony import */ var _Select__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8216);\n/* harmony import */ var _TopNotice__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(3564);\n/* harmony import */ var _MobileNav__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(6386);\n/* harmony import */ var _SideNav__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(3734);\n/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(9907);\n/* harmony import */ var _Toggle__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(4377);\n/* harmony import */ var _BorderFrame__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(2740);\n/* harmony import */ var _Input__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(2546);\n/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(9590);\n/* harmony import */ var _Checkbox__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(4268);\n/* harmony import */ var _FileUpload__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(8811);\n/* harmony import */ var _Modal__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(6744);\n/* harmony import */ var _StaticNotice__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(9906);\n/* harmony import */ var _ProgressBar__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(4113);\n/* harmony import */ var _RadioTabs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(7385);\n/* harmony import */ var _WhiteLabelSummary__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(5390);\n/* harmony import */ var _List__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(7735);\n/* harmony import */ var _Accordion__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(3057);\n/* harmony import */ var _Table__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(7670);\n/* harmony import */ var _Label__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(6686);\n/* harmony import */ var _Textarea__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(2868);\n/* harmony import */ var _MediaUpload__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(9847);\n/* harmony import */ var _Portal__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(5071);\n/* harmony import */ var _IconButton__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(9850);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTU3MS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9saWIvY29tcG9uZW50cy9pbmRleC5qcz9hYTNjIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vSWNvbic7XG5leHBvcnQgKiBmcm9tICcuL0hlYWRlcic7XG5leHBvcnQgKiBmcm9tICcuL0Zvb3Rlcic7XG5leHBvcnQgKiBmcm9tICcuL1NlbGVjdCc7XG5leHBvcnQgKiBmcm9tICcuL1RvcE5vdGljZSc7XG5leHBvcnQgKiBmcm9tICcuL01vYmlsZU5hdic7XG5leHBvcnQgKiBmcm9tICcuL1NpZGVOYXYnO1xuZXhwb3J0ICogZnJvbSAnLi9Cb3gnO1xuZXhwb3J0ICogZnJvbSAnLi9Ub2dnbGUnO1xuZXhwb3J0ICogZnJvbSAnLi9Cb3JkZXJGcmFtZSc7XG5leHBvcnQgKiBmcm9tICcuL0lucHV0JztcbmV4cG9ydCAqIGZyb20gJy4vQnV0dG9uJztcbmV4cG9ydCAqIGZyb20gJy4vQ2hlY2tib3gnO1xuZXhwb3J0ICogZnJvbSAnLi9GaWxlVXBsb2FkJztcbmV4cG9ydCAqIGZyb20gJy4vTW9kYWwnO1xuZXhwb3J0ICogZnJvbSAnLi9TdGF0aWNOb3RpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9Qcm9ncmVzc0Jhcic7XG5leHBvcnQgKiBmcm9tICcuL1JhZGlvVGFicyc7XG5leHBvcnQgKiBmcm9tICcuL1doaXRlTGFiZWxTdW1tYXJ5JztcbmV4cG9ydCAqIGZyb20gJy4vTGlzdCc7XG5leHBvcnQgKiBmcm9tICcuL0FjY29yZGlvbic7XG5leHBvcnQgKiBmcm9tICcuL1RhYmxlJztcbmV4cG9ydCAqIGZyb20gJy4vTGFiZWwnO1xuZXhwb3J0ICogZnJvbSAnLi9UZXh0YXJlYSc7XG5leHBvcnQgKiBmcm9tICcuL01lZGlhVXBsb2FkJztcbmV4cG9ydCAqIGZyb20gJy4vUG9ydGFsJztcbmV4cG9ydCAqIGZyb20gJy4vSWNvbkJ1dHRvbic7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9571\n")},4283:function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(6540);\n// EXTERNAL MODULE: ./node_modules/react-dom/client.js\nvar client = __webpack_require__(5338);\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 11 modules\nvar es = __webpack_require__(7040);\n// EXTERNAL MODULE: ./app/src/store/store.js\nvar store = __webpack_require__(9457);\n// EXTERNAL MODULE: ./node_modules/react-router-dom/dist/index.js\nvar dist = __webpack_require__(4976);\n// EXTERNAL MODULE: ./app/src/lib/components/index.js\nvar components = __webpack_require__(9571);\n// EXTERNAL MODULE: ./app/src/components/index.js\nvar src_components = __webpack_require__(135);\n// EXTERNAL MODULE: ./node_modules/@wordpress/i18n/build-module/index.js + 10 modules\nvar build_module = __webpack_require__(4214);\n// EXTERNAL MODULE: ./app/src/store/slices/settings.js\nvar settings = __webpack_require__(9569);\n// EXTERNAL MODULE: ./app/src/store/slices/notice.js\nvar notice = __webpack_require__(9472);\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(4848);\n;// CONCATENATED MODULE: ./app/src/pages/settings/components/TabsFooter.js\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator.return && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, catch: function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\n/**\n * Library dependencies\n */\n\n\n/**\n * WordPress dependencies\n */\n\n\n/**\n * External dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\nfunction TabsFooter() {\n  var dispatch = (0,es/* useDispatch */.wA)();\n  var isSaving = (0,es/* useSelector */.d4)(function (state) {\n    return (0,settings/* getLoadingStatus */.H)(state);\n  });\n\n  /**\n   * dspatch saveOptions action\n   *\n   * @returns {void}\n   */\n  function saveSettings() {\n    return _saveSettings.apply(this, arguments);\n  }\n  function _saveSettings() {\n    _saveSettings = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            dispatch((0,settings/* saveOptions */.Sz)()).then(function (response) {\n              var _response$payload;\n              if (response !== null && response !== void 0 && (_response$payload = response.payload) !== null && _response$payload !== void 0 && _response$payload.success) {\n                // Success Notice\n                dispatch((0,notice/* addNotice */.Mp)({\n                  message: (0,build_module.__)(\'Changes were saved successfully.\', \'wpmudev_vids\')\n                }));\n              } else {\n                // Error Notice\n                dispatch((0,notice/* addNotice */.Mp)({\n                  message: (0,build_module.__)(\'Sorry. Could not save the changes. Please try again.\', \'wpmudev_vids\'),\n                  type: \'error\'\n                }));\n              }\n            });\n          case 1:\n          case "end":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return _saveSettings.apply(this, arguments);\n  }\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Footer, {\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Right, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n        color: "blue",\n        icon: "save",\n        isLoading: isSaving,\n        onClick: saveSettings,\n        onLoadingText: (0,build_module.__)(\'Saving Changes\', \'wpmudev_vids\'),\n        children: (0,build_module.__)(\'Save Changes\', \'wpmudev_vids\')\n      })\n    })\n  });\n}\n/* harmony default export */ var components_TabsFooter = ((/* unused pure expression or super */ null && (TabsFooter)));\n// EXTERNAL MODULE: ./app/src/lib/hooks/index.js + 4 modules\nvar hooks = __webpack_require__(1635);\n// EXTERNAL MODULE: ./app/src/helpers/api/index.js + 1 modules\nvar api = __webpack_require__(9331);\n;// CONCATENATED MODULE: ./app/src/hooks/useResetData/useResetData.js\nfunction useResetData_typeof(o) { "@babel/helpers - typeof"; return useResetData_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, useResetData_typeof(o); }\nfunction useResetData_regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ useResetData_regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == useResetData_typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator.return && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(useResetData_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, catch: function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction useResetData_asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction useResetData_asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { useResetData_asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { useResetData_asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n\n\n\n\n\n/**\n * Reset the membership data using API.\n *\n * Reloads the current page after refreshing the\n * status.\n *\n */\nfunction useResetData(_ref) {\n  var afterReset = _ref.afterReset;\n  var _useState = (0,react.useState)(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isProcessing = _useState2[0],\n    setProcessing = _useState2[1];\n  var dispatch = (0,es/* useDispatch */.wA)();\n  function resetData() {\n    return _resetData.apply(this, arguments);\n  }\n  function _resetData() {\n    _resetData = useResetData_asyncToGenerator( /*#__PURE__*/useResetData_regeneratorRuntime().mark(function _callee() {\n      return useResetData_regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            // Start loading\n            setProcessing(true);\n            (0,api/* restGet */.B8)({\n              path: \'actions\',\n              params: {\n                action: \'reset_settings\'\n              }\n            }).then(function (response) {\n              if (response.success) {\n                var _response$data;\n                // callback function\n                afterReset();\n\n                // Show notice\n                dispatch((0,notice/* addNotice */.Mp)({\n                  message: response === null || response === void 0 || (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.message\n                }));\n\n                // Reload after diplaying the notice\n                setTimeout(function () {\n                  return window.location.reload();\n                }, 1000);\n              }\n              setProcessing(false);\n            });\n          case 2:\n          case "end":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return _resetData.apply(this, arguments);\n  }\n  return {\n    resetData: resetData,\n    isProcessing: isProcessing\n  };\n}\n/* harmony default export */ var useResetData_useResetData = ((/* unused pure expression or super */ null && (useResetData)));\n;// CONCATENATED MODULE: ./app/src/hooks/useResetData/index.js\n\n;// CONCATENATED MODULE: ./app/src/hooks/index.js\n\n;// CONCATENATED MODULE: ./app/src/pages/settings/tabs/Data/Modals/ResetConfirmation.js\n/**\n * Library dependencies\n */\n\n\n/**\n * WordPress dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\nfunction ResetConfirmation(_ref) {\n  var modalID = _ref.modalID,\n    closeModal = _ref.closeModal;\n  var _useResetData = useResetData({\n      afterReset: closeModal\n    }),\n    resetData = _useResetData.resetData,\n    isProcessing = _useResetData.isProcessing;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Header, {\n      className: "sui-flatten sui-content-center sui-spacing-top--60",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* IconButton */.K0, {\n        className: "sui-button-float--right",\n        icon: "close",\n        onClick: closeModal,\n        size: "md",\n        outlined: false,\n        label: (0,build_module.__)(\'Close this dialog.\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("h3", {\n        id: "".concat(modalID, "-title"),\n        className: "sui-box-title sui-lg",\n        children: (0,build_module.__)(\'Reset Plugin\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n        id: "".concat(modalID, "-desc"),\n        className: "sui-description",\n        children: (0,build_module.__)(\'Are you sure you want to reset the plugin to its default state?\', \'wpmudev_vids\')\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Footer, {\n      isFlatten: true,\n      isCentered: true,\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n        type: "ghost",\n        onClick: closeModal,\n        children: (0,build_module.__)(\'Cancel\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n        type: "ghost",\n        icon: "undo",\n        isLoading: isProcessing,\n        onClick: resetData,\n        color: "red",\n        onLoadingText: (0,build_module.__)(\'Resetting\', \'wpmudev_vids\'),\n        children: (0,build_module.__)(\'Reset\', \'wpmudev_vids\')\n      })]\n    })]\n  });\n}\n/* harmony default export */ var Modals_ResetConfirmation = ((/* unused pure expression or super */ null && (ResetConfirmation)));\n;// CONCATENATED MODULE: ./app/src/pages/settings/tabs/Data/Partials/ResetSettings.js\nfunction ResetSettings_slicedToArray(r, e) { return ResetSettings_arrayWithHoles(r) || ResetSettings_iterableToArrayLimit(r, e) || ResetSettings_unsupportedIterableToArray(r, e) || ResetSettings_nonIterableRest(); }\nfunction ResetSettings_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction ResetSettings_unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return ResetSettings_arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? ResetSettings_arrayLikeToArray(r, a) : void 0; } }\nfunction ResetSettings_arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction ResetSettings_iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction ResetSettings_arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Library dependencies\n */\n\n\n\n\n/**\n * WordPress dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\nfunction ResetSettings() {\n  var confirmModal = \'wpmudev-videos-data-reset-confirmation\';\n  var _useModal = (0,hooks/* useModal */.h)({\n      id: confirmModal\n    }),\n    _useModal2 = ResetSettings_slicedToArray(_useModal, 2),\n    openModal = _useModal2[0],\n    closeModal = _useModal2[1];\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Modal */.aF, {\n      id: confirmModal,\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(ResetConfirmation, {\n        modalID: confirmModal,\n        closeModal: closeModal\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n      icon: "undo",\n      type: "ghost",\n      id: "".concat(confirmModal, "-opener"),\n      onClick: openModal,\n      onLoadingText: (0,build_module.__)(\'Resetting\', \'wpmudev_vids\'),\n      children: (0,build_module.__)(\'Reset\', \'wpmudev_vids\')\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n      className: "sui-description",\n      children: (0,build_module.__)(\'Note: This will instantly revert all settings to their default states but will leave your data intact.\', \'wpmudev_vids\')\n    })]\n  });\n}\n/* harmony default export */ var Partials_ResetSettings = ((/* unused pure expression or super */ null && (ResetSettings)));\n;// CONCATENATED MODULE: ./app/src/pages/settings/tabs/Data/Partials/DataPreserve.js\n/**\n * Library dependencies\n */\n\n\n/**\n * WordPress dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n/**\n * External dependencies\n */\n\n\nfunction DataPreserve() {\n  var dispatch = (0,es/* useDispatch */.wA)();\n  var keepSettings = (0,es/* useSelector */.d4)(function (state) {\n    return (0,settings/* getOption */.om)(state, \'keep_settings\');\n  });\n  var keepData = (0,es/* useSelector */.d4)(function (state) {\n    return (0,settings/* getOption */.om)(state, \'keep_data\');\n  });\n  var updateKeepSettings = function updateKeepSettings(value) {\n    var finalValue = \'0\';\n    if (value === \'preserve\') {\n      finalValue = \'1\';\n    }\n    dispatch((0,settings/* setOption */.qN)({\n      key: \'keep_settings\',\n      value: finalValue\n    }));\n  };\n  var updateKeepData = function updateKeepData(value) {\n    var finalValue = \'0\';\n    if (value === \'keep\') {\n      finalValue = \'1\';\n    }\n    dispatch((0,settings/* setOption */.qN)({\n      key: \'keep_data\',\n      value: finalValue\n    }));\n  };\n  var settingsOptions = [{\n    id: \'wpmudev-videos-settings-keep\',\n    value: \'preserve\',\n    label: (0,build_module.__)(\'Preserve\', \'wpmudev_vids\')\n  }, {\n    id: \'wpmudev-videos-settings-reset\',\n    value: \'reset\',\n    label: (0,build_module.__)(\'Reset\', \'wpmudev_vids\')\n  }];\n  var dataOptions = [{\n    id: \'wpmudev-videos-data-keep\',\n    value: \'keep\',\n    label: (0,build_module.__)(\'Keep\', \'wpmudev_vids\')\n  }, {\n    id: \'wpmudev-videos-data-remove\',\n    value: \'remove\',\n    label: (0,build_module.__)(\'Remove\', \'wpmudev_vids\')\n  }];\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n    className: "sui-form-field",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)("h4", {\n      className: "sui-settings-label",\n      children: (0,build_module.__)(\'Settings\', \'wpmudev_vids\')\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n      className: "sui-description side-tabs-description",\n      children: (0,build_module.__)(\'Choose whether to save your settings for next time, or reset them.\', \'wpmudev_vids\')\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* RadioTabs */.So, {\n      value: keepSettings === \'1\' ? \'preserve\' : \'reset\',\n      options: settingsOptions,\n      onChange: function onChange(val) {\n        return updateKeepSettings(val);\n      }\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)("h4", {\n      className: "sui-settings-label",\n      children: (0,build_module.__)(\'Data\', \'wpmudev_vids\')\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n      className: "sui-description side-tabs-description",\n      children: (0,build_module.__)(\'Choose whether to keep or remove Videos and Playlists data.\', \'wpmudev_vids\')\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* RadioTabs */.So, {\n      value: keepData === \'1\' ? \'keep\' : \'remove\',\n      options: dataOptions,\n      onChange: function onChange(val) {\n        return updateKeepData(val);\n      }\n    })]\n  });\n}\n/* harmony default export */ var Partials_DataPreserve = ((/* unused pure expression or super */ null && (DataPreserve)));\n;// CONCATENATED MODULE: ./app/src/pages/settings/tabs/Data/Partials/index.js\n\n\n;// CONCATENATED MODULE: ./app/src/pages/settings/tabs/Data/Data.js\n/**\n * Library dependencies\n */\n\n\n/**\n * WordPress dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\nfunction Data() {\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Header, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Title, {\n        children: (0,build_module.__)(\'Data\', \'wpmudev_vids\')\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Body, {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Row, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Col2, {\n          children: (0,build_module.__)(\'Control what to do with your settings and data. Data includes Videos, Playlists, and other pieces of information stored over time.\', \'wpmudev_vids\')\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Row, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Col1, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Label, {\n            children: (0,build_module.__)(\'Uninstallation\', \'wpmudev_vids\')\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Description, {\n            children: (0,build_module.__)(\'When you uninstall this plugin, what do you want to do with your settings and stored data?\', \'wpmudev_vids\')\n          })]\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Col2, {\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(DataPreserve, {})\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Row, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Col1, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Label, {\n            children: (0,build_module.__)(\'Reset Settings\', \'wpmudev_vids\')\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Description, {\n            children: (0,build_module.__)(\'Needing to start fresh? Use this button to roll back to the default settings.\', \'wpmudev_vids\')\n          })]\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Col2, {\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(ResetSettings, {})\n        })]\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(TabsFooter, {})]\n  });\n}\n/* harmony default export */ var Data_Data = ((/* unused pure expression or super */ null && (Data)));\n;// CONCATENATED MODULE: ./app/src/pages/settings/tabs/Data/index.js\n\n;// CONCATENATED MODULE: ./app/src/pages/settings/tabs/DisplaySettings/Partials/SubMenu.js\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n/**\n * External dependencies\n */\n\n\n\nfunction SubMenu() {\n  var options = window.ivtModuleVars.menu_locations || [];\n  var dispatch = (0,es/* useDispatch */.wA)();\n  var menuLocation = (0,es/* useSelector */.d4)(function (state) {\n    return (0,settings/* getOption */.om)(state, \'menu_location\');\n  });\n  var menuTitle = (0,es/* useSelector */.d4)(function (state) {\n    return (0,settings/* getOption */.om)(state, \'menu_title\', (0,build_module.__)(\'Video Tutorials\', \'wpmudev_vids\'));\n  });\n  var updateMenuLocation = function updateMenuLocation(value) {\n    dispatch((0,settings/* setOption */.qN)({\n      key: \'menu_location\',\n      value: value\n    }));\n  };\n  var updateMenuTitle = function updateMenuTitle(value) {\n    dispatch((0,settings/* setOption */.qN)({\n      key: \'menu_title\',\n      value: value\n    }));\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n      className: "sui-form-field",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Label */.JU, {\n        htmlFor: "wpmudev-videos-settings-tutorials-position",\n        id: "wpmudev-videos-settings-tutorials-position-label",\n        children: (0,build_module.__)(\'Choose the location of the videos page in the admin menu.\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Select */.l6, {\n        options: options,\n        value: menuLocation,\n        onChange: updateMenuLocation,\n        id: "wpmudev-videos-settings-tutorials-position",\n        labelID: "wpmudev-videos-settings-tutorials-position-label",\n        placeholder: (0,build_module.__)(\'Select item\', \'wpmudev_vids\')\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n      className: "sui-form-field",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Label */.JU, {\n        htmlFor: "wpmudev-videos-settings-tutorials-title",\n        id: "wpmudev-videos-settings-tutorials-title-label",\n        children: (0,build_module.__)(\'Show the tutorials tab in the WP Admin sidebar\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Input */.pd, {\n        value: menuTitle || \'\',\n        onChange: updateMenuTitle,\n        id: "wpmudev-videos-settings-tutorials-title",\n        placeholder: (0,build_module.__)(\'Video Tutorials\', \'wpmudev_vids\')\n      })]\n    })]\n  });\n}\n/* harmony default export */ var Partials_SubMenu = ((/* unused pure expression or super */ null && (SubMenu)));\n;// CONCATENATED MODULE: ./app/src/pages/settings/tabs/DisplaySettings/DisplaySettings.js\n/**\n * Library dependencies\n */\n\n\n/**\n * WordPress dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\n/**\n * External dependencies\n */\n\n\nfunction DisplaySettings() {\n  var dispatch = (0,es/* useDispatch */.wA)();\n  var showMenu = (0,es/* useSelector */.d4)(function (state) {\n    return (0,settings/* getOption */.om)(state, \'show_menu\');\n  });\n  var contextHelp = (0,es/* useSelector */.d4)(function (state) {\n    return (0,settings/* getOption */.om)(state, \'contextual_help\');\n  });\n  var updateShowMenu = function updateShowMenu(value) {\n    dispatch((0,settings/* setOption */.qN)({\n      key: \'show_menu\',\n      value: value\n    }));\n  };\n  var updateContextHelp = function updateContextHelp(value) {\n    dispatch((0,settings/* setOption */.qN)({\n      key: \'contextual_help\',\n      value: value\n    }));\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Header, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Title, {\n        children: (0,build_module.__)(\'Display Settings\', \'wpmudev_vids\')\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Body, {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Row, {\n        isFlushed: true,\n        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Col1, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Label, {\n            children: (0,build_module.__)(\'Tutorials Tab\', \'wpmudev_vids\')\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Description, {\n            children: (0,build_module.__)(\'Customize the default "Video Tutorials" tab title and position in the WordPress Admin menu.\', \'wpmudev_vids\')\n          })]\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Col2, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n            className: "sui-form-field",\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Toggle */.lM, {\n              checked: !!showMenu,\n              onChange: updateShowMenu,\n              label: (0,build_module.__)(\'Show the tutorials tab in the WP Admin sidebar\', \'wpmudev_vids\'),\n              id: "wpmudev-videos-settings-tutorials-tab"\n            })\n          }), !!showMenu && /*#__PURE__*/(0,jsx_runtime.jsx)(components/* BorderFrame */.qo, {\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)(SubMenu, {})\n          })]\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Row, {\n        isFlushed: true,\n        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Col1, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Label, {\n            children: (0,build_module.__)(\'Help Videos\', \'wpmudev_vids\')\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Description, {\n            children: (0,build_module.__)(\'This will add the appropriate video tutorials to the help dropdowns on WordPress admin screens.\', \'wpmudev_vids\')\n          })]\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Col2, {\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n            className: "sui-form-field",\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Toggle */.lM, {\n              checked: !!contextHelp,\n              onChange: updateContextHelp,\n              label: (0,build_module.__)(\'Add Videos to Contextual Help\', \'wpmudev_vids\'),\n              id: "wpmudev-videos-settings-help-videos"\n            })\n          })\n        })]\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(TabsFooter, {})]\n  });\n}\n/* harmony default export */ var DisplaySettings_DisplaySettings = ((/* unused pure expression or super */ null && (DisplaySettings)));\n;// CONCATENATED MODULE: ./app/src/pages/settings/tabs/DisplaySettings/index.js\n\n// EXTERNAL MODULE: ./app/src/helpers/utils/utils.js\nvar utils = __webpack_require__(7755);\n;// CONCATENATED MODULE: ./app/src/pages/settings/tabs/ImportExport/Partials/Configs.js\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || Configs_unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction Configs_unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return Configs_arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? Configs_arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return Configs_arrayLikeToArray(r); }\nfunction Configs_arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\n/**\n * Library dependencies\n */\n\n\n/**\n * WordPress dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\nvar items = {\n  videos: (0,build_module.__)(\'Videos\', \'wpmudev_vids\'),\n  playlists: (0,build_module.__)(\'Playlists\', \'wpmudev_vids\'),\n  display: (0,build_module.__)(\'Display Settings\', \'wpmudev_vids\')\n};\n\n// Permission settings not required on multisite.\nif (!(0,utils/* isNetwork */.tY)()) {\n  items[\'permissions\'] = (0,build_module.__)(\'Permissions\', \'wpmudev_vids\');\n}\nfunction Configs(_ref) {\n  var onChange = _ref.onChange,\n    selected = _ref.selected,\n    id = _ref.id,\n    counts = _ref.counts;\n  /**\n   * Check if all items are selected.\n   *\n   * @param {list} list list of items to check upon\n   * @returns {boolean}\n   */\n  var allSelected = function allSelected(list) {\n    var itemsList = Object.keys(items);\n    return itemsList.every(function (key) {\n      return list.includes(key);\n    });\n  };\n\n  /**\n   * On sub items check change.\n   *\n   * If all sub items are selected, select\n   * all options also.\n   *\n   */\n  function toggleItem(key, checkit) {\n    var newSelected = _toConsumableArray(selected);\n    if (checkit) {\n      newSelected.push(key);\n      if (allSelected(newSelected)) {\n        newSelected.push(\'all\');\n      }\n    } else {\n      newSelected = newSelected.filter(function (el) {\n        return el !== key && el !== \'all\';\n      });\n    }\n    onChange(newSelected);\n  }\n\n  /**\n   * Toggle all select checkbox items.\n   *\n   * When select checkbox is selected, check all\n   * sub items in the list.\n   *\n   */\n  var toggleAll = function toggleAll() {\n    if (!selected.includes(\'all\')) {\n      // Get all items as selected.\n      var newSelected = Object.keys(items);\n\n      // Push all option.\n      newSelected.push(\'all\');\n\n      // Update state.\n      onChange(newSelected);\n    } else {\n      // Uncheck all items.\n      onChange([]);\n    }\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n    role: "group",\n    "aria-labelledby": "export-options-label",\n    className: "sui-form-field",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Checkbox */.Sc, {\n      isStacked: true,\n      checked: allSelected(selected),\n      onChange: toggleAll,\n      id: "".concat(id, "-items-all"),\n      label: (0,build_module.__)(\'All\', \'wpmudev_vids\'),\n      value: "all",\n      className: "sui-checkbox-sm"\n    }), Object.keys(items).map(function (key) {\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Checkbox */.Sc, {\n        onChange: function onChange(checkit) {\n          return toggleItem(key, checkit);\n        },\n        checked: selected.includes(key),\n        id: "".concat(id, "-items-").concat(key),\n        name: "export[]",\n        label: items[key],\n        value: key,\n        className: "sui-checkbox-sm",\n        tag: counts === null || counts === void 0 ? void 0 : counts[key]\n      }, key);\n    })]\n  });\n}\n/* harmony default export */ var Partials_Configs = ((/* unused pure expression or super */ null && (Configs)));\n;// CONCATENATED MODULE: ./app/src/pages/settings/tabs/ImportExport/Partials/ExportSection.js\nfunction ExportSection_slicedToArray(r, e) { return ExportSection_arrayWithHoles(r) || ExportSection_iterableToArrayLimit(r, e) || ExportSection_unsupportedIterableToArray(r, e) || ExportSection_nonIterableRest(); }\nfunction ExportSection_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction ExportSection_unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return ExportSection_arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? ExportSection_arrayLikeToArray(r, a) : void 0; } }\nfunction ExportSection_arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction ExportSection_iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction ExportSection_arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Library dependencies\n */\n\n\n/**\n * WordPress dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n/**\n * External dependencies\n */\n\n\nfunction ExportSection() {\n  var _useState = (0,react.useState)([]),\n    _useState2 = ExportSection_slicedToArray(_useState, 2),\n    selected = _useState2[0],\n    setSelected = _useState2[1];\n  var _useState3 = (0,react.useState)(false),\n    _useState4 = ExportSection_slicedToArray(_useState3, 2),\n    includeThumbs = _useState4[0],\n    setIncludeThumbs = _useState4[1];\n  var _useState5 = (0,react.useState)(false),\n    _useState6 = ExportSection_slicedToArray(_useState5, 2),\n    exporting = _useState6[0],\n    setExporting = _useState6[1];\n  var exportForm = (0,react.useRef)();\n\n  /**\n   * Process the export button click.\n   *\n   * @returns {void}\n   *\n   */\n  var processExport = function processExport() {\n    // Show processing.\n    setExporting(true);\n\n    // Submit the form.\n    exportForm.current.submit();\n\n    // Remove processing.\n    setTimeout(function () {\n      setExporting(false);\n    }, 2000);\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Row, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Col1, {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Label, {\n        children: (0,build_module.__)(\'Export\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Description, {\n        children: (0,build_module.__)(\'Use this tool to export the IVT configurations and data to another site.\', \'wpmudev_vids\')\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Col2, {\n      id: "export-configs",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)("h4", {\n        className: "sui-settings-label",\n        children: (0,build_module.__)(\'Export Configurations\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* BorderFrame */.qo, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)("form", {\n          method: "post",\n          ref: exportForm,\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)("input", {\n            type: "hidden",\n            name: "ivt-action",\n            value: "export"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)("input", {\n            type: "hidden",\n            name: "ivt-export",\n            value: "1"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)("input", {\n            type: "hidden",\n            name: "export-nonce",\n            value: window.ivtModuleVars.export_nonce\n          }), /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n            className: "sui-form-field wpmudev-videos-export-options",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Label */.JU, {\n              id: "export-options-label",\n              children: (0,build_module.__)(\'Choose export options\', \'wpmudev_vids\')\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n              className: "sui-description",\n              children: (0,build_module.__)(\'Select configurations or data to export or check All to export all settings.\', \'wpmudev_vids\')\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(Configs, {\n              id: "export-config",\n              onChange: setSelected,\n              selected: selected\n            })]\n          }), /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n            role: "group",\n            className: "sui-form-field wpmudev-videos-export-options",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n              className: "sui-label",\n              style: {\n                margin: \'0 0 10px\'\n              },\n              children: (0,build_module.__)(\'Export thumbnails\', \'wpmudev_vids\')\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Toggle */.lM, {\n              checked: includeThumbs,\n              onChange: setIncludeThumbs,\n              label: (0,build_module.__)(\'Include video and playlist thumbnails in export.\', \'wpmudev_vids\'),\n              name: "export[]",\n              id: "export-config-items-thumb",\n              value: "thumb"\n            })]\n          })]\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n        onClick: processExport,\n        isLoading: exporting,\n        disabled: selected.length === 0,\n        icon: "upload-cloud",\n        onLoadingText: (0,build_module.__)(\'Exporting\', \'wpmudev_vids\'),\n        children: (0,build_module.__)(\'Export\', \'wpmudev_vids\')\n      })]\n    })]\n  });\n}\n// EXTERNAL MODULE: ./node_modules/prop-types/index.js\nvar prop_types = __webpack_require__(5556);\nvar prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types);\n;// CONCATENATED MODULE: ./app/src/pages/settings/tabs/ImportExport/Modals/ImportConfirmation.js\nfunction ImportConfirmation_typeof(o) { "@babel/helpers - typeof"; return ImportConfirmation_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, ImportConfirmation_typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == ImportConfirmation_typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != ImportConfirmation_typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != ImportConfirmation_typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\nfunction ImportConfirmation_toConsumableArray(r) { return ImportConfirmation_arrayWithoutHoles(r) || ImportConfirmation_iterableToArray(r) || ImportConfirmation_unsupportedIterableToArray(r) || ImportConfirmation_nonIterableSpread(); }\nfunction ImportConfirmation_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction ImportConfirmation_iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }\nfunction ImportConfirmation_arrayWithoutHoles(r) { if (Array.isArray(r)) return ImportConfirmation_arrayLikeToArray(r); }\nfunction ImportConfirmation_slicedToArray(r, e) { return ImportConfirmation_arrayWithHoles(r) || ImportConfirmation_iterableToArrayLimit(r, e) || ImportConfirmation_unsupportedIterableToArray(r, e) || ImportConfirmation_nonIterableRest(); }\nfunction ImportConfirmation_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction ImportConfirmation_unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return ImportConfirmation_arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? ImportConfirmation_arrayLikeToArray(r, a) : void 0; } }\nfunction ImportConfirmation_arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction ImportConfirmation_iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction ImportConfirmation_arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Library dependencies\n */\n\n\n/**\n * WordPress dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n/**\n * External dependencies\n */\n\n\n\nvar ImportConfirmation_items = {\n  videos: (0,build_module.__)(\'Videos\', \'wpmudev_vids\'),\n  playlists: (0,build_module.__)(\'Playlists\', \'wpmudev_vids\'),\n  display: (0,build_module.__)(\'Display Settings\', \'wpmudev_vids\')\n};\nfunction ImportConfirmation(_ref) {\n  var modalID = _ref.modalID,\n    close = _ref.close,\n    data = _ref.data,\n    onImport = _ref.onImport;\n  var _useState = (0,react.useState)([]),\n    _useState2 = ImportConfirmation_slicedToArray(_useState, 2),\n    selected = _useState2[0],\n    setSelected = _useState2[1];\n  var _useState3 = (0,react.useState)(false),\n    _useState4 = ImportConfirmation_slicedToArray(_useState3, 2),\n    includeThumbs = _useState4[0],\n    setIncludeThumbs = _useState4[1];\n  var _useState5 = (0,react.useState)({\n      videos: 0,\n      playlists: 0\n    }),\n    _useState6 = ImportConfirmation_slicedToArray(_useState5, 2),\n    counts = _useState6[0],\n    setCounts = _useState6[1];\n  var _useState7 = (0,react.useState)(false),\n    _useState8 = ImportConfirmation_slicedToArray(_useState7, 2),\n    disableThumb = _useState8[0],\n    setDisableThumb = _useState8[1];\n  var _useState9 = (0,react.useState)(null),\n    _useState10 = ImportConfirmation_slicedToArray(_useState9, 2),\n    file = _useState10[0],\n    setFile = _useState10[1];\n  var _useState11 = (0,react.useState)(false),\n    _useState12 = ImportConfirmation_slicedToArray(_useState11, 2),\n    isProcessing = _useState12[0],\n    setProcessing = _useState12[1];\n\n  /**\n   * Send import data to backend\n   */\n  var importData = function importData() {\n    setProcessing(true);\n    var formData = new FormData();\n\n    // Append file.\n    formData.append(\'file\', file);\n\n    // Append selected items.\n    formData.append(\'selected\', selected);\n\n    // Should import thumbs.\n    formData.append(\'thumb\', includeThumbs);\n    (0,api/* restPost */.J8)({\n      path: \'data/import\',\n      body: formData\n    }).then(function (response) {\n      if (response.success && response.data) {\n        // callback on success\n        onImport();\n        setProcessing(false);\n      }\n    }).catch(function (error) {\n      console.error(error);\n    });\n  };\n\n  /**\n   * Updates `selected` state\n   *\n   * @param {string} item to push to the selected array\n   *\n   * @returns {void}\n   */\n  var addToSelected = function addToSelected(item) {\n    setSelected(function (prevSelected) {\n      return [].concat(ImportConfirmation_toConsumableArray(prevSelected), [item]);\n    });\n  };\n\n  /**\n   * Updates `counts` state\n   *\n   * @param {string} key\n   * @param {number} value\n   *\n   * @returns {void}\n   */\n  var updateCounts = function updateCounts(key, value) {\n    setCounts(function (prevCounts) {\n      return _objectSpread(_objectSpread({}, prevCounts), {}, _defineProperty({}, key, value));\n    });\n  };\n\n  /**\n   * Resets the Modal\n   *\n   * @returns {void}\n   */\n  var resetModal = function resetModal() {\n    setFile(null);\n    setIncludeThumbs(false);\n    setSelected([]);\n    setCounts({\n      videos: 0,\n      playlists: 0\n    });\n  };\n\n  /**\n   * Set data for the confirmation modal.\n   *\n   * @param {object} data Data to import.\n   *\n   * @since 1.8.3\n   *\n   * @returns {void}\n   */\n  var setModalData = function setModalData() {\n    if (data.videos > 0) {\n      // Set videos.\n      addToSelected(\'videos\');\n\n      // Set count.\n      updateCounts(\'videos\', data.videos);\n    }\n    if (data.playlists > 0) {\n      // Set playlists.\n      addToSelected(\'playlists\');\n\n      // Set the count.\n      updateCounts(\'playlists\', data.playlists);\n    }\n    if (data.display) {\n      addToSelected(\'display\');\n    }\n    if (data.permissions) {\n      addToSelected(\'permissions\');\n    }\n\n    // Thumbnail needs to import.\n    setIncludeThumbs(data.thumb);\n\n    // Disable thumb option if not enabled.\n    setDisableThumb(!data.thumb);\n\n    // Set file.\n    if (!!data.file) {\n      setFile(data.file);\n    }\n  };\n  (0,react.useEffect)(function () {\n    // Reset Modal\n    resetModal();\n\n    // Set the new data\n    setModalData();\n  }, [data]);\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Header, {\n      className: "sui-flatten sui-content-center sui-spacing-top--60",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* IconButton */.K0, {\n        className: "sui-button-float--right",\n        icon: "close",\n        onClick: close,\n        size: "md",\n        outlined: false,\n        label: (0,build_module.__)(\'Close this dialog.\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("h3", {\n        id: "".concat(modalID, "-title"),\n        className: "sui-box-title sui-lg",\n        children: (0,build_module.__)(\'Import\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n        id: "".concat(modalID, "-desc"),\n        className: "sui-description",\n        children: (0,build_module.__)(\'To continue, select the configuration data to import below and click the import button to begin.\', \'wpmudev_vids\')\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Body, {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* BorderFrame */.qo, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(Configs, {\n          id: modalID,\n          items: ImportConfirmation_items,\n          selected: selected,\n          onChange: setSelected,\n          counts: counts\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n        className: "sui-form-field",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Toggle */.lM, {\n          checked: includeThumbs,\n          onChange: setIncludeThumbs,\n          label: (0,build_module.__)(\'Import thumbnails\', \'wpmudev_vids\'),\n          name: "export[]",\n          id: "".concat(modalID, "-items-thumb"),\n          value: "thumb",\n          tooltip: (0,build_module.__)(\'Include video and playlist thumbnails\', \'wpmudev_vids\'),\n          disabled: disableThumb\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* StaticNotice */.RL, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n          children: (0,build_module.__)(\'Note: The selected configurations and data above will replace your current settings and data.\', \'wpmudev_vids\')\n        })\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Footer, {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n        color: "gray",\n        icon: "cloud",\n        onClick: close,\n        children: (0,build_module.__)(\'Cancel\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Right, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n          onClick: importData,\n          isLoading: isProcessing,\n          onLoadingText: (0,build_module.__)(\'Importing\', \'wpmudev_vids\'),\n          type: "ghost",\n          disabled: selected.length === 0,\n          children: (0,build_module.__)(\'Import\', \'wpmudev_vids\')\n        })\n      })]\n    })]\n  });\n}\nImportConfirmation.defaultProps = {\n  modalID: \'modal\',\n  close: function close() {\n    return null;\n  },\n  onImport: function onImport() {\n    return null;\n  }\n};\nImportConfirmation.propTypes = {\n  modalID: (prop_types_default()).string.isRequired,\n  close: (prop_types_default()).func,\n  onImport: (prop_types_default()).func\n};\n/* harmony default export */ var Modals_ImportConfirmation = ((/* unused pure expression or super */ null && (ImportConfirmation)));\n;// CONCATENATED MODULE: ./app/src/pages/settings/tabs/ImportExport/Modals/ImportProgress.js\nfunction ImportProgress_slicedToArray(r, e) { return ImportProgress_arrayWithHoles(r) || ImportProgress_iterableToArrayLimit(r, e) || ImportProgress_unsupportedIterableToArray(r, e) || ImportProgress_nonIterableRest(); }\nfunction ImportProgress_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction ImportProgress_unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return ImportProgress_arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? ImportProgress_arrayLikeToArray(r, a) : void 0; } }\nfunction ImportProgress_arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction ImportProgress_iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction ImportProgress_arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Library dependencies\n */\n\n\n/**\n * WordPress dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\n/**\n * External dependencies\n */\n\n\n\n\nfunction ImportProgress(_ref) {\n  var _window$ivtVars;\n  var modalID = _ref.modalID,\n    close = _ref.close,\n    setIsProcessing = _ref.setIsProcessing;\n  var _useState = (0,react.useState)(0),\n    _useState2 = ImportProgress_slicedToArray(_useState, 2),\n    progress = _useState2[0],\n    setProgress = _useState2[1];\n  var dispatch = (0,es/* useDispatch */.wA)();\n  (0,react.useEffect)(function () {\n    // Update status every 5 seconds.\n    var checking = setInterval(updateStatus, 5000);\n\n    // clear setInterval\n    return function () {\n      clearInterval(checking);\n    };\n  }, []);\n\n  /**\n   * Get saving status\n   *\n   * @return {void}\n   */\n  var updateStatus = function updateStatus() {\n    (0,api/* restGet */.B8)({\n      path: \'data/import/status\'\n    }).then(function (response) {\n      if (response.success && response.data) {\n        updateProgress(response.data);\n        if (isCompleted(response.data)) {\n          close();\n\n          // Show success notice.\n          dispatch((0,notice/* addNotice */.Mp)({\n            message: (0,build_module.__)(\'Settings successfully imported and configured.\', \'wpmudev_vids\')\n          }));\n\n          // Stop Processing\n          setIsProcessing(false);\n        }\n      }\n    }).catch(function (err) {\n      console.err(err);\n    });\n  };\n\n  /**\n   * Update progress bar based on the data.\n   *\n   * @param {object} data Progress data\n   *\n   * @since 1.8.3\n   *\n   * @return {boolean}\n   */\n  function updateProgress(data) {\n    if (isCompleted(data)) {\n      setProgress(100);\n    } else {\n      var _progress = data.completed / data.total * 100;\n      setProgress(isNaN(_progress) ? 0 : Math.round(_progress));\n    }\n  }\n\n  /**\n   * Check if the progress is completed.\n   *\n   * @param {object} data Progress data\n   *\n   * @since 1.8.3\n   *\n   * @return {boolean}\n   */\n  function isCompleted(data) {\n    return data.completed >= data.total;\n  }\n\n  // Global Variables\n  var _ref2 = (_window$ivtVars = window.ivtVars) !== null && _window$ivtVars !== void 0 ? _window$ivtVars : {},\n    hide_branding = _ref2.whitelabel.hide_branding;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Header, {\n      className: "sui-flatten sui-content-center sui-spacing-top--60",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* IconButton */.K0, {\n        className: "sui-button-float--right",\n        icon: "close",\n        onClick: close,\n        size: "md",\n        outlined: false,\n        label: (0,build_module.__)(\'Close this dialog.\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("h3", {\n        id: "".concat(modalID, "-title"),\n        className: "sui-box-title sui-lg",\n        children: (0,build_module.__)(\'Import\', \'wpmudev_vids\')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n        id: "".concat(modalID, "-desc"),\n        className: "sui-description",\n        children: (0,build_module.__)(\'Your import is in progress. Downloading thumbnails might take a bit longer depending on the file sizes and volume. Feel free to close this modal as your import will continue running in the background.\', \'wpmudev_vids\')\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Body, {\n      centerContent: true,\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* ProgressBar */.z2, {\n        description: (0,build_module.__)(\'Importing in progress...\', \'wpmudev_vids\'),\n        progress: progress\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Footer, {\n      isCentered: true,\n      isFlatten: true,\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n        id: "".concat(modalID, "-import-continue"),\n        onClick: function onClick() {\n          setIsProcessing(false);\n          close();\n        },\n        children: (0,build_module.__)(\'Continue in background\', \'wpmudev_vids\')\n      })\n    })]\n  });\n}\nImportProgress.defaultProps = {\n  modalID: \'Modal\',\n  close: function close() {\n    return null;\n  }\n};\nImportProgress.propTypes = {\n  modalID: (prop_types_default()).string,\n  close: (prop_types_default()).func\n};\n/* harmony default export */ var Modals_ImportProgress = ((/* unused pure expression or super */ null && (ImportProgress)));\n;// CONCATENATED MODULE: ./app/src/pages/settings/tabs/ImportExport/Modals/index.js\n\n\n;// CONCATENATED MODULE: ./app/src/pages/settings/tabs/ImportExport/Partials/ImportSection.js\nfunction ImportSection_slicedToArray(r, e) { return ImportSection_arrayWithHoles(r) || ImportSection_iterableToArrayLimit(r, e) || ImportSection_unsupportedIterableToArray(r, e) || ImportSection_nonIterableRest(); }\nfunction ImportSection_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction ImportSection_unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return ImportSection_arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? ImportSection_arrayLikeToArray(r, a) : void 0; } }\nfunction ImportSection_arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction ImportSection_iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction ImportSection_arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Library dependencies\n */\n\n\n\n/**\n * Internal dependencies\n */\n\n\n/**\n * WordPress dependencies\n */\n\n\n/**\n * External dependencies\n */\n\n\nfunction ImportSection() {\n  var _useState = (0,react.useState)(null),\n    _useState2 = ImportSection_slicedToArray(_useState, 2),\n    file = _useState2[0],\n    setFile = _useState2[1];\n  var _useState3 = (0,react.useState)(0),\n    _useState4 = ImportSection_slicedToArray(_useState3, 2),\n    videos = _useState4[0],\n    setVideos = _useState4[1];\n  var _useState5 = (0,react.useState)(0),\n    _useState6 = ImportSection_slicedToArray(_useState5, 2),\n    playlists = _useState6[0],\n    setPlaylists = _useState6[1];\n  var _useState7 = (0,react.useState)(false),\n    _useState8 = ImportSection_slicedToArray(_useState7, 2),\n    display = _useState8[0],\n    setDisplay = _useState8[1];\n  var _useState9 = (0,react.useState)(false),\n    _useState10 = ImportSection_slicedToArray(_useState9, 2),\n    permissions = _useState10[0],\n    setPermissions = _useState10[1];\n  var _useState11 = (0,react.useState)(false),\n    _useState12 = ImportSection_slicedToArray(_useState11, 2),\n    thumb = _useState12[0],\n    setThumb = _useState12[1];\n  var _useState13 = (0,react.useState)(false),\n    _useState14 = ImportSection_slicedToArray(_useState13, 2),\n    isProcessing = _useState14[0],\n    setIsProcessing = _useState14[1];\n\n  // Modals\n  var confirmModalID = \'wpmudev-videos-import-confirmation\';\n  var processModalID = \'wpmudev-videos-import-progress\';\n  var _useModal = (0,hooks/* useModal */.h)({\n      id: confirmModalID\n    }),\n    _useModal2 = ImportSection_slicedToArray(_useModal, 2),\n    openConfirmModal = _useModal2[0],\n    closeConfirmModal = _useModal2[1];\n  var _useModal3 = (0,hooks/* useModal */.h)({\n      id: processModalID\n    }),\n    _useModal4 = ImportSection_slicedToArray(_useModal3, 2),\n    closeProcessModal = _useModal4[1];\n\n  /**\n   * Check if a settings group is selected\n   *\n   * @param {object} data Settings data.\n   * @param {string} type Settings type\n   *\n   * @since 1.8.3\n   *\n   * @returns {boolean}\n   */\n  var isSelected = function isSelected(data, type) {\n    var fields = {\n      permissions: [\'roles\'],\n      display: [\'show_menu\', \'menu_title\', \'menu_location\', \'contextual_help\']\n    };\n    if (fields[type]) {\n      return fields[type].some(function (key) {\n        return Object.keys(data).includes(key);\n      });\n    }\n    return false;\n  };\n\n  /**\n   * Set the count and data details.\n   *\n   * Read the uploaded json file and check the content\n   * and update the state accordigly\n   *\n   * @param {object} event Event.\n   *\n   * @returns {void}\n   */\n  var setData = function setData(event) {\n    try {\n      // Parse the json data.\n      var data = JSON.parse(event.target.result);\n\n      // Set the values from json.\n      setThumb(data.thumb);\n      setVideos(Object.keys(data.videos).length);\n      setPlaylists(Object.keys(data.playlists).length);\n      setDisplay(isSelected(data.settings, \'display\'));\n      setPermissions(isSelected(data.settings, \'permissions\'));\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  /**\n   * Replaces the confirmation modal with the progress modal\n   *\n   * @returns {void}\n   */\n  var onImportData = function onImportData() {\n    SUI.replaceModal(processModalID, "".concat(confirmModalID, "-opener"), "".concat(processModalID, "-import-continue"));\n\n    // Mounts ProcessModal and start checking progress\n    setIsProcessing(true);\n  };\n\n  // operations upon file upload\n  (0,react.useEffect)(function () {\n    if (!!file) {\n      var reader = new FileReader();\n      reader.readAsText(file);\n      reader.onload = setData;\n    } else {\n      // reset\n      setThumb(false);\n      setVideos(0);\n      setPlaylists(0);\n      setDisplay(false);\n      setPermissions(false);\n    }\n  }, [file]);\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Modal */.aF, {\n      id: confirmModalID,\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(ImportConfirmation, {\n        close: closeConfirmModal,\n        modalID: confirmModalID,\n        data: {\n          videos: videos,\n          display: display,\n          permissions: permissions,\n          thumb: thumb,\n          playlists: playlists,\n          file: file\n        },\n        onImport: onImportData\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Modal */.aF, {\n      id: processModalID,\n      children: isProcessing && /*#__PURE__*/(0,jsx_runtime.jsx)(ImportProgress, {\n        setIsProcessing: setIsProcessing,\n        close: closeProcessModal,\n        modalID: processModalID\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Row, {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Col1, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Label, {\n          children: (0,build_module.__)(\'Import\', \'wpmudev_vids\')\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Description, {\n          children: (0,build_module.__)(\'Use this tool to import the Integrated Video Tutorial configurations and data from another site.\', \'wpmudev_vids\')\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Col2, {\n        id: "import-configs",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)("h4", {\n          className: "sui-settings-label",\n          children: (0,build_module.__)(\'Import Configurations\', \'wpmudev_vids\')\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n          className: "sui-description",\n          children: (0,build_module.__)(\'Import an Integrated Video Tutorial configuration and data file.\', \'wpmudev_vids\')\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n          className: "sui-form-field",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n            className: "wpmudev-videos-upload-import",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* FileUpload */.ef, {\n              label: (0,build_module.__)(\'Upload file\', \'wpmudev_vids\'),\n              removeLabel: (0,build_module.__)(\'Remove file\', \'wpmudev_vids\'),\n              accept: "application/JSON",\n              onChange: setFile\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Button */.$n, {\n              color: "blue",\n              disabled: !file,\n              id: "".concat(confirmModalID, "-opener"),\n              icon: "download-cloud",\n              onClick: openConfirmModal,\n              children: (0,build_module.__)(\'Import\', \'wpmudev_vids\')\n            })]\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n            className: "sui-description",\n            children: (0,build_module.__)(\'Choose a JSON (.json) file to import the configurations.\', \'wpmudev_vids\')\n          })]\n        })]\n      })]\n    })]\n  });\n}\n;// CONCATENATED MODULE: ./app/src/pages/settings/tabs/ImportExport/Partials/index.js\n\n\n\n;// CONCATENATED MODULE: ./app/src/pages/settings/tabs/ImportExport/ImportExport.js\n/**\n * Library dependencies\n */\n\n\n/**\n * WordPress dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\nfunction ImportExport() {\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Header, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Title, {\n        children: (0,build_module.__)(\'Import / Export\', \'wpmudev_vids\')\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Body, {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(ImportSection, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(ExportSection, {})]\n    })]\n  });\n}\n/* harmony default export */ var ImportExport_ImportExport = ((/* unused pure expression or super */ null && (ImportExport)));\n;// CONCATENATED MODULE: ./app/src/pages/settings/tabs/ImportExport/index.js\n\n;// CONCATENATED MODULE: ./app/src/pages/settings/tabs/Permissions/Permissions.js\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\n/**\n * External dependencies\n */\n\n\n\nfunction Permissions() {\n  var dispatch = (0,es/* useDispatch */.wA)();\n  var rolesValues = (0,es/* useSelector */.d4)(function (state) {\n    return (0,settings/* getOption */.om)(state, \'roles\', []);\n  });\n  var updateRoles = function updateRoles(roles) {\n    dispatch((0,settings/* setOption */.qN)({\n      key: \'roles\',\n      value: roles\n    }));\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Header, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Title, {\n        children: (0,build_module.__)(\'Permissions\', \'wpmudev_vids\')\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Body, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Row, {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Col1, {\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Label, {\n            children: (0,build_module.__)(\'User Permissions\', \'wpmudev_vids\')\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Description, {\n            children: (0,build_module.__)(\'Configure which user roles can access and configure plugins settings.\', \'wpmudev_vids\')\n          })]\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Col2, {\n          id: "user-permissions",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)("h4", {\n            id: "user-roles-label",\n            className: "sui-settings-label",\n            children: (0,build_module.__)(\'User Roles\', \'wpmudev_vids\')\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n            className: "sui-description",\n            children: (0,build_module.__)(\'Choose which user roles can have access and configure Integrated Video Tutorials.\', \'wpmudev_vids\')\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(src_components/* UserRoles */.fo, {\n            rolesValues: rolesValues,\n            onChange: updateRoles\n          })]\n        })]\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(TabsFooter, {})]\n  });\n}\n/* harmony default export */ var Permissions_Permissions = ((/* unused pure expression or super */ null && (Permissions)));\n;// CONCATENATED MODULE: ./app/src/pages/settings/tabs/Permissions/index.js\n\n;// CONCATENATED MODULE: ./app/src/pages/settings/App.js\nfunction App_toConsumableArray(r) { return App_arrayWithoutHoles(r) || App_iterableToArray(r) || App_unsupportedIterableToArray(r) || App_nonIterableSpread(); }\nfunction App_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction App_unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return App_arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? App_arrayLikeToArray(r, a) : void 0; } }\nfunction App_iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }\nfunction App_arrayWithoutHoles(r) { if (Array.isArray(r)) return App_arrayLikeToArray(r); }\nfunction App_arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\n\n\n\n\n/**\n * WordPress dependencies\n */\n\n\n/**\n * External dependencies\n */\n\n\nfunction App() {\n  var _window$ivtVars$flags, _window$ivtVars;\n  var currentNotice = (0,es/* useSelector */.d4)(function (state) {\n    return (0,notice/* getCurrentNotice */.Og)(state);\n  });\n  var id = currentNotice.id,\n    message = currentNotice.message,\n    type = currentNotice.type,\n    dismiss = currentNotice.dismiss;\n  var isMultisite = (_window$ivtVars$flags = window.ivtVars.flags.multisite) !== null && _window$ivtVars$flags !== void 0 ? _window$ivtVars$flags : false;\n\n  // Global Variables\n  var _ref = (_window$ivtVars = window.ivtVars) !== null && _window$ivtVars !== void 0 ? _window$ivtVars : {},\n    hide_doc_link = _ref.whitelabel.hide_doc_link;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n    className: "sui-wrap",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Header */.Y9, {\n      showDocLink: !hide_doc_link,\n      docLink: "https://wpmudev.com/docs/wpmu-dev-plugins/integrated-video-tutorials/",\n      docText: (0,build_module.__)(\'View Documentation\', \'wpmudev_vids\'),\n      title: (0,build_module.__)(\'Settings\', \'wpmudev_vids\')\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n      className: "sui-floating-notices",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* TopNotice */.ii, {\n        id: id,\n        dismiss: dismiss,\n        message: message,\n        type: type,\n        label: (0,build_module.__)(\'Dismiss this notice\', \'wpmudev_vids\')\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* SideNav */.f8, {\n      paths: [{\n        title: (0,build_module.__)(\'Display Settings\', \'wpmudev_vids\'),\n        location: \'/\',\n        element: /*#__PURE__*/(0,jsx_runtime.jsx)(DisplaySettings, {})\n      }].concat(App_toConsumableArray(!isMultisite ? [{\n        title: (0,build_module.__)(\'Permissions\', \'wpmudev_vids\'),\n        location: \'/permissions\',\n        element: /*#__PURE__*/(0,jsx_runtime.jsx)(Permissions, {})\n      }] : []), [{\n        title: (0,build_module.__)(\'Import / Export\', \'wpmudev_vids\'),\n        location: \'/import-export\',\n        element: /*#__PURE__*/(0,jsx_runtime.jsx)(ImportExport, {})\n      }, {\n        title: (0,build_module.__)(\'Data\', \'wpmudev_vids\'),\n        location: \'/data\',\n        element: /*#__PURE__*/(0,jsx_runtime.jsx)(Data, {})\n      }])\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(src_components/* PageFooter */.FM, {})]\n  });\n}\n/* harmony default export */ var settings_App = (App);\n;// CONCATENATED MODULE: ./app/src/pages/settings/main.js\n\n\n\n\n\n\n\nvar root = client.createRoot(document.getElementById(\'wpmudev-videos-settings-app\'));\nroot.render( /*#__PURE__*/(0,jsx_runtime.jsx)(react.StrictMode, {\n  children: /*#__PURE__*/(0,jsx_runtime.jsx)(es/* Provider */.Kq, {\n    store: store/* default */.A,\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(dist/* HashRouter */.I9, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(settings_App, {})\n    })\n  })\n}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDI4My5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQ2hGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FHM0VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25EQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0ZBOzs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBRW5EQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBRTVGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNqSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pLQTs7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuTkE7QUFDQTs7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FFMUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FFNURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvc2V0dGluZ3MvY29tcG9uZW50cy9UYWJzRm9vdGVyLmpzP2UxZmIiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL2hvb2tzL3VzZVJlc2V0RGF0YS91c2VSZXNldERhdGEuanM/YzYzMCIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvaG9va3MvdXNlUmVzZXREYXRhL2luZGV4LmpzPzExMWYiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL2hvb2tzL2luZGV4LmpzP2ZmNDIiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL3NldHRpbmdzL3RhYnMvRGF0YS9Nb2RhbHMvUmVzZXRDb25maXJtYXRpb24uanM/ODZkYSIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvc2V0dGluZ3MvdGFicy9EYXRhL1BhcnRpYWxzL1Jlc2V0U2V0dGluZ3MuanM/NmZjYyIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvc2V0dGluZ3MvdGFicy9EYXRhL1BhcnRpYWxzL0RhdGFQcmVzZXJ2ZS5qcz8yM2NjIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9zZXR0aW5ncy90YWJzL0RhdGEvUGFydGlhbHMvaW5kZXguanM/N2IyYiIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvc2V0dGluZ3MvdGFicy9EYXRhL0RhdGEuanM/Njk2ZiIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvc2V0dGluZ3MvdGFicy9EYXRhL2luZGV4LmpzPzQ0NmQiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL3NldHRpbmdzL3RhYnMvRGlzcGxheVNldHRpbmdzL1BhcnRpYWxzL1N1Yk1lbnUuanM/MjViMiIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvc2V0dGluZ3MvdGFicy9EaXNwbGF5U2V0dGluZ3MvRGlzcGxheVNldHRpbmdzLmpzP2I5OTIiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL3NldHRpbmdzL3RhYnMvRGlzcGxheVNldHRpbmdzL2luZGV4LmpzPzFmODkiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL3NldHRpbmdzL3RhYnMvSW1wb3J0RXhwb3J0L1BhcnRpYWxzL0NvbmZpZ3MuanM/ZGRjNiIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvc2V0dGluZ3MvdGFicy9JbXBvcnRFeHBvcnQvUGFydGlhbHMvRXhwb3J0U2VjdGlvbi5qcz9kNTdhIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9zZXR0aW5ncy90YWJzL0ltcG9ydEV4cG9ydC9Nb2RhbHMvSW1wb3J0Q29uZmlybWF0aW9uLmpzPzg4NjEiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL3NldHRpbmdzL3RhYnMvSW1wb3J0RXhwb3J0L01vZGFscy9JbXBvcnRQcm9ncmVzcy5qcz8xZjcyIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9zZXR0aW5ncy90YWJzL0ltcG9ydEV4cG9ydC9Nb2RhbHMvaW5kZXguanM/MGU0NSIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvc2V0dGluZ3MvdGFicy9JbXBvcnRFeHBvcnQvUGFydGlhbHMvSW1wb3J0U2VjdGlvbi5qcz82ZTMzIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9zZXR0aW5ncy90YWJzL0ltcG9ydEV4cG9ydC9QYXJ0aWFscy9pbmRleC5qcz8wZjJiIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9zZXR0aW5ncy90YWJzL0ltcG9ydEV4cG9ydC9JbXBvcnRFeHBvcnQuanM/OTk3MiIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvc2V0dGluZ3MvdGFicy9JbXBvcnRFeHBvcnQvaW5kZXguanM/MjU2NSIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvc2V0dGluZ3MvdGFicy9QZXJtaXNzaW9ucy9QZXJtaXNzaW9ucy5qcz85MmJjIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9zZXR0aW5ncy90YWJzL1Blcm1pc3Npb25zL2luZGV4LmpzPzc1YzEiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL3NldHRpbmdzL0FwcC5qcz80MDFjIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy9zZXR0aW5ncy9tYWluLmpzP2I4ZDkiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuZnVuY3Rpb24gX3JlZ2VuZXJhdG9yUnVudGltZSgpIHsgXCJ1c2Ugc3RyaWN0XCI7IC8qISByZWdlbmVyYXRvci1ydW50aW1lIC0tIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLiAtLSBsaWNlbnNlIChNSVQpOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvYmxvYi9tYWluL0xJQ0VOU0UgKi8gX3JlZ2VuZXJhdG9yUnVudGltZSA9IGZ1bmN0aW9uIF9yZWdlbmVyYXRvclJ1bnRpbWUoKSB7IHJldHVybiBlOyB9OyB2YXIgdCwgZSA9IHt9LCByID0gT2JqZWN0LnByb3RvdHlwZSwgbiA9IHIuaGFzT3duUHJvcGVydHksIG8gPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgfHwgZnVuY3Rpb24gKHQsIGUsIHIpIHsgdFtlXSA9IHIudmFsdWU7IH0sIGkgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCA/IFN5bWJvbCA6IHt9LCBhID0gaS5pdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIiwgYyA9IGkuYXN5bmNJdGVyYXRvciB8fCBcIkBAYXN5bmNJdGVyYXRvclwiLCB1ID0gaS50b1N0cmluZ1RhZyB8fCBcIkBAdG9TdHJpbmdUYWdcIjsgZnVuY3Rpb24gZGVmaW5lKHQsIGUsIHIpIHsgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBlLCB7IHZhbHVlOiByLCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pLCB0W2VdOyB9IHRyeSB7IGRlZmluZSh7fSwgXCJcIik7IH0gY2F0Y2ggKHQpIHsgZGVmaW5lID0gZnVuY3Rpb24gZGVmaW5lKHQsIGUsIHIpIHsgcmV0dXJuIHRbZV0gPSByOyB9OyB9IGZ1bmN0aW9uIHdyYXAodCwgZSwgciwgbikgeyB2YXIgaSA9IGUgJiYgZS5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBlIDogR2VuZXJhdG9yLCBhID0gT2JqZWN0LmNyZWF0ZShpLnByb3RvdHlwZSksIGMgPSBuZXcgQ29udGV4dChuIHx8IFtdKTsgcmV0dXJuIG8oYSwgXCJfaW52b2tlXCIsIHsgdmFsdWU6IG1ha2VJbnZva2VNZXRob2QodCwgciwgYykgfSksIGE7IH0gZnVuY3Rpb24gdHJ5Q2F0Y2godCwgZSwgcikgeyB0cnkgeyByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IHQuY2FsbChlLCByKSB9OyB9IGNhdGNoICh0KSB7IHJldHVybiB7IHR5cGU6IFwidGhyb3dcIiwgYXJnOiB0IH07IH0gfSBlLndyYXAgPSB3cmFwOyB2YXIgaCA9IFwic3VzcGVuZGVkU3RhcnRcIiwgbCA9IFwic3VzcGVuZGVkWWllbGRcIiwgZiA9IFwiZXhlY3V0aW5nXCIsIHMgPSBcImNvbXBsZXRlZFwiLCB5ID0ge307IGZ1bmN0aW9uIEdlbmVyYXRvcigpIHt9IGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge30gZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fSB2YXIgcCA9IHt9OyBkZWZpbmUocCwgYSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSk7IHZhciBkID0gT2JqZWN0LmdldFByb3RvdHlwZU9mLCB2ID0gZCAmJiBkKGQodmFsdWVzKFtdKSkpOyB2ICYmIHYgIT09IHIgJiYgbi5jYWxsKHYsIGEpICYmIChwID0gdik7IHZhciBnID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID0gR2VuZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUocCk7IGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyh0KSB7IFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7IGRlZmluZSh0LCBlLCBmdW5jdGlvbiAodCkgeyByZXR1cm4gdGhpcy5faW52b2tlKGUsIHQpOyB9KTsgfSk7IH0gZnVuY3Rpb24gQXN5bmNJdGVyYXRvcih0LCBlKSB7IGZ1bmN0aW9uIGludm9rZShyLCBvLCBpLCBhKSB7IHZhciBjID0gdHJ5Q2F0Y2godFtyXSwgdCwgbyk7IGlmIChcInRocm93XCIgIT09IGMudHlwZSkgeyB2YXIgdSA9IGMuYXJnLCBoID0gdS52YWx1ZTsgcmV0dXJuIGggJiYgXCJvYmplY3RcIiA9PSBfdHlwZW9mKGgpICYmIG4uY2FsbChoLCBcIl9fYXdhaXRcIikgPyBlLnJlc29sdmUoaC5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uICh0KSB7IGludm9rZShcIm5leHRcIiwgdCwgaSwgYSk7IH0sIGZ1bmN0aW9uICh0KSB7IGludm9rZShcInRocm93XCIsIHQsIGksIGEpOyB9KSA6IGUucmVzb2x2ZShoKS50aGVuKGZ1bmN0aW9uICh0KSB7IHUudmFsdWUgPSB0LCBpKHUpOyB9LCBmdW5jdGlvbiAodCkgeyByZXR1cm4gaW52b2tlKFwidGhyb3dcIiwgdCwgaSwgYSk7IH0pOyB9IGEoYy5hcmcpOyB9IHZhciByOyBvKHRoaXMsIFwiX2ludm9rZVwiLCB7IHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSh0LCBuKSB7IGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkgeyByZXR1cm4gbmV3IGUoZnVuY3Rpb24gKGUsIHIpIHsgaW52b2tlKHQsIG4sIGUsIHIpOyB9KTsgfSByZXR1cm4gciA9IHIgPyByLnRoZW4oY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7IH0gfSk7IH0gZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChlLCByLCBuKSB7IHZhciBvID0gaDsgcmV0dXJuIGZ1bmN0aW9uIChpLCBhKSB7IGlmIChvID09PSBmKSB0aHJvdyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7IGlmIChvID09PSBzKSB7IGlmIChcInRocm93XCIgPT09IGkpIHRocm93IGE7IHJldHVybiB7IHZhbHVlOiB0LCBkb25lOiAhMCB9OyB9IGZvciAobi5tZXRob2QgPSBpLCBuLmFyZyA9IGE7OykgeyB2YXIgYyA9IG4uZGVsZWdhdGU7IGlmIChjKSB7IHZhciB1ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShjLCBuKTsgaWYgKHUpIHsgaWYgKHUgPT09IHkpIGNvbnRpbnVlOyByZXR1cm4gdTsgfSB9IGlmIChcIm5leHRcIiA9PT0gbi5tZXRob2QpIG4uc2VudCA9IG4uX3NlbnQgPSBuLmFyZztlbHNlIGlmIChcInRocm93XCIgPT09IG4ubWV0aG9kKSB7IGlmIChvID09PSBoKSB0aHJvdyBvID0gcywgbi5hcmc7IG4uZGlzcGF0Y2hFeGNlcHRpb24obi5hcmcpOyB9IGVsc2UgXCJyZXR1cm5cIiA9PT0gbi5tZXRob2QgJiYgbi5hYnJ1cHQoXCJyZXR1cm5cIiwgbi5hcmcpOyBvID0gZjsgdmFyIHAgPSB0cnlDYXRjaChlLCByLCBuKTsgaWYgKFwibm9ybWFsXCIgPT09IHAudHlwZSkgeyBpZiAobyA9IG4uZG9uZSA/IHMgOiBsLCBwLmFyZyA9PT0geSkgY29udGludWU7IHJldHVybiB7IHZhbHVlOiBwLmFyZywgZG9uZTogbi5kb25lIH07IH0gXCJ0aHJvd1wiID09PSBwLnR5cGUgJiYgKG8gPSBzLCBuLm1ldGhvZCA9IFwidGhyb3dcIiwgbi5hcmcgPSBwLmFyZyk7IH0gfTsgfSBmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGUsIHIpIHsgdmFyIG4gPSByLm1ldGhvZCwgbyA9IGUuaXRlcmF0b3Jbbl07IGlmIChvID09PSB0KSByZXR1cm4gci5kZWxlZ2F0ZSA9IG51bGwsIFwidGhyb3dcIiA9PT0gbiAmJiBlLml0ZXJhdG9yLnJldHVybiAmJiAoci5tZXRob2QgPSBcInJldHVyblwiLCByLmFyZyA9IHQsIG1heWJlSW52b2tlRGVsZWdhdGUoZSwgciksIFwidGhyb3dcIiA9PT0gci5tZXRob2QpIHx8IFwicmV0dXJuXCIgIT09IG4gJiYgKHIubWV0aG9kID0gXCJ0aHJvd1wiLCByLmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICdcIiArIG4gKyBcIicgbWV0aG9kXCIpKSwgeTsgdmFyIGkgPSB0cnlDYXRjaChvLCBlLml0ZXJhdG9yLCByLmFyZyk7IGlmIChcInRocm93XCIgPT09IGkudHlwZSkgcmV0dXJuIHIubWV0aG9kID0gXCJ0aHJvd1wiLCByLmFyZyA9IGkuYXJnLCByLmRlbGVnYXRlID0gbnVsbCwgeTsgdmFyIGEgPSBpLmFyZzsgcmV0dXJuIGEgPyBhLmRvbmUgPyAocltlLnJlc3VsdE5hbWVdID0gYS52YWx1ZSwgci5uZXh0ID0gZS5uZXh0TG9jLCBcInJldHVyblwiICE9PSByLm1ldGhvZCAmJiAoci5tZXRob2QgPSBcIm5leHRcIiwgci5hcmcgPSB0KSwgci5kZWxlZ2F0ZSA9IG51bGwsIHkpIDogYSA6IChyLm1ldGhvZCA9IFwidGhyb3dcIiwgci5hcmcgPSBuZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIiksIHIuZGVsZWdhdGUgPSBudWxsLCB5KTsgfSBmdW5jdGlvbiBwdXNoVHJ5RW50cnkodCkgeyB2YXIgZSA9IHsgdHJ5TG9jOiB0WzBdIH07IDEgaW4gdCAmJiAoZS5jYXRjaExvYyA9IHRbMV0pLCAyIGluIHQgJiYgKGUuZmluYWxseUxvYyA9IHRbMl0sIGUuYWZ0ZXJMb2MgPSB0WzNdKSwgdGhpcy50cnlFbnRyaWVzLnB1c2goZSk7IH0gZnVuY3Rpb24gcmVzZXRUcnlFbnRyeSh0KSB7IHZhciBlID0gdC5jb21wbGV0aW9uIHx8IHt9OyBlLnR5cGUgPSBcIm5vcm1hbFwiLCBkZWxldGUgZS5hcmcsIHQuY29tcGxldGlvbiA9IGU7IH0gZnVuY3Rpb24gQ29udGV4dCh0KSB7IHRoaXMudHJ5RW50cmllcyA9IFt7IHRyeUxvYzogXCJyb290XCIgfV0sIHQuZm9yRWFjaChwdXNoVHJ5RW50cnksIHRoaXMpLCB0aGlzLnJlc2V0KCEwKTsgfSBmdW5jdGlvbiB2YWx1ZXMoZSkgeyBpZiAoZSB8fCBcIlwiID09PSBlKSB7IHZhciByID0gZVthXTsgaWYgKHIpIHJldHVybiByLmNhbGwoZSk7IGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUubmV4dCkgcmV0dXJuIGU7IGlmICghaXNOYU4oZS5sZW5ndGgpKSB7IHZhciBvID0gLTEsIGkgPSBmdW5jdGlvbiBuZXh0KCkgeyBmb3IgKDsgKytvIDwgZS5sZW5ndGg7KSBpZiAobi5jYWxsKGUsIG8pKSByZXR1cm4gbmV4dC52YWx1ZSA9IGVbb10sIG5leHQuZG9uZSA9ICExLCBuZXh0OyByZXR1cm4gbmV4dC52YWx1ZSA9IHQsIG5leHQuZG9uZSA9ICEwLCBuZXh0OyB9OyByZXR1cm4gaS5uZXh0ID0gaTsgfSB9IHRocm93IG5ldyBUeXBlRXJyb3IoX3R5cGVvZihlKSArIFwiIGlzIG5vdCBpdGVyYWJsZVwiKTsgfSByZXR1cm4gR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIG8oZywgXCJjb25zdHJ1Y3RvclwiLCB7IHZhbHVlOiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgY29uZmlndXJhYmxlOiAhMCB9KSwgbyhHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgXCJjb25zdHJ1Y3RvclwiLCB7IHZhbHVlOiBHZW5lcmF0b3JGdW5jdGlvbiwgY29uZmlndXJhYmxlOiAhMCB9KSwgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBkZWZpbmUoR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIHUsIFwiR2VuZXJhdG9yRnVuY3Rpb25cIiksIGUuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uICh0KSB7IHZhciBlID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiB0ICYmIHQuY29uc3RydWN0b3I7IHJldHVybiAhIWUgJiYgKGUgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8IFwiR2VuZXJhdG9yRnVuY3Rpb25cIiA9PT0gKGUuZGlzcGxheU5hbWUgfHwgZS5uYW1lKSk7IH0sIGUubWFyayA9IGZ1bmN0aW9uICh0KSB7IHJldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YodCwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpIDogKHQuX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIGRlZmluZSh0LCB1LCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpKSwgdC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGcpLCB0OyB9LCBlLmF3cmFwID0gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHsgX19hd2FpdDogdCB9OyB9LCBkZWZpbmVJdGVyYXRvck1ldGhvZHMoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUpLCBkZWZpbmUoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUsIGMsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pLCBlLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yLCBlLmFzeW5jID0gZnVuY3Rpb24gKHQsIHIsIG4sIG8sIGkpIHsgdm9pZCAwID09PSBpICYmIChpID0gUHJvbWlzZSk7IHZhciBhID0gbmV3IEFzeW5jSXRlcmF0b3Iod3JhcCh0LCByLCBuLCBvKSwgaSk7IHJldHVybiBlLmlzR2VuZXJhdG9yRnVuY3Rpb24ocikgPyBhIDogYS5uZXh0KCkudGhlbihmdW5jdGlvbiAodCkgeyByZXR1cm4gdC5kb25lID8gdC52YWx1ZSA6IGEubmV4dCgpOyB9KTsgfSwgZGVmaW5lSXRlcmF0b3JNZXRob2RzKGcpLCBkZWZpbmUoZywgdSwgXCJHZW5lcmF0b3JcIiksIGRlZmluZShnLCBhLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSwgZGVmaW5lKGcsIFwidG9TdHJpbmdcIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjsgfSksIGUua2V5cyA9IGZ1bmN0aW9uICh0KSB7IHZhciBlID0gT2JqZWN0KHQpLCByID0gW107IGZvciAodmFyIG4gaW4gZSkgci5wdXNoKG4pOyByZXR1cm4gci5yZXZlcnNlKCksIGZ1bmN0aW9uIG5leHQoKSB7IGZvciAoOyByLmxlbmd0aDspIHsgdmFyIHQgPSByLnBvcCgpOyBpZiAodCBpbiBlKSByZXR1cm4gbmV4dC52YWx1ZSA9IHQsIG5leHQuZG9uZSA9ICExLCBuZXh0OyB9IHJldHVybiBuZXh0LmRvbmUgPSAhMCwgbmV4dDsgfTsgfSwgZS52YWx1ZXMgPSB2YWx1ZXMsIENvbnRleHQucHJvdG90eXBlID0geyBjb25zdHJ1Y3RvcjogQ29udGV4dCwgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KGUpIHsgaWYgKHRoaXMucHJldiA9IDAsIHRoaXMubmV4dCA9IDAsIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB0LCB0aGlzLmRvbmUgPSAhMSwgdGhpcy5kZWxlZ2F0ZSA9IG51bGwsIHRoaXMubWV0aG9kID0gXCJuZXh0XCIsIHRoaXMuYXJnID0gdCwgdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSksICFlKSBmb3IgKHZhciByIGluIHRoaXMpIFwidFwiID09PSByLmNoYXJBdCgwKSAmJiBuLmNhbGwodGhpcywgcikgJiYgIWlzTmFOKCtyLnNsaWNlKDEpKSAmJiAodGhpc1tyXSA9IHQpOyB9LCBzdG9wOiBmdW5jdGlvbiBzdG9wKCkgeyB0aGlzLmRvbmUgPSAhMDsgdmFyIHQgPSB0aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjsgaWYgKFwidGhyb3dcIiA9PT0gdC50eXBlKSB0aHJvdyB0LmFyZzsgcmV0dXJuIHRoaXMucnZhbDsgfSwgZGlzcGF0Y2hFeGNlcHRpb246IGZ1bmN0aW9uIGRpc3BhdGNoRXhjZXB0aW9uKGUpIHsgaWYgKHRoaXMuZG9uZSkgdGhyb3cgZTsgdmFyIHIgPSB0aGlzOyBmdW5jdGlvbiBoYW5kbGUobiwgbykgeyByZXR1cm4gYS50eXBlID0gXCJ0aHJvd1wiLCBhLmFyZyA9IGUsIHIubmV4dCA9IG4sIG8gJiYgKHIubWV0aG9kID0gXCJuZXh0XCIsIHIuYXJnID0gdCksICEhbzsgfSBmb3IgKHZhciBvID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IG8gPj0gMDsgLS1vKSB7IHZhciBpID0gdGhpcy50cnlFbnRyaWVzW29dLCBhID0gaS5jb21wbGV0aW9uOyBpZiAoXCJyb290XCIgPT09IGkudHJ5TG9jKSByZXR1cm4gaGFuZGxlKFwiZW5kXCIpOyBpZiAoaS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7IHZhciBjID0gbi5jYWxsKGksIFwiY2F0Y2hMb2NcIiksIHUgPSBuLmNhbGwoaSwgXCJmaW5hbGx5TG9jXCIpOyBpZiAoYyAmJiB1KSB7IGlmICh0aGlzLnByZXYgPCBpLmNhdGNoTG9jKSByZXR1cm4gaGFuZGxlKGkuY2F0Y2hMb2MsICEwKTsgaWYgKHRoaXMucHJldiA8IGkuZmluYWxseUxvYykgcmV0dXJuIGhhbmRsZShpLmZpbmFsbHlMb2MpOyB9IGVsc2UgaWYgKGMpIHsgaWYgKHRoaXMucHJldiA8IGkuY2F0Y2hMb2MpIHJldHVybiBoYW5kbGUoaS5jYXRjaExvYywgITApOyB9IGVsc2UgeyBpZiAoIXUpIHRocm93IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7IGlmICh0aGlzLnByZXYgPCBpLmZpbmFsbHlMb2MpIHJldHVybiBoYW5kbGUoaS5maW5hbGx5TG9jKTsgfSB9IH0gfSwgYWJydXB0OiBmdW5jdGlvbiBhYnJ1cHQodCwgZSkgeyBmb3IgKHZhciByID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IHIgPj0gMDsgLS1yKSB7IHZhciBvID0gdGhpcy50cnlFbnRyaWVzW3JdOyBpZiAoby50cnlMb2MgPD0gdGhpcy5wcmV2ICYmIG4uY2FsbChvLCBcImZpbmFsbHlMb2NcIikgJiYgdGhpcy5wcmV2IDwgby5maW5hbGx5TG9jKSB7IHZhciBpID0gbzsgYnJlYWs7IH0gfSBpICYmIChcImJyZWFrXCIgPT09IHQgfHwgXCJjb250aW51ZVwiID09PSB0KSAmJiBpLnRyeUxvYyA8PSBlICYmIGUgPD0gaS5maW5hbGx5TG9jICYmIChpID0gbnVsbCk7IHZhciBhID0gaSA/IGkuY29tcGxldGlvbiA6IHt9OyByZXR1cm4gYS50eXBlID0gdCwgYS5hcmcgPSBlLCBpID8gKHRoaXMubWV0aG9kID0gXCJuZXh0XCIsIHRoaXMubmV4dCA9IGkuZmluYWxseUxvYywgeSkgOiB0aGlzLmNvbXBsZXRlKGEpOyB9LCBjb21wbGV0ZTogZnVuY3Rpb24gY29tcGxldGUodCwgZSkgeyBpZiAoXCJ0aHJvd1wiID09PSB0LnR5cGUpIHRocm93IHQuYXJnOyByZXR1cm4gXCJicmVha1wiID09PSB0LnR5cGUgfHwgXCJjb250aW51ZVwiID09PSB0LnR5cGUgPyB0aGlzLm5leHQgPSB0LmFyZyA6IFwicmV0dXJuXCIgPT09IHQudHlwZSA/ICh0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHQuYXJnLCB0aGlzLm1ldGhvZCA9IFwicmV0dXJuXCIsIHRoaXMubmV4dCA9IFwiZW5kXCIpIDogXCJub3JtYWxcIiA9PT0gdC50eXBlICYmIGUgJiYgKHRoaXMubmV4dCA9IGUpLCB5OyB9LCBmaW5pc2g6IGZ1bmN0aW9uIGZpbmlzaCh0KSB7IGZvciAodmFyIGUgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgZSA+PSAwOyAtLWUpIHsgdmFyIHIgPSB0aGlzLnRyeUVudHJpZXNbZV07IGlmIChyLmZpbmFsbHlMb2MgPT09IHQpIHJldHVybiB0aGlzLmNvbXBsZXRlKHIuY29tcGxldGlvbiwgci5hZnRlckxvYyksIHJlc2V0VHJ5RW50cnkociksIHk7IH0gfSwgY2F0Y2g6IGZ1bmN0aW9uIF9jYXRjaCh0KSB7IGZvciAodmFyIGUgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgZSA+PSAwOyAtLWUpIHsgdmFyIHIgPSB0aGlzLnRyeUVudHJpZXNbZV07IGlmIChyLnRyeUxvYyA9PT0gdCkgeyB2YXIgbiA9IHIuY29tcGxldGlvbjsgaWYgKFwidGhyb3dcIiA9PT0gbi50eXBlKSB7IHZhciBvID0gbi5hcmc7IHJlc2V0VHJ5RW50cnkocik7IH0gcmV0dXJuIG87IH0gfSB0aHJvdyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKTsgfSwgZGVsZWdhdGVZaWVsZDogZnVuY3Rpb24gZGVsZWdhdGVZaWVsZChlLCByLCBuKSB7IHJldHVybiB0aGlzLmRlbGVnYXRlID0geyBpdGVyYXRvcjogdmFsdWVzKGUpLCByZXN1bHROYW1lOiByLCBuZXh0TG9jOiBuIH0sIFwibmV4dFwiID09PSB0aGlzLm1ldGhvZCAmJiAodGhpcy5hcmcgPSB0KSwgeTsgfSB9LCBlOyB9XG5mdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAobiwgdCwgZSwgciwgbywgYSwgYykgeyB0cnkgeyB2YXIgaSA9IG5bYV0oYyksIHUgPSBpLnZhbHVlOyB9IGNhdGNoIChuKSB7IHJldHVybiB2b2lkIGUobik7IH0gaS5kb25lID8gdCh1KSA6IFByb21pc2UucmVzb2x2ZSh1KS50aGVuKHIsIG8pOyB9XG5mdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciB0ID0gdGhpcywgZSA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyLCBvKSB7IHZhciBhID0gbi5hcHBseSh0LCBlKTsgZnVuY3Rpb24gX25leHQobikgeyBhc3luY0dlbmVyYXRvclN0ZXAoYSwgciwgbywgX25leHQsIF90aHJvdywgXCJuZXh0XCIsIG4pOyB9IGZ1bmN0aW9uIF90aHJvdyhuKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChhLCByLCBvLCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIG4pOyB9IF9uZXh0KHZvaWQgMCk7IH0pOyB9OyB9XG4vKipcbiAqIExpYnJhcnkgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IEJveCwgQnV0dG9uIH0gZnJvbSAnLi4vLi4vLi4vbGliL2NvbXBvbmVudHMnO1xuXG4vKipcbiAqIFdvcmRQcmVzcyBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgX18gfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuXG4vKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyB1c2VTZWxlY3RvciwgdXNlRGlzcGF0Y2ggfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5cbi8qKlxuICogSW50ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IHNhdmVPcHRpb25zLCBnZXRMb2FkaW5nU3RhdHVzIH0gZnJvbSAnLi4vLi4vLi4vc3RvcmUvc2xpY2VzL3NldHRpbmdzJztcbmltcG9ydCB7IGFkZE5vdGljZSB9IGZyb20gJy4uLy4uLy4uL3N0b3JlL3NsaWNlcy9ub3RpY2UnO1xuaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmV4cG9ydCBmdW5jdGlvbiBUYWJzRm9vdGVyKCkge1xuICB2YXIgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuICB2YXIgaXNTYXZpbmcgPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4gZ2V0TG9hZGluZ1N0YXR1cyhzdGF0ZSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBkc3BhdGNoIHNhdmVPcHRpb25zIGFjdGlvblxuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGZ1bmN0aW9uIHNhdmVTZXR0aW5ncygpIHtcbiAgICByZXR1cm4gX3NhdmVTZXR0aW5ncy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG4gIGZ1bmN0aW9uIF9zYXZlU2V0dGluZ3MoKSB7XG4gICAgX3NhdmVTZXR0aW5ncyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHtcbiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGRpc3BhdGNoKHNhdmVPcHRpb25zKCkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgIHZhciBfcmVzcG9uc2UkcGF5bG9hZDtcbiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlICE9PSBudWxsICYmIHJlc3BvbnNlICE9PSB2b2lkIDAgJiYgKF9yZXNwb25zZSRwYXlsb2FkID0gcmVzcG9uc2UucGF5bG9hZCkgIT09IG51bGwgJiYgX3Jlc3BvbnNlJHBheWxvYWQgIT09IHZvaWQgMCAmJiBfcmVzcG9uc2UkcGF5bG9hZC5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgLy8gU3VjY2VzcyBOb3RpY2VcbiAgICAgICAgICAgICAgICBkaXNwYXRjaChhZGROb3RpY2Uoe1xuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogX18oJ0NoYW5nZXMgd2VyZSBzYXZlZCBzdWNjZXNzZnVsbHkuJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEVycm9yIE5vdGljZVxuICAgICAgICAgICAgICAgIGRpc3BhdGNoKGFkZE5vdGljZSh7XG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOiBfXygnU29ycnkuIENvdWxkIG5vdCBzYXZlIHRoZSBjaGFuZ2VzLiBQbGVhc2UgdHJ5IGFnYWluLicsICd3cG11ZGV2X3ZpZHMnKSxcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcidcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9LCBfY2FsbGVlKTtcbiAgICB9KSk7XG4gICAgcmV0dXJuIF9zYXZlU2V0dGluZ3MuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuICByZXR1cm4gLyojX19QVVJFX18qL19qc3goQm94LkZvb3Rlciwge1xuICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChCb3guUmlnaHQsIHtcbiAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChCdXR0b24sIHtcbiAgICAgICAgY29sb3I6IFwiYmx1ZVwiLFxuICAgICAgICBpY29uOiBcInNhdmVcIixcbiAgICAgICAgaXNMb2FkaW5nOiBpc1NhdmluZyxcbiAgICAgICAgb25DbGljazogc2F2ZVNldHRpbmdzLFxuICAgICAgICBvbkxvYWRpbmdUZXh0OiBfXygnU2F2aW5nIENoYW5nZXMnLCAnd3BtdWRldl92aWRzJyksXG4gICAgICAgIGNoaWxkcmVuOiBfXygnU2F2ZSBDaGFuZ2VzJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICB9KVxuICAgIH0pXG4gIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgVGFic0Zvb3RlcjsiLCJmdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5mdW5jdGlvbiBfcmVnZW5lcmF0b3JSdW50aW1lKCkgeyBcInVzZSBzdHJpY3RcIjsgLyohIHJlZ2VuZXJhdG9yLXJ1bnRpbWUgLS0gQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuIC0tIGxpY2Vuc2UgKE1JVCk6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9ibG9iL21haW4vTElDRU5TRSAqLyBfcmVnZW5lcmF0b3JSdW50aW1lID0gZnVuY3Rpb24gX3JlZ2VuZXJhdG9yUnVudGltZSgpIHsgcmV0dXJuIGU7IH07IHZhciB0LCBlID0ge30sIHIgPSBPYmplY3QucHJvdG90eXBlLCBuID0gci5oYXNPd25Qcm9wZXJ0eSwgbyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB8fCBmdW5jdGlvbiAodCwgZSwgcikgeyB0W2VdID0gci52YWx1ZTsgfSwgaSA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sID8gU3ltYm9sIDoge30sIGEgPSBpLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiLCBjID0gaS5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCIsIHUgPSBpLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiOyBmdW5jdGlvbiBkZWZpbmUodCwgZSwgcikgeyByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIGUsIHsgdmFsdWU6IHIsIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAgfSksIHRbZV07IH0gdHJ5IHsgZGVmaW5lKHt9LCBcIlwiKTsgfSBjYXRjaCAodCkgeyBkZWZpbmUgPSBmdW5jdGlvbiBkZWZpbmUodCwgZSwgcikgeyByZXR1cm4gdFtlXSA9IHI7IH07IH0gZnVuY3Rpb24gd3JhcCh0LCBlLCByLCBuKSB7IHZhciBpID0gZSAmJiBlLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IGUgOiBHZW5lcmF0b3IsIGEgPSBPYmplY3QuY3JlYXRlKGkucHJvdG90eXBlKSwgYyA9IG5ldyBDb250ZXh0KG4gfHwgW10pOyByZXR1cm4gbyhhLCBcIl9pbnZva2VcIiwgeyB2YWx1ZTogbWFrZUludm9rZU1ldGhvZCh0LCByLCBjKSB9KSwgYTsgfSBmdW5jdGlvbiB0cnlDYXRjaCh0LCBlLCByKSB7IHRyeSB7IHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogdC5jYWxsKGUsIHIpIH07IH0gY2F0Y2ggKHQpIHsgcmV0dXJuIHsgdHlwZTogXCJ0aHJvd1wiLCBhcmc6IHQgfTsgfSB9IGUud3JhcCA9IHdyYXA7IHZhciBoID0gXCJzdXNwZW5kZWRTdGFydFwiLCBsID0gXCJzdXNwZW5kZWRZaWVsZFwiLCBmID0gXCJleGVjdXRpbmdcIiwgcyA9IFwiY29tcGxldGVkXCIsIHkgPSB7fTsgZnVuY3Rpb24gR2VuZXJhdG9yKCkge30gZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fSBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9IHZhciBwID0ge307IGRlZmluZShwLCBhLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KTsgdmFyIGQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YsIHYgPSBkICYmIGQoZCh2YWx1ZXMoW10pKSk7IHYgJiYgdiAhPT0gciAmJiBuLmNhbGwodiwgYSkgJiYgKHAgPSB2KTsgdmFyIGcgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPSBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShwKTsgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHQpIHsgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24gKGUpIHsgZGVmaW5lKHQsIGUsIGZ1bmN0aW9uICh0KSB7IHJldHVybiB0aGlzLl9pbnZva2UoZSwgdCk7IH0pOyB9KTsgfSBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKHQsIGUpIHsgZnVuY3Rpb24gaW52b2tlKHIsIG8sIGksIGEpIHsgdmFyIGMgPSB0cnlDYXRjaCh0W3JdLCB0LCBvKTsgaWYgKFwidGhyb3dcIiAhPT0gYy50eXBlKSB7IHZhciB1ID0gYy5hcmcsIGggPSB1LnZhbHVlOyByZXR1cm4gaCAmJiBcIm9iamVjdFwiID09IF90eXBlb2YoaCkgJiYgbi5jYWxsKGgsIFwiX19hd2FpdFwiKSA/IGUucmVzb2x2ZShoLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24gKHQpIHsgaW52b2tlKFwibmV4dFwiLCB0LCBpLCBhKTsgfSwgZnVuY3Rpb24gKHQpIHsgaW52b2tlKFwidGhyb3dcIiwgdCwgaSwgYSk7IH0pIDogZS5yZXNvbHZlKGgpLnRoZW4oZnVuY3Rpb24gKHQpIHsgdS52YWx1ZSA9IHQsIGkodSk7IH0sIGZ1bmN0aW9uICh0KSB7IHJldHVybiBpbnZva2UoXCJ0aHJvd1wiLCB0LCBpLCBhKTsgfSk7IH0gYShjLmFyZyk7IH0gdmFyIHI7IG8odGhpcywgXCJfaW52b2tlXCIsIHsgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKHQsIG4pIHsgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7IHJldHVybiBuZXcgZShmdW5jdGlvbiAoZSwgcikgeyBpbnZva2UodCwgbiwgZSwgcik7IH0pOyB9IHJldHVybiByID0gciA/IHIudGhlbihjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZywgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcpIDogY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKTsgfSB9KTsgfSBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGUsIHIsIG4pIHsgdmFyIG8gPSBoOyByZXR1cm4gZnVuY3Rpb24gKGksIGEpIHsgaWYgKG8gPT09IGYpIHRocm93IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTsgaWYgKG8gPT09IHMpIHsgaWYgKFwidGhyb3dcIiA9PT0gaSkgdGhyb3cgYTsgcmV0dXJuIHsgdmFsdWU6IHQsIGRvbmU6ICEwIH07IH0gZm9yIChuLm1ldGhvZCA9IGksIG4uYXJnID0gYTs7KSB7IHZhciBjID0gbi5kZWxlZ2F0ZTsgaWYgKGMpIHsgdmFyIHUgPSBtYXliZUludm9rZURlbGVnYXRlKGMsIG4pOyBpZiAodSkgeyBpZiAodSA9PT0geSkgY29udGludWU7IHJldHVybiB1OyB9IH0gaWYgKFwibmV4dFwiID09PSBuLm1ldGhvZCkgbi5zZW50ID0gbi5fc2VudCA9IG4uYXJnO2Vsc2UgaWYgKFwidGhyb3dcIiA9PT0gbi5tZXRob2QpIHsgaWYgKG8gPT09IGgpIHRocm93IG8gPSBzLCBuLmFyZzsgbi5kaXNwYXRjaEV4Y2VwdGlvbihuLmFyZyk7IH0gZWxzZSBcInJldHVyblwiID09PSBuLm1ldGhvZCAmJiBuLmFicnVwdChcInJldHVyblwiLCBuLmFyZyk7IG8gPSBmOyB2YXIgcCA9IHRyeUNhdGNoKGUsIHIsIG4pOyBpZiAoXCJub3JtYWxcIiA9PT0gcC50eXBlKSB7IGlmIChvID0gbi5kb25lID8gcyA6IGwsIHAuYXJnID09PSB5KSBjb250aW51ZTsgcmV0dXJuIHsgdmFsdWU6IHAuYXJnLCBkb25lOiBuLmRvbmUgfTsgfSBcInRocm93XCIgPT09IHAudHlwZSAmJiAobyA9IHMsIG4ubWV0aG9kID0gXCJ0aHJvd1wiLCBuLmFyZyA9IHAuYXJnKTsgfSB9OyB9IGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZSwgcikgeyB2YXIgbiA9IHIubWV0aG9kLCBvID0gZS5pdGVyYXRvcltuXTsgaWYgKG8gPT09IHQpIHJldHVybiByLmRlbGVnYXRlID0gbnVsbCwgXCJ0aHJvd1wiID09PSBuICYmIGUuaXRlcmF0b3IucmV0dXJuICYmIChyLm1ldGhvZCA9IFwicmV0dXJuXCIsIHIuYXJnID0gdCwgbWF5YmVJbnZva2VEZWxlZ2F0ZShlLCByKSwgXCJ0aHJvd1wiID09PSByLm1ldGhvZCkgfHwgXCJyZXR1cm5cIiAhPT0gbiAmJiAoci5tZXRob2QgPSBcInRocm93XCIsIHIuYXJnID0gbmV3IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ1wiICsgbiArIFwiJyBtZXRob2RcIikpLCB5OyB2YXIgaSA9IHRyeUNhdGNoKG8sIGUuaXRlcmF0b3IsIHIuYXJnKTsgaWYgKFwidGhyb3dcIiA9PT0gaS50eXBlKSByZXR1cm4gci5tZXRob2QgPSBcInRocm93XCIsIHIuYXJnID0gaS5hcmcsIHIuZGVsZWdhdGUgPSBudWxsLCB5OyB2YXIgYSA9IGkuYXJnOyByZXR1cm4gYSA/IGEuZG9uZSA/IChyW2UucmVzdWx0TmFtZV0gPSBhLnZhbHVlLCByLm5leHQgPSBlLm5leHRMb2MsIFwicmV0dXJuXCIgIT09IHIubWV0aG9kICYmIChyLm1ldGhvZCA9IFwibmV4dFwiLCByLmFyZyA9IHQpLCByLmRlbGVnYXRlID0gbnVsbCwgeSkgOiBhIDogKHIubWV0aG9kID0gXCJ0aHJvd1wiLCByLmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKSwgci5kZWxlZ2F0ZSA9IG51bGwsIHkpOyB9IGZ1bmN0aW9uIHB1c2hUcnlFbnRyeSh0KSB7IHZhciBlID0geyB0cnlMb2M6IHRbMF0gfTsgMSBpbiB0ICYmIChlLmNhdGNoTG9jID0gdFsxXSksIDIgaW4gdCAmJiAoZS5maW5hbGx5TG9jID0gdFsyXSwgZS5hZnRlckxvYyA9IHRbM10pLCB0aGlzLnRyeUVudHJpZXMucHVzaChlKTsgfSBmdW5jdGlvbiByZXNldFRyeUVudHJ5KHQpIHsgdmFyIGUgPSB0LmNvbXBsZXRpb24gfHwge307IGUudHlwZSA9IFwibm9ybWFsXCIsIGRlbGV0ZSBlLmFyZywgdC5jb21wbGV0aW9uID0gZTsgfSBmdW5jdGlvbiBDb250ZXh0KHQpIHsgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XSwgdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyksIHRoaXMucmVzZXQoITApOyB9IGZ1bmN0aW9uIHZhbHVlcyhlKSB7IGlmIChlIHx8IFwiXCIgPT09IGUpIHsgdmFyIHIgPSBlW2FdOyBpZiAocikgcmV0dXJuIHIuY2FsbChlKTsgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZS5uZXh0KSByZXR1cm4gZTsgaWYgKCFpc05hTihlLmxlbmd0aCkpIHsgdmFyIG8gPSAtMSwgaSA9IGZ1bmN0aW9uIG5leHQoKSB7IGZvciAoOyArK28gPCBlLmxlbmd0aDspIGlmIChuLmNhbGwoZSwgbykpIHJldHVybiBuZXh0LnZhbHVlID0gZVtvXSwgbmV4dC5kb25lID0gITEsIG5leHQ7IHJldHVybiBuZXh0LnZhbHVlID0gdCwgbmV4dC5kb25lID0gITAsIG5leHQ7IH07IHJldHVybiBpLm5leHQgPSBpOyB9IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihfdHlwZW9mKGUpICsgXCIgaXMgbm90IGl0ZXJhYmxlXCIpOyB9IHJldHVybiBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgbyhnLCBcImNvbnN0cnVjdG9yXCIsIHsgdmFsdWU6IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBjb25maWd1cmFibGU6ICEwIH0pLCBvKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBcImNvbnN0cnVjdG9yXCIsIHsgdmFsdWU6IEdlbmVyYXRvckZ1bmN0aW9uLCBjb25maWd1cmFibGU6ICEwIH0pLCBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IGRlZmluZShHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgdSwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKSwgZS5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24gKHQpIHsgdmFyIGUgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHQgJiYgdC5jb25zdHJ1Y3RvcjsgcmV0dXJuICEhZSAmJiAoZSA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHwgXCJHZW5lcmF0b3JGdW5jdGlvblwiID09PSAoZS5kaXNwbGF5TmFtZSB8fCBlLm5hbWUpKTsgfSwgZS5tYXJrID0gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZih0LCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSkgOiAodC5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgZGVmaW5lKHQsIHUsIFwiR2VuZXJhdG9yRnVuY3Rpb25cIikpLCB0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoZyksIHQ7IH0sIGUuYXdyYXAgPSBmdW5jdGlvbiAodCkgeyByZXR1cm4geyBfX2F3YWl0OiB0IH07IH0sIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSksIGRlZmluZShBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSwgYywgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSksIGUuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3IsIGUuYXN5bmMgPSBmdW5jdGlvbiAodCwgciwgbiwgbywgaSkgeyB2b2lkIDAgPT09IGkgJiYgKGkgPSBQcm9taXNlKTsgdmFyIGEgPSBuZXcgQXN5bmNJdGVyYXRvcih3cmFwKHQsIHIsIG4sIG8pLCBpKTsgcmV0dXJuIGUuaXNHZW5lcmF0b3JGdW5jdGlvbihyKSA/IGEgOiBhLm5leHQoKS50aGVuKGZ1bmN0aW9uICh0KSB7IHJldHVybiB0LmRvbmUgPyB0LnZhbHVlIDogYS5uZXh0KCk7IH0pOyB9LCBkZWZpbmVJdGVyYXRvck1ldGhvZHMoZyksIGRlZmluZShnLCB1LCBcIkdlbmVyYXRvclwiKSwgZGVmaW5lKGcsIGEsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pLCBkZWZpbmUoZywgXCJ0b1N0cmluZ1wiLCBmdW5jdGlvbiAoKSB7IHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiOyB9KSwgZS5rZXlzID0gZnVuY3Rpb24gKHQpIHsgdmFyIGUgPSBPYmplY3QodCksIHIgPSBbXTsgZm9yICh2YXIgbiBpbiBlKSByLnB1c2gobik7IHJldHVybiByLnJldmVyc2UoKSwgZnVuY3Rpb24gbmV4dCgpIHsgZm9yICg7IHIubGVuZ3RoOykgeyB2YXIgdCA9IHIucG9wKCk7IGlmICh0IGluIGUpIHJldHVybiBuZXh0LnZhbHVlID0gdCwgbmV4dC5kb25lID0gITEsIG5leHQ7IH0gcmV0dXJuIG5leHQuZG9uZSA9ICEwLCBuZXh0OyB9OyB9LCBlLnZhbHVlcyA9IHZhbHVlcywgQ29udGV4dC5wcm90b3R5cGUgPSB7IGNvbnN0cnVjdG9yOiBDb250ZXh0LCByZXNldDogZnVuY3Rpb24gcmVzZXQoZSkgeyBpZiAodGhpcy5wcmV2ID0gMCwgdGhpcy5uZXh0ID0gMCwgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IHQsIHRoaXMuZG9uZSA9ICExLCB0aGlzLmRlbGVnYXRlID0gbnVsbCwgdGhpcy5tZXRob2QgPSBcIm5leHRcIiwgdGhpcy5hcmcgPSB0LCB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KSwgIWUpIGZvciAodmFyIHIgaW4gdGhpcykgXCJ0XCIgPT09IHIuY2hhckF0KDApICYmIG4uY2FsbCh0aGlzLCByKSAmJiAhaXNOYU4oK3Iuc2xpY2UoMSkpICYmICh0aGlzW3JdID0gdCk7IH0sIHN0b3A6IGZ1bmN0aW9uIHN0b3AoKSB7IHRoaXMuZG9uZSA9ICEwOyB2YXIgdCA9IHRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uOyBpZiAoXCJ0aHJvd1wiID09PSB0LnR5cGUpIHRocm93IHQuYXJnOyByZXR1cm4gdGhpcy5ydmFsOyB9LCBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24gZGlzcGF0Y2hFeGNlcHRpb24oZSkgeyBpZiAodGhpcy5kb25lKSB0aHJvdyBlOyB2YXIgciA9IHRoaXM7IGZ1bmN0aW9uIGhhbmRsZShuLCBvKSB7IHJldHVybiBhLnR5cGUgPSBcInRocm93XCIsIGEuYXJnID0gZSwgci5uZXh0ID0gbiwgbyAmJiAoci5tZXRob2QgPSBcIm5leHRcIiwgci5hcmcgPSB0KSwgISFvOyB9IGZvciAodmFyIG8gPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgbyA+PSAwOyAtLW8pIHsgdmFyIGkgPSB0aGlzLnRyeUVudHJpZXNbb10sIGEgPSBpLmNvbXBsZXRpb247IGlmIChcInJvb3RcIiA9PT0gaS50cnlMb2MpIHJldHVybiBoYW5kbGUoXCJlbmRcIik7IGlmIChpLnRyeUxvYyA8PSB0aGlzLnByZXYpIHsgdmFyIGMgPSBuLmNhbGwoaSwgXCJjYXRjaExvY1wiKSwgdSA9IG4uY2FsbChpLCBcImZpbmFsbHlMb2NcIik7IGlmIChjICYmIHUpIHsgaWYgKHRoaXMucHJldiA8IGkuY2F0Y2hMb2MpIHJldHVybiBoYW5kbGUoaS5jYXRjaExvYywgITApOyBpZiAodGhpcy5wcmV2IDwgaS5maW5hbGx5TG9jKSByZXR1cm4gaGFuZGxlKGkuZmluYWxseUxvYyk7IH0gZWxzZSBpZiAoYykgeyBpZiAodGhpcy5wcmV2IDwgaS5jYXRjaExvYykgcmV0dXJuIGhhbmRsZShpLmNhdGNoTG9jLCAhMCk7IH0gZWxzZSB7IGlmICghdSkgdGhyb3cgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTsgaWYgKHRoaXMucHJldiA8IGkuZmluYWxseUxvYykgcmV0dXJuIGhhbmRsZShpLmZpbmFsbHlMb2MpOyB9IH0gfSB9LCBhYnJ1cHQ6IGZ1bmN0aW9uIGFicnVwdCh0LCBlKSB7IGZvciAodmFyIHIgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgciA+PSAwOyAtLXIpIHsgdmFyIG8gPSB0aGlzLnRyeUVudHJpZXNbcl07IGlmIChvLnRyeUxvYyA8PSB0aGlzLnByZXYgJiYgbi5jYWxsKG8sIFwiZmluYWxseUxvY1wiKSAmJiB0aGlzLnByZXYgPCBvLmZpbmFsbHlMb2MpIHsgdmFyIGkgPSBvOyBicmVhazsgfSB9IGkgJiYgKFwiYnJlYWtcIiA9PT0gdCB8fCBcImNvbnRpbnVlXCIgPT09IHQpICYmIGkudHJ5TG9jIDw9IGUgJiYgZSA8PSBpLmZpbmFsbHlMb2MgJiYgKGkgPSBudWxsKTsgdmFyIGEgPSBpID8gaS5jb21wbGV0aW9uIDoge307IHJldHVybiBhLnR5cGUgPSB0LCBhLmFyZyA9IGUsIGkgPyAodGhpcy5tZXRob2QgPSBcIm5leHRcIiwgdGhpcy5uZXh0ID0gaS5maW5hbGx5TG9jLCB5KSA6IHRoaXMuY29tcGxldGUoYSk7IH0sIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZSh0LCBlKSB7IGlmIChcInRocm93XCIgPT09IHQudHlwZSkgdGhyb3cgdC5hcmc7IHJldHVybiBcImJyZWFrXCIgPT09IHQudHlwZSB8fCBcImNvbnRpbnVlXCIgPT09IHQudHlwZSA/IHRoaXMubmV4dCA9IHQuYXJnIDogXCJyZXR1cm5cIiA9PT0gdC50eXBlID8gKHRoaXMucnZhbCA9IHRoaXMuYXJnID0gdC5hcmcsIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIiwgdGhpcy5uZXh0ID0gXCJlbmRcIikgOiBcIm5vcm1hbFwiID09PSB0LnR5cGUgJiYgZSAmJiAodGhpcy5uZXh0ID0gZSksIHk7IH0sIGZpbmlzaDogZnVuY3Rpb24gZmluaXNoKHQpIHsgZm9yICh2YXIgZSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBlID49IDA7IC0tZSkgeyB2YXIgciA9IHRoaXMudHJ5RW50cmllc1tlXTsgaWYgKHIuZmluYWxseUxvYyA9PT0gdCkgcmV0dXJuIHRoaXMuY29tcGxldGUoci5jb21wbGV0aW9uLCByLmFmdGVyTG9jKSwgcmVzZXRUcnlFbnRyeShyKSwgeTsgfSB9LCBjYXRjaDogZnVuY3Rpb24gX2NhdGNoKHQpIHsgZm9yICh2YXIgZSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBlID49IDA7IC0tZSkgeyB2YXIgciA9IHRoaXMudHJ5RW50cmllc1tlXTsgaWYgKHIudHJ5TG9jID09PSB0KSB7IHZhciBuID0gci5jb21wbGV0aW9uOyBpZiAoXCJ0aHJvd1wiID09PSBuLnR5cGUpIHsgdmFyIG8gPSBuLmFyZzsgcmVzZXRUcnlFbnRyeShyKTsgfSByZXR1cm4gbzsgfSB9IHRocm93IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpOyB9LCBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbiBkZWxlZ2F0ZVlpZWxkKGUsIHIsIG4pIHsgcmV0dXJuIHRoaXMuZGVsZWdhdGUgPSB7IGl0ZXJhdG9yOiB2YWx1ZXMoZSksIHJlc3VsdE5hbWU6IHIsIG5leHRMb2M6IG4gfSwgXCJuZXh0XCIgPT09IHRoaXMubWV0aG9kICYmICh0aGlzLmFyZyA9IHQpLCB5OyB9IH0sIGU7IH1cbmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChuLCB0LCBlLCByLCBvLCBhLCBjKSB7IHRyeSB7IHZhciBpID0gblthXShjKSwgdSA9IGkudmFsdWU7IH0gY2F0Y2ggKG4pIHsgcmV0dXJuIHZvaWQgZShuKTsgfSBpLmRvbmUgPyB0KHUpIDogUHJvbWlzZS5yZXNvbHZlKHUpLnRoZW4ociwgbyk7IH1cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHQgPSB0aGlzLCBlID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHIsIG8pIHsgdmFyIGEgPSBuLmFwcGx5KHQsIGUpOyBmdW5jdGlvbiBfbmV4dChuKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChhLCByLCBvLCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgbik7IH0gZnVuY3Rpb24gX3Rocm93KG4pIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGEsIHIsIG8sIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgbik7IH0gX25leHQodm9pZCAwKTsgfSk7IH07IH1cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KHIsIGUpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQociwgZSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGUpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGEpIHsgaWYgKHIpIHsgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKTsgdmFyIHQgPSB7fS50b1N0cmluZy5jYWxsKHIpLnNsaWNlKDgsIC0xKTsgcmV0dXJuIFwiT2JqZWN0XCIgPT09IHQgJiYgci5jb25zdHJ1Y3RvciAmJiAodCA9IHIuY29uc3RydWN0b3IubmFtZSksIFwiTWFwXCIgPT09IHQgfHwgXCJTZXRcIiA9PT0gdCA/IEFycmF5LmZyb20ocikgOiBcIkFyZ3VtZW50c1wiID09PSB0IHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpID8gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgOiB2b2lkIDA7IH0gfVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfVxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGwpIHsgdmFyIHQgPSBudWxsID09IHIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByW1wiQEBpdGVyYXRvclwiXTsgaWYgKG51bGwgIT0gdCkgeyB2YXIgZSwgbiwgaSwgdSwgYSA9IFtdLCBmID0gITAsIG8gPSAhMTsgdHJ5IHsgaWYgKGkgPSAodCA9IHQuY2FsbChyKSkubmV4dCwgMCA9PT0gbCkgeyBpZiAoT2JqZWN0KHQpICE9PSB0KSByZXR1cm47IGYgPSAhMTsgfSBlbHNlIGZvciAoOyAhKGYgPSAoZSA9IGkuY2FsbCh0KSkuZG9uZSkgJiYgKGEucHVzaChlLnZhbHVlKSwgYS5sZW5ndGggIT09IGwpOyBmID0gITApOyB9IGNhdGNoIChyKSB7IG8gPSAhMCwgbiA9IHI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghZiAmJiBudWxsICE9IHQucmV0dXJuICYmICh1ID0gdC5yZXR1cm4oKSwgT2JqZWN0KHUpICE9PSB1KSkgcmV0dXJuOyB9IGZpbmFsbHkgeyBpZiAobykgdGhyb3cgbjsgfSB9IHJldHVybiBhOyB9IH1cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhyKSB7IGlmIChBcnJheS5pc0FycmF5KHIpKSByZXR1cm4gcjsgfVxuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZXN0R2V0IH0gZnJvbSAnLi4vLi4vaGVscGVycy9hcGkvJztcbmltcG9ydCB7IHVzZURpc3BhdGNoIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgYWRkTm90aWNlIH0gZnJvbSAnLi4vLi4vc3RvcmUvc2xpY2VzL25vdGljZSc7XG5cbi8qKlxuICogUmVzZXQgdGhlIG1lbWJlcnNoaXAgZGF0YSB1c2luZyBBUEkuXG4gKlxuICogUmVsb2FkcyB0aGUgY3VycmVudCBwYWdlIGFmdGVyIHJlZnJlc2hpbmcgdGhlXG4gKiBzdGF0dXMuXG4gKlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlUmVzZXREYXRhKF9yZWYpIHtcbiAgdmFyIGFmdGVyUmVzZXQgPSBfcmVmLmFmdGVyUmVzZXQ7XG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShmYWxzZSksXG4gICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksXG4gICAgaXNQcm9jZXNzaW5nID0gX3VzZVN0YXRlMlswXSxcbiAgICBzZXRQcm9jZXNzaW5nID0gX3VzZVN0YXRlMlsxXTtcbiAgdmFyIGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcbiAgZnVuY3Rpb24gcmVzZXREYXRhKCkge1xuICAgIHJldHVybiBfcmVzZXREYXRhLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cbiAgZnVuY3Rpb24gX3Jlc2V0RGF0YSgpIHtcbiAgICBfcmVzZXREYXRhID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkge1xuICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgLy8gU3RhcnQgbG9hZGluZ1xuICAgICAgICAgICAgc2V0UHJvY2Vzc2luZyh0cnVlKTtcbiAgICAgICAgICAgIHJlc3RHZXQoe1xuICAgICAgICAgICAgICBwYXRoOiAnYWN0aW9ucycsXG4gICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogJ3Jlc2V0X3NldHRpbmdzJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIHZhciBfcmVzcG9uc2UkZGF0YTtcbiAgICAgICAgICAgICAgICAvLyBjYWxsYmFjayBmdW5jdGlvblxuICAgICAgICAgICAgICAgIGFmdGVyUmVzZXQoKTtcblxuICAgICAgICAgICAgICAgIC8vIFNob3cgbm90aWNlXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goYWRkTm90aWNlKHtcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlID09PSBudWxsIHx8IHJlc3BvbnNlID09PSB2b2lkIDAgfHwgKF9yZXNwb25zZSRkYXRhID0gcmVzcG9uc2UuZGF0YSkgPT09IG51bGwgfHwgX3Jlc3BvbnNlJGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yZXNwb25zZSRkYXRhLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgICAvLyBSZWxvYWQgYWZ0ZXIgZGlwbGF5aW5nIHRoZSBub3RpY2VcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc2V0UHJvY2Vzc2luZyhmYWxzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfSwgX2NhbGxlZSk7XG4gICAgfSkpO1xuICAgIHJldHVybiBfcmVzZXREYXRhLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICByZXNldERhdGE6IHJlc2V0RGF0YSxcbiAgICBpc1Byb2Nlc3Npbmc6IGlzUHJvY2Vzc2luZ1xuICB9O1xufVxuZXhwb3J0IGRlZmF1bHQgdXNlUmVzZXREYXRhOyIsImV4cG9ydCAqIGZyb20gJy4vdXNlUmVzZXREYXRhJzsiLCJleHBvcnQgKiBmcm9tICcuL3VzZVJlc2V0RGF0YSc7IiwiLyoqXG4gKiBMaWJyYXJ5IGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBCb3gsIEJ1dHRvbiwgSWNvbkJ1dHRvbiB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2xpYi9jb21wb25lbnRzJztcblxuLyoqXG4gKiBXb3JkUHJlc3MgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IF9fIH0gZnJvbSAnQHdvcmRwcmVzcy9pMThuJztcblxuLyoqXG4gKiBJbnRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgdXNlUmVzZXREYXRhIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vaG9va3MnO1xuaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmV4cG9ydCBmdW5jdGlvbiBSZXNldENvbmZpcm1hdGlvbihfcmVmKSB7XG4gIHZhciBtb2RhbElEID0gX3JlZi5tb2RhbElELFxuICAgIGNsb3NlTW9kYWwgPSBfcmVmLmNsb3NlTW9kYWw7XG4gIHZhciBfdXNlUmVzZXREYXRhID0gdXNlUmVzZXREYXRhKHtcbiAgICAgIGFmdGVyUmVzZXQ6IGNsb3NlTW9kYWxcbiAgICB9KSxcbiAgICByZXNldERhdGEgPSBfdXNlUmVzZXREYXRhLnJlc2V0RGF0YSxcbiAgICBpc1Byb2Nlc3NpbmcgPSBfdXNlUmVzZXREYXRhLmlzUHJvY2Vzc2luZztcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4cyhCb3gsIHtcbiAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4cyhCb3guSGVhZGVyLCB7XG4gICAgICBjbGFzc05hbWU6IFwic3VpLWZsYXR0ZW4gc3VpLWNvbnRlbnQtY2VudGVyIHN1aS1zcGFjaW5nLXRvcC0tNjBcIixcbiAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goSWNvbkJ1dHRvbiwge1xuICAgICAgICBjbGFzc05hbWU6IFwic3VpLWJ1dHRvbi1mbG9hdC0tcmlnaHRcIixcbiAgICAgICAgaWNvbjogXCJjbG9zZVwiLFxuICAgICAgICBvbkNsaWNrOiBjbG9zZU1vZGFsLFxuICAgICAgICBzaXplOiBcIm1kXCIsXG4gICAgICAgIG91dGxpbmVkOiBmYWxzZSxcbiAgICAgICAgbGFiZWw6IF9fKCdDbG9zZSB0aGlzIGRpYWxvZy4nLCAnd3BtdWRldl92aWRzJylcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcImgzXCIsIHtcbiAgICAgICAgaWQ6IFwiXCIuY29uY2F0KG1vZGFsSUQsIFwiLXRpdGxlXCIpLFxuICAgICAgICBjbGFzc05hbWU6IFwic3VpLWJveC10aXRsZSBzdWktbGdcIixcbiAgICAgICAgY2hpbGRyZW46IF9fKCdSZXNldCBQbHVnaW4nLCAnd3BtdWRldl92aWRzJylcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcInBcIiwge1xuICAgICAgICBpZDogXCJcIi5jb25jYXQobW9kYWxJRCwgXCItZGVzY1wiKSxcbiAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1kZXNjcmlwdGlvblwiLFxuICAgICAgICBjaGlsZHJlbjogX18oJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZXNldCB0aGUgcGx1Z2luIHRvIGl0cyBkZWZhdWx0IHN0YXRlPycsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSldXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4cyhCb3guRm9vdGVyLCB7XG4gICAgICBpc0ZsYXR0ZW46IHRydWUsXG4gICAgICBpc0NlbnRlcmVkOiB0cnVlLFxuICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChCdXR0b24sIHtcbiAgICAgICAgdHlwZTogXCJnaG9zdFwiLFxuICAgICAgICBvbkNsaWNrOiBjbG9zZU1vZGFsLFxuICAgICAgICBjaGlsZHJlbjogX18oJ0NhbmNlbCcsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KEJ1dHRvbiwge1xuICAgICAgICB0eXBlOiBcImdob3N0XCIsXG4gICAgICAgIGljb246IFwidW5kb1wiLFxuICAgICAgICBpc0xvYWRpbmc6IGlzUHJvY2Vzc2luZyxcbiAgICAgICAgb25DbGljazogcmVzZXREYXRhLFxuICAgICAgICBjb2xvcjogXCJyZWRcIixcbiAgICAgICAgb25Mb2FkaW5nVGV4dDogX18oJ1Jlc2V0dGluZycsICd3cG11ZGV2X3ZpZHMnKSxcbiAgICAgICAgY2hpbGRyZW46IF9fKCdSZXNldCcsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSldXG4gICAgfSldXG4gIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgUmVzZXRDb25maXJtYXRpb247IiwiZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkociwgZSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKHIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBlKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgZSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkgeyBpZiAocikgeyBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gXCJPYmplY3RcIiA9PT0gdCAmJiByLmNvbnN0cnVjdG9yICYmICh0ID0gci5jb25zdHJ1Y3Rvci5uYW1lKSwgXCJNYXBcIiA9PT0gdCB8fCBcIlNldFwiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6IFwiQXJndW1lbnRzXCIgPT09IHQgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkgPyBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSA6IHZvaWQgMDsgfSB9XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQociwgbCkgeyB2YXIgdCA9IG51bGwgPT0gciA/IG51bGwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgcltTeW1ib2wuaXRlcmF0b3JdIHx8IHJbXCJAQGl0ZXJhdG9yXCJdOyBpZiAobnVsbCAhPSB0KSB7IHZhciBlLCBuLCBpLCB1LCBhID0gW10sIGYgPSAhMCwgbyA9ICExOyB0cnkgeyBpZiAoaSA9ICh0ID0gdC5jYWxsKHIpKS5uZXh0LCAwID09PSBsKSB7IGlmIChPYmplY3QodCkgIT09IHQpIHJldHVybjsgZiA9ICExOyB9IGVsc2UgZm9yICg7ICEoZiA9IChlID0gaS5jYWxsKHQpKS5kb25lKSAmJiAoYS5wdXNoKGUudmFsdWUpLCBhLmxlbmd0aCAhPT0gbCk7IGYgPSAhMCk7IH0gY2F0Y2ggKHIpIHsgbyA9ICEwLCBuID0gcjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFmICYmIG51bGwgIT0gdC5yZXR1cm4gJiYgKHUgPSB0LnJldHVybigpLCBPYmplY3QodSkgIT09IHUpKSByZXR1cm47IH0gZmluYWxseSB7IGlmIChvKSB0aHJvdyBuOyB9IH0gcmV0dXJuIGE7IH0gfVxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKHIpIHsgaWYgKEFycmF5LmlzQXJyYXkocikpIHJldHVybiByOyB9XG4vKipcbiAqIExpYnJhcnkgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2xpYi9jb21wb25lbnRzJztcbmltcG9ydCB7IHVzZU1vZGFsIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbGliL2hvb2tzJztcbmltcG9ydCB7IE1vZGFsIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbGliL2NvbXBvbmVudHMnO1xuXG4vKipcbiAqIFdvcmRQcmVzcyBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgX18gfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuXG4vKipcbiAqIEludGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBSZXNldENvbmZpcm1hdGlvbiB9IGZyb20gJy4uL01vZGFscy9SZXNldENvbmZpcm1hdGlvbic7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5leHBvcnQgZnVuY3Rpb24gUmVzZXRTZXR0aW5ncygpIHtcbiAgdmFyIGNvbmZpcm1Nb2RhbCA9ICd3cG11ZGV2LXZpZGVvcy1kYXRhLXJlc2V0LWNvbmZpcm1hdGlvbic7XG4gIHZhciBfdXNlTW9kYWwgPSB1c2VNb2RhbCh7XG4gICAgICBpZDogY29uZmlybU1vZGFsXG4gICAgfSksXG4gICAgX3VzZU1vZGFsMiA9IF9zbGljZWRUb0FycmF5KF91c2VNb2RhbCwgMiksXG4gICAgb3Blbk1vZGFsID0gX3VzZU1vZGFsMlswXSxcbiAgICBjbG9zZU1vZGFsID0gX3VzZU1vZGFsMlsxXTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4cyhfRnJhZ21lbnQsIHtcbiAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KE1vZGFsLCB7XG4gICAgICBpZDogY29uZmlybU1vZGFsLFxuICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KFJlc2V0Q29uZmlybWF0aW9uLCB7XG4gICAgICAgIG1vZGFsSUQ6IGNvbmZpcm1Nb2RhbCxcbiAgICAgICAgY2xvc2VNb2RhbDogY2xvc2VNb2RhbFxuICAgICAgfSlcbiAgICB9KSwgLyojX19QVVJFX18qL19qc3goQnV0dG9uLCB7XG4gICAgICBpY29uOiBcInVuZG9cIixcbiAgICAgIHR5cGU6IFwiZ2hvc3RcIixcbiAgICAgIGlkOiBcIlwiLmNvbmNhdChjb25maXJtTW9kYWwsIFwiLW9wZW5lclwiKSxcbiAgICAgIG9uQ2xpY2s6IG9wZW5Nb2RhbCxcbiAgICAgIG9uTG9hZGluZ1RleHQ6IF9fKCdSZXNldHRpbmcnLCAnd3BtdWRldl92aWRzJyksXG4gICAgICBjaGlsZHJlbjogX18oJ1Jlc2V0JywgJ3dwbXVkZXZfdmlkcycpXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwicFwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwic3VpLWRlc2NyaXB0aW9uXCIsXG4gICAgICBjaGlsZHJlbjogX18oJ05vdGU6IFRoaXMgd2lsbCBpbnN0YW50bHkgcmV2ZXJ0IGFsbCBzZXR0aW5ncyB0byB0aGVpciBkZWZhdWx0IHN0YXRlcyBidXQgd2lsbCBsZWF2ZSB5b3VyIGRhdGEgaW50YWN0LicsICd3cG11ZGV2X3ZpZHMnKVxuICAgIH0pXVxuICB9KTtcbn1cbmV4cG9ydCBkZWZhdWx0IFJlc2V0U2V0dGluZ3M7IiwiLyoqXG4gKiBMaWJyYXJ5IGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBSYWRpb1RhYnMgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9saWIvY29tcG9uZW50cyc7XG5cbi8qKlxuICogV29yZFByZXNzIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBfXyB9IGZyb20gJ0B3b3JkcHJlc3MvaTE4bic7XG5cbi8qKlxuICogSW50ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IHNldE9wdGlvbiwgZ2V0T3B0aW9uIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vc3RvcmUvc2xpY2VzL3NldHRpbmdzJztcblxuLyoqXG4gKiBFeHRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgdXNlU2VsZWN0b3IsIHVzZURpc3BhdGNoIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmV4cG9ydCBmdW5jdGlvbiBEYXRhUHJlc2VydmUoKSB7XG4gIHZhciBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gIHZhciBrZWVwU2V0dGluZ3MgPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4gZ2V0T3B0aW9uKHN0YXRlLCAna2VlcF9zZXR0aW5ncycpO1xuICB9KTtcbiAgdmFyIGtlZXBEYXRhID0gdXNlU2VsZWN0b3IoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgcmV0dXJuIGdldE9wdGlvbihzdGF0ZSwgJ2tlZXBfZGF0YScpO1xuICB9KTtcbiAgdmFyIHVwZGF0ZUtlZXBTZXR0aW5ncyA9IGZ1bmN0aW9uIHVwZGF0ZUtlZXBTZXR0aW5ncyh2YWx1ZSkge1xuICAgIHZhciBmaW5hbFZhbHVlID0gJzAnO1xuICAgIGlmICh2YWx1ZSA9PT0gJ3ByZXNlcnZlJykge1xuICAgICAgZmluYWxWYWx1ZSA9ICcxJztcbiAgICB9XG4gICAgZGlzcGF0Y2goc2V0T3B0aW9uKHtcbiAgICAgIGtleTogJ2tlZXBfc2V0dGluZ3MnLFxuICAgICAgdmFsdWU6IGZpbmFsVmFsdWVcbiAgICB9KSk7XG4gIH07XG4gIHZhciB1cGRhdGVLZWVwRGF0YSA9IGZ1bmN0aW9uIHVwZGF0ZUtlZXBEYXRhKHZhbHVlKSB7XG4gICAgdmFyIGZpbmFsVmFsdWUgPSAnMCc7XG4gICAgaWYgKHZhbHVlID09PSAna2VlcCcpIHtcbiAgICAgIGZpbmFsVmFsdWUgPSAnMSc7XG4gICAgfVxuICAgIGRpc3BhdGNoKHNldE9wdGlvbih7XG4gICAgICBrZXk6ICdrZWVwX2RhdGEnLFxuICAgICAgdmFsdWU6IGZpbmFsVmFsdWVcbiAgICB9KSk7XG4gIH07XG4gIHZhciBzZXR0aW5nc09wdGlvbnMgPSBbe1xuICAgIGlkOiAnd3BtdWRldi12aWRlb3Mtc2V0dGluZ3Mta2VlcCcsXG4gICAgdmFsdWU6ICdwcmVzZXJ2ZScsXG4gICAgbGFiZWw6IF9fKCdQcmVzZXJ2ZScsICd3cG11ZGV2X3ZpZHMnKVxuICB9LCB7XG4gICAgaWQ6ICd3cG11ZGV2LXZpZGVvcy1zZXR0aW5ncy1yZXNldCcsXG4gICAgdmFsdWU6ICdyZXNldCcsXG4gICAgbGFiZWw6IF9fKCdSZXNldCcsICd3cG11ZGV2X3ZpZHMnKVxuICB9XTtcbiAgdmFyIGRhdGFPcHRpb25zID0gW3tcbiAgICBpZDogJ3dwbXVkZXYtdmlkZW9zLWRhdGEta2VlcCcsXG4gICAgdmFsdWU6ICdrZWVwJyxcbiAgICBsYWJlbDogX18oJ0tlZXAnLCAnd3BtdWRldl92aWRzJylcbiAgfSwge1xuICAgIGlkOiAnd3BtdWRldi12aWRlb3MtZGF0YS1yZW1vdmUnLFxuICAgIHZhbHVlOiAncmVtb3ZlJyxcbiAgICBsYWJlbDogX18oJ1JlbW92ZScsICd3cG11ZGV2X3ZpZHMnKVxuICB9XTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4cyhcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcInN1aS1mb3JtLWZpZWxkXCIsXG4gICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChcImg0XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJzdWktc2V0dGluZ3MtbGFiZWxcIixcbiAgICAgIGNoaWxkcmVuOiBfXygnU2V0dGluZ3MnLCAnd3BtdWRldl92aWRzJylcbiAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJzdWktZGVzY3JpcHRpb24gc2lkZS10YWJzLWRlc2NyaXB0aW9uXCIsXG4gICAgICBjaGlsZHJlbjogX18oJ0Nob29zZSB3aGV0aGVyIHRvIHNhdmUgeW91ciBzZXR0aW5ncyBmb3IgbmV4dCB0aW1lLCBvciByZXNldCB0aGVtLicsICd3cG11ZGV2X3ZpZHMnKVxuICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChSYWRpb1RhYnMsIHtcbiAgICAgIHZhbHVlOiBrZWVwU2V0dGluZ3MgPT09ICcxJyA/ICdwcmVzZXJ2ZScgOiAncmVzZXQnLFxuICAgICAgb3B0aW9uczogc2V0dGluZ3NPcHRpb25zLFxuICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKHZhbCkge1xuICAgICAgICByZXR1cm4gdXBkYXRlS2VlcFNldHRpbmdzKHZhbCk7XG4gICAgICB9XG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwiaDRcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInN1aS1zZXR0aW5ncy1sYWJlbFwiLFxuICAgICAgY2hpbGRyZW46IF9fKCdEYXRhJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwic3BhblwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwic3VpLWRlc2NyaXB0aW9uIHNpZGUtdGFicy1kZXNjcmlwdGlvblwiLFxuICAgICAgY2hpbGRyZW46IF9fKCdDaG9vc2Ugd2hldGhlciB0byBrZWVwIG9yIHJlbW92ZSBWaWRlb3MgYW5kIFBsYXlsaXN0cyBkYXRhLicsICd3cG11ZGV2X3ZpZHMnKVxuICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChSYWRpb1RhYnMsIHtcbiAgICAgIHZhbHVlOiBrZWVwRGF0YSA9PT0gJzEnID8gJ2tlZXAnIDogJ3JlbW92ZScsXG4gICAgICBvcHRpb25zOiBkYXRhT3B0aW9ucyxcbiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSh2YWwpIHtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUtlZXBEYXRhKHZhbCk7XG4gICAgICB9XG4gICAgfSldXG4gIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgRGF0YVByZXNlcnZlOyIsImV4cG9ydCAqIGZyb20gJy4vUmVzZXRTZXR0aW5ncyc7XG5leHBvcnQgKiBmcm9tICcuL0RhdGFQcmVzZXJ2ZSc7IiwiLyoqXG4gKiBMaWJyYXJ5IGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi8uLi8uLi8uLi9saWIvY29tcG9uZW50cyc7XG5cbi8qKlxuICogV29yZFByZXNzIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBfXyB9IGZyb20gJ0B3b3JkcHJlc3MvaTE4bic7XG5cbi8qKlxuICogSW50ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IFRhYnNGb290ZXIgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL1RhYnNGb290ZXInO1xuaW1wb3J0IHsgRGF0YVByZXNlcnZlLCBSZXNldFNldHRpbmdzIH0gZnJvbSAnLi9QYXJ0aWFscyc7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZXhwb3J0IGZ1bmN0aW9uIERhdGEoKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeHMoQm94LCB7XG4gICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChCb3guSGVhZGVyLCB7XG4gICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goQm94LlRpdGxlLCB7XG4gICAgICAgIGNoaWxkcmVuOiBfXygnRGF0YScsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSlcbiAgICB9KSwgLyojX19QVVJFX18qL19qc3hzKEJveC5Cb2R5LCB7XG4gICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KEJveC5Sb3csIHtcbiAgICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KEJveC5Db2wyLCB7XG4gICAgICAgICAgY2hpbGRyZW46IF9fKCdDb250cm9sIHdoYXQgdG8gZG8gd2l0aCB5b3VyIHNldHRpbmdzIGFuZCBkYXRhLiBEYXRhIGluY2x1ZGVzIFZpZGVvcywgUGxheWxpc3RzLCBhbmQgb3RoZXIgcGllY2VzIG9mIGluZm9ybWF0aW9uIHN0b3JlZCBvdmVyIHRpbWUuJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICAgIH0pXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3hzKEJveC5Sb3csIHtcbiAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeHMoQm94LkNvbDEsIHtcbiAgICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KEJveC5MYWJlbCwge1xuICAgICAgICAgICAgY2hpbGRyZW46IF9fKCdVbmluc3RhbGxhdGlvbicsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChCb3guRGVzY3JpcHRpb24sIHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiBfXygnV2hlbiB5b3UgdW5pbnN0YWxsIHRoaXMgcGx1Z2luLCB3aGF0IGRvIHlvdSB3YW50IHRvIGRvIHdpdGggeW91ciBzZXR0aW5ncyBhbmQgc3RvcmVkIGRhdGE/JywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICAgICAgfSldXG4gICAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChCb3guQ29sMiwge1xuICAgICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChEYXRhUHJlc2VydmUsIHt9KVxuICAgICAgICB9KV1cbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeHMoQm94LlJvdywge1xuICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4cyhCb3guQ29sMSwge1xuICAgICAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goQm94LkxhYmVsLCB7XG4gICAgICAgICAgICBjaGlsZHJlbjogX18oJ1Jlc2V0IFNldHRpbmdzJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KEJveC5EZXNjcmlwdGlvbiwge1xuICAgICAgICAgICAgY2hpbGRyZW46IF9fKCdOZWVkaW5nIHRvIHN0YXJ0IGZyZXNoPyBVc2UgdGhpcyBidXR0b24gdG8gcm9sbCBiYWNrIHRvIHRoZSBkZWZhdWx0IHNldHRpbmdzLicsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgICAgIH0pXVxuICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goQm94LkNvbDIsIHtcbiAgICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goUmVzZXRTZXR0aW5ncywge30pXG4gICAgICAgIH0pXVxuICAgICAgfSldXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFRhYnNGb290ZXIsIHt9KV1cbiAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCBEYXRhOyIsImV4cG9ydCAqIGZyb20gJy4vRGF0YSc7IiwiLyoqXG4gKiBMaWJyYXJ5IGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBTZWxlY3QsIElucHV0LCBMYWJlbCB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2xpYi9jb21wb25lbnRzJztcblxuLyoqXG4gKiBJbnRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgc2V0T3B0aW9uLCBnZXRPcHRpb24gfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9zdG9yZS9zbGljZXMvc2V0dGluZ3MnO1xuXG4vKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyB1c2VTZWxlY3RvciwgdXNlRGlzcGF0Y2ggfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBfXyB9IGZyb20gJ0B3b3JkcHJlc3MvaTE4bic7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cywgRnJhZ21lbnQgYXMgX0ZyYWdtZW50IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5leHBvcnQgZnVuY3Rpb24gU3ViTWVudSgpIHtcbiAgdmFyIG9wdGlvbnMgPSB3aW5kb3cuaXZ0TW9kdWxlVmFycy5tZW51X2xvY2F0aW9ucyB8fCBbXTtcbiAgdmFyIGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcbiAgdmFyIG1lbnVMb2NhdGlvbiA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBnZXRPcHRpb24oc3RhdGUsICdtZW51X2xvY2F0aW9uJyk7XG4gIH0pO1xuICB2YXIgbWVudVRpdGxlID0gdXNlU2VsZWN0b3IoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgcmV0dXJuIGdldE9wdGlvbihzdGF0ZSwgJ21lbnVfdGl0bGUnLCBfXygnVmlkZW8gVHV0b3JpYWxzJywgJ3dwbXVkZXZfdmlkcycpKTtcbiAgfSk7XG4gIHZhciB1cGRhdGVNZW51TG9jYXRpb24gPSBmdW5jdGlvbiB1cGRhdGVNZW51TG9jYXRpb24odmFsdWUpIHtcbiAgICBkaXNwYXRjaChzZXRPcHRpb24oe1xuICAgICAga2V5OiAnbWVudV9sb2NhdGlvbicsXG4gICAgICB2YWx1ZTogdmFsdWVcbiAgICB9KSk7XG4gIH07XG4gIHZhciB1cGRhdGVNZW51VGl0bGUgPSBmdW5jdGlvbiB1cGRhdGVNZW51VGl0bGUodmFsdWUpIHtcbiAgICBkaXNwYXRjaChzZXRPcHRpb24oe1xuICAgICAga2V5OiAnbWVudV90aXRsZScsXG4gICAgICB2YWx1ZTogdmFsdWVcbiAgICB9KSk7XG4gIH07XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeHMoX0ZyYWdtZW50LCB7XG4gICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeHMoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInN1aS1mb3JtLWZpZWxkXCIsXG4gICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KExhYmVsLCB7XG4gICAgICAgIGh0bWxGb3I6IFwid3BtdWRldi12aWRlb3Mtc2V0dGluZ3MtdHV0b3JpYWxzLXBvc2l0aW9uXCIsXG4gICAgICAgIGlkOiBcIndwbXVkZXYtdmlkZW9zLXNldHRpbmdzLXR1dG9yaWFscy1wb3NpdGlvbi1sYWJlbFwiLFxuICAgICAgICBjaGlsZHJlbjogX18oJ0Nob29zZSB0aGUgbG9jYXRpb24gb2YgdGhlIHZpZGVvcyBwYWdlIGluIHRoZSBhZG1pbiBtZW51LicsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFNlbGVjdCwge1xuICAgICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgICB2YWx1ZTogbWVudUxvY2F0aW9uLFxuICAgICAgICBvbkNoYW5nZTogdXBkYXRlTWVudUxvY2F0aW9uLFxuICAgICAgICBpZDogXCJ3cG11ZGV2LXZpZGVvcy1zZXR0aW5ncy10dXRvcmlhbHMtcG9zaXRpb25cIixcbiAgICAgICAgbGFiZWxJRDogXCJ3cG11ZGV2LXZpZGVvcy1zZXR0aW5ncy10dXRvcmlhbHMtcG9zaXRpb24tbGFiZWxcIixcbiAgICAgICAgcGxhY2Vob2xkZXI6IF9fKCdTZWxlY3QgaXRlbScsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSldXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4cyhcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwic3VpLWZvcm0tZmllbGRcIixcbiAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goTGFiZWwsIHtcbiAgICAgICAgaHRtbEZvcjogXCJ3cG11ZGV2LXZpZGVvcy1zZXR0aW5ncy10dXRvcmlhbHMtdGl0bGVcIixcbiAgICAgICAgaWQ6IFwid3BtdWRldi12aWRlb3Mtc2V0dGluZ3MtdHV0b3JpYWxzLXRpdGxlLWxhYmVsXCIsXG4gICAgICAgIGNoaWxkcmVuOiBfXygnU2hvdyB0aGUgdHV0b3JpYWxzIHRhYiBpbiB0aGUgV1AgQWRtaW4gc2lkZWJhcicsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KElucHV0LCB7XG4gICAgICAgIHZhbHVlOiBtZW51VGl0bGUgfHwgJycsXG4gICAgICAgIG9uQ2hhbmdlOiB1cGRhdGVNZW51VGl0bGUsXG4gICAgICAgIGlkOiBcIndwbXVkZXYtdmlkZW9zLXNldHRpbmdzLXR1dG9yaWFscy10aXRsZVwiLFxuICAgICAgICBwbGFjZWhvbGRlcjogX18oJ1ZpZGVvIFR1dG9yaWFscycsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSldXG4gICAgfSldXG4gIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgU3ViTWVudTsiLCIvKipcbiAqIExpYnJhcnkgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IEJveCwgQm9yZGVyRnJhbWUsIFRvZ2dsZSB9IGZyb20gJy4uLy4uLy4uLy4uL2xpYi9jb21wb25lbnRzJztcblxuLyoqXG4gKiBXb3JkUHJlc3MgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IF9fIH0gZnJvbSAnQHdvcmRwcmVzcy9pMThuJztcblxuLyoqXG4gKiBJbnRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgU3ViTWVudSB9IGZyb20gJy4vUGFydGlhbHMvU3ViTWVudSc7XG5pbXBvcnQgeyBUYWJzRm9vdGVyIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9UYWJzRm9vdGVyJztcbmltcG9ydCB7IHNldE9wdGlvbiwgZ2V0T3B0aW9uIH0gZnJvbSAnLi4vLi4vLi4vLi4vc3RvcmUvc2xpY2VzL3NldHRpbmdzJztcblxuLyoqXG4gKiBFeHRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgdXNlU2VsZWN0b3IsIHVzZURpc3BhdGNoIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmV4cG9ydCBmdW5jdGlvbiBEaXNwbGF5U2V0dGluZ3MoKSB7XG4gIHZhciBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gIHZhciBzaG93TWVudSA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBnZXRPcHRpb24oc3RhdGUsICdzaG93X21lbnUnKTtcbiAgfSk7XG4gIHZhciBjb250ZXh0SGVscCA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBnZXRPcHRpb24oc3RhdGUsICdjb250ZXh0dWFsX2hlbHAnKTtcbiAgfSk7XG4gIHZhciB1cGRhdGVTaG93TWVudSA9IGZ1bmN0aW9uIHVwZGF0ZVNob3dNZW51KHZhbHVlKSB7XG4gICAgZGlzcGF0Y2goc2V0T3B0aW9uKHtcbiAgICAgIGtleTogJ3Nob3dfbWVudScsXG4gICAgICB2YWx1ZTogdmFsdWVcbiAgICB9KSk7XG4gIH07XG4gIHZhciB1cGRhdGVDb250ZXh0SGVscCA9IGZ1bmN0aW9uIHVwZGF0ZUNvbnRleHRIZWxwKHZhbHVlKSB7XG4gICAgZGlzcGF0Y2goc2V0T3B0aW9uKHtcbiAgICAgIGtleTogJ2NvbnRleHR1YWxfaGVscCcsXG4gICAgICB2YWx1ZTogdmFsdWVcbiAgICB9KSk7XG4gIH07XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeHMoQm94LCB7XG4gICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChCb3guSGVhZGVyLCB7XG4gICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goQm94LlRpdGxlLCB7XG4gICAgICAgIGNoaWxkcmVuOiBfXygnRGlzcGxheSBTZXR0aW5ncycsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSlcbiAgICB9KSwgLyojX19QVVJFX18qL19qc3hzKEJveC5Cb2R5LCB7XG4gICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4cyhCb3guUm93LCB7XG4gICAgICAgIGlzRmx1c2hlZDogdHJ1ZSxcbiAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeHMoQm94LkNvbDEsIHtcbiAgICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KEJveC5MYWJlbCwge1xuICAgICAgICAgICAgY2hpbGRyZW46IF9fKCdUdXRvcmlhbHMgVGFiJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KEJveC5EZXNjcmlwdGlvbiwge1xuICAgICAgICAgICAgY2hpbGRyZW46IF9fKCdDdXN0b21pemUgdGhlIGRlZmF1bHQgXCJWaWRlbyBUdXRvcmlhbHNcIiB0YWIgdGl0bGUgYW5kIHBvc2l0aW9uIGluIHRoZSBXb3JkUHJlc3MgQWRtaW4gbWVudS4nLCAnd3BtdWRldl92aWRzJylcbiAgICAgICAgICB9KV1cbiAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4cyhCb3guQ29sMiwge1xuICAgICAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goXCJkaXZcIiwge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1mb3JtLWZpZWxkXCIsXG4gICAgICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goVG9nZ2xlLCB7XG4gICAgICAgICAgICAgIGNoZWNrZWQ6ICEhc2hvd01lbnUsXG4gICAgICAgICAgICAgIG9uQ2hhbmdlOiB1cGRhdGVTaG93TWVudSxcbiAgICAgICAgICAgICAgbGFiZWw6IF9fKCdTaG93IHRoZSB0dXRvcmlhbHMgdGFiIGluIHRoZSBXUCBBZG1pbiBzaWRlYmFyJywgJ3dwbXVkZXZfdmlkcycpLFxuICAgICAgICAgICAgICBpZDogXCJ3cG11ZGV2LXZpZGVvcy1zZXR0aW5ncy10dXRvcmlhbHMtdGFiXCJcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSksICEhc2hvd01lbnUgJiYgLyojX19QVVJFX18qL19qc3goQm9yZGVyRnJhbWUsIHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChTdWJNZW51LCB7fSlcbiAgICAgICAgICB9KV1cbiAgICAgICAgfSldXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3hzKEJveC5Sb3csIHtcbiAgICAgICAgaXNGbHVzaGVkOiB0cnVlLFxuICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4cyhCb3guQ29sMSwge1xuICAgICAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goQm94LkxhYmVsLCB7XG4gICAgICAgICAgICBjaGlsZHJlbjogX18oJ0hlbHAgVmlkZW9zJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KEJveC5EZXNjcmlwdGlvbiwge1xuICAgICAgICAgICAgY2hpbGRyZW46IF9fKCdUaGlzIHdpbGwgYWRkIHRoZSBhcHByb3ByaWF0ZSB2aWRlbyB0dXRvcmlhbHMgdG8gdGhlIGhlbHAgZHJvcGRvd25zIG9uIFdvcmRQcmVzcyBhZG1pbiBzY3JlZW5zLicsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgICAgIH0pXVxuICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goQm94LkNvbDIsIHtcbiAgICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goXCJkaXZcIiwge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1mb3JtLWZpZWxkXCIsXG4gICAgICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goVG9nZ2xlLCB7XG4gICAgICAgICAgICAgIGNoZWNrZWQ6ICEhY29udGV4dEhlbHAsXG4gICAgICAgICAgICAgIG9uQ2hhbmdlOiB1cGRhdGVDb250ZXh0SGVscCxcbiAgICAgICAgICAgICAgbGFiZWw6IF9fKCdBZGQgVmlkZW9zIHRvIENvbnRleHR1YWwgSGVscCcsICd3cG11ZGV2X3ZpZHMnKSxcbiAgICAgICAgICAgICAgaWQ6IFwid3BtdWRldi12aWRlb3Mtc2V0dGluZ3MtaGVscC12aWRlb3NcIlxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KVxuICAgICAgICB9KV1cbiAgICAgIH0pXVxuICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChUYWJzRm9vdGVyLCB7fSldXG4gIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgRGlzcGxheVNldHRpbmdzOyIsImV4cG9ydCAqIGZyb20gJy4vRGlzcGxheVNldHRpbmdzJzsiLCJmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkocikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKHIpIHx8IF9pdGVyYWJsZVRvQXJyYXkocikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkgeyBpZiAocikgeyBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gXCJPYmplY3RcIiA9PT0gdCAmJiByLmNvbnN0cnVjdG9yICYmICh0ID0gci5jb25zdHJ1Y3Rvci5uYW1lKSwgXCJNYXBcIiA9PT0gdCB8fCBcIlNldFwiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6IFwiQXJndW1lbnRzXCIgPT09IHQgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkgPyBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSA6IHZvaWQgMDsgfSB9XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KHIpIHsgaWYgKFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiBudWxsICE9IHJbU3ltYm9sLml0ZXJhdG9yXSB8fCBudWxsICE9IHJbXCJAQGl0ZXJhdG9yXCJdKSByZXR1cm4gQXJyYXkuZnJvbShyKTsgfVxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKHIpIHsgaWYgKEFycmF5LmlzQXJyYXkocikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyKTsgfVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfVxuLyoqXG4gKiBMaWJyYXJ5IGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBDaGVja2JveCB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2xpYi9jb21wb25lbnRzJztcblxuLyoqXG4gKiBXb3JkUHJlc3MgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IF9fIH0gZnJvbSAnQHdvcmRwcmVzcy9pMThuJztcblxuLyoqXG4gKiBJbnRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgaXNOZXR3b3JrIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vaGVscGVycy91dGlscyc7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIGl0ZW1zID0ge1xuICB2aWRlb3M6IF9fKCdWaWRlb3MnLCAnd3BtdWRldl92aWRzJyksXG4gIHBsYXlsaXN0czogX18oJ1BsYXlsaXN0cycsICd3cG11ZGV2X3ZpZHMnKSxcbiAgZGlzcGxheTogX18oJ0Rpc3BsYXkgU2V0dGluZ3MnLCAnd3BtdWRldl92aWRzJylcbn07XG5cbi8vIFBlcm1pc3Npb24gc2V0dGluZ3Mgbm90IHJlcXVpcmVkIG9uIG11bHRpc2l0ZS5cbmlmICghaXNOZXR3b3JrKCkpIHtcbiAgaXRlbXNbJ3Blcm1pc3Npb25zJ10gPSBfXygnUGVybWlzc2lvbnMnLCAnd3BtdWRldl92aWRzJyk7XG59XG5leHBvcnQgZnVuY3Rpb24gQ29uZmlncyhfcmVmKSB7XG4gIHZhciBvbkNoYW5nZSA9IF9yZWYub25DaGFuZ2UsXG4gICAgc2VsZWN0ZWQgPSBfcmVmLnNlbGVjdGVkLFxuICAgIGlkID0gX3JlZi5pZCxcbiAgICBjb3VudHMgPSBfcmVmLmNvdW50cztcbiAgLyoqXG4gICAqIENoZWNrIGlmIGFsbCBpdGVtcyBhcmUgc2VsZWN0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7bGlzdH0gbGlzdCBsaXN0IG9mIGl0ZW1zIHRvIGNoZWNrIHVwb25cbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICB2YXIgYWxsU2VsZWN0ZWQgPSBmdW5jdGlvbiBhbGxTZWxlY3RlZChsaXN0KSB7XG4gICAgdmFyIGl0ZW1zTGlzdCA9IE9iamVjdC5rZXlzKGl0ZW1zKTtcbiAgICByZXR1cm4gaXRlbXNMaXN0LmV2ZXJ5KGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBsaXN0LmluY2x1ZGVzKGtleSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE9uIHN1YiBpdGVtcyBjaGVjayBjaGFuZ2UuXG4gICAqXG4gICAqIElmIGFsbCBzdWIgaXRlbXMgYXJlIHNlbGVjdGVkLCBzZWxlY3RcbiAgICogYWxsIG9wdGlvbnMgYWxzby5cbiAgICpcbiAgICovXG4gIGZ1bmN0aW9uIHRvZ2dsZUl0ZW0oa2V5LCBjaGVja2l0KSB7XG4gICAgdmFyIG5ld1NlbGVjdGVkID0gX3RvQ29uc3VtYWJsZUFycmF5KHNlbGVjdGVkKTtcbiAgICBpZiAoY2hlY2tpdCkge1xuICAgICAgbmV3U2VsZWN0ZWQucHVzaChrZXkpO1xuICAgICAgaWYgKGFsbFNlbGVjdGVkKG5ld1NlbGVjdGVkKSkge1xuICAgICAgICBuZXdTZWxlY3RlZC5wdXNoKCdhbGwnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbmV3U2VsZWN0ZWQgPSBuZXdTZWxlY3RlZC5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgIHJldHVybiBlbCAhPT0ga2V5ICYmIGVsICE9PSAnYWxsJztcbiAgICAgIH0pO1xuICAgIH1cbiAgICBvbkNoYW5nZShuZXdTZWxlY3RlZCk7XG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlIGFsbCBzZWxlY3QgY2hlY2tib3ggaXRlbXMuXG4gICAqXG4gICAqIFdoZW4gc2VsZWN0IGNoZWNrYm94IGlzIHNlbGVjdGVkLCBjaGVjayBhbGxcbiAgICogc3ViIGl0ZW1zIGluIHRoZSBsaXN0LlxuICAgKlxuICAgKi9cbiAgdmFyIHRvZ2dsZUFsbCA9IGZ1bmN0aW9uIHRvZ2dsZUFsbCgpIHtcbiAgICBpZiAoIXNlbGVjdGVkLmluY2x1ZGVzKCdhbGwnKSkge1xuICAgICAgLy8gR2V0IGFsbCBpdGVtcyBhcyBzZWxlY3RlZC5cbiAgICAgIHZhciBuZXdTZWxlY3RlZCA9IE9iamVjdC5rZXlzKGl0ZW1zKTtcblxuICAgICAgLy8gUHVzaCBhbGwgb3B0aW9uLlxuICAgICAgbmV3U2VsZWN0ZWQucHVzaCgnYWxsJyk7XG5cbiAgICAgIC8vIFVwZGF0ZSBzdGF0ZS5cbiAgICAgIG9uQ2hhbmdlKG5ld1NlbGVjdGVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVW5jaGVjayBhbGwgaXRlbXMuXG4gICAgICBvbkNoYW5nZShbXSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3hzKFwiZGl2XCIsIHtcbiAgICByb2xlOiBcImdyb3VwXCIsXG4gICAgXCJhcmlhLWxhYmVsbGVkYnlcIjogXCJleHBvcnQtb3B0aW9ucy1sYWJlbFwiLFxuICAgIGNsYXNzTmFtZTogXCJzdWktZm9ybS1maWVsZFwiLFxuICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goQ2hlY2tib3gsIHtcbiAgICAgIGlzU3RhY2tlZDogdHJ1ZSxcbiAgICAgIGNoZWNrZWQ6IGFsbFNlbGVjdGVkKHNlbGVjdGVkKSxcbiAgICAgIG9uQ2hhbmdlOiB0b2dnbGVBbGwsXG4gICAgICBpZDogXCJcIi5jb25jYXQoaWQsIFwiLWl0ZW1zLWFsbFwiKSxcbiAgICAgIGxhYmVsOiBfXygnQWxsJywgJ3dwbXVkZXZfdmlkcycpLFxuICAgICAgdmFsdWU6IFwiYWxsXCIsXG4gICAgICBjbGFzc05hbWU6IFwic3VpLWNoZWNrYm94LXNtXCJcbiAgICB9KSwgT2JqZWN0LmtleXMoaXRlbXMpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL19qc3goQ2hlY2tib3gsIHtcbiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGNoZWNraXQpIHtcbiAgICAgICAgICByZXR1cm4gdG9nZ2xlSXRlbShrZXksIGNoZWNraXQpO1xuICAgICAgICB9LFxuICAgICAgICBjaGVja2VkOiBzZWxlY3RlZC5pbmNsdWRlcyhrZXkpLFxuICAgICAgICBpZDogXCJcIi5jb25jYXQoaWQsIFwiLWl0ZW1zLVwiKS5jb25jYXQoa2V5KSxcbiAgICAgICAgbmFtZTogXCJleHBvcnRbXVwiLFxuICAgICAgICBsYWJlbDogaXRlbXNba2V5XSxcbiAgICAgICAgdmFsdWU6IGtleSxcbiAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1jaGVja2JveC1zbVwiLFxuICAgICAgICB0YWc6IGNvdW50cyA9PT0gbnVsbCB8fCBjb3VudHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvdW50c1trZXldXG4gICAgICB9LCBrZXkpO1xuICAgIH0pXVxuICB9KTtcbn1cbmV4cG9ydCBkZWZhdWx0IENvbmZpZ3M7IiwiZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkociwgZSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKHIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBlKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgZSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkgeyBpZiAocikgeyBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gXCJPYmplY3RcIiA9PT0gdCAmJiByLmNvbnN0cnVjdG9yICYmICh0ID0gci5jb25zdHJ1Y3Rvci5uYW1lKSwgXCJNYXBcIiA9PT0gdCB8fCBcIlNldFwiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6IFwiQXJndW1lbnRzXCIgPT09IHQgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkgPyBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSA6IHZvaWQgMDsgfSB9XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQociwgbCkgeyB2YXIgdCA9IG51bGwgPT0gciA/IG51bGwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgcltTeW1ib2wuaXRlcmF0b3JdIHx8IHJbXCJAQGl0ZXJhdG9yXCJdOyBpZiAobnVsbCAhPSB0KSB7IHZhciBlLCBuLCBpLCB1LCBhID0gW10sIGYgPSAhMCwgbyA9ICExOyB0cnkgeyBpZiAoaSA9ICh0ID0gdC5jYWxsKHIpKS5uZXh0LCAwID09PSBsKSB7IGlmIChPYmplY3QodCkgIT09IHQpIHJldHVybjsgZiA9ICExOyB9IGVsc2UgZm9yICg7ICEoZiA9IChlID0gaS5jYWxsKHQpKS5kb25lKSAmJiAoYS5wdXNoKGUudmFsdWUpLCBhLmxlbmd0aCAhPT0gbCk7IGYgPSAhMCk7IH0gY2F0Y2ggKHIpIHsgbyA9ICEwLCBuID0gcjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFmICYmIG51bGwgIT0gdC5yZXR1cm4gJiYgKHUgPSB0LnJldHVybigpLCBPYmplY3QodSkgIT09IHUpKSByZXR1cm47IH0gZmluYWxseSB7IGlmIChvKSB0aHJvdyBuOyB9IH0gcmV0dXJuIGE7IH0gfVxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKHIpIHsgaWYgKEFycmF5LmlzQXJyYXkocikpIHJldHVybiByOyB9XG4vKipcbiAqIExpYnJhcnkgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IEJveCwgQm9yZGVyRnJhbWUsIEJ1dHRvbiwgVG9nZ2xlLCBMYWJlbCB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2xpYi9jb21wb25lbnRzJztcblxuLyoqXG4gKiBXb3JkUHJlc3MgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IF9fIH0gZnJvbSAnQHdvcmRwcmVzcy9pMThuJztcblxuLyoqXG4gKiBJbnRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgQ29uZmlncyB9IGZyb20gJy4vQ29uZmlncyc7XG5cbi8qKlxuICogRXh0ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZXhwb3J0IGZ1bmN0aW9uIEV4cG9ydFNlY3Rpb24oKSB7XG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShbXSksXG4gICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksXG4gICAgc2VsZWN0ZWQgPSBfdXNlU3RhdGUyWzBdLFxuICAgIHNldFNlbGVjdGVkID0gX3VzZVN0YXRlMlsxXTtcbiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZShmYWxzZSksXG4gICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLFxuICAgIGluY2x1ZGVUaHVtYnMgPSBfdXNlU3RhdGU0WzBdLFxuICAgIHNldEluY2x1ZGVUaHVtYnMgPSBfdXNlU3RhdGU0WzFdO1xuICB2YXIgX3VzZVN0YXRlNSA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICBfdXNlU3RhdGU2ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNSwgMiksXG4gICAgZXhwb3J0aW5nID0gX3VzZVN0YXRlNlswXSxcbiAgICBzZXRFeHBvcnRpbmcgPSBfdXNlU3RhdGU2WzFdO1xuICB2YXIgZXhwb3J0Rm9ybSA9IHVzZVJlZigpO1xuXG4gIC8qKlxuICAgKiBQcm9jZXNzIHRoZSBleHBvcnQgYnV0dG9uIGNsaWNrLlxuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICpcbiAgICovXG4gIHZhciBwcm9jZXNzRXhwb3J0ID0gZnVuY3Rpb24gcHJvY2Vzc0V4cG9ydCgpIHtcbiAgICAvLyBTaG93IHByb2Nlc3NpbmcuXG4gICAgc2V0RXhwb3J0aW5nKHRydWUpO1xuXG4gICAgLy8gU3VibWl0IHRoZSBmb3JtLlxuICAgIGV4cG9ydEZvcm0uY3VycmVudC5zdWJtaXQoKTtcblxuICAgIC8vIFJlbW92ZSBwcm9jZXNzaW5nLlxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgc2V0RXhwb3J0aW5nKGZhbHNlKTtcbiAgICB9LCAyMDAwKTtcbiAgfTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4cyhCb3guUm93LCB7XG4gICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeHMoQm94LkNvbDEsIHtcbiAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goQm94LkxhYmVsLCB7XG4gICAgICAgIGNoaWxkcmVuOiBfXygnRXhwb3J0JywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3goQm94LkRlc2NyaXB0aW9uLCB7XG4gICAgICAgIGNoaWxkcmVuOiBfXygnVXNlIHRoaXMgdG9vbCB0byBleHBvcnQgdGhlIElWVCBjb25maWd1cmF0aW9ucyBhbmQgZGF0YSB0byBhbm90aGVyIHNpdGUuJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICB9KV1cbiAgICB9KSwgLyojX19QVVJFX18qL19qc3hzKEJveC5Db2wyLCB7XG4gICAgICBpZDogXCJleHBvcnQtY29uZmlnc1wiLFxuICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChcImg0XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1zZXR0aW5ncy1sYWJlbFwiLFxuICAgICAgICBjaGlsZHJlbjogX18oJ0V4cG9ydCBDb25maWd1cmF0aW9ucycsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KEJvcmRlckZyYW1lLCB7XG4gICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeHMoXCJmb3JtXCIsIHtcbiAgICAgICAgICBtZXRob2Q6IFwicG9zdFwiLFxuICAgICAgICAgIHJlZjogZXhwb3J0Rm9ybSxcbiAgICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFwiaW5wdXRcIiwge1xuICAgICAgICAgICAgdHlwZTogXCJoaWRkZW5cIixcbiAgICAgICAgICAgIG5hbWU6IFwiaXZ0LWFjdGlvblwiLFxuICAgICAgICAgICAgdmFsdWU6IFwiZXhwb3J0XCJcbiAgICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJpbnB1dFwiLCB7XG4gICAgICAgICAgICB0eXBlOiBcImhpZGRlblwiLFxuICAgICAgICAgICAgbmFtZTogXCJpdnQtZXhwb3J0XCIsXG4gICAgICAgICAgICB2YWx1ZTogXCIxXCJcbiAgICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJpbnB1dFwiLCB7XG4gICAgICAgICAgICB0eXBlOiBcImhpZGRlblwiLFxuICAgICAgICAgICAgbmFtZTogXCJleHBvcnQtbm9uY2VcIixcbiAgICAgICAgICAgIHZhbHVlOiB3aW5kb3cuaXZ0TW9kdWxlVmFycy5leHBvcnRfbm9uY2VcbiAgICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3hzKFwiZGl2XCIsIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJzdWktZm9ybS1maWVsZCB3cG11ZGV2LXZpZGVvcy1leHBvcnQtb3B0aW9uc1wiLFxuICAgICAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChMYWJlbCwge1xuICAgICAgICAgICAgICBpZDogXCJleHBvcnQtb3B0aW9ucy1sYWJlbFwiLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogX18oJ0Nob29zZSBleHBvcnQgb3B0aW9ucycsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwicFwiLCB7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJzdWktZGVzY3JpcHRpb25cIixcbiAgICAgICAgICAgICAgY2hpbGRyZW46IF9fKCdTZWxlY3QgY29uZmlndXJhdGlvbnMgb3IgZGF0YSB0byBleHBvcnQgb3IgY2hlY2sgQWxsIHRvIGV4cG9ydCBhbGwgc2V0dGluZ3MuJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goQ29uZmlncywge1xuICAgICAgICAgICAgICBpZDogXCJleHBvcnQtY29uZmlnXCIsXG4gICAgICAgICAgICAgIG9uQ2hhbmdlOiBzZXRTZWxlY3RlZCxcbiAgICAgICAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkXG4gICAgICAgICAgICB9KV1cbiAgICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3hzKFwiZGl2XCIsIHtcbiAgICAgICAgICAgIHJvbGU6IFwiZ3JvdXBcIixcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJzdWktZm9ybS1maWVsZCB3cG11ZGV2LXZpZGVvcy1leHBvcnQtb3B0aW9uc1wiLFxuICAgICAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChcInBcIiwge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IFwic3VpLWxhYmVsXCIsXG4gICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgbWFyZ2luOiAnMCAwIDEwcHgnXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBfXygnRXhwb3J0IHRodW1ibmFpbHMnLCAnd3BtdWRldl92aWRzJylcbiAgICAgICAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChUb2dnbGUsIHtcbiAgICAgICAgICAgICAgY2hlY2tlZDogaW5jbHVkZVRodW1icyxcbiAgICAgICAgICAgICAgb25DaGFuZ2U6IHNldEluY2x1ZGVUaHVtYnMsXG4gICAgICAgICAgICAgIGxhYmVsOiBfXygnSW5jbHVkZSB2aWRlbyBhbmQgcGxheWxpc3QgdGh1bWJuYWlscyBpbiBleHBvcnQuJywgJ3dwbXVkZXZfdmlkcycpLFxuICAgICAgICAgICAgICBuYW1lOiBcImV4cG9ydFtdXCIsXG4gICAgICAgICAgICAgIGlkOiBcImV4cG9ydC1jb25maWctaXRlbXMtdGh1bWJcIixcbiAgICAgICAgICAgICAgdmFsdWU6IFwidGh1bWJcIlxuICAgICAgICAgICAgfSldXG4gICAgICAgICAgfSldXG4gICAgICAgIH0pXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3goQnV0dG9uLCB7XG4gICAgICAgIG9uQ2xpY2s6IHByb2Nlc3NFeHBvcnQsXG4gICAgICAgIGlzTG9hZGluZzogZXhwb3J0aW5nLFxuICAgICAgICBkaXNhYmxlZDogc2VsZWN0ZWQubGVuZ3RoID09PSAwLFxuICAgICAgICBpY29uOiBcInVwbG9hZC1jbG91ZFwiLFxuICAgICAgICBvbkxvYWRpbmdUZXh0OiBfXygnRXhwb3J0aW5nJywgJ3dwbXVkZXZfdmlkcycpLFxuICAgICAgICBjaGlsZHJlbjogX18oJ0V4cG9ydCcsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSldXG4gICAgfSldXG4gIH0pO1xufSIsImZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfVxuZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KGUsIHIsIHQpIHsgcmV0dXJuIChyID0gX3RvUHJvcGVydHlLZXkocikpIGluIGUgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgeyB2YWx1ZTogdCwgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9KSA6IGVbcl0gPSB0LCBlOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleSh0KSB7IHZhciBpID0gX3RvUHJpbWl0aXZlKHQsIFwic3RyaW5nXCIpOyByZXR1cm4gXCJzeW1ib2xcIiA9PSBfdHlwZW9mKGkpID8gaSA6IGkgKyBcIlwiOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikgeyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKHQpIHx8ICF0KSByZXR1cm4gdDsgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmICh2b2lkIDAgIT09IGUpIHsgdmFyIGkgPSBlLmNhbGwodCwgciB8fCBcImRlZmF1bHRcIik7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YoaSkpIHJldHVybiBpOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsgfVxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KHIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhyKSB8fCBfaXRlcmFibGVUb0FycmF5KHIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfVxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShyKSB7IGlmIChcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgbnVsbCAhPSByW1N5bWJvbC5pdGVyYXRvcl0gfHwgbnVsbCAhPSByW1wiQEBpdGVyYXRvclwiXSkgcmV0dXJuIEFycmF5LmZyb20ocik7IH1cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhyKSB7IGlmIChBcnJheS5pc0FycmF5KHIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkocik7IH1cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KHIsIGUpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQociwgZSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGUpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGEpIHsgaWYgKHIpIHsgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKTsgdmFyIHQgPSB7fS50b1N0cmluZy5jYWxsKHIpLnNsaWNlKDgsIC0xKTsgcmV0dXJuIFwiT2JqZWN0XCIgPT09IHQgJiYgci5jb25zdHJ1Y3RvciAmJiAodCA9IHIuY29uc3RydWN0b3IubmFtZSksIFwiTWFwXCIgPT09IHQgfHwgXCJTZXRcIiA9PT0gdCA/IEFycmF5LmZyb20ocikgOiBcIkFyZ3VtZW50c1wiID09PSB0IHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpID8gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgOiB2b2lkIDA7IH0gfVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfVxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGwpIHsgdmFyIHQgPSBudWxsID09IHIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByW1wiQEBpdGVyYXRvclwiXTsgaWYgKG51bGwgIT0gdCkgeyB2YXIgZSwgbiwgaSwgdSwgYSA9IFtdLCBmID0gITAsIG8gPSAhMTsgdHJ5IHsgaWYgKGkgPSAodCA9IHQuY2FsbChyKSkubmV4dCwgMCA9PT0gbCkgeyBpZiAoT2JqZWN0KHQpICE9PSB0KSByZXR1cm47IGYgPSAhMTsgfSBlbHNlIGZvciAoOyAhKGYgPSAoZSA9IGkuY2FsbCh0KSkuZG9uZSkgJiYgKGEucHVzaChlLnZhbHVlKSwgYS5sZW5ndGggIT09IGwpOyBmID0gITApOyB9IGNhdGNoIChyKSB7IG8gPSAhMCwgbiA9IHI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghZiAmJiBudWxsICE9IHQucmV0dXJuICYmICh1ID0gdC5yZXR1cm4oKSwgT2JqZWN0KHUpICE9PSB1KSkgcmV0dXJuOyB9IGZpbmFsbHkgeyBpZiAobykgdGhyb3cgbjsgfSB9IHJldHVybiBhOyB9IH1cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhyKSB7IGlmIChBcnJheS5pc0FycmF5KHIpKSByZXR1cm4gcjsgfVxuLyoqXG4gKiBMaWJyYXJ5IGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBCdXR0b24sIEJveCwgU3RhdGljTm90aWNlLCBCb3JkZXJGcmFtZSwgVG9nZ2xlLCBJY29uQnV0dG9uIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbGliL2NvbXBvbmVudHMnO1xuXG4vKipcbiAqIFdvcmRQcmVzcyBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgX18gfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuXG4vKipcbiAqIEludGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBDb25maWdzIH0gZnJvbSAnLi4vUGFydGlhbHMnO1xuaW1wb3J0IHsgcmVzdFBvc3QgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9oZWxwZXJzL2FwaSc7XG5cbi8qKlxuICogRXh0ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBpdGVtcyA9IHtcbiAgdmlkZW9zOiBfXygnVmlkZW9zJywgJ3dwbXVkZXZfdmlkcycpLFxuICBwbGF5bGlzdHM6IF9fKCdQbGF5bGlzdHMnLCAnd3BtdWRldl92aWRzJyksXG4gIGRpc3BsYXk6IF9fKCdEaXNwbGF5IFNldHRpbmdzJywgJ3dwbXVkZXZfdmlkcycpXG59O1xuZXhwb3J0IGZ1bmN0aW9uIEltcG9ydENvbmZpcm1hdGlvbihfcmVmKSB7XG4gIHZhciBtb2RhbElEID0gX3JlZi5tb2RhbElELFxuICAgIGNsb3NlID0gX3JlZi5jbG9zZSxcbiAgICBkYXRhID0gX3JlZi5kYXRhLFxuICAgIG9uSW1wb3J0ID0gX3JlZi5vbkltcG9ydDtcbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKFtdKSxcbiAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSxcbiAgICBzZWxlY3RlZCA9IF91c2VTdGF0ZTJbMF0sXG4gICAgc2V0U2VsZWN0ZWQgPSBfdXNlU3RhdGUyWzFdO1xuICB2YXIgX3VzZVN0YXRlMyA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksXG4gICAgaW5jbHVkZVRodW1icyA9IF91c2VTdGF0ZTRbMF0sXG4gICAgc2V0SW5jbHVkZVRodW1icyA9IF91c2VTdGF0ZTRbMV07XG4gIHZhciBfdXNlU3RhdGU1ID0gdXNlU3RhdGUoe1xuICAgICAgdmlkZW9zOiAwLFxuICAgICAgcGxheWxpc3RzOiAwXG4gICAgfSksXG4gICAgX3VzZVN0YXRlNiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTUsIDIpLFxuICAgIGNvdW50cyA9IF91c2VTdGF0ZTZbMF0sXG4gICAgc2V0Q291bnRzID0gX3VzZVN0YXRlNlsxXTtcbiAgdmFyIF91c2VTdGF0ZTcgPSB1c2VTdGF0ZShmYWxzZSksXG4gICAgX3VzZVN0YXRlOCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTcsIDIpLFxuICAgIGRpc2FibGVUaHVtYiA9IF91c2VTdGF0ZThbMF0sXG4gICAgc2V0RGlzYWJsZVRodW1iID0gX3VzZVN0YXRlOFsxXTtcbiAgdmFyIF91c2VTdGF0ZTkgPSB1c2VTdGF0ZShudWxsKSxcbiAgICBfdXNlU3RhdGUxMCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTksIDIpLFxuICAgIGZpbGUgPSBfdXNlU3RhdGUxMFswXSxcbiAgICBzZXRGaWxlID0gX3VzZVN0YXRlMTBbMV07XG4gIHZhciBfdXNlU3RhdGUxMSA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICBfdXNlU3RhdGUxMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTExLCAyKSxcbiAgICBpc1Byb2Nlc3NpbmcgPSBfdXNlU3RhdGUxMlswXSxcbiAgICBzZXRQcm9jZXNzaW5nID0gX3VzZVN0YXRlMTJbMV07XG5cbiAgLyoqXG4gICAqIFNlbmQgaW1wb3J0IGRhdGEgdG8gYmFja2VuZFxuICAgKi9cbiAgdmFyIGltcG9ydERhdGEgPSBmdW5jdGlvbiBpbXBvcnREYXRhKCkge1xuICAgIHNldFByb2Nlc3NpbmcodHJ1ZSk7XG4gICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG5cbiAgICAvLyBBcHBlbmQgZmlsZS5cbiAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTtcblxuICAgIC8vIEFwcGVuZCBzZWxlY3RlZCBpdGVtcy5cbiAgICBmb3JtRGF0YS5hcHBlbmQoJ3NlbGVjdGVkJywgc2VsZWN0ZWQpO1xuXG4gICAgLy8gU2hvdWxkIGltcG9ydCB0aHVtYnMuXG4gICAgZm9ybURhdGEuYXBwZW5kKCd0aHVtYicsIGluY2x1ZGVUaHVtYnMpO1xuICAgIHJlc3RQb3N0KHtcbiAgICAgIHBhdGg6ICdkYXRhL2ltcG9ydCcsXG4gICAgICBib2R5OiBmb3JtRGF0YVxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBpZiAocmVzcG9uc2Uuc3VjY2VzcyAmJiByZXNwb25zZS5kYXRhKSB7XG4gICAgICAgIC8vIGNhbGxiYWNrIG9uIHN1Y2Nlc3NcbiAgICAgICAgb25JbXBvcnQoKTtcbiAgICAgICAgc2V0UHJvY2Vzc2luZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyBgc2VsZWN0ZWRgIHN0YXRlXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpdGVtIHRvIHB1c2ggdG8gdGhlIHNlbGVjdGVkIGFycmF5XG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgdmFyIGFkZFRvU2VsZWN0ZWQgPSBmdW5jdGlvbiBhZGRUb1NlbGVjdGVkKGl0ZW0pIHtcbiAgICBzZXRTZWxlY3RlZChmdW5jdGlvbiAocHJldlNlbGVjdGVkKSB7XG4gICAgICByZXR1cm4gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwcmV2U2VsZWN0ZWQpLCBbaXRlbV0pO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGBjb3VudHNgIHN0YXRlXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgdmFyIHVwZGF0ZUNvdW50cyA9IGZ1bmN0aW9uIHVwZGF0ZUNvdW50cyhrZXksIHZhbHVlKSB7XG4gICAgc2V0Q291bnRzKGZ1bmN0aW9uIChwcmV2Q291bnRzKSB7XG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwcmV2Q291bnRzKSwge30sIF9kZWZpbmVQcm9wZXJ0eSh7fSwga2V5LCB2YWx1ZSkpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXNldHMgdGhlIE1vZGFsXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgdmFyIHJlc2V0TW9kYWwgPSBmdW5jdGlvbiByZXNldE1vZGFsKCkge1xuICAgIHNldEZpbGUobnVsbCk7XG4gICAgc2V0SW5jbHVkZVRodW1icyhmYWxzZSk7XG4gICAgc2V0U2VsZWN0ZWQoW10pO1xuICAgIHNldENvdW50cyh7XG4gICAgICB2aWRlb3M6IDAsXG4gICAgICBwbGF5bGlzdHM6IDBcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IGRhdGEgZm9yIHRoZSBjb25maXJtYXRpb24gbW9kYWwuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIERhdGEgdG8gaW1wb3J0LlxuICAgKlxuICAgKiBAc2luY2UgMS44LjNcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICB2YXIgc2V0TW9kYWxEYXRhID0gZnVuY3Rpb24gc2V0TW9kYWxEYXRhKCkge1xuICAgIGlmIChkYXRhLnZpZGVvcyA+IDApIHtcbiAgICAgIC8vIFNldCB2aWRlb3MuXG4gICAgICBhZGRUb1NlbGVjdGVkKCd2aWRlb3MnKTtcblxuICAgICAgLy8gU2V0IGNvdW50LlxuICAgICAgdXBkYXRlQ291bnRzKCd2aWRlb3MnLCBkYXRhLnZpZGVvcyk7XG4gICAgfVxuICAgIGlmIChkYXRhLnBsYXlsaXN0cyA+IDApIHtcbiAgICAgIC8vIFNldCBwbGF5bGlzdHMuXG4gICAgICBhZGRUb1NlbGVjdGVkKCdwbGF5bGlzdHMnKTtcblxuICAgICAgLy8gU2V0IHRoZSBjb3VudC5cbiAgICAgIHVwZGF0ZUNvdW50cygncGxheWxpc3RzJywgZGF0YS5wbGF5bGlzdHMpO1xuICAgIH1cbiAgICBpZiAoZGF0YS5kaXNwbGF5KSB7XG4gICAgICBhZGRUb1NlbGVjdGVkKCdkaXNwbGF5Jyk7XG4gICAgfVxuICAgIGlmIChkYXRhLnBlcm1pc3Npb25zKSB7XG4gICAgICBhZGRUb1NlbGVjdGVkKCdwZXJtaXNzaW9ucycpO1xuICAgIH1cblxuICAgIC8vIFRodW1ibmFpbCBuZWVkcyB0byBpbXBvcnQuXG4gICAgc2V0SW5jbHVkZVRodW1icyhkYXRhLnRodW1iKTtcblxuICAgIC8vIERpc2FibGUgdGh1bWIgb3B0aW9uIGlmIG5vdCBlbmFibGVkLlxuICAgIHNldERpc2FibGVUaHVtYighZGF0YS50aHVtYik7XG5cbiAgICAvLyBTZXQgZmlsZS5cbiAgICBpZiAoISFkYXRhLmZpbGUpIHtcbiAgICAgIHNldEZpbGUoZGF0YS5maWxlKTtcbiAgICB9XG4gIH07XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgLy8gUmVzZXQgTW9kYWxcbiAgICByZXNldE1vZGFsKCk7XG5cbiAgICAvLyBTZXQgdGhlIG5ldyBkYXRhXG4gICAgc2V0TW9kYWxEYXRhKCk7XG4gIH0sIFtkYXRhXSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeHMoQm94LCB7XG4gICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeHMoQm94LkhlYWRlciwge1xuICAgICAgY2xhc3NOYW1lOiBcInN1aS1mbGF0dGVuIHN1aS1jb250ZW50LWNlbnRlciBzdWktc3BhY2luZy10b3AtLTYwXCIsXG4gICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KEljb25CdXR0b24sIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1idXR0b24tZmxvYXQtLXJpZ2h0XCIsXG4gICAgICAgIGljb246IFwiY2xvc2VcIixcbiAgICAgICAgb25DbGljazogY2xvc2UsXG4gICAgICAgIHNpemU6IFwibWRcIixcbiAgICAgICAgb3V0bGluZWQ6IGZhbHNlLFxuICAgICAgICBsYWJlbDogX18oJ0Nsb3NlIHRoaXMgZGlhbG9nLicsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwiaDNcIiwge1xuICAgICAgICBpZDogXCJcIi5jb25jYXQobW9kYWxJRCwgXCItdGl0bGVcIiksXG4gICAgICAgIGNsYXNzTmFtZTogXCJzdWktYm94LXRpdGxlIHN1aS1sZ1wiLFxuICAgICAgICBjaGlsZHJlbjogX18oJ0ltcG9ydCcsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwicFwiLCB7XG4gICAgICAgIGlkOiBcIlwiLmNvbmNhdChtb2RhbElELCBcIi1kZXNjXCIpLFxuICAgICAgICBjbGFzc05hbWU6IFwic3VpLWRlc2NyaXB0aW9uXCIsXG4gICAgICAgIGNoaWxkcmVuOiBfXygnVG8gY29udGludWUsIHNlbGVjdCB0aGUgY29uZmlndXJhdGlvbiBkYXRhIHRvIGltcG9ydCBiZWxvdyBhbmQgY2xpY2sgdGhlIGltcG9ydCBidXR0b24gdG8gYmVnaW4uJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICB9KV1cbiAgICB9KSwgLyojX19QVVJFX18qL19qc3hzKEJveC5Cb2R5LCB7XG4gICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KEJvcmRlckZyYW1lLCB7XG4gICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChDb25maWdzLCB7XG4gICAgICAgICAgaWQ6IG1vZGFsSUQsXG4gICAgICAgICAgaXRlbXM6IGl0ZW1zLFxuICAgICAgICAgIHNlbGVjdGVkOiBzZWxlY3RlZCxcbiAgICAgICAgICBvbkNoYW5nZTogc2V0U2VsZWN0ZWQsXG4gICAgICAgICAgY291bnRzOiBjb3VudHNcbiAgICAgICAgfSlcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJzdWktZm9ybS1maWVsZFwiLFxuICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goVG9nZ2xlLCB7XG4gICAgICAgICAgY2hlY2tlZDogaW5jbHVkZVRodW1icyxcbiAgICAgICAgICBvbkNoYW5nZTogc2V0SW5jbHVkZVRodW1icyxcbiAgICAgICAgICBsYWJlbDogX18oJ0ltcG9ydCB0aHVtYm5haWxzJywgJ3dwbXVkZXZfdmlkcycpLFxuICAgICAgICAgIG5hbWU6IFwiZXhwb3J0W11cIixcbiAgICAgICAgICBpZDogXCJcIi5jb25jYXQobW9kYWxJRCwgXCItaXRlbXMtdGh1bWJcIiksXG4gICAgICAgICAgdmFsdWU6IFwidGh1bWJcIixcbiAgICAgICAgICB0b29sdGlwOiBfXygnSW5jbHVkZSB2aWRlbyBhbmQgcGxheWxpc3QgdGh1bWJuYWlscycsICd3cG11ZGV2X3ZpZHMnKSxcbiAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZVRodW1iXG4gICAgICAgIH0pXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3goU3RhdGljTm90aWNlLCB7XG4gICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChcInBcIiwge1xuICAgICAgICAgIGNoaWxkcmVuOiBfXygnTm90ZTogVGhlIHNlbGVjdGVkIGNvbmZpZ3VyYXRpb25zIGFuZCBkYXRhIGFib3ZlIHdpbGwgcmVwbGFjZSB5b3VyIGN1cnJlbnQgc2V0dGluZ3MgYW5kIGRhdGEuJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICAgIH0pXG4gICAgICB9KV1cbiAgICB9KSwgLyojX19QVVJFX18qL19qc3hzKEJveC5Gb290ZXIsIHtcbiAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goQnV0dG9uLCB7XG4gICAgICAgIGNvbG9yOiBcImdyYXlcIixcbiAgICAgICAgaWNvbjogXCJjbG91ZFwiLFxuICAgICAgICBvbkNsaWNrOiBjbG9zZSxcbiAgICAgICAgY2hpbGRyZW46IF9fKCdDYW5jZWwnLCAnd3BtdWRldl92aWRzJylcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChCb3guUmlnaHQsIHtcbiAgICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KEJ1dHRvbiwge1xuICAgICAgICAgIG9uQ2xpY2s6IGltcG9ydERhdGEsXG4gICAgICAgICAgaXNMb2FkaW5nOiBpc1Byb2Nlc3NpbmcsXG4gICAgICAgICAgb25Mb2FkaW5nVGV4dDogX18oJ0ltcG9ydGluZycsICd3cG11ZGV2X3ZpZHMnKSxcbiAgICAgICAgICB0eXBlOiBcImdob3N0XCIsXG4gICAgICAgICAgZGlzYWJsZWQ6IHNlbGVjdGVkLmxlbmd0aCA9PT0gMCxcbiAgICAgICAgICBjaGlsZHJlbjogX18oJ0ltcG9ydCcsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgICB9KVxuICAgICAgfSldXG4gICAgfSldXG4gIH0pO1xufVxuSW1wb3J0Q29uZmlybWF0aW9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgbW9kYWxJRDogJ21vZGFsJyxcbiAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBvbkltcG9ydDogZnVuY3Rpb24gb25JbXBvcnQoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5JbXBvcnRDb25maXJtYXRpb24ucHJvcFR5cGVzID0ge1xuICBtb2RhbElEOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGNsb3NlOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25JbXBvcnQ6IFByb3BUeXBlcy5mdW5jXG59O1xuZXhwb3J0IGRlZmF1bHQgSW1wb3J0Q29uZmlybWF0aW9uOyIsImZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KHIsIGUpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQociwgZSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGUpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGEpIHsgaWYgKHIpIHsgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKTsgdmFyIHQgPSB7fS50b1N0cmluZy5jYWxsKHIpLnNsaWNlKDgsIC0xKTsgcmV0dXJuIFwiT2JqZWN0XCIgPT09IHQgJiYgci5jb25zdHJ1Y3RvciAmJiAodCA9IHIuY29uc3RydWN0b3IubmFtZSksIFwiTWFwXCIgPT09IHQgfHwgXCJTZXRcIiA9PT0gdCA/IEFycmF5LmZyb20ocikgOiBcIkFyZ3VtZW50c1wiID09PSB0IHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpID8gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgOiB2b2lkIDA7IH0gfVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfVxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGwpIHsgdmFyIHQgPSBudWxsID09IHIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByW1wiQEBpdGVyYXRvclwiXTsgaWYgKG51bGwgIT0gdCkgeyB2YXIgZSwgbiwgaSwgdSwgYSA9IFtdLCBmID0gITAsIG8gPSAhMTsgdHJ5IHsgaWYgKGkgPSAodCA9IHQuY2FsbChyKSkubmV4dCwgMCA9PT0gbCkgeyBpZiAoT2JqZWN0KHQpICE9PSB0KSByZXR1cm47IGYgPSAhMTsgfSBlbHNlIGZvciAoOyAhKGYgPSAoZSA9IGkuY2FsbCh0KSkuZG9uZSkgJiYgKGEucHVzaChlLnZhbHVlKSwgYS5sZW5ndGggIT09IGwpOyBmID0gITApOyB9IGNhdGNoIChyKSB7IG8gPSAhMCwgbiA9IHI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghZiAmJiBudWxsICE9IHQucmV0dXJuICYmICh1ID0gdC5yZXR1cm4oKSwgT2JqZWN0KHUpICE9PSB1KSkgcmV0dXJuOyB9IGZpbmFsbHkgeyBpZiAobykgdGhyb3cgbjsgfSB9IHJldHVybiBhOyB9IH1cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhyKSB7IGlmIChBcnJheS5pc0FycmF5KHIpKSByZXR1cm4gcjsgfVxuLyoqXG4gKiBMaWJyYXJ5IGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBCb3gsIFByb2dyZXNzQmFyLCBCdXR0b24sIEljb25CdXR0b24gfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9saWIvY29tcG9uZW50cyc7XG5cbi8qKlxuICogV29yZFByZXNzIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBfXyB9IGZyb20gJ0B3b3JkcHJlc3MvaTE4bic7XG5cbi8qKlxuICogSW50ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IFdoaXRlTGFiZWxCYW5uZXIgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9jb21wb25lbnRzJztcbmltcG9ydCB7IHJlc3RHZXQgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9oZWxwZXJzL2FwaSc7XG5pbXBvcnQgeyBhZGROb3RpY2UgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9zdG9yZS9zbGljZXMvbm90aWNlJztcblxuLyoqXG4gKiBFeHRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZURpc3BhdGNoIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5leHBvcnQgZnVuY3Rpb24gSW1wb3J0UHJvZ3Jlc3MoX3JlZikge1xuICB2YXIgX3dpbmRvdyRpdnRWYXJzO1xuICB2YXIgbW9kYWxJRCA9IF9yZWYubW9kYWxJRCxcbiAgICBjbG9zZSA9IF9yZWYuY2xvc2UsXG4gICAgc2V0SXNQcm9jZXNzaW5nID0gX3JlZi5zZXRJc1Byb2Nlc3Npbmc7XG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZSgwKSxcbiAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSxcbiAgICBwcm9ncmVzcyA9IF91c2VTdGF0ZTJbMF0sXG4gICAgc2V0UHJvZ3Jlc3MgPSBfdXNlU3RhdGUyWzFdO1xuICB2YXIgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIC8vIFVwZGF0ZSBzdGF0dXMgZXZlcnkgNSBzZWNvbmRzLlxuICAgIHZhciBjaGVja2luZyA9IHNldEludGVydmFsKHVwZGF0ZVN0YXR1cywgNTAwMCk7XG5cbiAgICAvLyBjbGVhciBzZXRJbnRlcnZhbFxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBjbGVhckludGVydmFsKGNoZWNraW5nKTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgLyoqXG4gICAqIEdldCBzYXZpbmcgc3RhdHVzXG4gICAqXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICB2YXIgdXBkYXRlU3RhdHVzID0gZnVuY3Rpb24gdXBkYXRlU3RhdHVzKCkge1xuICAgIHJlc3RHZXQoe1xuICAgICAgcGF0aDogJ2RhdGEvaW1wb3J0L3N0YXR1cydcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MgJiYgcmVzcG9uc2UuZGF0YSkge1xuICAgICAgICB1cGRhdGVQcm9ncmVzcyhyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgaWYgKGlzQ29tcGxldGVkKHJlc3BvbnNlLmRhdGEpKSB7XG4gICAgICAgICAgY2xvc2UoKTtcblxuICAgICAgICAgIC8vIFNob3cgc3VjY2VzcyBub3RpY2UuXG4gICAgICAgICAgZGlzcGF0Y2goYWRkTm90aWNlKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IF9fKCdTZXR0aW5ncyBzdWNjZXNzZnVsbHkgaW1wb3J0ZWQgYW5kIGNvbmZpZ3VyZWQuJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgLy8gU3RvcCBQcm9jZXNzaW5nXG4gICAgICAgICAgc2V0SXNQcm9jZXNzaW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyKGVycik7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBwcm9ncmVzcyBiYXIgYmFzZWQgb24gdGhlIGRhdGEuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIFByb2dyZXNzIGRhdGFcbiAgICpcbiAgICogQHNpbmNlIDEuOC4zXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBmdW5jdGlvbiB1cGRhdGVQcm9ncmVzcyhkYXRhKSB7XG4gICAgaWYgKGlzQ29tcGxldGVkKGRhdGEpKSB7XG4gICAgICBzZXRQcm9ncmVzcygxMDApO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgX3Byb2dyZXNzID0gZGF0YS5jb21wbGV0ZWQgLyBkYXRhLnRvdGFsICogMTAwO1xuICAgICAgc2V0UHJvZ3Jlc3MoaXNOYU4oX3Byb2dyZXNzKSA/IDAgOiBNYXRoLnJvdW5kKF9wcm9ncmVzcykpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgcHJvZ3Jlc3MgaXMgY29tcGxldGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YSBQcm9ncmVzcyBkYXRhXG4gICAqXG4gICAqIEBzaW5jZSAxLjguM1xuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgZnVuY3Rpb24gaXNDb21wbGV0ZWQoZGF0YSkge1xuICAgIHJldHVybiBkYXRhLmNvbXBsZXRlZCA+PSBkYXRhLnRvdGFsO1xuICB9XG5cbiAgLy8gR2xvYmFsIFZhcmlhYmxlc1xuICB2YXIgX3JlZjIgPSAoX3dpbmRvdyRpdnRWYXJzID0gd2luZG93Lml2dFZhcnMpICE9PSBudWxsICYmIF93aW5kb3ckaXZ0VmFycyAhPT0gdm9pZCAwID8gX3dpbmRvdyRpdnRWYXJzIDoge30sXG4gICAgaGlkZV9icmFuZGluZyA9IF9yZWYyLndoaXRlbGFiZWwuaGlkZV9icmFuZGluZztcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4cyhCb3gsIHtcbiAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4cyhCb3guSGVhZGVyLCB7XG4gICAgICBjbGFzc05hbWU6IFwic3VpLWZsYXR0ZW4gc3VpLWNvbnRlbnQtY2VudGVyIHN1aS1zcGFjaW5nLXRvcC0tNjBcIixcbiAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goSWNvbkJ1dHRvbiwge1xuICAgICAgICBjbGFzc05hbWU6IFwic3VpLWJ1dHRvbi1mbG9hdC0tcmlnaHRcIixcbiAgICAgICAgaWNvbjogXCJjbG9zZVwiLFxuICAgICAgICBvbkNsaWNrOiBjbG9zZSxcbiAgICAgICAgc2l6ZTogXCJtZFwiLFxuICAgICAgICBvdXRsaW5lZDogZmFsc2UsXG4gICAgICAgIGxhYmVsOiBfXygnQ2xvc2UgdGhpcyBkaWFsb2cuJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJoM1wiLCB7XG4gICAgICAgIGlkOiBcIlwiLmNvbmNhdChtb2RhbElELCBcIi10aXRsZVwiKSxcbiAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1ib3gtdGl0bGUgc3VpLWxnXCIsXG4gICAgICAgIGNoaWxkcmVuOiBfXygnSW1wb3J0JywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJwXCIsIHtcbiAgICAgICAgaWQ6IFwiXCIuY29uY2F0KG1vZGFsSUQsIFwiLWRlc2NcIiksXG4gICAgICAgIGNsYXNzTmFtZTogXCJzdWktZGVzY3JpcHRpb25cIixcbiAgICAgICAgY2hpbGRyZW46IF9fKCdZb3VyIGltcG9ydCBpcyBpbiBwcm9ncmVzcy4gRG93bmxvYWRpbmcgdGh1bWJuYWlscyBtaWdodCB0YWtlIGEgYml0IGxvbmdlciBkZXBlbmRpbmcgb24gdGhlIGZpbGUgc2l6ZXMgYW5kIHZvbHVtZS4gRmVlbCBmcmVlIHRvIGNsb3NlIHRoaXMgbW9kYWwgYXMgeW91ciBpbXBvcnQgd2lsbCBjb250aW51ZSBydW5uaW5nIGluIHRoZSBiYWNrZ3JvdW5kLicsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSldXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4KEJveC5Cb2R5LCB7XG4gICAgICBjZW50ZXJDb250ZW50OiB0cnVlLFxuICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KFByb2dyZXNzQmFyLCB7XG4gICAgICAgIGRlc2NyaXB0aW9uOiBfXygnSW1wb3J0aW5nIGluIHByb2dyZXNzLi4uJywgJ3dwbXVkZXZfdmlkcycpLFxuICAgICAgICBwcm9ncmVzczogcHJvZ3Jlc3NcbiAgICAgIH0pXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4KEJveC5Gb290ZXIsIHtcbiAgICAgIGlzQ2VudGVyZWQ6IHRydWUsXG4gICAgICBpc0ZsYXR0ZW46IHRydWUsXG4gICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goQnV0dG9uLCB7XG4gICAgICAgIGlkOiBcIlwiLmNvbmNhdChtb2RhbElELCBcIi1pbXBvcnQtY29udGludWVcIiksXG4gICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgc2V0SXNQcm9jZXNzaW5nKGZhbHNlKTtcbiAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICB9LFxuICAgICAgICBjaGlsZHJlbjogX18oJ0NvbnRpbnVlIGluIGJhY2tncm91bmQnLCAnd3BtdWRldl92aWRzJylcbiAgICAgIH0pXG4gICAgfSldXG4gIH0pO1xufVxuSW1wb3J0UHJvZ3Jlc3MuZGVmYXVsdFByb3BzID0ge1xuICBtb2RhbElEOiAnTW9kYWwnLFxuICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5JbXBvcnRQcm9ncmVzcy5wcm9wVHlwZXMgPSB7XG4gIG1vZGFsSUQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGNsb3NlOiBQcm9wVHlwZXMuZnVuY1xufTtcbmV4cG9ydCBkZWZhdWx0IEltcG9ydFByb2dyZXNzOyIsImV4cG9ydCAqIGZyb20gJy4vSW1wb3J0Q29uZmlybWF0aW9uJztcbmV4cG9ydCAqIGZyb20gJy4vSW1wb3J0UHJvZ3Jlc3MnOyIsImZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KHIsIGUpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQociwgZSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGUpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGEpIHsgaWYgKHIpIHsgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKTsgdmFyIHQgPSB7fS50b1N0cmluZy5jYWxsKHIpLnNsaWNlKDgsIC0xKTsgcmV0dXJuIFwiT2JqZWN0XCIgPT09IHQgJiYgci5jb25zdHJ1Y3RvciAmJiAodCA9IHIuY29uc3RydWN0b3IubmFtZSksIFwiTWFwXCIgPT09IHQgfHwgXCJTZXRcIiA9PT0gdCA/IEFycmF5LmZyb20ocikgOiBcIkFyZ3VtZW50c1wiID09PSB0IHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpID8gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgOiB2b2lkIDA7IH0gfVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfVxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGwpIHsgdmFyIHQgPSBudWxsID09IHIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByW1wiQEBpdGVyYXRvclwiXTsgaWYgKG51bGwgIT0gdCkgeyB2YXIgZSwgbiwgaSwgdSwgYSA9IFtdLCBmID0gITAsIG8gPSAhMTsgdHJ5IHsgaWYgKGkgPSAodCA9IHQuY2FsbChyKSkubmV4dCwgMCA9PT0gbCkgeyBpZiAoT2JqZWN0KHQpICE9PSB0KSByZXR1cm47IGYgPSAhMTsgfSBlbHNlIGZvciAoOyAhKGYgPSAoZSA9IGkuY2FsbCh0KSkuZG9uZSkgJiYgKGEucHVzaChlLnZhbHVlKSwgYS5sZW5ndGggIT09IGwpOyBmID0gITApOyB9IGNhdGNoIChyKSB7IG8gPSAhMCwgbiA9IHI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghZiAmJiBudWxsICE9IHQucmV0dXJuICYmICh1ID0gdC5yZXR1cm4oKSwgT2JqZWN0KHUpICE9PSB1KSkgcmV0dXJuOyB9IGZpbmFsbHkgeyBpZiAobykgdGhyb3cgbjsgfSB9IHJldHVybiBhOyB9IH1cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhyKSB7IGlmIChBcnJheS5pc0FycmF5KHIpKSByZXR1cm4gcjsgfVxuLyoqXG4gKiBMaWJyYXJ5IGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBCb3gsIEZpbGVVcGxvYWQsIEJ1dHRvbiwgTW9kYWwgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9saWIvY29tcG9uZW50cyc7XG5pbXBvcnQgeyB1c2VNb2RhbCB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2xpYi9ob29rcyc7XG5cbi8qKlxuICogSW50ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IEltcG9ydENvbmZpcm1hdGlvbiwgSW1wb3J0UHJvZ3Jlc3MgfSBmcm9tICcuLi9Nb2RhbHMnO1xuXG4vKipcbiAqIFdvcmRQcmVzcyBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgX18gfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuXG4vKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMsIEZyYWdtZW50IGFzIF9GcmFnbWVudCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZXhwb3J0IGZ1bmN0aW9uIEltcG9ydFNlY3Rpb24oKSB7XG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShudWxsKSxcbiAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSxcbiAgICBmaWxlID0gX3VzZVN0YXRlMlswXSxcbiAgICBzZXRGaWxlID0gX3VzZVN0YXRlMlsxXTtcbiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZSgwKSxcbiAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksXG4gICAgdmlkZW9zID0gX3VzZVN0YXRlNFswXSxcbiAgICBzZXRWaWRlb3MgPSBfdXNlU3RhdGU0WzFdO1xuICB2YXIgX3VzZVN0YXRlNSA9IHVzZVN0YXRlKDApLFxuICAgIF91c2VTdGF0ZTYgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU1LCAyKSxcbiAgICBwbGF5bGlzdHMgPSBfdXNlU3RhdGU2WzBdLFxuICAgIHNldFBsYXlsaXN0cyA9IF91c2VTdGF0ZTZbMV07XG4gIHZhciBfdXNlU3RhdGU3ID0gdXNlU3RhdGUoZmFsc2UpLFxuICAgIF91c2VTdGF0ZTggPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU3LCAyKSxcbiAgICBkaXNwbGF5ID0gX3VzZVN0YXRlOFswXSxcbiAgICBzZXREaXNwbGF5ID0gX3VzZVN0YXRlOFsxXTtcbiAgdmFyIF91c2VTdGF0ZTkgPSB1c2VTdGF0ZShmYWxzZSksXG4gICAgX3VzZVN0YXRlMTAgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU5LCAyKSxcbiAgICBwZXJtaXNzaW9ucyA9IF91c2VTdGF0ZTEwWzBdLFxuICAgIHNldFBlcm1pc3Npb25zID0gX3VzZVN0YXRlMTBbMV07XG4gIHZhciBfdXNlU3RhdGUxMSA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICBfdXNlU3RhdGUxMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTExLCAyKSxcbiAgICB0aHVtYiA9IF91c2VTdGF0ZTEyWzBdLFxuICAgIHNldFRodW1iID0gX3VzZVN0YXRlMTJbMV07XG4gIHZhciBfdXNlU3RhdGUxMyA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICBfdXNlU3RhdGUxNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTEzLCAyKSxcbiAgICBpc1Byb2Nlc3NpbmcgPSBfdXNlU3RhdGUxNFswXSxcbiAgICBzZXRJc1Byb2Nlc3NpbmcgPSBfdXNlU3RhdGUxNFsxXTtcblxuICAvLyBNb2RhbHNcbiAgdmFyIGNvbmZpcm1Nb2RhbElEID0gJ3dwbXVkZXYtdmlkZW9zLWltcG9ydC1jb25maXJtYXRpb24nO1xuICB2YXIgcHJvY2Vzc01vZGFsSUQgPSAnd3BtdWRldi12aWRlb3MtaW1wb3J0LXByb2dyZXNzJztcbiAgdmFyIF91c2VNb2RhbCA9IHVzZU1vZGFsKHtcbiAgICAgIGlkOiBjb25maXJtTW9kYWxJRFxuICAgIH0pLFxuICAgIF91c2VNb2RhbDIgPSBfc2xpY2VkVG9BcnJheShfdXNlTW9kYWwsIDIpLFxuICAgIG9wZW5Db25maXJtTW9kYWwgPSBfdXNlTW9kYWwyWzBdLFxuICAgIGNsb3NlQ29uZmlybU1vZGFsID0gX3VzZU1vZGFsMlsxXTtcbiAgdmFyIF91c2VNb2RhbDMgPSB1c2VNb2RhbCh7XG4gICAgICBpZDogcHJvY2Vzc01vZGFsSURcbiAgICB9KSxcbiAgICBfdXNlTW9kYWw0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZU1vZGFsMywgMiksXG4gICAgY2xvc2VQcm9jZXNzTW9kYWwgPSBfdXNlTW9kYWw0WzFdO1xuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHNldHRpbmdzIGdyb3VwIGlzIHNlbGVjdGVkXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIFNldHRpbmdzIGRhdGEuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFNldHRpbmdzIHR5cGVcbiAgICpcbiAgICogQHNpbmNlIDEuOC4zXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgdmFyIGlzU2VsZWN0ZWQgPSBmdW5jdGlvbiBpc1NlbGVjdGVkKGRhdGEsIHR5cGUpIHtcbiAgICB2YXIgZmllbGRzID0ge1xuICAgICAgcGVybWlzc2lvbnM6IFsncm9sZXMnXSxcbiAgICAgIGRpc3BsYXk6IFsnc2hvd19tZW51JywgJ21lbnVfdGl0bGUnLCAnbWVudV9sb2NhdGlvbicsICdjb250ZXh0dWFsX2hlbHAnXVxuICAgIH07XG4gICAgaWYgKGZpZWxkc1t0eXBlXSkge1xuICAgICAgcmV0dXJuIGZpZWxkc1t0eXBlXS5zb21lKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGRhdGEpLmluY2x1ZGVzKGtleSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGNvdW50IGFuZCBkYXRhIGRldGFpbHMuXG4gICAqXG4gICAqIFJlYWQgdGhlIHVwbG9hZGVkIGpzb24gZmlsZSBhbmQgY2hlY2sgdGhlIGNvbnRlbnRcbiAgICogYW5kIHVwZGF0ZSB0aGUgc3RhdGUgYWNjb3JkaWdseVxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgRXZlbnQuXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgdmFyIHNldERhdGEgPSBmdW5jdGlvbiBzZXREYXRhKGV2ZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFBhcnNlIHRoZSBqc29uIGRhdGEuXG4gICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQudGFyZ2V0LnJlc3VsdCk7XG5cbiAgICAgIC8vIFNldCB0aGUgdmFsdWVzIGZyb20ganNvbi5cbiAgICAgIHNldFRodW1iKGRhdGEudGh1bWIpO1xuICAgICAgc2V0VmlkZW9zKE9iamVjdC5rZXlzKGRhdGEudmlkZW9zKS5sZW5ndGgpO1xuICAgICAgc2V0UGxheWxpc3RzKE9iamVjdC5rZXlzKGRhdGEucGxheWxpc3RzKS5sZW5ndGgpO1xuICAgICAgc2V0RGlzcGxheShpc1NlbGVjdGVkKGRhdGEuc2V0dGluZ3MsICdkaXNwbGF5JykpO1xuICAgICAgc2V0UGVybWlzc2lvbnMoaXNTZWxlY3RlZChkYXRhLnNldHRpbmdzLCAncGVybWlzc2lvbnMnKSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlcGxhY2VzIHRoZSBjb25maXJtYXRpb24gbW9kYWwgd2l0aCB0aGUgcHJvZ3Jlc3MgbW9kYWxcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICB2YXIgb25JbXBvcnREYXRhID0gZnVuY3Rpb24gb25JbXBvcnREYXRhKCkge1xuICAgIFNVSS5yZXBsYWNlTW9kYWwocHJvY2Vzc01vZGFsSUQsIFwiXCIuY29uY2F0KGNvbmZpcm1Nb2RhbElELCBcIi1vcGVuZXJcIiksIFwiXCIuY29uY2F0KHByb2Nlc3NNb2RhbElELCBcIi1pbXBvcnQtY29udGludWVcIikpO1xuXG4gICAgLy8gTW91bnRzIFByb2Nlc3NNb2RhbCBhbmQgc3RhcnQgY2hlY2tpbmcgcHJvZ3Jlc3NcbiAgICBzZXRJc1Byb2Nlc3NpbmcodHJ1ZSk7XG4gIH07XG5cbiAgLy8gb3BlcmF0aW9ucyB1cG9uIGZpbGUgdXBsb2FkXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCEhZmlsZSkge1xuICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlKTtcbiAgICAgIHJlYWRlci5vbmxvYWQgPSBzZXREYXRhO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyByZXNldFxuICAgICAgc2V0VGh1bWIoZmFsc2UpO1xuICAgICAgc2V0VmlkZW9zKDApO1xuICAgICAgc2V0UGxheWxpc3RzKDApO1xuICAgICAgc2V0RGlzcGxheShmYWxzZSk7XG4gICAgICBzZXRQZXJtaXNzaW9ucyhmYWxzZSk7XG4gICAgfVxuICB9LCBbZmlsZV0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3hzKF9GcmFnbWVudCwge1xuICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goTW9kYWwsIHtcbiAgICAgIGlkOiBjb25maXJtTW9kYWxJRCxcbiAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChJbXBvcnRDb25maXJtYXRpb24sIHtcbiAgICAgICAgY2xvc2U6IGNsb3NlQ29uZmlybU1vZGFsLFxuICAgICAgICBtb2RhbElEOiBjb25maXJtTW9kYWxJRCxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHZpZGVvczogdmlkZW9zLFxuICAgICAgICAgIGRpc3BsYXk6IGRpc3BsYXksXG4gICAgICAgICAgcGVybWlzc2lvbnM6IHBlcm1pc3Npb25zLFxuICAgICAgICAgIHRodW1iOiB0aHVtYixcbiAgICAgICAgICBwbGF5bGlzdHM6IHBsYXlsaXN0cyxcbiAgICAgICAgICBmaWxlOiBmaWxlXG4gICAgICAgIH0sXG4gICAgICAgIG9uSW1wb3J0OiBvbkltcG9ydERhdGFcbiAgICAgIH0pXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4KE1vZGFsLCB7XG4gICAgICBpZDogcHJvY2Vzc01vZGFsSUQsXG4gICAgICBjaGlsZHJlbjogaXNQcm9jZXNzaW5nICYmIC8qI19fUFVSRV9fKi9fanN4KEltcG9ydFByb2dyZXNzLCB7XG4gICAgICAgIHNldElzUHJvY2Vzc2luZzogc2V0SXNQcm9jZXNzaW5nLFxuICAgICAgICBjbG9zZTogY2xvc2VQcm9jZXNzTW9kYWwsXG4gICAgICAgIG1vZGFsSUQ6IHByb2Nlc3NNb2RhbElEXG4gICAgICB9KVxuICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeHMoQm94LlJvdywge1xuICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeHMoQm94LkNvbDEsIHtcbiAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChCb3guTGFiZWwsIHtcbiAgICAgICAgICBjaGlsZHJlbjogX18oJ0ltcG9ydCcsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goQm94LkRlc2NyaXB0aW9uLCB7XG4gICAgICAgICAgY2hpbGRyZW46IF9fKCdVc2UgdGhpcyB0b29sIHRvIGltcG9ydCB0aGUgSW50ZWdyYXRlZCBWaWRlbyBUdXRvcmlhbCBjb25maWd1cmF0aW9ucyBhbmQgZGF0YSBmcm9tIGFub3RoZXIgc2l0ZS4nLCAnd3BtdWRldl92aWRzJylcbiAgICAgICAgfSldXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3hzKEJveC5Db2wyLCB7XG4gICAgICAgIGlkOiBcImltcG9ydC1jb25maWdzXCIsXG4gICAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goXCJoNFwiLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1zZXR0aW5ncy1sYWJlbFwiLFxuICAgICAgICAgIGNoaWxkcmVuOiBfXygnSW1wb3J0IENvbmZpZ3VyYXRpb25zJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcInBcIiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJzdWktZGVzY3JpcHRpb25cIixcbiAgICAgICAgICBjaGlsZHJlbjogX18oJ0ltcG9ydCBhbiBJbnRlZ3JhdGVkIFZpZGVvIFR1dG9yaWFsIGNvbmZpZ3VyYXRpb24gYW5kIGRhdGEgZmlsZS4nLCAnd3BtdWRldl92aWRzJylcbiAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4cyhcImRpdlwiLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1mb3JtLWZpZWxkXCIsXG4gICAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeHMoXCJkaXZcIiwge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcIndwbXVkZXYtdmlkZW9zLXVwbG9hZC1pbXBvcnRcIixcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goRmlsZVVwbG9hZCwge1xuICAgICAgICAgICAgICBsYWJlbDogX18oJ1VwbG9hZCBmaWxlJywgJ3dwbXVkZXZfdmlkcycpLFxuICAgICAgICAgICAgICByZW1vdmVMYWJlbDogX18oJ1JlbW92ZSBmaWxlJywgJ3dwbXVkZXZfdmlkcycpLFxuICAgICAgICAgICAgICBhY2NlcHQ6IFwiYXBwbGljYXRpb24vSlNPTlwiLFxuICAgICAgICAgICAgICBvbkNoYW5nZTogc2V0RmlsZVxuICAgICAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KEJ1dHRvbiwge1xuICAgICAgICAgICAgICBjb2xvcjogXCJibHVlXCIsXG4gICAgICAgICAgICAgIGRpc2FibGVkOiAhZmlsZSxcbiAgICAgICAgICAgICAgaWQ6IFwiXCIuY29uY2F0KGNvbmZpcm1Nb2RhbElELCBcIi1vcGVuZXJcIiksXG4gICAgICAgICAgICAgIGljb246IFwiZG93bmxvYWQtY2xvdWRcIixcbiAgICAgICAgICAgICAgb25DbGljazogb3BlbkNvbmZpcm1Nb2RhbCxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IF9fKCdJbXBvcnQnLCAnd3BtdWRldl92aWRzJylcbiAgICAgICAgICAgIH0pXVxuICAgICAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcInBcIiwge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcInN1aS1kZXNjcmlwdGlvblwiLFxuICAgICAgICAgICAgY2hpbGRyZW46IF9fKCdDaG9vc2UgYSBKU09OICguanNvbikgZmlsZSB0byBpbXBvcnQgdGhlIGNvbmZpZ3VyYXRpb25zLicsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgICAgIH0pXVxuICAgICAgICB9KV1cbiAgICAgIH0pXVxuICAgIH0pXVxuICB9KTtcbn0iLCJleHBvcnQgKiBmcm9tICcuL0NvbmZpZ3MnO1xuZXhwb3J0ICogZnJvbSAnLi9FeHBvcnRTZWN0aW9uJztcbmV4cG9ydCAqIGZyb20gJy4vSW1wb3J0U2VjdGlvbic7IiwiLyoqXG4gKiBMaWJyYXJ5IGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi8uLi8uLi8uLi9saWIvY29tcG9uZW50cyc7XG5cbi8qKlxuICogV29yZFByZXNzIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBfXyB9IGZyb20gJ0B3b3JkcHJlc3MvaTE4bic7XG5cbi8qKlxuICogSW50ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IEltcG9ydFNlY3Rpb24sIEV4cG9ydFNlY3Rpb24gfSBmcm9tICcuL1BhcnRpYWxzJztcbmltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5leHBvcnQgZnVuY3Rpb24gSW1wb3J0RXhwb3J0KCkge1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3hzKEJveCwge1xuICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goQm94LkhlYWRlciwge1xuICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KEJveC5UaXRsZSwge1xuICAgICAgICBjaGlsZHJlbjogX18oJ0ltcG9ydCAvIEV4cG9ydCcsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSlcbiAgICB9KSwgLyojX19QVVJFX18qL19qc3hzKEJveC5Cb2R5LCB7XG4gICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KEltcG9ydFNlY3Rpb24sIHt9KSwgLyojX19QVVJFX18qL19qc3goRXhwb3J0U2VjdGlvbiwge30pXVxuICAgIH0pXVxuICB9KTtcbn1cbmV4cG9ydCBkZWZhdWx0IEltcG9ydEV4cG9ydDsiLCJleHBvcnQgKiBmcm9tICcuL0ltcG9ydEV4cG9ydCc7IiwiLyoqXG4gKiBMaWJyYXJ5IGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi8uLi8uLi8uLi9saWIvY29tcG9uZW50cyc7XG5cbi8qKlxuICogSW50ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IFRhYnNGb290ZXIgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL1RhYnNGb290ZXInO1xuaW1wb3J0IHsgVXNlclJvbGVzIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cyc7XG5pbXBvcnQgeyBzZXRPcHRpb24sIGdldE9wdGlvbiB9IGZyb20gJy4uLy4uLy4uLy4uL3N0b3JlL3NsaWNlcy9zZXR0aW5ncyc7XG5cbi8qKlxuICogRXh0ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IHVzZVNlbGVjdG9yLCB1c2VEaXNwYXRjaCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IF9fIH0gZnJvbSAnQHdvcmRwcmVzcy9pMThuJztcbmltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5leHBvcnQgZnVuY3Rpb24gUGVybWlzc2lvbnMoKSB7XG4gIHZhciBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gIHZhciByb2xlc1ZhbHVlcyA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBnZXRPcHRpb24oc3RhdGUsICdyb2xlcycsIFtdKTtcbiAgfSk7XG4gIHZhciB1cGRhdGVSb2xlcyA9IGZ1bmN0aW9uIHVwZGF0ZVJvbGVzKHJvbGVzKSB7XG4gICAgZGlzcGF0Y2goc2V0T3B0aW9uKHtcbiAgICAgIGtleTogJ3JvbGVzJyxcbiAgICAgIHZhbHVlOiByb2xlc1xuICAgIH0pKTtcbiAgfTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4cyhCb3gsIHtcbiAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KEJveC5IZWFkZXIsIHtcbiAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChCb3guVGl0bGUsIHtcbiAgICAgICAgY2hpbGRyZW46IF9fKCdQZXJtaXNzaW9ucycsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgfSlcbiAgICB9KSwgLyojX19QVVJFX18qL19qc3goQm94LkJvZHksIHtcbiAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeHMoQm94LlJvdywge1xuICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4cyhCb3guQ29sMSwge1xuICAgICAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goQm94LkxhYmVsLCB7XG4gICAgICAgICAgICBjaGlsZHJlbjogX18oJ1VzZXIgUGVybWlzc2lvbnMnLCAnd3BtdWRldl92aWRzJylcbiAgICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goQm94LkRlc2NyaXB0aW9uLCB7XG4gICAgICAgICAgICBjaGlsZHJlbjogX18oJ0NvbmZpZ3VyZSB3aGljaCB1c2VyIHJvbGVzIGNhbiBhY2Nlc3MgYW5kIGNvbmZpZ3VyZSBwbHVnaW7igJlzIHNldHRpbmdzLicsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgICAgIH0pXVxuICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3hzKEJveC5Db2wyLCB7XG4gICAgICAgICAgaWQ6IFwidXNlci1wZXJtaXNzaW9uc1wiLFxuICAgICAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goXCJoNFwiLCB7XG4gICAgICAgICAgICBpZDogXCJ1c2VyLXJvbGVzLWxhYmVsXCIsXG4gICAgICAgICAgICBjbGFzc05hbWU6IFwic3VpLXNldHRpbmdzLWxhYmVsXCIsXG4gICAgICAgICAgICBjaGlsZHJlbjogX18oJ1VzZXIgUm9sZXMnLCAnd3BtdWRldl92aWRzJylcbiAgICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJwXCIsIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJzdWktZGVzY3JpcHRpb25cIixcbiAgICAgICAgICAgIGNoaWxkcmVuOiBfXygnQ2hvb3NlIHdoaWNoIHVzZXIgcm9sZXMgY2FuIGhhdmUgYWNjZXNzIGFuZCBjb25maWd1cmUgSW50ZWdyYXRlZCBWaWRlbyBUdXRvcmlhbHMuJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFVzZXJSb2xlcywge1xuICAgICAgICAgICAgcm9sZXNWYWx1ZXM6IHJvbGVzVmFsdWVzLFxuICAgICAgICAgICAgb25DaGFuZ2U6IHVwZGF0ZVJvbGVzXG4gICAgICAgICAgfSldXG4gICAgICAgIH0pXVxuICAgICAgfSlcbiAgICB9KSwgLyojX19QVVJFX18qL19qc3goVGFic0Zvb3Rlciwge30pXVxuICB9KTtcbn1cbmV4cG9ydCBkZWZhdWx0IFBlcm1pc3Npb25zOyIsImV4cG9ydCAqIGZyb20gJy4vUGVybWlzc2lvbnMnOyIsImZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMocikgfHwgX2l0ZXJhYmxlVG9BcnJheShyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkocikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBhKSB7IGlmIChyKSB7IGlmIChcInN0cmluZ1wiID09IHR5cGVvZiByKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkociwgYSk7IHZhciB0ID0ge30udG9TdHJpbmcuY2FsbChyKS5zbGljZSg4LCAtMSk7IHJldHVybiBcIk9iamVjdFwiID09PSB0ICYmIHIuY29uc3RydWN0b3IgJiYgKHQgPSByLmNvbnN0cnVjdG9yLm5hbWUpLCBcIk1hcFwiID09PSB0IHx8IFwiU2V0XCIgPT09IHQgPyBBcnJheS5mcm9tKHIpIDogXCJBcmd1bWVudHNcIiA9PT0gdCB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSA/IF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIDogdm9pZCAwOyB9IH1cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkocikgeyBpZiAoXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIG51bGwgIT0gcltTeW1ib2wuaXRlcmF0b3JdIHx8IG51bGwgIT0gcltcIkBAaXRlcmF0b3JcIl0pIHJldHVybiBBcnJheS5mcm9tKHIpOyB9XG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMocikgeyBpZiAoQXJyYXkuaXNBcnJheShyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIpOyB9XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9XG4vKipcbiAqIExpYnJhcnkgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IEhlYWRlciwgU2lkZU5hdiwgVG9wTm90aWNlIH0gZnJvbSAnLi4vLi4vbGliL2NvbXBvbmVudHMnO1xuXG4vKipcbiAqIEludGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBQYWdlRm9vdGVyIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cyc7XG5pbXBvcnQgeyBEYXRhIH0gZnJvbSAnLi90YWJzL0RhdGEnO1xuaW1wb3J0IHsgRGlzcGxheVNldHRpbmdzIH0gZnJvbSAnLi90YWJzL0Rpc3BsYXlTZXR0aW5ncyc7XG5pbXBvcnQgeyBJbXBvcnRFeHBvcnQgfSBmcm9tICcuL3RhYnMvSW1wb3J0RXhwb3J0JztcbmltcG9ydCB7IFBlcm1pc3Npb25zIH0gZnJvbSAnLi90YWJzL1Blcm1pc3Npb25zJztcbmltcG9ydCB7IGdldEN1cnJlbnROb3RpY2UgfSBmcm9tICcuLi8uLi9zdG9yZS9zbGljZXMvbm90aWNlJztcbmltcG9ydCAnLi9zdHlsZXMvbWFpbi5zY3NzJztcblxuLyoqXG4gKiBXb3JkUHJlc3MgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IF9fIH0gZnJvbSAnQHdvcmRwcmVzcy9pMThuJztcblxuLyoqXG4gKiBFeHRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgdXNlU2VsZWN0b3IgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZXhwb3J0IGZ1bmN0aW9uIEFwcCgpIHtcbiAgdmFyIF93aW5kb3ckaXZ0VmFycyRmbGFncywgX3dpbmRvdyRpdnRWYXJzO1xuICB2YXIgY3VycmVudE5vdGljZSA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBnZXRDdXJyZW50Tm90aWNlKHN0YXRlKTtcbiAgfSk7XG4gIHZhciBpZCA9IGN1cnJlbnROb3RpY2UuaWQsXG4gICAgbWVzc2FnZSA9IGN1cnJlbnROb3RpY2UubWVzc2FnZSxcbiAgICB0eXBlID0gY3VycmVudE5vdGljZS50eXBlLFxuICAgIGRpc21pc3MgPSBjdXJyZW50Tm90aWNlLmRpc21pc3M7XG4gIHZhciBpc011bHRpc2l0ZSA9IChfd2luZG93JGl2dFZhcnMkZmxhZ3MgPSB3aW5kb3cuaXZ0VmFycy5mbGFncy5tdWx0aXNpdGUpICE9PSBudWxsICYmIF93aW5kb3ckaXZ0VmFycyRmbGFncyAhPT0gdm9pZCAwID8gX3dpbmRvdyRpdnRWYXJzJGZsYWdzIDogZmFsc2U7XG5cbiAgLy8gR2xvYmFsIFZhcmlhYmxlc1xuICB2YXIgX3JlZiA9IChfd2luZG93JGl2dFZhcnMgPSB3aW5kb3cuaXZ0VmFycykgIT09IG51bGwgJiYgX3dpbmRvdyRpdnRWYXJzICE9PSB2b2lkIDAgPyBfd2luZG93JGl2dFZhcnMgOiB7fSxcbiAgICBoaWRlX2RvY19saW5rID0gX3JlZi53aGl0ZWxhYmVsLmhpZGVfZG9jX2xpbms7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeHMoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJzdWktd3JhcFwiLFxuICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goSGVhZGVyLCB7XG4gICAgICBzaG93RG9jTGluazogIWhpZGVfZG9jX2xpbmssXG4gICAgICBkb2NMaW5rOiBcImh0dHBzOi8vd3BtdWRldi5jb20vZG9jcy93cG11LWRldi1wbHVnaW5zL2ludGVncmF0ZWQtdmlkZW8tdHV0b3JpYWxzL1wiLFxuICAgICAgZG9jVGV4dDogX18oJ1ZpZXcgRG9jdW1lbnRhdGlvbicsICd3cG11ZGV2X3ZpZHMnKSxcbiAgICAgIHRpdGxlOiBfXygnU2V0dGluZ3MnLCAnd3BtdWRldl92aWRzJylcbiAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInN1aS1mbG9hdGluZy1ub3RpY2VzXCIsXG4gICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goVG9wTm90aWNlLCB7XG4gICAgICAgIGlkOiBpZCxcbiAgICAgICAgZGlzbWlzczogZGlzbWlzcyxcbiAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgbGFiZWw6IF9fKCdEaXNtaXNzIHRoaXMgbm90aWNlJywgJ3dwbXVkZXZfdmlkcycpXG4gICAgICB9KVxuICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChTaWRlTmF2LCB7XG4gICAgICBwYXRoczogW3tcbiAgICAgICAgdGl0bGU6IF9fKCdEaXNwbGF5IFNldHRpbmdzJywgJ3dwbXVkZXZfdmlkcycpLFxuICAgICAgICBsb2NhdGlvbjogJy8nLFxuICAgICAgICBlbGVtZW50OiAvKiNfX1BVUkVfXyovX2pzeChEaXNwbGF5U2V0dGluZ3MsIHt9KVxuICAgICAgfV0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSghaXNNdWx0aXNpdGUgPyBbe1xuICAgICAgICB0aXRsZTogX18oJ1Blcm1pc3Npb25zJywgJ3dwbXVkZXZfdmlkcycpLFxuICAgICAgICBsb2NhdGlvbjogJy9wZXJtaXNzaW9ucycsXG4gICAgICAgIGVsZW1lbnQ6IC8qI19fUFVSRV9fKi9fanN4KFBlcm1pc3Npb25zLCB7fSlcbiAgICAgIH1dIDogW10pLCBbe1xuICAgICAgICB0aXRsZTogX18oJ0ltcG9ydCAvIEV4cG9ydCcsICd3cG11ZGV2X3ZpZHMnKSxcbiAgICAgICAgbG9jYXRpb246ICcvaW1wb3J0LWV4cG9ydCcsXG4gICAgICAgIGVsZW1lbnQ6IC8qI19fUFVSRV9fKi9fanN4KEltcG9ydEV4cG9ydCwge30pXG4gICAgICB9LCB7XG4gICAgICAgIHRpdGxlOiBfXygnRGF0YScsICd3cG11ZGV2X3ZpZHMnKSxcbiAgICAgICAgbG9jYXRpb246ICcvZGF0YScsXG4gICAgICAgIGVsZW1lbnQ6IC8qI19fUFVSRV9fKi9fanN4KERhdGEsIHt9KVxuICAgICAgfV0pXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFBhZ2VGb290ZXIsIHt9KV1cbiAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCBBcHA7IiwiaW1wb3J0IHsgU3RyaWN0TW9kZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20vY2xpZW50JztcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHN0b3JlIGZyb20gJy4uLy4uL3N0b3JlL3N0b3JlJztcbmltcG9ydCB7IEhhc2hSb3V0ZXIgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCBBcHAgZnJvbSAnLi9BcHAnO1xuaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciByb290ID0gUmVhY3RET00uY3JlYXRlUm9vdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd3BtdWRldi12aWRlb3Mtc2V0dGluZ3MtYXBwJykpO1xucm9vdC5yZW5kZXIoIC8qI19fUFVSRV9fKi9fanN4KFN0cmljdE1vZGUsIHtcbiAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KFByb3ZpZGVyLCB7XG4gICAgc3RvcmU6IHN0b3JlLFxuICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChIYXNoUm91dGVyLCB7XG4gICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goQXBwLCB7fSlcbiAgICB9KVxuICB9KVxufSkpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4283\n')},9317:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval('/* unused harmony exports initPlaylists, savePlaylist, createPlaylist, orderChange, deletePlaylist, bulkDelete, getPlaylists, getFiltered, isPlaylistSelected, isVideoSelected, areAllSelected, getSelectedPlaylists, getLoadingStatus, setPlaylist, updatePlaylistKey, togglePlaylist, toggleVideo, toggleAll */\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8740);\n/* harmony import */ var _helpers_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9331);\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4214);\n/* harmony import */ var reselect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1081);\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator.return && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, catch: function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\n\n\n\n\n\n/***************************************************\n *\n * Asynchronous Requests\n *\n * *************************************************/\n/**\n * Initialize the playlist list\n *\n * @return {Promise}\n */\nvar initPlaylists = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'playlists/init\',\n// Redux action type\nfunction (params) {\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restGet */ .B8)({\n    path: \'playlists\',\n    params: params\n  });\n});\n\n/**\n * Save a single playlist changes to database\n *\n * @return {Promise}\n */\nvar savePlaylist = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'playlists/updateSinglePlaylist\',\n// Redux action type\nfunction (data) {\n  var playlist = data.playlist,\n    id = data.id;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restPost */ .J8)({\n    path: "playlists/".concat(id),\n    data: playlist\n  });\n});\n\n/**\n * Create a new playlist\n *\n * @return {Promise}\n */\nvar createPlaylist = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'playlists/createPlaylist\',\n/*#__PURE__*/\n// Redux action type\nfunction () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(data, _ref) {\n    var rejectWithValue, playlist;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          rejectWithValue = _ref.rejectWithValue;\n          playlist = data.playlist;\n          _context.prev = 2;\n          _context.next = 5;\n          return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restPost */ .J8)({\n            path: "playlists",\n            data: playlist\n          });\n        case 5:\n          return _context.abrupt("return", _context.sent);\n        case 8:\n          _context.prev = 8;\n          _context.t0 = _context["catch"](2);\n          return _context.abrupt("return", rejectWithValue(_context.t0));\n        case 11:\n        case "end":\n          return _context.stop();\n      }\n    }, _callee, null, [[2, 8]]);\n  }));\n  return function (_x, _x2) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n/**\n * Change Playlist Order\n *\n * @return {void}\n */\nvar orderChange = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'playlists/changePlaylistOrder\',\n// Redux action type\n\nfunction (data) {\n  var playlistID = data.playlistID,\n    oldIndex = data.oldIndex,\n    newIndex = data.newIndex;\n  if (playlistID > 0 && oldIndex !== newIndex) {\n    (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restGet */ .B8)({\n      path: \'playlists/reorder\',\n      params: {\n        playlist: playlistID,\n        from: oldIndex,\n        to: newIndex\n      }\n    });\n  }\n});\n\n/**\n * Delete a playlist\n *\n * @return {Promise}\n */\nvar deletePlaylist = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'playlists/deletePlaylist\',\n// Redux action type\nfunction (data) {\n  var id = data.id;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restDelete */ ._8)({\n    path: "playlists/".concat(id)\n  });\n});\n\n/**\n * Bulk delete playlists & videos\n *\n * @return {Promise}\n */\nvar bulkDelete = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'playlists/bulkDelete\',\n// Redux action type\nfunction (data) {\n  var selected = data.selected;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restPost */ .J8)({\n    path: "playlists/bulk-actions",\n    data: {\n      action: \'delete\',\n      items: selected\n    }\n  });\n});\n\n/***************************************************\n *\n * Playlists Slice\n *\n * *************************************************/\nvar playlistsSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createSlice */ .Z0)({\n  name: \'playlists\',\n  /***************************************************\n   *\n   * Initial State\n   *\n   * *************************************************/\n\n  initialState: {\n    playlists: {},\n    filtered: [],\n    selected: {},\n    isLoading: false\n  },\n  /***************************************************\n   *\n   * Reducers\n   *\n   * *************************************************/\n  reducers: {\n    /**\n     * Update a single playlist in the playlists list\n     *\n     * If playlist exist, it will replace the playlist object,\n     * if not, it will add the playlist object.\n     *\n     * @param {object} state Current state.\n     * @param {object} action action data.\n     */\n    setPlaylist: function setPlaylist(state, action) {\n      var playlist = action.payload.playlist;\n      var playlists = state.playlists;\n      var newPlaylists = _objectSpread(_objectSpread({}, playlists), {}, _defineProperty({}, playlist.id, playlist));\n      return _objectSpread(_objectSpread({}, state), {}, {\n        playlists: newPlaylists\n      });\n    },\n    /**\n     * Select or deselect a playlist ( checkbox )\n     *\n     * @return {void}\n     */\n    togglePlaylist: function togglePlaylist(state, action) {\n      var _state$playlists, _selected$id;\n      var _action$payload = action.payload,\n        checked = _action$payload.checked,\n        id = _action$payload.id;\n      var allVideos = (_state$playlists = state.playlists) === null || _state$playlists === void 0 || (_state$playlists = _state$playlists[id]) === null || _state$playlists === void 0 ? void 0 : _state$playlists.videos;\n\n      // The new selected object\n      var selected = _objectSpread(_objectSpread({}, state.selected), {}, _defineProperty({}, id, {\n        selected: checked,\n        videos: checked && allVideos || []\n      }));\n\n      // If playlist is not selected and no videos are selected,\n      // remove the playlist\n      if ((selected === null || selected === void 0 || (_selected$id = selected[id]) === null || _selected$id === void 0 || (_selected$id = _selected$id.videos) === null || _selected$id === void 0 ? void 0 : _selected$id.length) === 0 && !checked) {\n        delete selected[id];\n      }\n      return _objectSpread(_objectSpread({}, state), {}, {\n        selected: selected\n      });\n    },\n    /**\n     * Select or de-select all playlists and videos ( checkbox )\n     *\n     * @return {void}\n     */\n    toggleAll: function toggleAll(state, action) {\n      var checked = action.payload.checked;\n      var playlists = state.playlists;\n\n      // The new selected object\n      var newSelected = {};\n      if (checked === true) {\n        Object.keys(playlists).forEach(function (id) {\n          newSelected[id] = {\n            selected: true,\n            videos: (playlists === null || playlists === void 0 ? void 0 : playlists[id].videos) || []\n          };\n        });\n      }\n      return _objectSpread(_objectSpread({}, state), {}, {\n        selected: newSelected\n      });\n    },\n    /**\n     * Update selected videos list ( checkbox )\n     *\n     * @return {void}\n     */\n    toggleVideo: function toggleVideo(state, action) {\n      var _selected$playlistID, _selected$playlistID2;\n      var _action$payload2 = action.payload,\n        videoID = _action$payload2.videoID,\n        playlistID = _action$payload2.playlistID;\n      var selected = state.selected;\n      var videos = (selected === null || selected === void 0 || (_selected$playlistID = selected[playlistID]) === null || _selected$playlistID === void 0 ? void 0 : _selected$playlistID.videos) || [];\n\n      // The new selected object\n      var newSelected = {};\n\n      // The new videos array\n      var newVideos = [];\n\n      // Toggle video\n      if (videos.includes(videoID)) {\n        // Remove video if it exists\n        newVideos = videos.filter(function (el) {\n          return el !== videoID;\n        });\n      } else {\n        // Add video if it doesn\'t exist\n        newVideos = [].concat(_toConsumableArray(videos), [videoID]);\n      }\n      var isPlaylistSelected = (selected === null || selected === void 0 || (_selected$playlistID2 = selected[playlistID]) === null || _selected$playlistID2 === void 0 ? void 0 : _selected$playlistID2.selected) || false;\n\n      // Update selected object\n      newSelected = _objectSpread(_objectSpread({}, selected), {}, _defineProperty({}, playlistID, {\n        selected: isPlaylistSelected,\n        videos: newVideos\n      }));\n\n      /* If playlist is not selected and no video is selected,\n      remove the playlist */\n      if (newVideos.length === 0 && !isPlaylistSelected) {\n        delete newSelected[playlistID];\n      }\n\n      // Set the state\n      return _objectSpread(_objectSpread({}, state), {}, {\n        selected: newSelected\n      });\n    }\n  },\n  /***************************************************\n   *\n   * Extra Reducers\n   *\n   * Manage of asynchronous requests states\n   *\n   * *************************************************/\n  extraReducers: function extraReducers(builder) {\n    builder\n    // Playlists Init\n    .addCase(initPlaylists.pending, function (state) {\n      state.isLoading = true;\n    }).addCase(initPlaylists.fulfilled, function (state, action) {\n      state.isLoading = false;\n      var payload = action.payload;\n      if (payload.success && payload.data) {\n        var playlists = {};\n        var filtered = [];\n\n        // Setup the list data.\n        payload.data.forEach(function (playlist) {\n          playlists[playlist.id] = playlist;\n          filtered.push(playlist.id);\n        });\n\n        // update the state\n        state.playlists = playlists;\n        state.filtered = filtered;\n      }\n    }).addCase(initPlaylists.rejected, function (state) {\n      state.isLoading = false;\n    })\n    // Save Playlist\n    .addCase(savePlaylist.pending, function (state) {\n      state.isLoading = true;\n    }).addCase(savePlaylist.fulfilled, function (state, action) {\n      var data = action.payload.data;\n      var playlists = state.playlists;\n      var newPlaylists = _objectSpread(_objectSpread({}, playlists), {}, _defineProperty({}, data.id, data));\n      state.isLoading = false;\n      state.playlists = newPlaylists;\n    }).addCase(savePlaylist.rejected, function (state) {\n      state.isLoading = false;\n    })\n    // Create Playlist\n    .addCase(createPlaylist.pending, function (state) {\n      state.isLoading = true;\n    }).addCase(createPlaylist.fulfilled, function (state, action) {\n      var _action$payload3 = action.payload,\n        data = _action$payload3.data,\n        success = _action$payload3.success;\n      if (success && data) {\n        var playlists = state.playlists,\n          filtered = state.filtered;\n        // update the list in the store\n        state.playlists = _objectSpread(_objectSpread({}, playlists), {}, _defineProperty({}, data.id, data));\n        state.filtered = [].concat(_toConsumableArray(filtered), [data.id]);\n      }\n      state.isLoading = false;\n    }).addCase(createPlaylist.rejected, function (state) {\n      state.isLoading = false;\n    })\n    // Delete Playlist\n    .addCase(deletePlaylist.pending, function (state) {\n      state.isLoading = true;\n    }).addCase(deletePlaylist.fulfilled, function (state, action) {\n      var id = action.meta.arg.id,\n        success = action.payload.success;\n\n      // Remove the playlist if success\n      if (success === true) {\n        var playlists = state.playlists,\n          filtered = state.filtered;\n        var newPlaylists = _objectSpread({}, playlists);\n        delete newPlaylists[id];\n        // update the list in the store\n        state.playlists = _objectSpread({}, newPlaylists);\n        state.filtered = filtered.filter(function (item) {\n          return item !== id;\n        });\n      }\n      state.isLoading = false;\n    }).addCase(deletePlaylist.rejected, function (state) {\n      state.isLoading = false;\n    })\n    // Bulk Delete\n    .addCase(bulkDelete.pending, function (state) {\n      state.isLoading = true;\n    }).addCase(bulkDelete.fulfilled, function (state) {\n      state.isLoading = false;\n\n      // Empty the selected list\n      state.selected = [];\n    }).addCase(bulkDelete.rejected, function (state) {\n      state.isLoading = false;\n\n      // Empty the selected list\n      state.selected = [];\n    });\n  }\n});\n\n/***************************************************\n *\n * Selectors\n *\n * *************************************************/\n\nvar playlistsState = function playlistsState(state) {\n  return state.playlists;\n};\n\n/**\n * Get playlists object\n *\n * @param {object} playlistsState the playlists object.\n *\n * @return {object}\n */\nvar getPlaylists = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(playlistsState, function (playlistsState) {\n  return playlistsState.playlists;\n});\n\n/**\n * Get filtered array\n *\n * @param {object} playlistsState the playlists object.\n *\n * @return {array}\n */\nvar getFiltered = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(playlistsState, function (playlistsState) {\n  return playlistsState.filtered;\n});\n\n/**\n * Checks if the playlist is selected\n *\n * @param {object} playlistsState the playlists object.\n * @param {number} id playlist id\n *\n * @return {boolean}\n */\nvar isPlaylistSelected = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(playlistsState, function (_, id) {\n  return id;\n}, function (playlistsState, id) {\n  var _playlistsState$selec;\n  return (_playlistsState$selec = playlistsState.selected) === null || _playlistsState$selec === void 0 || (_playlistsState$selec = _playlistsState$selec[id]) === null || _playlistsState$selec === void 0 ? void 0 : _playlistsState$selec.selected;\n});\n\n/**\n * Checks if video is selected\n *\n * @param {object} playlistsState the playlists object.\n * @param {object} ids playlistID & videoID\n *\n * @return {boolean}\n */\nvar isVideoSelected = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(playlistsState, function (_, ids) {\n  return ids;\n}, function (playlistsState, ids) {\n  var _playlistsState$selec2;\n  var _ref3 = ids !== null && ids !== void 0 ? ids : {},\n    playlistID = _ref3.playlistID,\n    videoID = _ref3.videoID;\n  var videos = ((_playlistsState$selec2 = playlistsState.selected) === null || _playlistsState$selec2 === void 0 || (_playlistsState$selec2 = _playlistsState$selec2[playlistID]) === null || _playlistsState$selec2 === void 0 ? void 0 : _playlistsState$selec2.videos) || [];\n  return videos.includes(videoID);\n});\n\n/**\n * Check of all videos and playlists are selected\n *\n * @param {object} playlistsState the playlists object.\n * @return {boolean}\n *\n */\nvar areAllSelected = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(playlistsState, function (playlistsState) {\n  var playlists = playlistsState.playlists,\n    selected = playlistsState.selected;\n\n  // return false if at least one playlist is not selected\n  for (var playlistId in playlists) {\n    var _selected$playlistId, _playlists$playlistId, _selected$playlistId2;\n    var isSelected = (selected === null || selected === void 0 || (_selected$playlistId = selected[playlistId]) === null || _selected$playlistId === void 0 ? void 0 : _selected$playlistId.selected) || false;\n    if (!isSelected) {\n      return false;\n    }\n\n    // return false if at least one video is not selected\n    var allVideos = (playlists === null || playlists === void 0 || (_playlists$playlistId = playlists[playlistId]) === null || _playlists$playlistId === void 0 ? void 0 : _playlists$playlistId.videos) || [];\n    var selectedVideos = (selected === null || selected === void 0 || (_selected$playlistId2 = selected[playlistId]) === null || _selected$playlistId2 === void 0 ? void 0 : _selected$playlistId2.videos) || [];\n\n    // It suffices to compare lengths only\n    if (allVideos.length !== selectedVideos.length) {\n      return false;\n    }\n  }\n  return Object.keys(playlists).length > 0;\n});\n\n/**\n * Get selected Playlists & videos\n *\n * @param {object} playlistsState the playlists object.\n *\n * @return {object}\n */\nvar getSelectedPlaylists = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(playlistsState, function (playlistsState) {\n  return playlistsState.selected;\n});\n\n/**\n * Get Loading status\n *\n * @param {object} playlistsState the playlists object.\n *\n * @return {*}\n */\nvar getLoadingStatus = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(playlistsState, function (playlistsState) {\n  return playlistsState.isLoading;\n});\n\n// Export actions\nvar _playlistsSlice$actio = playlistsSlice.actions,\n  setPlaylist = _playlistsSlice$actio.setPlaylist,\n  updatePlaylistKey = _playlistsSlice$actio.updatePlaylistKey,\n  togglePlaylist = _playlistsSlice$actio.togglePlaylist,\n  toggleVideo = _playlistsSlice$actio.toggleVideo,\n  toggleAll = _playlistsSlice$actio.toggleAll;\n\n/* harmony default export */ __webpack_exports__.Ay = (playlistsSlice.reducer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTMxNy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvc3RvcmUvc2xpY2VzL3BsYXlsaXN0cy5qcz80MDRiIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMocikgfHwgX2l0ZXJhYmxlVG9BcnJheShyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkocikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBhKSB7IGlmIChyKSB7IGlmIChcInN0cmluZ1wiID09IHR5cGVvZiByKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkociwgYSk7IHZhciB0ID0ge30udG9TdHJpbmcuY2FsbChyKS5zbGljZSg4LCAtMSk7IHJldHVybiBcIk9iamVjdFwiID09PSB0ICYmIHIuY29uc3RydWN0b3IgJiYgKHQgPSByLmNvbnN0cnVjdG9yLm5hbWUpLCBcIk1hcFwiID09PSB0IHx8IFwiU2V0XCIgPT09IHQgPyBBcnJheS5mcm9tKHIpIDogXCJBcmd1bWVudHNcIiA9PT0gdCB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSA/IF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIDogdm9pZCAwOyB9IH1cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkocikgeyBpZiAoXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIG51bGwgIT0gcltTeW1ib2wuaXRlcmF0b3JdIHx8IG51bGwgIT0gcltcIkBAaXRlcmF0b3JcIl0pIHJldHVybiBBcnJheS5mcm9tKHIpOyB9XG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMocikgeyBpZiAoQXJyYXkuaXNBcnJheShyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIpOyB9XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9XG5mdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0KSB7IHJldHVybiAociA9IF90b1Byb3BlcnR5S2V5KHIpKSBpbiBlID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIHsgdmFsdWU6IHQsIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAgfSkgOiBlW3JdID0gdCwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgXCJcIjsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbmZ1bmN0aW9uIF9yZWdlbmVyYXRvclJ1bnRpbWUoKSB7IFwidXNlIHN0cmljdFwiOyAvKiEgcmVnZW5lcmF0b3ItcnVudGltZSAtLSBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy4gLS0gbGljZW5zZSAoTUlUKTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2Jsb2IvbWFpbi9MSUNFTlNFICovIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSBmdW5jdGlvbiBfcmVnZW5lcmF0b3JSdW50aW1lKCkgeyByZXR1cm4gZTsgfTsgdmFyIHQsIGUgPSB7fSwgciA9IE9iamVjdC5wcm90b3R5cGUsIG4gPSByLmhhc093blByb3BlcnR5LCBvID0gT2JqZWN0LmRlZmluZVByb3BlcnR5IHx8IGZ1bmN0aW9uICh0LCBlLCByKSB7IHRbZV0gPSByLnZhbHVlOyB9LCBpID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgPyBTeW1ib2wgOiB7fSwgYSA9IGkuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCIsIGMgPSBpLmFzeW5jSXRlcmF0b3IgfHwgXCJAQGFzeW5jSXRlcmF0b3JcIiwgdSA9IGkudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7IGZ1bmN0aW9uIGRlZmluZSh0LCBlLCByKSB7IHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgZSwgeyB2YWx1ZTogciwgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9KSwgdFtlXTsgfSB0cnkgeyBkZWZpbmUoe30sIFwiXCIpOyB9IGNhdGNoICh0KSB7IGRlZmluZSA9IGZ1bmN0aW9uIGRlZmluZSh0LCBlLCByKSB7IHJldHVybiB0W2VdID0gcjsgfTsgfSBmdW5jdGlvbiB3cmFwKHQsIGUsIHIsIG4pIHsgdmFyIGkgPSBlICYmIGUucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gZSA6IEdlbmVyYXRvciwgYSA9IE9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpLCBjID0gbmV3IENvbnRleHQobiB8fCBbXSk7IHJldHVybiBvKGEsIFwiX2ludm9rZVwiLCB7IHZhbHVlOiBtYWtlSW52b2tlTWV0aG9kKHQsIHIsIGMpIH0pLCBhOyB9IGZ1bmN0aW9uIHRyeUNhdGNoKHQsIGUsIHIpIHsgdHJ5IHsgcmV0dXJuIHsgdHlwZTogXCJub3JtYWxcIiwgYXJnOiB0LmNhbGwoZSwgcikgfTsgfSBjYXRjaCAodCkgeyByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogdCB9OyB9IH0gZS53cmFwID0gd3JhcDsgdmFyIGggPSBcInN1c3BlbmRlZFN0YXJ0XCIsIGwgPSBcInN1c3BlbmRlZFlpZWxkXCIsIGYgPSBcImV4ZWN1dGluZ1wiLCBzID0gXCJjb21wbGV0ZWRcIiwgeSA9IHt9OyBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fSBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9IGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge30gdmFyIHAgPSB7fTsgZGVmaW5lKHAsIGEsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pOyB2YXIgZCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiwgdiA9IGQgJiYgZChkKHZhbHVlcyhbXSkpKTsgdiAmJiB2ICE9PSByICYmIG4uY2FsbCh2LCBhKSAmJiAocCA9IHYpOyB2YXIgZyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9IEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHApOyBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHModCkgeyBbXCJuZXh0XCIsIFwidGhyb3dcIiwgXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbiAoZSkgeyBkZWZpbmUodCwgZSwgZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHRoaXMuX2ludm9rZShlLCB0KTsgfSk7IH0pOyB9IGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IodCwgZSkgeyBmdW5jdGlvbiBpbnZva2UociwgbywgaSwgYSkgeyB2YXIgYyA9IHRyeUNhdGNoKHRbcl0sIHQsIG8pOyBpZiAoXCJ0aHJvd1wiICE9PSBjLnR5cGUpIHsgdmFyIHUgPSBjLmFyZywgaCA9IHUudmFsdWU7IHJldHVybiBoICYmIFwib2JqZWN0XCIgPT0gX3R5cGVvZihoKSAmJiBuLmNhbGwoaCwgXCJfX2F3YWl0XCIpID8gZS5yZXNvbHZlKGguX19hd2FpdCkudGhlbihmdW5jdGlvbiAodCkgeyBpbnZva2UoXCJuZXh0XCIsIHQsIGksIGEpOyB9LCBmdW5jdGlvbiAodCkgeyBpbnZva2UoXCJ0aHJvd1wiLCB0LCBpLCBhKTsgfSkgOiBlLnJlc29sdmUoaCkudGhlbihmdW5jdGlvbiAodCkgeyB1LnZhbHVlID0gdCwgaSh1KTsgfSwgZnVuY3Rpb24gKHQpIHsgcmV0dXJuIGludm9rZShcInRocm93XCIsIHQsIGksIGEpOyB9KTsgfSBhKGMuYXJnKTsgfSB2YXIgcjsgbyh0aGlzLCBcIl9pbnZva2VcIiwgeyB2YWx1ZTogZnVuY3Rpb24gdmFsdWUodCwgbikgeyBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHsgcmV0dXJuIG5ldyBlKGZ1bmN0aW9uIChlLCByKSB7IGludm9rZSh0LCBuLCBlLCByKTsgfSk7IH0gcmV0dXJuIHIgPSByID8gci50aGVuKGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLCBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZykgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpOyB9IH0pOyB9IGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoZSwgciwgbikgeyB2YXIgbyA9IGg7IHJldHVybiBmdW5jdGlvbiAoaSwgYSkgeyBpZiAobyA9PT0gZikgdGhyb3cgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpOyBpZiAobyA9PT0gcykgeyBpZiAoXCJ0aHJvd1wiID09PSBpKSB0aHJvdyBhOyByZXR1cm4geyB2YWx1ZTogdCwgZG9uZTogITAgfTsgfSBmb3IgKG4ubWV0aG9kID0gaSwgbi5hcmcgPSBhOzspIHsgdmFyIGMgPSBuLmRlbGVnYXRlOyBpZiAoYykgeyB2YXIgdSA9IG1heWJlSW52b2tlRGVsZWdhdGUoYywgbik7IGlmICh1KSB7IGlmICh1ID09PSB5KSBjb250aW51ZTsgcmV0dXJuIHU7IH0gfSBpZiAoXCJuZXh0XCIgPT09IG4ubWV0aG9kKSBuLnNlbnQgPSBuLl9zZW50ID0gbi5hcmc7ZWxzZSBpZiAoXCJ0aHJvd1wiID09PSBuLm1ldGhvZCkgeyBpZiAobyA9PT0gaCkgdGhyb3cgbyA9IHMsIG4uYXJnOyBuLmRpc3BhdGNoRXhjZXB0aW9uKG4uYXJnKTsgfSBlbHNlIFwicmV0dXJuXCIgPT09IG4ubWV0aG9kICYmIG4uYWJydXB0KFwicmV0dXJuXCIsIG4uYXJnKTsgbyA9IGY7IHZhciBwID0gdHJ5Q2F0Y2goZSwgciwgbik7IGlmIChcIm5vcm1hbFwiID09PSBwLnR5cGUpIHsgaWYgKG8gPSBuLmRvbmUgPyBzIDogbCwgcC5hcmcgPT09IHkpIGNvbnRpbnVlOyByZXR1cm4geyB2YWx1ZTogcC5hcmcsIGRvbmU6IG4uZG9uZSB9OyB9IFwidGhyb3dcIiA9PT0gcC50eXBlICYmIChvID0gcywgbi5tZXRob2QgPSBcInRocm93XCIsIG4uYXJnID0gcC5hcmcpOyB9IH07IH0gZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShlLCByKSB7IHZhciBuID0gci5tZXRob2QsIG8gPSBlLml0ZXJhdG9yW25dOyBpZiAobyA9PT0gdCkgcmV0dXJuIHIuZGVsZWdhdGUgPSBudWxsLCBcInRocm93XCIgPT09IG4gJiYgZS5pdGVyYXRvci5yZXR1cm4gJiYgKHIubWV0aG9kID0gXCJyZXR1cm5cIiwgci5hcmcgPSB0LCBtYXliZUludm9rZURlbGVnYXRlKGUsIHIpLCBcInRocm93XCIgPT09IHIubWV0aG9kKSB8fCBcInJldHVyblwiICE9PSBuICYmIChyLm1ldGhvZCA9IFwidGhyb3dcIiwgci5hcmcgPSBuZXcgVHlwZUVycm9yKFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnXCIgKyBuICsgXCInIG1ldGhvZFwiKSksIHk7IHZhciBpID0gdHJ5Q2F0Y2gobywgZS5pdGVyYXRvciwgci5hcmcpOyBpZiAoXCJ0aHJvd1wiID09PSBpLnR5cGUpIHJldHVybiByLm1ldGhvZCA9IFwidGhyb3dcIiwgci5hcmcgPSBpLmFyZywgci5kZWxlZ2F0ZSA9IG51bGwsIHk7IHZhciBhID0gaS5hcmc7IHJldHVybiBhID8gYS5kb25lID8gKHJbZS5yZXN1bHROYW1lXSA9IGEudmFsdWUsIHIubmV4dCA9IGUubmV4dExvYywgXCJyZXR1cm5cIiAhPT0gci5tZXRob2QgJiYgKHIubWV0aG9kID0gXCJuZXh0XCIsIHIuYXJnID0gdCksIHIuZGVsZWdhdGUgPSBudWxsLCB5KSA6IGEgOiAoci5tZXRob2QgPSBcInRocm93XCIsIHIuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpLCByLmRlbGVnYXRlID0gbnVsbCwgeSk7IH0gZnVuY3Rpb24gcHVzaFRyeUVudHJ5KHQpIHsgdmFyIGUgPSB7IHRyeUxvYzogdFswXSB9OyAxIGluIHQgJiYgKGUuY2F0Y2hMb2MgPSB0WzFdKSwgMiBpbiB0ICYmIChlLmZpbmFsbHlMb2MgPSB0WzJdLCBlLmFmdGVyTG9jID0gdFszXSksIHRoaXMudHJ5RW50cmllcy5wdXNoKGUpOyB9IGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkodCkgeyB2YXIgZSA9IHQuY29tcGxldGlvbiB8fCB7fTsgZS50eXBlID0gXCJub3JtYWxcIiwgZGVsZXRlIGUuYXJnLCB0LmNvbXBsZXRpb24gPSBlOyB9IGZ1bmN0aW9uIENvbnRleHQodCkgeyB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dLCB0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKSwgdGhpcy5yZXNldCghMCk7IH0gZnVuY3Rpb24gdmFsdWVzKGUpIHsgaWYgKGUgfHwgXCJcIiA9PT0gZSkgeyB2YXIgciA9IGVbYV07IGlmIChyKSByZXR1cm4gci5jYWxsKGUpOyBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBlLm5leHQpIHJldHVybiBlOyBpZiAoIWlzTmFOKGUubGVuZ3RoKSkgeyB2YXIgbyA9IC0xLCBpID0gZnVuY3Rpb24gbmV4dCgpIHsgZm9yICg7ICsrbyA8IGUubGVuZ3RoOykgaWYgKG4uY2FsbChlLCBvKSkgcmV0dXJuIG5leHQudmFsdWUgPSBlW29dLCBuZXh0LmRvbmUgPSAhMSwgbmV4dDsgcmV0dXJuIG5leHQudmFsdWUgPSB0LCBuZXh0LmRvbmUgPSAhMCwgbmV4dDsgfTsgcmV0dXJuIGkubmV4dCA9IGk7IH0gfSB0aHJvdyBuZXcgVHlwZUVycm9yKF90eXBlb2YoZSkgKyBcIiBpcyBub3QgaXRlcmFibGVcIik7IH0gcmV0dXJuIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBvKGcsIFwiY29uc3RydWN0b3JcIiwgeyB2YWx1ZTogR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIGNvbmZpZ3VyYWJsZTogITAgfSksIG8oR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIFwiY29uc3RydWN0b3JcIiwgeyB2YWx1ZTogR2VuZXJhdG9yRnVuY3Rpb24sIGNvbmZpZ3VyYWJsZTogITAgfSksIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gZGVmaW5lKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCB1LCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpLCBlLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbiAodCkgeyB2YXIgZSA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdCAmJiB0LmNvbnN0cnVjdG9yOyByZXR1cm4gISFlICYmIChlID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIgPT09IChlLmRpc3BsYXlOYW1lIHx8IGUubmFtZSkpOyB9LCBlLm1hcmsgPSBmdW5jdGlvbiAodCkgeyByZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHQsIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKSA6ICh0Ll9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBkZWZpbmUodCwgdSwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKSksIHQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShnKSwgdDsgfSwgZS5hd3JhcCA9IGZ1bmN0aW9uICh0KSB7IHJldHVybiB7IF9fYXdhaXQ6IHQgfTsgfSwgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKSwgZGVmaW5lKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlLCBjLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSwgZS5Bc3luY0l0ZXJhdG9yID0gQXN5bmNJdGVyYXRvciwgZS5hc3luYyA9IGZ1bmN0aW9uICh0LCByLCBuLCBvLCBpKSB7IHZvaWQgMCA9PT0gaSAmJiAoaSA9IFByb21pc2UpOyB2YXIgYSA9IG5ldyBBc3luY0l0ZXJhdG9yKHdyYXAodCwgciwgbiwgbyksIGkpOyByZXR1cm4gZS5pc0dlbmVyYXRvckZ1bmN0aW9uKHIpID8gYSA6IGEubmV4dCgpLnRoZW4oZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQuZG9uZSA/IHQudmFsdWUgOiBhLm5leHQoKTsgfSk7IH0sIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhnKSwgZGVmaW5lKGcsIHUsIFwiR2VuZXJhdG9yXCIpLCBkZWZpbmUoZywgYSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSksIGRlZmluZShnLCBcInRvU3RyaW5nXCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7IH0pLCBlLmtleXMgPSBmdW5jdGlvbiAodCkgeyB2YXIgZSA9IE9iamVjdCh0KSwgciA9IFtdOyBmb3IgKHZhciBuIGluIGUpIHIucHVzaChuKTsgcmV0dXJuIHIucmV2ZXJzZSgpLCBmdW5jdGlvbiBuZXh0KCkgeyBmb3IgKDsgci5sZW5ndGg7KSB7IHZhciB0ID0gci5wb3AoKTsgaWYgKHQgaW4gZSkgcmV0dXJuIG5leHQudmFsdWUgPSB0LCBuZXh0LmRvbmUgPSAhMSwgbmV4dDsgfSByZXR1cm4gbmV4dC5kb25lID0gITAsIG5leHQ7IH07IH0sIGUudmFsdWVzID0gdmFsdWVzLCBDb250ZXh0LnByb3RvdHlwZSA9IHsgY29uc3RydWN0b3I6IENvbnRleHQsIHJlc2V0OiBmdW5jdGlvbiByZXNldChlKSB7IGlmICh0aGlzLnByZXYgPSAwLCB0aGlzLm5leHQgPSAwLCB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdCwgdGhpcy5kb25lID0gITEsIHRoaXMuZGVsZWdhdGUgPSBudWxsLCB0aGlzLm1ldGhvZCA9IFwibmV4dFwiLCB0aGlzLmFyZyA9IHQsIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpLCAhZSkgZm9yICh2YXIgciBpbiB0aGlzKSBcInRcIiA9PT0gci5jaGFyQXQoMCkgJiYgbi5jYWxsKHRoaXMsIHIpICYmICFpc05hTigrci5zbGljZSgxKSkgJiYgKHRoaXNbcl0gPSB0KTsgfSwgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHsgdGhpcy5kb25lID0gITA7IHZhciB0ID0gdGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247IGlmIChcInRocm93XCIgPT09IHQudHlwZSkgdGhyb3cgdC5hcmc7IHJldHVybiB0aGlzLnJ2YWw7IH0sIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbiBkaXNwYXRjaEV4Y2VwdGlvbihlKSB7IGlmICh0aGlzLmRvbmUpIHRocm93IGU7IHZhciByID0gdGhpczsgZnVuY3Rpb24gaGFuZGxlKG4sIG8pIHsgcmV0dXJuIGEudHlwZSA9IFwidGhyb3dcIiwgYS5hcmcgPSBlLCByLm5leHQgPSBuLCBvICYmIChyLm1ldGhvZCA9IFwibmV4dFwiLCByLmFyZyA9IHQpLCAhIW87IH0gZm9yICh2YXIgbyA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBvID49IDA7IC0tbykgeyB2YXIgaSA9IHRoaXMudHJ5RW50cmllc1tvXSwgYSA9IGkuY29tcGxldGlvbjsgaWYgKFwicm9vdFwiID09PSBpLnRyeUxvYykgcmV0dXJuIGhhbmRsZShcImVuZFwiKTsgaWYgKGkudHJ5TG9jIDw9IHRoaXMucHJldikgeyB2YXIgYyA9IG4uY2FsbChpLCBcImNhdGNoTG9jXCIpLCB1ID0gbi5jYWxsKGksIFwiZmluYWxseUxvY1wiKTsgaWYgKGMgJiYgdSkgeyBpZiAodGhpcy5wcmV2IDwgaS5jYXRjaExvYykgcmV0dXJuIGhhbmRsZShpLmNhdGNoTG9jLCAhMCk7IGlmICh0aGlzLnByZXYgPCBpLmZpbmFsbHlMb2MpIHJldHVybiBoYW5kbGUoaS5maW5hbGx5TG9jKTsgfSBlbHNlIGlmIChjKSB7IGlmICh0aGlzLnByZXYgPCBpLmNhdGNoTG9jKSByZXR1cm4gaGFuZGxlKGkuY2F0Y2hMb2MsICEwKTsgfSBlbHNlIHsgaWYgKCF1KSB0aHJvdyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpOyBpZiAodGhpcy5wcmV2IDwgaS5maW5hbGx5TG9jKSByZXR1cm4gaGFuZGxlKGkuZmluYWxseUxvYyk7IH0gfSB9IH0sIGFicnVwdDogZnVuY3Rpb24gYWJydXB0KHQsIGUpIHsgZm9yICh2YXIgciA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyByID49IDA7IC0tcikgeyB2YXIgbyA9IHRoaXMudHJ5RW50cmllc1tyXTsgaWYgKG8udHJ5TG9jIDw9IHRoaXMucHJldiAmJiBuLmNhbGwobywgXCJmaW5hbGx5TG9jXCIpICYmIHRoaXMucHJldiA8IG8uZmluYWxseUxvYykgeyB2YXIgaSA9IG87IGJyZWFrOyB9IH0gaSAmJiAoXCJicmVha1wiID09PSB0IHx8IFwiY29udGludWVcIiA9PT0gdCkgJiYgaS50cnlMb2MgPD0gZSAmJiBlIDw9IGkuZmluYWxseUxvYyAmJiAoaSA9IG51bGwpOyB2YXIgYSA9IGkgPyBpLmNvbXBsZXRpb24gOiB7fTsgcmV0dXJuIGEudHlwZSA9IHQsIGEuYXJnID0gZSwgaSA/ICh0aGlzLm1ldGhvZCA9IFwibmV4dFwiLCB0aGlzLm5leHQgPSBpLmZpbmFsbHlMb2MsIHkpIDogdGhpcy5jb21wbGV0ZShhKTsgfSwgY29tcGxldGU6IGZ1bmN0aW9uIGNvbXBsZXRlKHQsIGUpIHsgaWYgKFwidGhyb3dcIiA9PT0gdC50eXBlKSB0aHJvdyB0LmFyZzsgcmV0dXJuIFwiYnJlYWtcIiA9PT0gdC50eXBlIHx8IFwiY29udGludWVcIiA9PT0gdC50eXBlID8gdGhpcy5uZXh0ID0gdC5hcmcgOiBcInJldHVyblwiID09PSB0LnR5cGUgPyAodGhpcy5ydmFsID0gdGhpcy5hcmcgPSB0LmFyZywgdGhpcy5tZXRob2QgPSBcInJldHVyblwiLCB0aGlzLm5leHQgPSBcImVuZFwiKSA6IFwibm9ybWFsXCIgPT09IHQudHlwZSAmJiBlICYmICh0aGlzLm5leHQgPSBlKSwgeTsgfSwgZmluaXNoOiBmdW5jdGlvbiBmaW5pc2godCkgeyBmb3IgKHZhciBlID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGUgPj0gMDsgLS1lKSB7IHZhciByID0gdGhpcy50cnlFbnRyaWVzW2VdOyBpZiAoci5maW5hbGx5TG9jID09PSB0KSByZXR1cm4gdGhpcy5jb21wbGV0ZShyLmNvbXBsZXRpb24sIHIuYWZ0ZXJMb2MpLCByZXNldFRyeUVudHJ5KHIpLCB5OyB9IH0sIGNhdGNoOiBmdW5jdGlvbiBfY2F0Y2godCkgeyBmb3IgKHZhciBlID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGUgPj0gMDsgLS1lKSB7IHZhciByID0gdGhpcy50cnlFbnRyaWVzW2VdOyBpZiAoci50cnlMb2MgPT09IHQpIHsgdmFyIG4gPSByLmNvbXBsZXRpb247IGlmIChcInRocm93XCIgPT09IG4udHlwZSkgeyB2YXIgbyA9IG4uYXJnOyByZXNldFRyeUVudHJ5KHIpOyB9IHJldHVybiBvOyB9IH0gdGhyb3cgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7IH0sIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uIGRlbGVnYXRlWWllbGQoZSwgciwgbikgeyByZXR1cm4gdGhpcy5kZWxlZ2F0ZSA9IHsgaXRlcmF0b3I6IHZhbHVlcyhlKSwgcmVzdWx0TmFtZTogciwgbmV4dExvYzogbiB9LCBcIm5leHRcIiA9PT0gdGhpcy5tZXRob2QgJiYgKHRoaXMuYXJnID0gdCksIHk7IH0gfSwgZTsgfVxuZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKG4sIHQsIGUsIHIsIG8sIGEsIGMpIHsgdHJ5IHsgdmFyIGkgPSBuW2FdKGMpLCB1ID0gaS52YWx1ZTsgfSBjYXRjaCAobikgeyByZXR1cm4gdm9pZCBlKG4pOyB9IGkuZG9uZSA/IHQodSkgOiBQcm9taXNlLnJlc29sdmUodSkudGhlbihyLCBvKTsgfVxuZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IobikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgdCA9IHRoaXMsIGUgPSBhcmd1bWVudHM7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAociwgbykgeyB2YXIgYSA9IG4uYXBwbHkodCwgZSk7IGZ1bmN0aW9uIF9uZXh0KG4pIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGEsIHIsIG8sIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCBuKTsgfSBmdW5jdGlvbiBfdGhyb3cobikgeyBhc3luY0dlbmVyYXRvclN0ZXAoYSwgciwgbywgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBuKTsgfSBfbmV4dCh2b2lkIDApOyB9KTsgfTsgfVxuaW1wb3J0IHsgY3JlYXRlU2xpY2UsIGNyZWF0ZUFzeW5jVGh1bmsgfSBmcm9tICdAcmVkdXhqcy90b29sa2l0JztcbmltcG9ydCB7IHJlc3RQb3N0LCByZXN0R2V0LCByZXN0RGVsZXRlIH0gZnJvbSAnLi4vLi4vaGVscGVycy9hcGknO1xuaW1wb3J0IHsgX18gfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuaW1wb3J0IHsgY3JlYXRlU2VsZWN0b3IgfSBmcm9tICdyZXNlbGVjdCc7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqXG4gKiBBc3luY2hyb25vdXMgUmVxdWVzdHNcbiAqXG4gKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqXG4gKiBJbml0aWFsaXplIHRoZSBwbGF5bGlzdCBsaXN0XG4gKlxuICogQHJldHVybiB7UHJvbWlzZX1cbiAqL1xuZXhwb3J0IHZhciBpbml0UGxheWxpc3RzID0gY3JlYXRlQXN5bmNUaHVuaygncGxheWxpc3RzL2luaXQnLFxuLy8gUmVkdXggYWN0aW9uIHR5cGVcbmZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgcmV0dXJuIHJlc3RHZXQoe1xuICAgIHBhdGg6ICdwbGF5bGlzdHMnLFxuICAgIHBhcmFtczogcGFyYW1zXG4gIH0pO1xufSk7XG5cbi8qKlxuICogU2F2ZSBhIHNpbmdsZSBwbGF5bGlzdCBjaGFuZ2VzIHRvIGRhdGFiYXNlXG4gKlxuICogQHJldHVybiB7UHJvbWlzZX1cbiAqL1xuZXhwb3J0IHZhciBzYXZlUGxheWxpc3QgPSBjcmVhdGVBc3luY1RodW5rKCdwbGF5bGlzdHMvdXBkYXRlU2luZ2xlUGxheWxpc3QnLFxuLy8gUmVkdXggYWN0aW9uIHR5cGVcbmZ1bmN0aW9uIChkYXRhKSB7XG4gIHZhciBwbGF5bGlzdCA9IGRhdGEucGxheWxpc3QsXG4gICAgaWQgPSBkYXRhLmlkO1xuICByZXR1cm4gcmVzdFBvc3Qoe1xuICAgIHBhdGg6IFwicGxheWxpc3RzL1wiLmNvbmNhdChpZCksXG4gICAgZGF0YTogcGxheWxpc3RcbiAgfSk7XG59KTtcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgcGxheWxpc3RcbiAqXG4gKiBAcmV0dXJuIHtQcm9taXNlfVxuICovXG5leHBvcnQgdmFyIGNyZWF0ZVBsYXlsaXN0ID0gY3JlYXRlQXN5bmNUaHVuaygncGxheWxpc3RzL2NyZWF0ZVBsYXlsaXN0Jyxcbi8qI19fUFVSRV9fKi9cbi8vIFJlZHV4IGFjdGlvbiB0eXBlXG5mdW5jdGlvbiAoKSB7XG4gIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShkYXRhLCBfcmVmKSB7XG4gICAgdmFyIHJlamVjdFdpdGhWYWx1ZSwgcGxheWxpc3Q7XG4gICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgcmVqZWN0V2l0aFZhbHVlID0gX3JlZi5yZWplY3RXaXRoVmFsdWU7XG4gICAgICAgICAgcGxheWxpc3QgPSBkYXRhLnBsYXlsaXN0O1xuICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyO1xuICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1O1xuICAgICAgICAgIHJldHVybiByZXN0UG9zdCh7XG4gICAgICAgICAgICBwYXRoOiBcInBsYXlsaXN0c1wiLFxuICAgICAgICAgICAgZGF0YTogcGxheWxpc3RcbiAgICAgICAgICB9KTtcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQuc2VudCk7XG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgICBfY29udGV4dC5wcmV2ID0gODtcbiAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0W1wiY2F0Y2hcIl0oMik7XG4gICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCByZWplY3RXaXRoVmFsdWUoX2NvbnRleHQudDApKTtcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICB9XG4gICAgfSwgX2NhbGxlZSwgbnVsbCwgW1syLCA4XV0pO1xuICB9KSk7XG4gIHJldHVybiBmdW5jdGlvbiAoX3gsIF94Mikge1xuICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufSgpKTtcblxuLyoqXG4gKiBDaGFuZ2UgUGxheWxpc3QgT3JkZXJcbiAqXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgdmFyIG9yZGVyQ2hhbmdlID0gY3JlYXRlQXN5bmNUaHVuaygncGxheWxpc3RzL2NoYW5nZVBsYXlsaXN0T3JkZXInLFxuLy8gUmVkdXggYWN0aW9uIHR5cGVcblxuZnVuY3Rpb24gKGRhdGEpIHtcbiAgdmFyIHBsYXlsaXN0SUQgPSBkYXRhLnBsYXlsaXN0SUQsXG4gICAgb2xkSW5kZXggPSBkYXRhLm9sZEluZGV4LFxuICAgIG5ld0luZGV4ID0gZGF0YS5uZXdJbmRleDtcbiAgaWYgKHBsYXlsaXN0SUQgPiAwICYmIG9sZEluZGV4ICE9PSBuZXdJbmRleCkge1xuICAgIHJlc3RHZXQoe1xuICAgICAgcGF0aDogJ3BsYXlsaXN0cy9yZW9yZGVyJyxcbiAgICAgIHBhcmFtczoge1xuICAgICAgICBwbGF5bGlzdDogcGxheWxpc3RJRCxcbiAgICAgICAgZnJvbTogb2xkSW5kZXgsXG4gICAgICAgIHRvOiBuZXdJbmRleFxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcblxuLyoqXG4gKiBEZWxldGUgYSBwbGF5bGlzdFxuICpcbiAqIEByZXR1cm4ge1Byb21pc2V9XG4gKi9cbmV4cG9ydCB2YXIgZGVsZXRlUGxheWxpc3QgPSBjcmVhdGVBc3luY1RodW5rKCdwbGF5bGlzdHMvZGVsZXRlUGxheWxpc3QnLFxuLy8gUmVkdXggYWN0aW9uIHR5cGVcbmZ1bmN0aW9uIChkYXRhKSB7XG4gIHZhciBpZCA9IGRhdGEuaWQ7XG4gIHJldHVybiByZXN0RGVsZXRlKHtcbiAgICBwYXRoOiBcInBsYXlsaXN0cy9cIi5jb25jYXQoaWQpXG4gIH0pO1xufSk7XG5cbi8qKlxuICogQnVsayBkZWxldGUgcGxheWxpc3RzICYgdmlkZW9zXG4gKlxuICogQHJldHVybiB7UHJvbWlzZX1cbiAqL1xuZXhwb3J0IHZhciBidWxrRGVsZXRlID0gY3JlYXRlQXN5bmNUaHVuaygncGxheWxpc3RzL2J1bGtEZWxldGUnLFxuLy8gUmVkdXggYWN0aW9uIHR5cGVcbmZ1bmN0aW9uIChkYXRhKSB7XG4gIHZhciBzZWxlY3RlZCA9IGRhdGEuc2VsZWN0ZWQ7XG4gIHJldHVybiByZXN0UG9zdCh7XG4gICAgcGF0aDogXCJwbGF5bGlzdHMvYnVsay1hY3Rpb25zXCIsXG4gICAgZGF0YToge1xuICAgICAgYWN0aW9uOiAnZGVsZXRlJyxcbiAgICAgIGl0ZW1zOiBzZWxlY3RlZFxuICAgIH1cbiAgfSk7XG59KTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICpcbiAqIFBsYXlsaXN0cyBTbGljZVxuICpcbiAqICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG52YXIgcGxheWxpc3RzU2xpY2UgPSBjcmVhdGVTbGljZSh7XG4gIG5hbWU6ICdwbGF5bGlzdHMnLFxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAqXG4gICAqIEluaXRpYWwgU3RhdGVcbiAgICpcbiAgICogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICBpbml0aWFsU3RhdGU6IHtcbiAgICBwbGF5bGlzdHM6IHt9LFxuICAgIGZpbHRlcmVkOiBbXSxcbiAgICBzZWxlY3RlZDoge30sXG4gICAgaXNMb2FkaW5nOiBmYWxzZVxuICB9LFxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAqXG4gICAqIFJlZHVjZXJzXG4gICAqXG4gICAqICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIHJlZHVjZXJzOiB7XG4gICAgLyoqXG4gICAgICogVXBkYXRlIGEgc2luZ2xlIHBsYXlsaXN0IGluIHRoZSBwbGF5bGlzdHMgbGlzdFxuICAgICAqXG4gICAgICogSWYgcGxheWxpc3QgZXhpc3QsIGl0IHdpbGwgcmVwbGFjZSB0aGUgcGxheWxpc3Qgb2JqZWN0LFxuICAgICAqIGlmIG5vdCwgaXQgd2lsbCBhZGQgdGhlIHBsYXlsaXN0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzdGF0ZSBDdXJyZW50IHN0YXRlLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBhY3Rpb24gYWN0aW9uIGRhdGEuXG4gICAgICovXG4gICAgc2V0UGxheWxpc3Q6IGZ1bmN0aW9uIHNldFBsYXlsaXN0KHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgIHZhciBwbGF5bGlzdCA9IGFjdGlvbi5wYXlsb2FkLnBsYXlsaXN0O1xuICAgICAgdmFyIHBsYXlsaXN0cyA9IHN0YXRlLnBsYXlsaXN0cztcbiAgICAgIHZhciBuZXdQbGF5bGlzdHMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHBsYXlsaXN0cyksIHt9LCBfZGVmaW5lUHJvcGVydHkoe30sIHBsYXlsaXN0LmlkLCBwbGF5bGlzdCkpO1xuICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc3RhdGUpLCB7fSwge1xuICAgICAgICBwbGF5bGlzdHM6IG5ld1BsYXlsaXN0c1xuICAgICAgfSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBTZWxlY3Qgb3IgZGVzZWxlY3QgYSBwbGF5bGlzdCAoIGNoZWNrYm94IClcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgdG9nZ2xlUGxheWxpc3Q6IGZ1bmN0aW9uIHRvZ2dsZVBsYXlsaXN0KHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgIHZhciBfc3RhdGUkcGxheWxpc3RzLCBfc2VsZWN0ZWQkaWQ7XG4gICAgICB2YXIgX2FjdGlvbiRwYXlsb2FkID0gYWN0aW9uLnBheWxvYWQsXG4gICAgICAgIGNoZWNrZWQgPSBfYWN0aW9uJHBheWxvYWQuY2hlY2tlZCxcbiAgICAgICAgaWQgPSBfYWN0aW9uJHBheWxvYWQuaWQ7XG4gICAgICB2YXIgYWxsVmlkZW9zID0gKF9zdGF0ZSRwbGF5bGlzdHMgPSBzdGF0ZS5wbGF5bGlzdHMpID09PSBudWxsIHx8IF9zdGF0ZSRwbGF5bGlzdHMgPT09IHZvaWQgMCB8fCAoX3N0YXRlJHBsYXlsaXN0cyA9IF9zdGF0ZSRwbGF5bGlzdHNbaWRdKSA9PT0gbnVsbCB8fCBfc3RhdGUkcGxheWxpc3RzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc3RhdGUkcGxheWxpc3RzLnZpZGVvcztcblxuICAgICAgLy8gVGhlIG5ldyBzZWxlY3RlZCBvYmplY3RcbiAgICAgIHZhciBzZWxlY3RlZCA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc3RhdGUuc2VsZWN0ZWQpLCB7fSwgX2RlZmluZVByb3BlcnR5KHt9LCBpZCwge1xuICAgICAgICBzZWxlY3RlZDogY2hlY2tlZCxcbiAgICAgICAgdmlkZW9zOiBjaGVja2VkICYmIGFsbFZpZGVvcyB8fCBbXVxuICAgICAgfSkpO1xuXG4gICAgICAvLyBJZiBwbGF5bGlzdCBpcyBub3Qgc2VsZWN0ZWQgYW5kIG5vIHZpZGVvcyBhcmUgc2VsZWN0ZWQsXG4gICAgICAvLyByZW1vdmUgdGhlIHBsYXlsaXN0XG4gICAgICBpZiAoKHNlbGVjdGVkID09PSBudWxsIHx8IHNlbGVjdGVkID09PSB2b2lkIDAgfHwgKF9zZWxlY3RlZCRpZCA9IHNlbGVjdGVkW2lkXSkgPT09IG51bGwgfHwgX3NlbGVjdGVkJGlkID09PSB2b2lkIDAgfHwgKF9zZWxlY3RlZCRpZCA9IF9zZWxlY3RlZCRpZC52aWRlb3MpID09PSBudWxsIHx8IF9zZWxlY3RlZCRpZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3NlbGVjdGVkJGlkLmxlbmd0aCkgPT09IDAgJiYgIWNoZWNrZWQpIHtcbiAgICAgICAgZGVsZXRlIHNlbGVjdGVkW2lkXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHN0YXRlKSwge30sIHtcbiAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkXG4gICAgICB9KTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFNlbGVjdCBvciBkZS1zZWxlY3QgYWxsIHBsYXlsaXN0cyBhbmQgdmlkZW9zICggY2hlY2tib3ggKVxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICB0b2dnbGVBbGw6IGZ1bmN0aW9uIHRvZ2dsZUFsbChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICB2YXIgY2hlY2tlZCA9IGFjdGlvbi5wYXlsb2FkLmNoZWNrZWQ7XG4gICAgICB2YXIgcGxheWxpc3RzID0gc3RhdGUucGxheWxpc3RzO1xuXG4gICAgICAvLyBUaGUgbmV3IHNlbGVjdGVkIG9iamVjdFxuICAgICAgdmFyIG5ld1NlbGVjdGVkID0ge307XG4gICAgICBpZiAoY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICBPYmplY3Qua2V5cyhwbGF5bGlzdHMpLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgbmV3U2VsZWN0ZWRbaWRdID0ge1xuICAgICAgICAgICAgc2VsZWN0ZWQ6IHRydWUsXG4gICAgICAgICAgICB2aWRlb3M6IChwbGF5bGlzdHMgPT09IG51bGwgfHwgcGxheWxpc3RzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwbGF5bGlzdHNbaWRdLnZpZGVvcykgfHwgW11cbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHN0YXRlKSwge30sIHtcbiAgICAgICAgc2VsZWN0ZWQ6IG5ld1NlbGVjdGVkXG4gICAgICB9KTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBzZWxlY3RlZCB2aWRlb3MgbGlzdCAoIGNoZWNrYm94IClcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgdG9nZ2xlVmlkZW86IGZ1bmN0aW9uIHRvZ2dsZVZpZGVvKHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgIHZhciBfc2VsZWN0ZWQkcGxheWxpc3RJRCwgX3NlbGVjdGVkJHBsYXlsaXN0SUQyO1xuICAgICAgdmFyIF9hY3Rpb24kcGF5bG9hZDIgPSBhY3Rpb24ucGF5bG9hZCxcbiAgICAgICAgdmlkZW9JRCA9IF9hY3Rpb24kcGF5bG9hZDIudmlkZW9JRCxcbiAgICAgICAgcGxheWxpc3RJRCA9IF9hY3Rpb24kcGF5bG9hZDIucGxheWxpc3RJRDtcbiAgICAgIHZhciBzZWxlY3RlZCA9IHN0YXRlLnNlbGVjdGVkO1xuICAgICAgdmFyIHZpZGVvcyA9IChzZWxlY3RlZCA9PT0gbnVsbCB8fCBzZWxlY3RlZCA9PT0gdm9pZCAwIHx8IChfc2VsZWN0ZWQkcGxheWxpc3RJRCA9IHNlbGVjdGVkW3BsYXlsaXN0SURdKSA9PT0gbnVsbCB8fCBfc2VsZWN0ZWQkcGxheWxpc3RJRCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3NlbGVjdGVkJHBsYXlsaXN0SUQudmlkZW9zKSB8fCBbXTtcblxuICAgICAgLy8gVGhlIG5ldyBzZWxlY3RlZCBvYmplY3RcbiAgICAgIHZhciBuZXdTZWxlY3RlZCA9IHt9O1xuXG4gICAgICAvLyBUaGUgbmV3IHZpZGVvcyBhcnJheVxuICAgICAgdmFyIG5ld1ZpZGVvcyA9IFtdO1xuXG4gICAgICAvLyBUb2dnbGUgdmlkZW9cbiAgICAgIGlmICh2aWRlb3MuaW5jbHVkZXModmlkZW9JRCkpIHtcbiAgICAgICAgLy8gUmVtb3ZlIHZpZGVvIGlmIGl0IGV4aXN0c1xuICAgICAgICBuZXdWaWRlb3MgPSB2aWRlb3MuZmlsdGVyKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgIHJldHVybiBlbCAhPT0gdmlkZW9JRDtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBBZGQgdmlkZW8gaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAgICBuZXdWaWRlb3MgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHZpZGVvcyksIFt2aWRlb0lEXSk7XG4gICAgICB9XG4gICAgICB2YXIgaXNQbGF5bGlzdFNlbGVjdGVkID0gKHNlbGVjdGVkID09PSBudWxsIHx8IHNlbGVjdGVkID09PSB2b2lkIDAgfHwgKF9zZWxlY3RlZCRwbGF5bGlzdElEMiA9IHNlbGVjdGVkW3BsYXlsaXN0SURdKSA9PT0gbnVsbCB8fCBfc2VsZWN0ZWQkcGxheWxpc3RJRDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zZWxlY3RlZCRwbGF5bGlzdElEMi5zZWxlY3RlZCkgfHwgZmFsc2U7XG5cbiAgICAgIC8vIFVwZGF0ZSBzZWxlY3RlZCBvYmplY3RcbiAgICAgIG5ld1NlbGVjdGVkID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzZWxlY3RlZCksIHt9LCBfZGVmaW5lUHJvcGVydHkoe30sIHBsYXlsaXN0SUQsIHtcbiAgICAgICAgc2VsZWN0ZWQ6IGlzUGxheWxpc3RTZWxlY3RlZCxcbiAgICAgICAgdmlkZW9zOiBuZXdWaWRlb3NcbiAgICAgIH0pKTtcblxuICAgICAgLyogSWYgcGxheWxpc3QgaXMgbm90IHNlbGVjdGVkIGFuZCBubyB2aWRlbyBpcyBzZWxlY3RlZCxcbiAgICAgIHJlbW92ZSB0aGUgcGxheWxpc3QgKi9cbiAgICAgIGlmIChuZXdWaWRlb3MubGVuZ3RoID09PSAwICYmICFpc1BsYXlsaXN0U2VsZWN0ZWQpIHtcbiAgICAgICAgZGVsZXRlIG5ld1NlbGVjdGVkW3BsYXlsaXN0SURdO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXQgdGhlIHN0YXRlXG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZSksIHt9LCB7XG4gICAgICAgIHNlbGVjdGVkOiBuZXdTZWxlY3RlZFxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAqXG4gICAqIEV4dHJhIFJlZHVjZXJzXG4gICAqXG4gICAqIE1hbmFnZSBvZiBhc3luY2hyb25vdXMgcmVxdWVzdHMgc3RhdGVzXG4gICAqXG4gICAqICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIGV4dHJhUmVkdWNlcnM6IGZ1bmN0aW9uIGV4dHJhUmVkdWNlcnMoYnVpbGRlcikge1xuICAgIGJ1aWxkZXJcbiAgICAvLyBQbGF5bGlzdHMgSW5pdFxuICAgIC5hZGRDYXNlKGluaXRQbGF5bGlzdHMucGVuZGluZywgZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSB0cnVlO1xuICAgIH0pLmFkZENhc2UoaW5pdFBsYXlsaXN0cy5mdWxmaWxsZWQsIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgIHZhciBwYXlsb2FkID0gYWN0aW9uLnBheWxvYWQ7XG4gICAgICBpZiAocGF5bG9hZC5zdWNjZXNzICYmIHBheWxvYWQuZGF0YSkge1xuICAgICAgICB2YXIgcGxheWxpc3RzID0ge307XG4gICAgICAgIHZhciBmaWx0ZXJlZCA9IFtdO1xuXG4gICAgICAgIC8vIFNldHVwIHRoZSBsaXN0IGRhdGEuXG4gICAgICAgIHBheWxvYWQuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChwbGF5bGlzdCkge1xuICAgICAgICAgIHBsYXlsaXN0c1twbGF5bGlzdC5pZF0gPSBwbGF5bGlzdDtcbiAgICAgICAgICBmaWx0ZXJlZC5wdXNoKHBsYXlsaXN0LmlkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gdXBkYXRlIHRoZSBzdGF0ZVxuICAgICAgICBzdGF0ZS5wbGF5bGlzdHMgPSBwbGF5bGlzdHM7XG4gICAgICAgIHN0YXRlLmZpbHRlcmVkID0gZmlsdGVyZWQ7XG4gICAgICB9XG4gICAgfSkuYWRkQ2FzZShpbml0UGxheWxpc3RzLnJlamVjdGVkLCBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgIHN0YXRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgIH0pXG4gICAgLy8gU2F2ZSBQbGF5bGlzdFxuICAgIC5hZGRDYXNlKHNhdmVQbGF5bGlzdC5wZW5kaW5nLCBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgIHN0YXRlLmlzTG9hZGluZyA9IHRydWU7XG4gICAgfSkuYWRkQ2FzZShzYXZlUGxheWxpc3QuZnVsZmlsbGVkLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgICAgdmFyIGRhdGEgPSBhY3Rpb24ucGF5bG9hZC5kYXRhO1xuICAgICAgdmFyIHBsYXlsaXN0cyA9IHN0YXRlLnBsYXlsaXN0cztcbiAgICAgIHZhciBuZXdQbGF5bGlzdHMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHBsYXlsaXN0cyksIHt9LCBfZGVmaW5lUHJvcGVydHkoe30sIGRhdGEuaWQsIGRhdGEpKTtcbiAgICAgIHN0YXRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgc3RhdGUucGxheWxpc3RzID0gbmV3UGxheWxpc3RzO1xuICAgIH0pLmFkZENhc2Uoc2F2ZVBsYXlsaXN0LnJlamVjdGVkLCBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgIHN0YXRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgIH0pXG4gICAgLy8gQ3JlYXRlIFBsYXlsaXN0XG4gICAgLmFkZENhc2UoY3JlYXRlUGxheWxpc3QucGVuZGluZywgZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSB0cnVlO1xuICAgIH0pLmFkZENhc2UoY3JlYXRlUGxheWxpc3QuZnVsZmlsbGVkLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgICAgdmFyIF9hY3Rpb24kcGF5bG9hZDMgPSBhY3Rpb24ucGF5bG9hZCxcbiAgICAgICAgZGF0YSA9IF9hY3Rpb24kcGF5bG9hZDMuZGF0YSxcbiAgICAgICAgc3VjY2VzcyA9IF9hY3Rpb24kcGF5bG9hZDMuc3VjY2VzcztcbiAgICAgIGlmIChzdWNjZXNzICYmIGRhdGEpIHtcbiAgICAgICAgdmFyIHBsYXlsaXN0cyA9IHN0YXRlLnBsYXlsaXN0cyxcbiAgICAgICAgICBmaWx0ZXJlZCA9IHN0YXRlLmZpbHRlcmVkO1xuICAgICAgICAvLyB1cGRhdGUgdGhlIGxpc3QgaW4gdGhlIHN0b3JlXG4gICAgICAgIHN0YXRlLnBsYXlsaXN0cyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcGxheWxpc3RzKSwge30sIF9kZWZpbmVQcm9wZXJ0eSh7fSwgZGF0YS5pZCwgZGF0YSkpO1xuICAgICAgICBzdGF0ZS5maWx0ZXJlZCA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoZmlsdGVyZWQpLCBbZGF0YS5pZF0pO1xuICAgICAgfVxuICAgICAgc3RhdGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgfSkuYWRkQ2FzZShjcmVhdGVQbGF5bGlzdC5yZWplY3RlZCwgZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICB9KVxuICAgIC8vIERlbGV0ZSBQbGF5bGlzdFxuICAgIC5hZGRDYXNlKGRlbGV0ZVBsYXlsaXN0LnBlbmRpbmcsIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgc3RhdGUuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICB9KS5hZGRDYXNlKGRlbGV0ZVBsYXlsaXN0LmZ1bGZpbGxlZCwgZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgIHZhciBpZCA9IGFjdGlvbi5tZXRhLmFyZy5pZCxcbiAgICAgICAgc3VjY2VzcyA9IGFjdGlvbi5wYXlsb2FkLnN1Y2Nlc3M7XG5cbiAgICAgIC8vIFJlbW92ZSB0aGUgcGxheWxpc3QgaWYgc3VjY2Vzc1xuICAgICAgaWYgKHN1Y2Nlc3MgPT09IHRydWUpIHtcbiAgICAgICAgdmFyIHBsYXlsaXN0cyA9IHN0YXRlLnBsYXlsaXN0cyxcbiAgICAgICAgICBmaWx0ZXJlZCA9IHN0YXRlLmZpbHRlcmVkO1xuICAgICAgICB2YXIgbmV3UGxheWxpc3RzID0gX29iamVjdFNwcmVhZCh7fSwgcGxheWxpc3RzKTtcbiAgICAgICAgZGVsZXRlIG5ld1BsYXlsaXN0c1tpZF07XG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgbGlzdCBpbiB0aGUgc3RvcmVcbiAgICAgICAgc3RhdGUucGxheWxpc3RzID0gX29iamVjdFNwcmVhZCh7fSwgbmV3UGxheWxpc3RzKTtcbiAgICAgICAgc3RhdGUuZmlsdGVyZWQgPSBmaWx0ZXJlZC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gaXRlbSAhPT0gaWQ7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgc3RhdGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgfSkuYWRkQ2FzZShkZWxldGVQbGF5bGlzdC5yZWplY3RlZCwgZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICB9KVxuICAgIC8vIEJ1bGsgRGVsZXRlXG4gICAgLmFkZENhc2UoYnVsa0RlbGV0ZS5wZW5kaW5nLCBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgIHN0YXRlLmlzTG9hZGluZyA9IHRydWU7XG4gICAgfSkuYWRkQ2FzZShidWxrRGVsZXRlLmZ1bGZpbGxlZCwgZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSBmYWxzZTtcblxuICAgICAgLy8gRW1wdHkgdGhlIHNlbGVjdGVkIGxpc3RcbiAgICAgIHN0YXRlLnNlbGVjdGVkID0gW107XG4gICAgfSkuYWRkQ2FzZShidWxrRGVsZXRlLnJlamVjdGVkLCBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgIHN0YXRlLmlzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAvLyBFbXB0eSB0aGUgc2VsZWN0ZWQgbGlzdFxuICAgICAgc3RhdGUuc2VsZWN0ZWQgPSBbXTtcbiAgICB9KTtcbiAgfVxufSk7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqXG4gKiBTZWxlY3RvcnNcbiAqXG4gKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG52YXIgcGxheWxpc3RzU3RhdGUgPSBmdW5jdGlvbiBwbGF5bGlzdHNTdGF0ZShzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUucGxheWxpc3RzO1xufTtcblxuLyoqXG4gKiBHZXQgcGxheWxpc3RzIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBwbGF5bGlzdHNTdGF0ZSB0aGUgcGxheWxpc3RzIG9iamVjdC5cbiAqXG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKi9cbmV4cG9ydCB2YXIgZ2V0UGxheWxpc3RzID0gY3JlYXRlU2VsZWN0b3IocGxheWxpc3RzU3RhdGUsIGZ1bmN0aW9uIChwbGF5bGlzdHNTdGF0ZSkge1xuICByZXR1cm4gcGxheWxpc3RzU3RhdGUucGxheWxpc3RzO1xufSk7XG5cbi8qKlxuICogR2V0IGZpbHRlcmVkIGFycmF5XG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHBsYXlsaXN0c1N0YXRlIHRoZSBwbGF5bGlzdHMgb2JqZWN0LlxuICpcbiAqIEByZXR1cm4ge2FycmF5fVxuICovXG5leHBvcnQgdmFyIGdldEZpbHRlcmVkID0gY3JlYXRlU2VsZWN0b3IocGxheWxpc3RzU3RhdGUsIGZ1bmN0aW9uIChwbGF5bGlzdHNTdGF0ZSkge1xuICByZXR1cm4gcGxheWxpc3RzU3RhdGUuZmlsdGVyZWQ7XG59KTtcblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIHBsYXlsaXN0IGlzIHNlbGVjdGVkXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHBsYXlsaXN0c1N0YXRlIHRoZSBwbGF5bGlzdHMgb2JqZWN0LlxuICogQHBhcmFtIHtudW1iZXJ9IGlkIHBsYXlsaXN0IGlkXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IHZhciBpc1BsYXlsaXN0U2VsZWN0ZWQgPSBjcmVhdGVTZWxlY3RvcihwbGF5bGlzdHNTdGF0ZSwgZnVuY3Rpb24gKF8sIGlkKSB7XG4gIHJldHVybiBpZDtcbn0sIGZ1bmN0aW9uIChwbGF5bGlzdHNTdGF0ZSwgaWQpIHtcbiAgdmFyIF9wbGF5bGlzdHNTdGF0ZSRzZWxlYztcbiAgcmV0dXJuIChfcGxheWxpc3RzU3RhdGUkc2VsZWMgPSBwbGF5bGlzdHNTdGF0ZS5zZWxlY3RlZCkgPT09IG51bGwgfHwgX3BsYXlsaXN0c1N0YXRlJHNlbGVjID09PSB2b2lkIDAgfHwgKF9wbGF5bGlzdHNTdGF0ZSRzZWxlYyA9IF9wbGF5bGlzdHNTdGF0ZSRzZWxlY1tpZF0pID09PSBudWxsIHx8IF9wbGF5bGlzdHNTdGF0ZSRzZWxlYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3BsYXlsaXN0c1N0YXRlJHNlbGVjLnNlbGVjdGVkO1xufSk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIHZpZGVvIGlzIHNlbGVjdGVkXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHBsYXlsaXN0c1N0YXRlIHRoZSBwbGF5bGlzdHMgb2JqZWN0LlxuICogQHBhcmFtIHtvYmplY3R9IGlkcyBwbGF5bGlzdElEICYgdmlkZW9JRFxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCB2YXIgaXNWaWRlb1NlbGVjdGVkID0gY3JlYXRlU2VsZWN0b3IocGxheWxpc3RzU3RhdGUsIGZ1bmN0aW9uIChfLCBpZHMpIHtcbiAgcmV0dXJuIGlkcztcbn0sIGZ1bmN0aW9uIChwbGF5bGlzdHNTdGF0ZSwgaWRzKSB7XG4gIHZhciBfcGxheWxpc3RzU3RhdGUkc2VsZWMyO1xuICB2YXIgX3JlZjMgPSBpZHMgIT09IG51bGwgJiYgaWRzICE9PSB2b2lkIDAgPyBpZHMgOiB7fSxcbiAgICBwbGF5bGlzdElEID0gX3JlZjMucGxheWxpc3RJRCxcbiAgICB2aWRlb0lEID0gX3JlZjMudmlkZW9JRDtcbiAgdmFyIHZpZGVvcyA9ICgoX3BsYXlsaXN0c1N0YXRlJHNlbGVjMiA9IHBsYXlsaXN0c1N0YXRlLnNlbGVjdGVkKSA9PT0gbnVsbCB8fCBfcGxheWxpc3RzU3RhdGUkc2VsZWMyID09PSB2b2lkIDAgfHwgKF9wbGF5bGlzdHNTdGF0ZSRzZWxlYzIgPSBfcGxheWxpc3RzU3RhdGUkc2VsZWMyW3BsYXlsaXN0SURdKSA9PT0gbnVsbCB8fCBfcGxheWxpc3RzU3RhdGUkc2VsZWMyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcGxheWxpc3RzU3RhdGUkc2VsZWMyLnZpZGVvcykgfHwgW107XG4gIHJldHVybiB2aWRlb3MuaW5jbHVkZXModmlkZW9JRCk7XG59KTtcblxuLyoqXG4gKiBDaGVjayBvZiBhbGwgdmlkZW9zIGFuZCBwbGF5bGlzdHMgYXJlIHNlbGVjdGVkXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHBsYXlsaXN0c1N0YXRlIHRoZSBwbGF5bGlzdHMgb2JqZWN0LlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqXG4gKi9cbmV4cG9ydCB2YXIgYXJlQWxsU2VsZWN0ZWQgPSBjcmVhdGVTZWxlY3RvcihwbGF5bGlzdHNTdGF0ZSwgZnVuY3Rpb24gKHBsYXlsaXN0c1N0YXRlKSB7XG4gIHZhciBwbGF5bGlzdHMgPSBwbGF5bGlzdHNTdGF0ZS5wbGF5bGlzdHMsXG4gICAgc2VsZWN0ZWQgPSBwbGF5bGlzdHNTdGF0ZS5zZWxlY3RlZDtcblxuICAvLyByZXR1cm4gZmFsc2UgaWYgYXQgbGVhc3Qgb25lIHBsYXlsaXN0IGlzIG5vdCBzZWxlY3RlZFxuICBmb3IgKHZhciBwbGF5bGlzdElkIGluIHBsYXlsaXN0cykge1xuICAgIHZhciBfc2VsZWN0ZWQkcGxheWxpc3RJZCwgX3BsYXlsaXN0cyRwbGF5bGlzdElkLCBfc2VsZWN0ZWQkcGxheWxpc3RJZDI7XG4gICAgdmFyIGlzU2VsZWN0ZWQgPSAoc2VsZWN0ZWQgPT09IG51bGwgfHwgc2VsZWN0ZWQgPT09IHZvaWQgMCB8fCAoX3NlbGVjdGVkJHBsYXlsaXN0SWQgPSBzZWxlY3RlZFtwbGF5bGlzdElkXSkgPT09IG51bGwgfHwgX3NlbGVjdGVkJHBsYXlsaXN0SWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zZWxlY3RlZCRwbGF5bGlzdElkLnNlbGVjdGVkKSB8fCBmYWxzZTtcbiAgICBpZiAoIWlzU2VsZWN0ZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyByZXR1cm4gZmFsc2UgaWYgYXQgbGVhc3Qgb25lIHZpZGVvIGlzIG5vdCBzZWxlY3RlZFxuICAgIHZhciBhbGxWaWRlb3MgPSAocGxheWxpc3RzID09PSBudWxsIHx8IHBsYXlsaXN0cyA9PT0gdm9pZCAwIHx8IChfcGxheWxpc3RzJHBsYXlsaXN0SWQgPSBwbGF5bGlzdHNbcGxheWxpc3RJZF0pID09PSBudWxsIHx8IF9wbGF5bGlzdHMkcGxheWxpc3RJZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3BsYXlsaXN0cyRwbGF5bGlzdElkLnZpZGVvcykgfHwgW107XG4gICAgdmFyIHNlbGVjdGVkVmlkZW9zID0gKHNlbGVjdGVkID09PSBudWxsIHx8IHNlbGVjdGVkID09PSB2b2lkIDAgfHwgKF9zZWxlY3RlZCRwbGF5bGlzdElkMiA9IHNlbGVjdGVkW3BsYXlsaXN0SWRdKSA9PT0gbnVsbCB8fCBfc2VsZWN0ZWQkcGxheWxpc3RJZDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zZWxlY3RlZCRwbGF5bGlzdElkMi52aWRlb3MpIHx8IFtdO1xuXG4gICAgLy8gSXQgc3VmZmljZXMgdG8gY29tcGFyZSBsZW5ndGhzIG9ubHlcbiAgICBpZiAoYWxsVmlkZW9zLmxlbmd0aCAhPT0gc2VsZWN0ZWRWaWRlb3MubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiBPYmplY3Qua2V5cyhwbGF5bGlzdHMpLmxlbmd0aCA+IDA7XG59KTtcblxuLyoqXG4gKiBHZXQgc2VsZWN0ZWQgUGxheWxpc3RzICYgdmlkZW9zXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHBsYXlsaXN0c1N0YXRlIHRoZSBwbGF5bGlzdHMgb2JqZWN0LlxuICpcbiAqIEByZXR1cm4ge29iamVjdH1cbiAqL1xuZXhwb3J0IHZhciBnZXRTZWxlY3RlZFBsYXlsaXN0cyA9IGNyZWF0ZVNlbGVjdG9yKHBsYXlsaXN0c1N0YXRlLCBmdW5jdGlvbiAocGxheWxpc3RzU3RhdGUpIHtcbiAgcmV0dXJuIHBsYXlsaXN0c1N0YXRlLnNlbGVjdGVkO1xufSk7XG5cbi8qKlxuICogR2V0IExvYWRpbmcgc3RhdHVzXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHBsYXlsaXN0c1N0YXRlIHRoZSBwbGF5bGlzdHMgb2JqZWN0LlxuICpcbiAqIEByZXR1cm4geyp9XG4gKi9cbmV4cG9ydCB2YXIgZ2V0TG9hZGluZ1N0YXR1cyA9IGNyZWF0ZVNlbGVjdG9yKHBsYXlsaXN0c1N0YXRlLCBmdW5jdGlvbiAocGxheWxpc3RzU3RhdGUpIHtcbiAgcmV0dXJuIHBsYXlsaXN0c1N0YXRlLmlzTG9hZGluZztcbn0pO1xuXG4vLyBFeHBvcnQgYWN0aW9uc1xudmFyIF9wbGF5bGlzdHNTbGljZSRhY3RpbyA9IHBsYXlsaXN0c1NsaWNlLmFjdGlvbnMsXG4gIHNldFBsYXlsaXN0ID0gX3BsYXlsaXN0c1NsaWNlJGFjdGlvLnNldFBsYXlsaXN0LFxuICB1cGRhdGVQbGF5bGlzdEtleSA9IF9wbGF5bGlzdHNTbGljZSRhY3Rpby51cGRhdGVQbGF5bGlzdEtleSxcbiAgdG9nZ2xlUGxheWxpc3QgPSBfcGxheWxpc3RzU2xpY2UkYWN0aW8udG9nZ2xlUGxheWxpc3QsXG4gIHRvZ2dsZVZpZGVvID0gX3BsYXlsaXN0c1NsaWNlJGFjdGlvLnRvZ2dsZVZpZGVvLFxuICB0b2dnbGVBbGwgPSBfcGxheWxpc3RzU2xpY2UkYWN0aW8udG9nZ2xlQWxsO1xuZXhwb3J0IHsgc2V0UGxheWxpc3QsIHVwZGF0ZVBsYXlsaXN0S2V5LCB0b2dnbGVQbGF5bGlzdCwgdG9nZ2xlVmlkZW8sIHRvZ2dsZUFsbCB9O1xuZXhwb3J0IGRlZmF1bHQgcGxheWxpc3RzU2xpY2UucmVkdWNlcjsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9317\n')},4084:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval('/* unused harmony exports initVideos, deleteVideo, unAssignVideo, fetchEmbed, createVideo, updateVideo, searchVideos, getVideos, getFilteredIds, getEmbed, getLoadingStatus, setFiltered */\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8740);\n/* harmony import */ var _helpers_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9331);\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4214);\n/* harmony import */ var reselect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1081);\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator.return && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, catch: function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\n\n\n\n\n\n/**\n * Re-initialize the videos list\n *\n * @return {Promise}\n */\nvar initVideos = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'videos/init\',\n// Redux action type\nfunction (params) {\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restGet */ .B8)({\n    path: \'videos\',\n    params: params\n  });\n});\n\n/**\n * Deletes a video\n *\n * @return {Promise}\n */\nvar deleteVideo = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'videos/delete\',\n// Redux action type\nfunction (data) {\n  var id = data.id;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restDelete */ ._8)({\n    path: "videos/".concat(id)\n  });\n});\n\n/**\n * Delete a video from playlist\n *\n * @return {Promise}\n */\nvar unAssignVideo = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'videos/delete\',\n// Redux action type\nfunction (_ref) {\n  var playlistID = _ref.playlistID,\n    videoID = _ref.videoID;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restDelete */ ._8)({\n    path: "playlists/".concat(playlistID, "/videos"),\n    data: {\n      videos: [videoID]\n    }\n  });\n});\n\n/**\n * Fetch a single embed object using API.\n *\n * Use this only if the embed is not already\n * found in state.\n *\n * @param {object} data Video ID and other args.\n *\n * @return {Promise}\n */\nvar fetchEmbed = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'videos/fetchEmbed\', /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(data) {\n    var response;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          if (!(data.id && data.id > 0)) {\n            _context.next = 6;\n            break;\n          }\n          _context.next = 3;\n          return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restGet */ .B8)({\n            path: "videos/".concat(data.id, "/embed"),\n            params: data\n          });\n        case 3:\n          response = _context.sent;\n          // Include the id in response\n          response.id = data.id;\n          return _context.abrupt("return", response);\n        case 6:\n        case "end":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n/**\n * Create a video\n *\n * @param {object} video Video object\n *\n * @return {Promise}\n */\nvar createVideo = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'videos/create\', function (data) {\n  var video = data.video;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restPost */ .J8)({\n    path: \'videos\',\n    data: video\n  });\n});\n\n/**\n * Update a video\n *\n * @param {object} video Video object\n *\n * @return {Promise}\n */\nvar updateVideo = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'videos/update\', function (data) {\n  var video = data.video,\n    id = data.id;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restPost */ .J8)({\n    path: "videos/".concat(id),\n    data: video\n  });\n});\n\n/**\n * Search Videos\n *\n * @param {object} search search string\n *\n * @return {Promise}\n */\nvar searchVideos = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'videos/search\', function (data) {\n  var search = data.search;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restGet */ .B8)({\n    path: "videos",\n    params: {\n      search: search,\n      field: \'ids\'\n    }\n  });\n});\nvar videosSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createSlice */ .Z0)({\n  name: \'videos\',\n  initialState: {\n    videos: {},\n    embeds: {},\n    filtered: [],\n    isLoading: false\n  },\n  reducers: {\n    /**\n     * Set a filtered video ids in state.\n     *\n     * It replaces the filtered list with the provided one\n     *\n     * @param {state} state object\n     * @param {object} action object\n     *\n     * @return {object} New State Object\n     */\n    setFiltered: function setFiltered(state, action) {\n      var ids = action.payload.ids;\n      return _objectSpread(_objectSpread({}, state), {}, {\n        filtered: ids\n      });\n    }\n  },\n  extraReducers: function extraReducers(builder) {\n    builder\n    // Handling initVideos status\n    .addCase(initVideos.pending, function (state) {\n      // Set Loading\n      state.isLoading = true;\n    }).addCase(initVideos.fulfilled, function (state, action) {\n      state.isLoading = false;\n      var payload = action.payload;\n      if (payload.success && payload.data) {\n        var videos = {};\n        var filtered = [];\n\n        // Setup the list data.\n        payload.data.forEach(function (video) {\n          videos[video.id] = video;\n          filtered.push(video.id);\n        });\n\n        // update the state\n        state.videos = videos;\n        state.filtered = filtered;\n      }\n      state.status = \'success\';\n    }).addCase(initVideos.rejected, function (state) {\n      // Update Status\n      state.status = \'error\';\n    })\n\n    // Handling fetchEmbed\n    .addCase(fetchEmbed.fulfilled, function (state, action) {\n      var embed = {};\n\n      // Update state\n      var payload = action.payload;\n      if (payload !== null && payload !== void 0 && payload.success && payload !== null && payload !== void 0 && payload.data && payload !== null && payload !== void 0 && payload.data.html) {\n        embed = payload.data;\n        var newData = _objectSpread({}, payload.data);\n        newData.id = payload.id;\n\n        // Update the state\n        state.embeds[payload.id] = newData;\n      }\n    })\n\n    // Handling Video Create\n    .addCase(createVideo.fulfilled, function (state, action) {\n      // Update state\n      var payload = action.payload;\n      if (payload !== null && payload !== void 0 && payload.success) {\n        var video = payload.data;\n\n        // Add video to state\n        if (video.id && video.id > 0) {\n          state.videos = _objectSpread(_objectSpread({}, state.videos), {}, _defineProperty({}, video.id, video));\n\n          // Add the id to the filtered list so the video will be displayed\n          state.filtered = [].concat(_toConsumableArray(state.filtered), [video.id]);\n        }\n      }\n    })\n\n    // Handeling Video Update\n    .addCase(updateVideo.fulfilled, function (state, action) {\n      var payload = action.payload;\n      var newVideo = payload.data;\n      if (payload !== null && payload !== void 0 && payload.success) {\n        // Update videos state\n        state.videos = _objectSpread(_objectSpread({}, state.videos), {}, _defineProperty({}, newVideo.id, newVideo));\n      }\n    })\n\n    // Handeling Video Delete\n    .addCase(deleteVideo.fulfilled, function (state, action) {\n      var id = action.meta.arg.id,\n        success = action.payload.success;\n      if (success === true) {\n        var videos = state.videos,\n          filtered = state.filtered;\n\n        // Remove from filtered list\n        state.filtered = filtered.filter(function (item) {\n          return id !== item;\n        });\n\n        // Delete the video from the videos object\n        var newVideos = _objectSpread({}, videos);\n        delete newVideos[id];\n        state.videos = newVideos;\n      }\n    })\n\n    // Handeling Video Search\n    .addCase(searchVideos.pending, function (state, action) {\n      // Set Loading\n      state.isLoading = true;\n    }).addCase(searchVideos.fulfilled, function (state, action) {\n      var _action$payload;\n      var ids = (action === null || action === void 0 || (_action$payload = action.payload) === null || _action$payload === void 0 ? void 0 : _action$payload.data) || [];\n      state.filtered = ids;\n\n      // Set Loading\n      state.isLoading = false;\n    }).addCase(searchVideos.rejected, function (state, action) {\n      state.isLoading = false;\n    });\n  }\n});\n\n// Selectors\nvar videosState = function videosState(state) {\n  return state.videos;\n};\n\n/**\n * Get video(s) object(s) by id(s)\n *\n * @param {object} videosState\n * @param {array|string} ids videos ids\n *\n * @return {array|object|false}\n */\nvar getVideos = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(videosState, function (_, ids) {\n  return ids;\n}, function (videosState, ids) {\n  var videos = [];\n  if (Array.isArray(ids)) {\n    ids.forEach(function (id) {\n      if (videosState.videos[id]) {\n        videos.push(videosState.videos[id]);\n      }\n    });\n    return videos;\n  } else if (typeof ids === \'string\' || typeof ids === \'number\') {\n    return videosState.videos[ids];\n  } else {\n    // If ids is not provided get all videos\n    return videosState.videos;\n  }\n});\n\n/**\n * Get Filtered IDs\n *\n * @param {object} videosState\n *\n * @return {array}\n */\nvar getFilteredIds = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(videosState, function (videosState) {\n  return videosState.filtered;\n});\n\n/**\n * Get a single embed object\n *\n * @param {object} videosState\n * @param {number} videoId\n *\n * @return {array}\n */\nvar getEmbed = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(videosState, function (_, id) {\n  return id;\n}, function (videosState, id) {\n  return videosState.embeds[id] || false;\n});\n\n/**\n * Get loading status\n *\n * @param {object} videosState the videos state object.\n *\n * @return {boolean}\n */\nvar getLoadingStatus = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(videosState, function (videosState) {\n  return videosState.isLoading;\n});\n\n// Export actions\nvar setFiltered = videosSlice.actions.setFiltered;\n\n/* harmony default export */ __webpack_exports__.Ay = (videosSlice.reducer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDA4NC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvc3RvcmUvc2xpY2VzL3ZpZGVvcy5qcz8xYjBjIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMocikgfHwgX2l0ZXJhYmxlVG9BcnJheShyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkocikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBhKSB7IGlmIChyKSB7IGlmIChcInN0cmluZ1wiID09IHR5cGVvZiByKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkociwgYSk7IHZhciB0ID0ge30udG9TdHJpbmcuY2FsbChyKS5zbGljZSg4LCAtMSk7IHJldHVybiBcIk9iamVjdFwiID09PSB0ICYmIHIuY29uc3RydWN0b3IgJiYgKHQgPSByLmNvbnN0cnVjdG9yLm5hbWUpLCBcIk1hcFwiID09PSB0IHx8IFwiU2V0XCIgPT09IHQgPyBBcnJheS5mcm9tKHIpIDogXCJBcmd1bWVudHNcIiA9PT0gdCB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSA/IF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIDogdm9pZCAwOyB9IH1cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkocikgeyBpZiAoXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIG51bGwgIT0gcltTeW1ib2wuaXRlcmF0b3JdIHx8IG51bGwgIT0gcltcIkBAaXRlcmF0b3JcIl0pIHJldHVybiBBcnJheS5mcm9tKHIpOyB9XG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMocikgeyBpZiAoQXJyYXkuaXNBcnJheShyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIpOyB9XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9XG5mdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0KSB7IHJldHVybiAociA9IF90b1Byb3BlcnR5S2V5KHIpKSBpbiBlID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIHsgdmFsdWU6IHQsIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAgfSkgOiBlW3JdID0gdCwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgXCJcIjsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbmZ1bmN0aW9uIF9yZWdlbmVyYXRvclJ1bnRpbWUoKSB7IFwidXNlIHN0cmljdFwiOyAvKiEgcmVnZW5lcmF0b3ItcnVudGltZSAtLSBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy4gLS0gbGljZW5zZSAoTUlUKTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2Jsb2IvbWFpbi9MSUNFTlNFICovIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSBmdW5jdGlvbiBfcmVnZW5lcmF0b3JSdW50aW1lKCkgeyByZXR1cm4gZTsgfTsgdmFyIHQsIGUgPSB7fSwgciA9IE9iamVjdC5wcm90b3R5cGUsIG4gPSByLmhhc093blByb3BlcnR5LCBvID0gT2JqZWN0LmRlZmluZVByb3BlcnR5IHx8IGZ1bmN0aW9uICh0LCBlLCByKSB7IHRbZV0gPSByLnZhbHVlOyB9LCBpID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgPyBTeW1ib2wgOiB7fSwgYSA9IGkuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCIsIGMgPSBpLmFzeW5jSXRlcmF0b3IgfHwgXCJAQGFzeW5jSXRlcmF0b3JcIiwgdSA9IGkudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7IGZ1bmN0aW9uIGRlZmluZSh0LCBlLCByKSB7IHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgZSwgeyB2YWx1ZTogciwgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9KSwgdFtlXTsgfSB0cnkgeyBkZWZpbmUoe30sIFwiXCIpOyB9IGNhdGNoICh0KSB7IGRlZmluZSA9IGZ1bmN0aW9uIGRlZmluZSh0LCBlLCByKSB7IHJldHVybiB0W2VdID0gcjsgfTsgfSBmdW5jdGlvbiB3cmFwKHQsIGUsIHIsIG4pIHsgdmFyIGkgPSBlICYmIGUucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gZSA6IEdlbmVyYXRvciwgYSA9IE9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpLCBjID0gbmV3IENvbnRleHQobiB8fCBbXSk7IHJldHVybiBvKGEsIFwiX2ludm9rZVwiLCB7IHZhbHVlOiBtYWtlSW52b2tlTWV0aG9kKHQsIHIsIGMpIH0pLCBhOyB9IGZ1bmN0aW9uIHRyeUNhdGNoKHQsIGUsIHIpIHsgdHJ5IHsgcmV0dXJuIHsgdHlwZTogXCJub3JtYWxcIiwgYXJnOiB0LmNhbGwoZSwgcikgfTsgfSBjYXRjaCAodCkgeyByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogdCB9OyB9IH0gZS53cmFwID0gd3JhcDsgdmFyIGggPSBcInN1c3BlbmRlZFN0YXJ0XCIsIGwgPSBcInN1c3BlbmRlZFlpZWxkXCIsIGYgPSBcImV4ZWN1dGluZ1wiLCBzID0gXCJjb21wbGV0ZWRcIiwgeSA9IHt9OyBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fSBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9IGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge30gdmFyIHAgPSB7fTsgZGVmaW5lKHAsIGEsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pOyB2YXIgZCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiwgdiA9IGQgJiYgZChkKHZhbHVlcyhbXSkpKTsgdiAmJiB2ICE9PSByICYmIG4uY2FsbCh2LCBhKSAmJiAocCA9IHYpOyB2YXIgZyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9IEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHApOyBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHModCkgeyBbXCJuZXh0XCIsIFwidGhyb3dcIiwgXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbiAoZSkgeyBkZWZpbmUodCwgZSwgZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHRoaXMuX2ludm9rZShlLCB0KTsgfSk7IH0pOyB9IGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IodCwgZSkgeyBmdW5jdGlvbiBpbnZva2UociwgbywgaSwgYSkgeyB2YXIgYyA9IHRyeUNhdGNoKHRbcl0sIHQsIG8pOyBpZiAoXCJ0aHJvd1wiICE9PSBjLnR5cGUpIHsgdmFyIHUgPSBjLmFyZywgaCA9IHUudmFsdWU7IHJldHVybiBoICYmIFwib2JqZWN0XCIgPT0gX3R5cGVvZihoKSAmJiBuLmNhbGwoaCwgXCJfX2F3YWl0XCIpID8gZS5yZXNvbHZlKGguX19hd2FpdCkudGhlbihmdW5jdGlvbiAodCkgeyBpbnZva2UoXCJuZXh0XCIsIHQsIGksIGEpOyB9LCBmdW5jdGlvbiAodCkgeyBpbnZva2UoXCJ0aHJvd1wiLCB0LCBpLCBhKTsgfSkgOiBlLnJlc29sdmUoaCkudGhlbihmdW5jdGlvbiAodCkgeyB1LnZhbHVlID0gdCwgaSh1KTsgfSwgZnVuY3Rpb24gKHQpIHsgcmV0dXJuIGludm9rZShcInRocm93XCIsIHQsIGksIGEpOyB9KTsgfSBhKGMuYXJnKTsgfSB2YXIgcjsgbyh0aGlzLCBcIl9pbnZva2VcIiwgeyB2YWx1ZTogZnVuY3Rpb24gdmFsdWUodCwgbikgeyBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHsgcmV0dXJuIG5ldyBlKGZ1bmN0aW9uIChlLCByKSB7IGludm9rZSh0LCBuLCBlLCByKTsgfSk7IH0gcmV0dXJuIHIgPSByID8gci50aGVuKGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLCBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZykgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpOyB9IH0pOyB9IGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoZSwgciwgbikgeyB2YXIgbyA9IGg7IHJldHVybiBmdW5jdGlvbiAoaSwgYSkgeyBpZiAobyA9PT0gZikgdGhyb3cgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpOyBpZiAobyA9PT0gcykgeyBpZiAoXCJ0aHJvd1wiID09PSBpKSB0aHJvdyBhOyByZXR1cm4geyB2YWx1ZTogdCwgZG9uZTogITAgfTsgfSBmb3IgKG4ubWV0aG9kID0gaSwgbi5hcmcgPSBhOzspIHsgdmFyIGMgPSBuLmRlbGVnYXRlOyBpZiAoYykgeyB2YXIgdSA9IG1heWJlSW52b2tlRGVsZWdhdGUoYywgbik7IGlmICh1KSB7IGlmICh1ID09PSB5KSBjb250aW51ZTsgcmV0dXJuIHU7IH0gfSBpZiAoXCJuZXh0XCIgPT09IG4ubWV0aG9kKSBuLnNlbnQgPSBuLl9zZW50ID0gbi5hcmc7ZWxzZSBpZiAoXCJ0aHJvd1wiID09PSBuLm1ldGhvZCkgeyBpZiAobyA9PT0gaCkgdGhyb3cgbyA9IHMsIG4uYXJnOyBuLmRpc3BhdGNoRXhjZXB0aW9uKG4uYXJnKTsgfSBlbHNlIFwicmV0dXJuXCIgPT09IG4ubWV0aG9kICYmIG4uYWJydXB0KFwicmV0dXJuXCIsIG4uYXJnKTsgbyA9IGY7IHZhciBwID0gdHJ5Q2F0Y2goZSwgciwgbik7IGlmIChcIm5vcm1hbFwiID09PSBwLnR5cGUpIHsgaWYgKG8gPSBuLmRvbmUgPyBzIDogbCwgcC5hcmcgPT09IHkpIGNvbnRpbnVlOyByZXR1cm4geyB2YWx1ZTogcC5hcmcsIGRvbmU6IG4uZG9uZSB9OyB9IFwidGhyb3dcIiA9PT0gcC50eXBlICYmIChvID0gcywgbi5tZXRob2QgPSBcInRocm93XCIsIG4uYXJnID0gcC5hcmcpOyB9IH07IH0gZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShlLCByKSB7IHZhciBuID0gci5tZXRob2QsIG8gPSBlLml0ZXJhdG9yW25dOyBpZiAobyA9PT0gdCkgcmV0dXJuIHIuZGVsZWdhdGUgPSBudWxsLCBcInRocm93XCIgPT09IG4gJiYgZS5pdGVyYXRvci5yZXR1cm4gJiYgKHIubWV0aG9kID0gXCJyZXR1cm5cIiwgci5hcmcgPSB0LCBtYXliZUludm9rZURlbGVnYXRlKGUsIHIpLCBcInRocm93XCIgPT09IHIubWV0aG9kKSB8fCBcInJldHVyblwiICE9PSBuICYmIChyLm1ldGhvZCA9IFwidGhyb3dcIiwgci5hcmcgPSBuZXcgVHlwZUVycm9yKFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnXCIgKyBuICsgXCInIG1ldGhvZFwiKSksIHk7IHZhciBpID0gdHJ5Q2F0Y2gobywgZS5pdGVyYXRvciwgci5hcmcpOyBpZiAoXCJ0aHJvd1wiID09PSBpLnR5cGUpIHJldHVybiByLm1ldGhvZCA9IFwidGhyb3dcIiwgci5hcmcgPSBpLmFyZywgci5kZWxlZ2F0ZSA9IG51bGwsIHk7IHZhciBhID0gaS5hcmc7IHJldHVybiBhID8gYS5kb25lID8gKHJbZS5yZXN1bHROYW1lXSA9IGEudmFsdWUsIHIubmV4dCA9IGUubmV4dExvYywgXCJyZXR1cm5cIiAhPT0gci5tZXRob2QgJiYgKHIubWV0aG9kID0gXCJuZXh0XCIsIHIuYXJnID0gdCksIHIuZGVsZWdhdGUgPSBudWxsLCB5KSA6IGEgOiAoci5tZXRob2QgPSBcInRocm93XCIsIHIuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpLCByLmRlbGVnYXRlID0gbnVsbCwgeSk7IH0gZnVuY3Rpb24gcHVzaFRyeUVudHJ5KHQpIHsgdmFyIGUgPSB7IHRyeUxvYzogdFswXSB9OyAxIGluIHQgJiYgKGUuY2F0Y2hMb2MgPSB0WzFdKSwgMiBpbiB0ICYmIChlLmZpbmFsbHlMb2MgPSB0WzJdLCBlLmFmdGVyTG9jID0gdFszXSksIHRoaXMudHJ5RW50cmllcy5wdXNoKGUpOyB9IGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkodCkgeyB2YXIgZSA9IHQuY29tcGxldGlvbiB8fCB7fTsgZS50eXBlID0gXCJub3JtYWxcIiwgZGVsZXRlIGUuYXJnLCB0LmNvbXBsZXRpb24gPSBlOyB9IGZ1bmN0aW9uIENvbnRleHQodCkgeyB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dLCB0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKSwgdGhpcy5yZXNldCghMCk7IH0gZnVuY3Rpb24gdmFsdWVzKGUpIHsgaWYgKGUgfHwgXCJcIiA9PT0gZSkgeyB2YXIgciA9IGVbYV07IGlmIChyKSByZXR1cm4gci5jYWxsKGUpOyBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBlLm5leHQpIHJldHVybiBlOyBpZiAoIWlzTmFOKGUubGVuZ3RoKSkgeyB2YXIgbyA9IC0xLCBpID0gZnVuY3Rpb24gbmV4dCgpIHsgZm9yICg7ICsrbyA8IGUubGVuZ3RoOykgaWYgKG4uY2FsbChlLCBvKSkgcmV0dXJuIG5leHQudmFsdWUgPSBlW29dLCBuZXh0LmRvbmUgPSAhMSwgbmV4dDsgcmV0dXJuIG5leHQudmFsdWUgPSB0LCBuZXh0LmRvbmUgPSAhMCwgbmV4dDsgfTsgcmV0dXJuIGkubmV4dCA9IGk7IH0gfSB0aHJvdyBuZXcgVHlwZUVycm9yKF90eXBlb2YoZSkgKyBcIiBpcyBub3QgaXRlcmFibGVcIik7IH0gcmV0dXJuIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBvKGcsIFwiY29uc3RydWN0b3JcIiwgeyB2YWx1ZTogR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIGNvbmZpZ3VyYWJsZTogITAgfSksIG8oR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIFwiY29uc3RydWN0b3JcIiwgeyB2YWx1ZTogR2VuZXJhdG9yRnVuY3Rpb24sIGNvbmZpZ3VyYWJsZTogITAgfSksIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gZGVmaW5lKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCB1LCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpLCBlLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbiAodCkgeyB2YXIgZSA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdCAmJiB0LmNvbnN0cnVjdG9yOyByZXR1cm4gISFlICYmIChlID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIgPT09IChlLmRpc3BsYXlOYW1lIHx8IGUubmFtZSkpOyB9LCBlLm1hcmsgPSBmdW5jdGlvbiAodCkgeyByZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHQsIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKSA6ICh0Ll9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBkZWZpbmUodCwgdSwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKSksIHQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShnKSwgdDsgfSwgZS5hd3JhcCA9IGZ1bmN0aW9uICh0KSB7IHJldHVybiB7IF9fYXdhaXQ6IHQgfTsgfSwgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKSwgZGVmaW5lKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlLCBjLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSwgZS5Bc3luY0l0ZXJhdG9yID0gQXN5bmNJdGVyYXRvciwgZS5hc3luYyA9IGZ1bmN0aW9uICh0LCByLCBuLCBvLCBpKSB7IHZvaWQgMCA9PT0gaSAmJiAoaSA9IFByb21pc2UpOyB2YXIgYSA9IG5ldyBBc3luY0l0ZXJhdG9yKHdyYXAodCwgciwgbiwgbyksIGkpOyByZXR1cm4gZS5pc0dlbmVyYXRvckZ1bmN0aW9uKHIpID8gYSA6IGEubmV4dCgpLnRoZW4oZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQuZG9uZSA/IHQudmFsdWUgOiBhLm5leHQoKTsgfSk7IH0sIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhnKSwgZGVmaW5lKGcsIHUsIFwiR2VuZXJhdG9yXCIpLCBkZWZpbmUoZywgYSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSksIGRlZmluZShnLCBcInRvU3RyaW5nXCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7IH0pLCBlLmtleXMgPSBmdW5jdGlvbiAodCkgeyB2YXIgZSA9IE9iamVjdCh0KSwgciA9IFtdOyBmb3IgKHZhciBuIGluIGUpIHIucHVzaChuKTsgcmV0dXJuIHIucmV2ZXJzZSgpLCBmdW5jdGlvbiBuZXh0KCkgeyBmb3IgKDsgci5sZW5ndGg7KSB7IHZhciB0ID0gci5wb3AoKTsgaWYgKHQgaW4gZSkgcmV0dXJuIG5leHQudmFsdWUgPSB0LCBuZXh0LmRvbmUgPSAhMSwgbmV4dDsgfSByZXR1cm4gbmV4dC5kb25lID0gITAsIG5leHQ7IH07IH0sIGUudmFsdWVzID0gdmFsdWVzLCBDb250ZXh0LnByb3RvdHlwZSA9IHsgY29uc3RydWN0b3I6IENvbnRleHQsIHJlc2V0OiBmdW5jdGlvbiByZXNldChlKSB7IGlmICh0aGlzLnByZXYgPSAwLCB0aGlzLm5leHQgPSAwLCB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdCwgdGhpcy5kb25lID0gITEsIHRoaXMuZGVsZWdhdGUgPSBudWxsLCB0aGlzLm1ldGhvZCA9IFwibmV4dFwiLCB0aGlzLmFyZyA9IHQsIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpLCAhZSkgZm9yICh2YXIgciBpbiB0aGlzKSBcInRcIiA9PT0gci5jaGFyQXQoMCkgJiYgbi5jYWxsKHRoaXMsIHIpICYmICFpc05hTigrci5zbGljZSgxKSkgJiYgKHRoaXNbcl0gPSB0KTsgfSwgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHsgdGhpcy5kb25lID0gITA7IHZhciB0ID0gdGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247IGlmIChcInRocm93XCIgPT09IHQudHlwZSkgdGhyb3cgdC5hcmc7IHJldHVybiB0aGlzLnJ2YWw7IH0sIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbiBkaXNwYXRjaEV4Y2VwdGlvbihlKSB7IGlmICh0aGlzLmRvbmUpIHRocm93IGU7IHZhciByID0gdGhpczsgZnVuY3Rpb24gaGFuZGxlKG4sIG8pIHsgcmV0dXJuIGEudHlwZSA9IFwidGhyb3dcIiwgYS5hcmcgPSBlLCByLm5leHQgPSBuLCBvICYmIChyLm1ldGhvZCA9IFwibmV4dFwiLCByLmFyZyA9IHQpLCAhIW87IH0gZm9yICh2YXIgbyA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBvID49IDA7IC0tbykgeyB2YXIgaSA9IHRoaXMudHJ5RW50cmllc1tvXSwgYSA9IGkuY29tcGxldGlvbjsgaWYgKFwicm9vdFwiID09PSBpLnRyeUxvYykgcmV0dXJuIGhhbmRsZShcImVuZFwiKTsgaWYgKGkudHJ5TG9jIDw9IHRoaXMucHJldikgeyB2YXIgYyA9IG4uY2FsbChpLCBcImNhdGNoTG9jXCIpLCB1ID0gbi5jYWxsKGksIFwiZmluYWxseUxvY1wiKTsgaWYgKGMgJiYgdSkgeyBpZiAodGhpcy5wcmV2IDwgaS5jYXRjaExvYykgcmV0dXJuIGhhbmRsZShpLmNhdGNoTG9jLCAhMCk7IGlmICh0aGlzLnByZXYgPCBpLmZpbmFsbHlMb2MpIHJldHVybiBoYW5kbGUoaS5maW5hbGx5TG9jKTsgfSBlbHNlIGlmIChjKSB7IGlmICh0aGlzLnByZXYgPCBpLmNhdGNoTG9jKSByZXR1cm4gaGFuZGxlKGkuY2F0Y2hMb2MsICEwKTsgfSBlbHNlIHsgaWYgKCF1KSB0aHJvdyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpOyBpZiAodGhpcy5wcmV2IDwgaS5maW5hbGx5TG9jKSByZXR1cm4gaGFuZGxlKGkuZmluYWxseUxvYyk7IH0gfSB9IH0sIGFicnVwdDogZnVuY3Rpb24gYWJydXB0KHQsIGUpIHsgZm9yICh2YXIgciA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyByID49IDA7IC0tcikgeyB2YXIgbyA9IHRoaXMudHJ5RW50cmllc1tyXTsgaWYgKG8udHJ5TG9jIDw9IHRoaXMucHJldiAmJiBuLmNhbGwobywgXCJmaW5hbGx5TG9jXCIpICYmIHRoaXMucHJldiA8IG8uZmluYWxseUxvYykgeyB2YXIgaSA9IG87IGJyZWFrOyB9IH0gaSAmJiAoXCJicmVha1wiID09PSB0IHx8IFwiY29udGludWVcIiA9PT0gdCkgJiYgaS50cnlMb2MgPD0gZSAmJiBlIDw9IGkuZmluYWxseUxvYyAmJiAoaSA9IG51bGwpOyB2YXIgYSA9IGkgPyBpLmNvbXBsZXRpb24gOiB7fTsgcmV0dXJuIGEudHlwZSA9IHQsIGEuYXJnID0gZSwgaSA/ICh0aGlzLm1ldGhvZCA9IFwibmV4dFwiLCB0aGlzLm5leHQgPSBpLmZpbmFsbHlMb2MsIHkpIDogdGhpcy5jb21wbGV0ZShhKTsgfSwgY29tcGxldGU6IGZ1bmN0aW9uIGNvbXBsZXRlKHQsIGUpIHsgaWYgKFwidGhyb3dcIiA9PT0gdC50eXBlKSB0aHJvdyB0LmFyZzsgcmV0dXJuIFwiYnJlYWtcIiA9PT0gdC50eXBlIHx8IFwiY29udGludWVcIiA9PT0gdC50eXBlID8gdGhpcy5uZXh0ID0gdC5hcmcgOiBcInJldHVyblwiID09PSB0LnR5cGUgPyAodGhpcy5ydmFsID0gdGhpcy5hcmcgPSB0LmFyZywgdGhpcy5tZXRob2QgPSBcInJldHVyblwiLCB0aGlzLm5leHQgPSBcImVuZFwiKSA6IFwibm9ybWFsXCIgPT09IHQudHlwZSAmJiBlICYmICh0aGlzLm5leHQgPSBlKSwgeTsgfSwgZmluaXNoOiBmdW5jdGlvbiBmaW5pc2godCkgeyBmb3IgKHZhciBlID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGUgPj0gMDsgLS1lKSB7IHZhciByID0gdGhpcy50cnlFbnRyaWVzW2VdOyBpZiAoci5maW5hbGx5TG9jID09PSB0KSByZXR1cm4gdGhpcy5jb21wbGV0ZShyLmNvbXBsZXRpb24sIHIuYWZ0ZXJMb2MpLCByZXNldFRyeUVudHJ5KHIpLCB5OyB9IH0sIGNhdGNoOiBmdW5jdGlvbiBfY2F0Y2godCkgeyBmb3IgKHZhciBlID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGUgPj0gMDsgLS1lKSB7IHZhciByID0gdGhpcy50cnlFbnRyaWVzW2VdOyBpZiAoci50cnlMb2MgPT09IHQpIHsgdmFyIG4gPSByLmNvbXBsZXRpb247IGlmIChcInRocm93XCIgPT09IG4udHlwZSkgeyB2YXIgbyA9IG4uYXJnOyByZXNldFRyeUVudHJ5KHIpOyB9IHJldHVybiBvOyB9IH0gdGhyb3cgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7IH0sIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uIGRlbGVnYXRlWWllbGQoZSwgciwgbikgeyByZXR1cm4gdGhpcy5kZWxlZ2F0ZSA9IHsgaXRlcmF0b3I6IHZhbHVlcyhlKSwgcmVzdWx0TmFtZTogciwgbmV4dExvYzogbiB9LCBcIm5leHRcIiA9PT0gdGhpcy5tZXRob2QgJiYgKHRoaXMuYXJnID0gdCksIHk7IH0gfSwgZTsgfVxuZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKG4sIHQsIGUsIHIsIG8sIGEsIGMpIHsgdHJ5IHsgdmFyIGkgPSBuW2FdKGMpLCB1ID0gaS52YWx1ZTsgfSBjYXRjaCAobikgeyByZXR1cm4gdm9pZCBlKG4pOyB9IGkuZG9uZSA/IHQodSkgOiBQcm9taXNlLnJlc29sdmUodSkudGhlbihyLCBvKTsgfVxuZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IobikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgdCA9IHRoaXMsIGUgPSBhcmd1bWVudHM7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAociwgbykgeyB2YXIgYSA9IG4uYXBwbHkodCwgZSk7IGZ1bmN0aW9uIF9uZXh0KG4pIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGEsIHIsIG8sIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCBuKTsgfSBmdW5jdGlvbiBfdGhyb3cobikgeyBhc3luY0dlbmVyYXRvclN0ZXAoYSwgciwgbywgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBuKTsgfSBfbmV4dCh2b2lkIDApOyB9KTsgfTsgfVxuaW1wb3J0IHsgY3JlYXRlU2xpY2UsIGNyZWF0ZUFzeW5jVGh1bmsgfSBmcm9tICdAcmVkdXhqcy90b29sa2l0JztcbmltcG9ydCB7IHJlc3RQb3N0LCByZXN0RGVsZXRlLCByZXN0R2V0IH0gZnJvbSAnLi4vLi4vaGVscGVycy9hcGknO1xuaW1wb3J0IHsgX18gfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuaW1wb3J0IHsgY3JlYXRlU2VsZWN0b3IgfSBmcm9tICdyZXNlbGVjdCc7XG5cbi8qKlxuICogUmUtaW5pdGlhbGl6ZSB0aGUgdmlkZW9zIGxpc3RcbiAqXG4gKiBAcmV0dXJuIHtQcm9taXNlfVxuICovXG5leHBvcnQgdmFyIGluaXRWaWRlb3MgPSBjcmVhdGVBc3luY1RodW5rKCd2aWRlb3MvaW5pdCcsXG4vLyBSZWR1eCBhY3Rpb24gdHlwZVxuZnVuY3Rpb24gKHBhcmFtcykge1xuICByZXR1cm4gcmVzdEdldCh7XG4gICAgcGF0aDogJ3ZpZGVvcycsXG4gICAgcGFyYW1zOiBwYXJhbXNcbiAgfSk7XG59KTtcblxuLyoqXG4gKiBEZWxldGVzIGEgdmlkZW9cbiAqXG4gKiBAcmV0dXJuIHtQcm9taXNlfVxuICovXG5leHBvcnQgdmFyIGRlbGV0ZVZpZGVvID0gY3JlYXRlQXN5bmNUaHVuaygndmlkZW9zL2RlbGV0ZScsXG4vLyBSZWR1eCBhY3Rpb24gdHlwZVxuZnVuY3Rpb24gKGRhdGEpIHtcbiAgdmFyIGlkID0gZGF0YS5pZDtcbiAgcmV0dXJuIHJlc3REZWxldGUoe1xuICAgIHBhdGg6IFwidmlkZW9zL1wiLmNvbmNhdChpZClcbiAgfSk7XG59KTtcblxuLyoqXG4gKiBEZWxldGUgYSB2aWRlbyBmcm9tIHBsYXlsaXN0XG4gKlxuICogQHJldHVybiB7UHJvbWlzZX1cbiAqL1xuZXhwb3J0IHZhciB1bkFzc2lnblZpZGVvID0gY3JlYXRlQXN5bmNUaHVuaygndmlkZW9zL2RlbGV0ZScsXG4vLyBSZWR1eCBhY3Rpb24gdHlwZVxuZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIHBsYXlsaXN0SUQgPSBfcmVmLnBsYXlsaXN0SUQsXG4gICAgdmlkZW9JRCA9IF9yZWYudmlkZW9JRDtcbiAgcmV0dXJuIHJlc3REZWxldGUoe1xuICAgIHBhdGg6IFwicGxheWxpc3RzL1wiLmNvbmNhdChwbGF5bGlzdElELCBcIi92aWRlb3NcIiksXG4gICAgZGF0YToge1xuICAgICAgdmlkZW9zOiBbdmlkZW9JRF1cbiAgICB9XG4gIH0pO1xufSk7XG5cbi8qKlxuICogRmV0Y2ggYSBzaW5nbGUgZW1iZWQgb2JqZWN0IHVzaW5nIEFQSS5cbiAqXG4gKiBVc2UgdGhpcyBvbmx5IGlmIHRoZSBlbWJlZCBpcyBub3QgYWxyZWFkeVxuICogZm91bmQgaW4gc3RhdGUuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGRhdGEgVmlkZW8gSUQgYW5kIG90aGVyIGFyZ3MuXG4gKlxuICogQHJldHVybiB7UHJvbWlzZX1cbiAqL1xuZXhwb3J0IHZhciBmZXRjaEVtYmVkID0gY3JlYXRlQXN5bmNUaHVuaygndmlkZW9zL2ZldGNoRW1iZWQnLCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoZGF0YSkge1xuICAgIHZhciByZXNwb25zZTtcbiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICBpZiAoIShkYXRhLmlkICYmIGRhdGEuaWQgPiAwKSkge1xuICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7XG4gICAgICAgICAgcmV0dXJuIHJlc3RHZXQoe1xuICAgICAgICAgICAgcGF0aDogXCJ2aWRlb3MvXCIuY29uY2F0KGRhdGEuaWQsIFwiL2VtYmVkXCIpLFxuICAgICAgICAgICAgcGFyYW1zOiBkYXRhXG4gICAgICAgICAgfSk7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7XG4gICAgICAgICAgLy8gSW5jbHVkZSB0aGUgaWQgaW4gcmVzcG9uc2VcbiAgICAgICAgICByZXNwb25zZS5pZCA9IGRhdGEuaWQ7XG4gICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCByZXNwb25zZSk7XG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICB9XG4gICAgfSwgX2NhbGxlZSk7XG4gIH0pKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChfeCkge1xuICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufSgpKTtcblxuLyoqXG4gKiBDcmVhdGUgYSB2aWRlb1xuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSB2aWRlbyBWaWRlbyBvYmplY3RcbiAqXG4gKiBAcmV0dXJuIHtQcm9taXNlfVxuICovXG5leHBvcnQgdmFyIGNyZWF0ZVZpZGVvID0gY3JlYXRlQXN5bmNUaHVuaygndmlkZW9zL2NyZWF0ZScsIGZ1bmN0aW9uIChkYXRhKSB7XG4gIHZhciB2aWRlbyA9IGRhdGEudmlkZW87XG4gIHJldHVybiByZXN0UG9zdCh7XG4gICAgcGF0aDogJ3ZpZGVvcycsXG4gICAgZGF0YTogdmlkZW9cbiAgfSk7XG59KTtcblxuLyoqXG4gKiBVcGRhdGUgYSB2aWRlb1xuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSB2aWRlbyBWaWRlbyBvYmplY3RcbiAqXG4gKiBAcmV0dXJuIHtQcm9taXNlfVxuICovXG5leHBvcnQgdmFyIHVwZGF0ZVZpZGVvID0gY3JlYXRlQXN5bmNUaHVuaygndmlkZW9zL3VwZGF0ZScsIGZ1bmN0aW9uIChkYXRhKSB7XG4gIHZhciB2aWRlbyA9IGRhdGEudmlkZW8sXG4gICAgaWQgPSBkYXRhLmlkO1xuICByZXR1cm4gcmVzdFBvc3Qoe1xuICAgIHBhdGg6IFwidmlkZW9zL1wiLmNvbmNhdChpZCksXG4gICAgZGF0YTogdmlkZW9cbiAgfSk7XG59KTtcblxuLyoqXG4gKiBTZWFyY2ggVmlkZW9zXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHNlYXJjaCBzZWFyY2ggc3RyaW5nXG4gKlxuICogQHJldHVybiB7UHJvbWlzZX1cbiAqL1xuZXhwb3J0IHZhciBzZWFyY2hWaWRlb3MgPSBjcmVhdGVBc3luY1RodW5rKCd2aWRlb3Mvc2VhcmNoJywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgdmFyIHNlYXJjaCA9IGRhdGEuc2VhcmNoO1xuICByZXR1cm4gcmVzdEdldCh7XG4gICAgcGF0aDogXCJ2aWRlb3NcIixcbiAgICBwYXJhbXM6IHtcbiAgICAgIHNlYXJjaDogc2VhcmNoLFxuICAgICAgZmllbGQ6ICdpZHMnXG4gICAgfVxuICB9KTtcbn0pO1xudmFyIHZpZGVvc1NsaWNlID0gY3JlYXRlU2xpY2Uoe1xuICBuYW1lOiAndmlkZW9zJyxcbiAgaW5pdGlhbFN0YXRlOiB7XG4gICAgdmlkZW9zOiB7fSxcbiAgICBlbWJlZHM6IHt9LFxuICAgIGZpbHRlcmVkOiBbXSxcbiAgICBpc0xvYWRpbmc6IGZhbHNlXG4gIH0sXG4gIHJlZHVjZXJzOiB7XG4gICAgLyoqXG4gICAgICogU2V0IGEgZmlsdGVyZWQgdmlkZW8gaWRzIGluIHN0YXRlLlxuICAgICAqXG4gICAgICogSXQgcmVwbGFjZXMgdGhlIGZpbHRlcmVkIGxpc3Qgd2l0aCB0aGUgcHJvdmlkZWQgb25lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0YXRlfSBzdGF0ZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gYWN0aW9uIG9iamVjdFxuICAgICAqXG4gICAgICogQHJldHVybiB7b2JqZWN0fSBOZXcgU3RhdGUgT2JqZWN0XG4gICAgICovXG4gICAgc2V0RmlsdGVyZWQ6IGZ1bmN0aW9uIHNldEZpbHRlcmVkKHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgIHZhciBpZHMgPSBhY3Rpb24ucGF5bG9hZC5pZHM7XG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZSksIHt9LCB7XG4gICAgICAgIGZpbHRlcmVkOiBpZHNcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgZXh0cmFSZWR1Y2VyczogZnVuY3Rpb24gZXh0cmFSZWR1Y2VycyhidWlsZGVyKSB7XG4gICAgYnVpbGRlclxuICAgIC8vIEhhbmRsaW5nIGluaXRWaWRlb3Mgc3RhdHVzXG4gICAgLmFkZENhc2UoaW5pdFZpZGVvcy5wZW5kaW5nLCBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgIC8vIFNldCBMb2FkaW5nXG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSB0cnVlO1xuICAgIH0pLmFkZENhc2UoaW5pdFZpZGVvcy5mdWxmaWxsZWQsIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgIHZhciBwYXlsb2FkID0gYWN0aW9uLnBheWxvYWQ7XG4gICAgICBpZiAocGF5bG9hZC5zdWNjZXNzICYmIHBheWxvYWQuZGF0YSkge1xuICAgICAgICB2YXIgdmlkZW9zID0ge307XG4gICAgICAgIHZhciBmaWx0ZXJlZCA9IFtdO1xuXG4gICAgICAgIC8vIFNldHVwIHRoZSBsaXN0IGRhdGEuXG4gICAgICAgIHBheWxvYWQuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uICh2aWRlbykge1xuICAgICAgICAgIHZpZGVvc1t2aWRlby5pZF0gPSB2aWRlbztcbiAgICAgICAgICBmaWx0ZXJlZC5wdXNoKHZpZGVvLmlkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gdXBkYXRlIHRoZSBzdGF0ZVxuICAgICAgICBzdGF0ZS52aWRlb3MgPSB2aWRlb3M7XG4gICAgICAgIHN0YXRlLmZpbHRlcmVkID0gZmlsdGVyZWQ7XG4gICAgICB9XG4gICAgICBzdGF0ZS5zdGF0dXMgPSAnc3VjY2Vzcyc7XG4gICAgfSkuYWRkQ2FzZShpbml0VmlkZW9zLnJlamVjdGVkLCBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgIC8vIFVwZGF0ZSBTdGF0dXNcbiAgICAgIHN0YXRlLnN0YXR1cyA9ICdlcnJvcic7XG4gICAgfSlcblxuICAgIC8vIEhhbmRsaW5nIGZldGNoRW1iZWRcbiAgICAuYWRkQ2FzZShmZXRjaEVtYmVkLmZ1bGZpbGxlZCwgZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgIHZhciBlbWJlZCA9IHt9O1xuXG4gICAgICAvLyBVcGRhdGUgc3RhdGVcbiAgICAgIHZhciBwYXlsb2FkID0gYWN0aW9uLnBheWxvYWQ7XG4gICAgICBpZiAocGF5bG9hZCAhPT0gbnVsbCAmJiBwYXlsb2FkICE9PSB2b2lkIDAgJiYgcGF5bG9hZC5zdWNjZXNzICYmIHBheWxvYWQgIT09IG51bGwgJiYgcGF5bG9hZCAhPT0gdm9pZCAwICYmIHBheWxvYWQuZGF0YSAmJiBwYXlsb2FkICE9PSBudWxsICYmIHBheWxvYWQgIT09IHZvaWQgMCAmJiBwYXlsb2FkLmRhdGEuaHRtbCkge1xuICAgICAgICBlbWJlZCA9IHBheWxvYWQuZGF0YTtcbiAgICAgICAgdmFyIG5ld0RhdGEgPSBfb2JqZWN0U3ByZWFkKHt9LCBwYXlsb2FkLmRhdGEpO1xuICAgICAgICBuZXdEYXRhLmlkID0gcGF5bG9hZC5pZDtcblxuICAgICAgICAvLyBVcGRhdGUgdGhlIHN0YXRlXG4gICAgICAgIHN0YXRlLmVtYmVkc1twYXlsb2FkLmlkXSA9IG5ld0RhdGE7XG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIEhhbmRsaW5nIFZpZGVvIENyZWF0ZVxuICAgIC5hZGRDYXNlKGNyZWF0ZVZpZGVvLmZ1bGZpbGxlZCwgZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgIC8vIFVwZGF0ZSBzdGF0ZVxuICAgICAgdmFyIHBheWxvYWQgPSBhY3Rpb24ucGF5bG9hZDtcbiAgICAgIGlmIChwYXlsb2FkICE9PSBudWxsICYmIHBheWxvYWQgIT09IHZvaWQgMCAmJiBwYXlsb2FkLnN1Y2Nlc3MpIHtcbiAgICAgICAgdmFyIHZpZGVvID0gcGF5bG9hZC5kYXRhO1xuXG4gICAgICAgIC8vIEFkZCB2aWRlbyB0byBzdGF0ZVxuICAgICAgICBpZiAodmlkZW8uaWQgJiYgdmlkZW8uaWQgPiAwKSB7XG4gICAgICAgICAgc3RhdGUudmlkZW9zID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZS52aWRlb3MpLCB7fSwgX2RlZmluZVByb3BlcnR5KHt9LCB2aWRlby5pZCwgdmlkZW8pKTtcblxuICAgICAgICAgIC8vIEFkZCB0aGUgaWQgdG8gdGhlIGZpbHRlcmVkIGxpc3Qgc28gdGhlIHZpZGVvIHdpbGwgYmUgZGlzcGxheWVkXG4gICAgICAgICAgc3RhdGUuZmlsdGVyZWQgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHN0YXRlLmZpbHRlcmVkKSwgW3ZpZGVvLmlkXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gSGFuZGVsaW5nIFZpZGVvIFVwZGF0ZVxuICAgIC5hZGRDYXNlKHVwZGF0ZVZpZGVvLmZ1bGZpbGxlZCwgZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgIHZhciBwYXlsb2FkID0gYWN0aW9uLnBheWxvYWQ7XG4gICAgICB2YXIgbmV3VmlkZW8gPSBwYXlsb2FkLmRhdGE7XG4gICAgICBpZiAocGF5bG9hZCAhPT0gbnVsbCAmJiBwYXlsb2FkICE9PSB2b2lkIDAgJiYgcGF5bG9hZC5zdWNjZXNzKSB7XG4gICAgICAgIC8vIFVwZGF0ZSB2aWRlb3Mgc3RhdGVcbiAgICAgICAgc3RhdGUudmlkZW9zID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZS52aWRlb3MpLCB7fSwgX2RlZmluZVByb3BlcnR5KHt9LCBuZXdWaWRlby5pZCwgbmV3VmlkZW8pKTtcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gSGFuZGVsaW5nIFZpZGVvIERlbGV0ZVxuICAgIC5hZGRDYXNlKGRlbGV0ZVZpZGVvLmZ1bGZpbGxlZCwgZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgIHZhciBpZCA9IGFjdGlvbi5tZXRhLmFyZy5pZCxcbiAgICAgICAgc3VjY2VzcyA9IGFjdGlvbi5wYXlsb2FkLnN1Y2Nlc3M7XG4gICAgICBpZiAoc3VjY2VzcyA9PT0gdHJ1ZSkge1xuICAgICAgICB2YXIgdmlkZW9zID0gc3RhdGUudmlkZW9zLFxuICAgICAgICAgIGZpbHRlcmVkID0gc3RhdGUuZmlsdGVyZWQ7XG5cbiAgICAgICAgLy8gUmVtb3ZlIGZyb20gZmlsdGVyZWQgbGlzdFxuICAgICAgICBzdGF0ZS5maWx0ZXJlZCA9IGZpbHRlcmVkLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgIHJldHVybiBpZCAhPT0gaXRlbTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRGVsZXRlIHRoZSB2aWRlbyBmcm9tIHRoZSB2aWRlb3Mgb2JqZWN0XG4gICAgICAgIHZhciBuZXdWaWRlb3MgPSBfb2JqZWN0U3ByZWFkKHt9LCB2aWRlb3MpO1xuICAgICAgICBkZWxldGUgbmV3VmlkZW9zW2lkXTtcbiAgICAgICAgc3RhdGUudmlkZW9zID0gbmV3VmlkZW9zO1xuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBIYW5kZWxpbmcgVmlkZW8gU2VhcmNoXG4gICAgLmFkZENhc2Uoc2VhcmNoVmlkZW9zLnBlbmRpbmcsIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICAvLyBTZXQgTG9hZGluZ1xuICAgICAgc3RhdGUuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICB9KS5hZGRDYXNlKHNlYXJjaFZpZGVvcy5mdWxmaWxsZWQsIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICB2YXIgX2FjdGlvbiRwYXlsb2FkO1xuICAgICAgdmFyIGlkcyA9IChhY3Rpb24gPT09IG51bGwgfHwgYWN0aW9uID09PSB2b2lkIDAgfHwgKF9hY3Rpb24kcGF5bG9hZCA9IGFjdGlvbi5wYXlsb2FkKSA9PT0gbnVsbCB8fCBfYWN0aW9uJHBheWxvYWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hY3Rpb24kcGF5bG9hZC5kYXRhKSB8fCBbXTtcbiAgICAgIHN0YXRlLmZpbHRlcmVkID0gaWRzO1xuXG4gICAgICAvLyBTZXQgTG9hZGluZ1xuICAgICAgc3RhdGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgfSkuYWRkQ2FzZShzZWFyY2hWaWRlb3MucmVqZWN0ZWQsIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICB9KTtcbiAgfVxufSk7XG5cbi8vIFNlbGVjdG9yc1xudmFyIHZpZGVvc1N0YXRlID0gZnVuY3Rpb24gdmlkZW9zU3RhdGUoc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLnZpZGVvcztcbn07XG5cbi8qKlxuICogR2V0IHZpZGVvKHMpIG9iamVjdChzKSBieSBpZChzKVxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSB2aWRlb3NTdGF0ZVxuICogQHBhcmFtIHthcnJheXxzdHJpbmd9IGlkcyB2aWRlb3MgaWRzXG4gKlxuICogQHJldHVybiB7YXJyYXl8b2JqZWN0fGZhbHNlfVxuICovXG5leHBvcnQgdmFyIGdldFZpZGVvcyA9IGNyZWF0ZVNlbGVjdG9yKHZpZGVvc1N0YXRlLCBmdW5jdGlvbiAoXywgaWRzKSB7XG4gIHJldHVybiBpZHM7XG59LCBmdW5jdGlvbiAodmlkZW9zU3RhdGUsIGlkcykge1xuICB2YXIgdmlkZW9zID0gW107XG4gIGlmIChBcnJheS5pc0FycmF5KGlkcykpIHtcbiAgICBpZHMuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHtcbiAgICAgIGlmICh2aWRlb3NTdGF0ZS52aWRlb3NbaWRdKSB7XG4gICAgICAgIHZpZGVvcy5wdXNoKHZpZGVvc1N0YXRlLnZpZGVvc1tpZF0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB2aWRlb3M7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGlkcyA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIGlkcyA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gdmlkZW9zU3RhdGUudmlkZW9zW2lkc107XG4gIH0gZWxzZSB7XG4gICAgLy8gSWYgaWRzIGlzIG5vdCBwcm92aWRlZCBnZXQgYWxsIHZpZGVvc1xuICAgIHJldHVybiB2aWRlb3NTdGF0ZS52aWRlb3M7XG4gIH1cbn0pO1xuXG4vKipcbiAqIEdldCBGaWx0ZXJlZCBJRHNcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gdmlkZW9zU3RhdGVcbiAqXG4gKiBAcmV0dXJuIHthcnJheX1cbiAqL1xuZXhwb3J0IHZhciBnZXRGaWx0ZXJlZElkcyA9IGNyZWF0ZVNlbGVjdG9yKHZpZGVvc1N0YXRlLCBmdW5jdGlvbiAodmlkZW9zU3RhdGUpIHtcbiAgcmV0dXJuIHZpZGVvc1N0YXRlLmZpbHRlcmVkO1xufSk7XG5cbi8qKlxuICogR2V0IGEgc2luZ2xlIGVtYmVkIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSB2aWRlb3NTdGF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHZpZGVvSWRcbiAqXG4gKiBAcmV0dXJuIHthcnJheX1cbiAqL1xuZXhwb3J0IHZhciBnZXRFbWJlZCA9IGNyZWF0ZVNlbGVjdG9yKHZpZGVvc1N0YXRlLCBmdW5jdGlvbiAoXywgaWQpIHtcbiAgcmV0dXJuIGlkO1xufSwgZnVuY3Rpb24gKHZpZGVvc1N0YXRlLCBpZCkge1xuICByZXR1cm4gdmlkZW9zU3RhdGUuZW1iZWRzW2lkXSB8fCBmYWxzZTtcbn0pO1xuXG4vKipcbiAqIEdldCBsb2FkaW5nIHN0YXR1c1xuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSB2aWRlb3NTdGF0ZSB0aGUgdmlkZW9zIHN0YXRlIG9iamVjdC5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgdmFyIGdldExvYWRpbmdTdGF0dXMgPSBjcmVhdGVTZWxlY3Rvcih2aWRlb3NTdGF0ZSwgZnVuY3Rpb24gKHZpZGVvc1N0YXRlKSB7XG4gIHJldHVybiB2aWRlb3NTdGF0ZS5pc0xvYWRpbmc7XG59KTtcblxuLy8gRXhwb3J0IGFjdGlvbnNcbnZhciBzZXRGaWx0ZXJlZCA9IHZpZGVvc1NsaWNlLmFjdGlvbnMuc2V0RmlsdGVyZWQ7XG5leHBvcnQgeyBzZXRGaWx0ZXJlZCB9O1xuZXhwb3J0IGRlZmF1bHQgdmlkZW9zU2xpY2UucmVkdWNlcjsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4084\n')},5524:function(module){eval('!function(t,e){ true?module.exports=e():0}(this,(function(){"use strict";function t(){return(t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}return function(){var e,n=[],i={vendor:void 0,id:void 0,src:void 0,thumbnail:void 0,title:void 0,initialized:!1,y:void 0,debounce:250,lazyload:!0,autoplay:!0,initinview:!1,onLoad:function(t){},onAppend:function(t){},onThumbnailLoad:function(t){}},o={regex:{youtube_nocookie:/(?:youtube-nocookie\\.com\\/\\S*(?:(?:\\/e(?:mbed))?\\/|watch\\?(?:\\S*?&?v\\=)))([a-zA-Z0-9_-]{6,11})/,youtube:/(?:youtube\\.com\\/\\S*(?:(?:\\/e(?:mbed))?\\/|watch\\?(?:\\S*?&?v\\=))|youtu\\.be\\/)([a-zA-Z0-9_-]{6,11})/,vimeo:/vimeo\\.com\\/(?:video\\/)?([0-9]*)(?:\\?|)/},condition:{youtube:function(t){return!(!t||11!=t[1].length)&&t[1]},youtube_nocookie:function(t){return!(!t||11!=t[1].length)&&t[1]},vimeo:function(t){return!!(t&&9===t[1].length||8===t[1].length)&&t[1]}},src:{youtube:function(t){return"https://www.youtube.com/embed/".concat(t.id,"/?autoplay=").concat(t.autoplay?"1":"0","&").concat(t.query)},youtube_nocookie:function(t){return"https://www.youtube-nocookie.com/embed/".concat(t.id,"/?autoplay=").concat(t.autoplay?"1":"0","&").concat(t.query)},vimeo:function(t){return"https://player.vimeo.com/video/".concat(t.id,"/?autoplay=").concat(t.autoplay?"1":"0","&").concat(t.query)}},endpoint:function(t){return"https://noembed.com/embed?url=".concat(t.src)},response:{title:function(t){return t.title},thumbnail:function(t){return t.thumbnail_url}}};function a(t){var n=this;if(t instanceof HTMLElement!=!1&&!t.classList.contains("lazyframe--loaded")){var i={el:t,settings:r(t)};i.el.addEventListener("click",(function(){i.el.appendChild(i.iframe);var e=t.querySelectorAll("iframe");i.settings.onAppend.call(n,e[0])})),e.lazyload?c(i):l(i,i.settings.thumbnail)}}function r(n){var i,a,r=Array.prototype.slice.apply(n.attributes).filter((function(t){return""!==t.value})).reduce((function(t,e){return t[0===e.name.indexOf("data-")?e.name.split("data-")[1]:e.name]=e.value,t}),{}),l=t({},e,r,{y:n.offsetTop,originalSrc:r.src,query:(i=r.src,a=i.split("?"),a[1]?a[1]:null)});if(l.vendor){var u=l.src.match(o.regex[l.vendor]);l.id=o.condition[l.vendor](u)}return l}function l(t){var e=this;!function(t){return!(!t.vendor||t.title&&t.thumbnail)}(t.settings)?c(t,!0):function(t,e){var n=o.endpoint(t.settings),i=new XMLHttpRequest;i.open("GET",n,!0),i.onload=function(){if(i.status>=200&&i.status<400){var n=JSON.parse(i.responseText);e(null,[n,t])}else e(!0)},i.onerror=function(){e(!0)},i.send()}(t,(function(n,i){if(!n){var a=i[0],r=i[1];if(r.settings.title||(r.settings.title=o.response.title(a)),!r.settings.thumbnail){var l=o.response.thumbnail(a);r.settings.thumbnail=l,t.settings.onThumbnailLoad.call(e,l)}c(r,!0)}}))}function u(){var t=this,i=window.innerHeight,o=n.length,a=function(e,n){e.settings.initialized=!0,e.el.classList.add("lazyframe--loaded"),o--,l(e),e.settings.initinview&&e.el.click(),e.settings.onLoad.call(t,e)};n.filter((function(t){return t.settings.y<i})).forEach(a);var r,u,c,s,d=(r=function(){m=f<window.pageYOffset,f=window.pageYOffset,m&&n.filter((function(t){return t.settings.y<i+f&&!1===t.settings.initialized})).forEach(a),0===o&&window.removeEventListener("scroll",d,!1)},u=e.debounce,function(){var t=this,e=arguments,n=function(){s=null,c||r.apply(t,e)},i=c&&!s;clearTimeout(s),s=setTimeout(n,u),i&&r.apply(t,e)}),f=0,m=!1;window.addEventListener("scroll",d,!1)}function c(t,i){if(t.iframe=function(t){var e=document.createDocumentFragment(),n=document.createElement("iframe");t.vendor&&(t.src=o.src[t.vendor](t));n.setAttribute("id","lazyframe-".concat(t.id)),n.setAttribute("src",t.src),n.setAttribute("frameborder",0),n.setAttribute("allowfullscreen",""),t.autoplay&&(n.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture");return e.appendChild(n),e}(t.settings),t.settings.thumbnail&&i&&(t.el.style.backgroundImage="url(".concat(t.settings.thumbnail,")")),t.settings.title&&0===t.el.children.length){var a=document.createDocumentFragment(),r=document.createElement("span");r.className="lazyframe__title",r.innerHTML=t.settings.title,a.appendChild(r),t.el.appendChild(a)}e.lazyload||(t.el.classList.add("lazyframe--loaded"),t.settings.onLoad.call(this,t),n.push(t)),t.settings.initialized||n.push(t)}return function(n){if(e=t({},i,arguments.length<=1?void 0:arguments[1]),"string"==typeof n)for(var o=document.querySelectorAll(n),r=0;r<o.length;r++)a(o[r]);else if(void 0===n.length)a(n);else for(var l=0;l<n.length;l++)a(n[l]);e.lazyload&&u()}}()}));\n//# sourceMappingURL=lazyframe.min.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTUyNC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9ub2RlX21vZHVsZXMvbGF6eWZyYW1lL2Rpc3QvbGF6eWZyYW1lLm1pbi5qcz9iZGRhIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGUpOih0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dHx8c2VsZikubGF6eWZyYW1lPWUoKX0odGhpcywoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KCl7cmV0dXJuKHQ9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdO2Zvcih2YXIgaSBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLGkpJiYodFtpXT1uW2ldKX1yZXR1cm4gdH0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gZnVuY3Rpb24oKXt2YXIgZSxuPVtdLGk9e3ZlbmRvcjp2b2lkIDAsaWQ6dm9pZCAwLHNyYzp2b2lkIDAsdGh1bWJuYWlsOnZvaWQgMCx0aXRsZTp2b2lkIDAsaW5pdGlhbGl6ZWQ6ITEseTp2b2lkIDAsZGVib3VuY2U6MjUwLGxhenlsb2FkOiEwLGF1dG9wbGF5OiEwLGluaXRpbnZpZXc6ITEsb25Mb2FkOmZ1bmN0aW9uKHQpe30sb25BcHBlbmQ6ZnVuY3Rpb24odCl7fSxvblRodW1ibmFpbExvYWQ6ZnVuY3Rpb24odCl7fX0sbz17cmVnZXg6e3lvdXR1YmVfbm9jb29raWU6Lyg/OnlvdXR1YmUtbm9jb29raWVcXC5jb21cXC9cXFMqKD86KD86XFwvZSg/Om1iZWQpKT9cXC98d2F0Y2hcXD8oPzpcXFMqPyY/dlxcPSkpKShbYS16QS1aMC05Xy1dezYsMTF9KS8seW91dHViZTovKD86eW91dHViZVxcLmNvbVxcL1xcUyooPzooPzpcXC9lKD86bWJlZCkpP1xcL3x3YXRjaFxcPyg/OlxcUyo/Jj92XFw9KSl8eW91dHVcXC5iZVxcLykoW2EtekEtWjAtOV8tXXs2LDExfSkvLHZpbWVvOi92aW1lb1xcLmNvbVxcLyg/OnZpZGVvXFwvKT8oWzAtOV0qKSg/OlxcP3wpL30sY29uZGl0aW9uOnt5b3V0dWJlOmZ1bmN0aW9uKHQpe3JldHVybiEoIXR8fDExIT10WzFdLmxlbmd0aCkmJnRbMV19LHlvdXR1YmVfbm9jb29raWU6ZnVuY3Rpb24odCl7cmV0dXJuISghdHx8MTEhPXRbMV0ubGVuZ3RoKSYmdFsxXX0sdmltZW86ZnVuY3Rpb24odCl7cmV0dXJuISEodCYmOT09PXRbMV0ubGVuZ3RofHw4PT09dFsxXS5sZW5ndGgpJiZ0WzFdfX0sc3JjOnt5b3V0dWJlOmZ1bmN0aW9uKHQpe3JldHVyblwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvXCIuY29uY2F0KHQuaWQsXCIvP2F1dG9wbGF5PVwiKS5jb25jYXQodC5hdXRvcGxheT9cIjFcIjpcIjBcIixcIiZcIikuY29uY2F0KHQucXVlcnkpfSx5b3V0dWJlX25vY29va2llOmZ1bmN0aW9uKHQpe3JldHVyblwiaHR0cHM6Ly93d3cueW91dHViZS1ub2Nvb2tpZS5jb20vZW1iZWQvXCIuY29uY2F0KHQuaWQsXCIvP2F1dG9wbGF5PVwiKS5jb25jYXQodC5hdXRvcGxheT9cIjFcIjpcIjBcIixcIiZcIikuY29uY2F0KHQucXVlcnkpfSx2aW1lbzpmdW5jdGlvbih0KXtyZXR1cm5cImh0dHBzOi8vcGxheWVyLnZpbWVvLmNvbS92aWRlby9cIi5jb25jYXQodC5pZCxcIi8/YXV0b3BsYXk9XCIpLmNvbmNhdCh0LmF1dG9wbGF5P1wiMVwiOlwiMFwiLFwiJlwiKS5jb25jYXQodC5xdWVyeSl9fSxlbmRwb2ludDpmdW5jdGlvbih0KXtyZXR1cm5cImh0dHBzOi8vbm9lbWJlZC5jb20vZW1iZWQ/dXJsPVwiLmNvbmNhdCh0LnNyYyl9LHJlc3BvbnNlOnt0aXRsZTpmdW5jdGlvbih0KXtyZXR1cm4gdC50aXRsZX0sdGh1bWJuYWlsOmZ1bmN0aW9uKHQpe3JldHVybiB0LnRodW1ibmFpbF91cmx9fX07ZnVuY3Rpb24gYSh0KXt2YXIgbj10aGlzO2lmKHQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCE9ITEmJiF0LmNsYXNzTGlzdC5jb250YWlucyhcImxhenlmcmFtZS0tbG9hZGVkXCIpKXt2YXIgaT17ZWw6dCxzZXR0aW5nczpyKHQpfTtpLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLChmdW5jdGlvbigpe2kuZWwuYXBwZW5kQ2hpbGQoaS5pZnJhbWUpO3ZhciBlPXQucXVlcnlTZWxlY3RvckFsbChcImlmcmFtZVwiKTtpLnNldHRpbmdzLm9uQXBwZW5kLmNhbGwobixlWzBdKX0pKSxlLmxhenlsb2FkP2MoaSk6bChpLGkuc2V0dGluZ3MudGh1bWJuYWlsKX19ZnVuY3Rpb24gcihuKXt2YXIgaSxhLHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KG4uYXR0cmlidXRlcykuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm5cIlwiIT09dC52YWx1ZX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMD09PWUubmFtZS5pbmRleE9mKFwiZGF0YS1cIik/ZS5uYW1lLnNwbGl0KFwiZGF0YS1cIilbMV06ZS5uYW1lXT1lLnZhbHVlLHR9KSx7fSksbD10KHt9LGUscix7eTpuLm9mZnNldFRvcCxvcmlnaW5hbFNyYzpyLnNyYyxxdWVyeTooaT1yLnNyYyxhPWkuc3BsaXQoXCI/XCIpLGFbMV0/YVsxXTpudWxsKX0pO2lmKGwudmVuZG9yKXt2YXIgdT1sLnNyYy5tYXRjaChvLnJlZ2V4W2wudmVuZG9yXSk7bC5pZD1vLmNvbmRpdGlvbltsLnZlbmRvcl0odSl9cmV0dXJuIGx9ZnVuY3Rpb24gbCh0KXt2YXIgZT10aGlzOyFmdW5jdGlvbih0KXtyZXR1cm4hKCF0LnZlbmRvcnx8dC50aXRsZSYmdC50aHVtYm5haWwpfSh0LnNldHRpbmdzKT9jKHQsITApOmZ1bmN0aW9uKHQsZSl7dmFyIG49by5lbmRwb2ludCh0LnNldHRpbmdzKSxpPW5ldyBYTUxIdHRwUmVxdWVzdDtpLm9wZW4oXCJHRVRcIixuLCEwKSxpLm9ubG9hZD1mdW5jdGlvbigpe2lmKGkuc3RhdHVzPj0yMDAmJmkuc3RhdHVzPDQwMCl7dmFyIG49SlNPTi5wYXJzZShpLnJlc3BvbnNlVGV4dCk7ZShudWxsLFtuLHRdKX1lbHNlIGUoITApfSxpLm9uZXJyb3I9ZnVuY3Rpb24oKXtlKCEwKX0saS5zZW5kKCl9KHQsKGZ1bmN0aW9uKG4saSl7aWYoIW4pe3ZhciBhPWlbMF0scj1pWzFdO2lmKHIuc2V0dGluZ3MudGl0bGV8fChyLnNldHRpbmdzLnRpdGxlPW8ucmVzcG9uc2UudGl0bGUoYSkpLCFyLnNldHRpbmdzLnRodW1ibmFpbCl7dmFyIGw9by5yZXNwb25zZS50aHVtYm5haWwoYSk7ci5zZXR0aW5ncy50aHVtYm5haWw9bCx0LnNldHRpbmdzLm9uVGh1bWJuYWlsTG9hZC5jYWxsKGUsbCl9YyhyLCEwKX19KSl9ZnVuY3Rpb24gdSgpe3ZhciB0PXRoaXMsaT13aW5kb3cuaW5uZXJIZWlnaHQsbz1uLmxlbmd0aCxhPWZ1bmN0aW9uKGUsbil7ZS5zZXR0aW5ncy5pbml0aWFsaXplZD0hMCxlLmVsLmNsYXNzTGlzdC5hZGQoXCJsYXp5ZnJhbWUtLWxvYWRlZFwiKSxvLS0sbChlKSxlLnNldHRpbmdzLmluaXRpbnZpZXcmJmUuZWwuY2xpY2soKSxlLnNldHRpbmdzLm9uTG9hZC5jYWxsKHQsZSl9O24uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zZXR0aW5ncy55PGl9KSkuZm9yRWFjaChhKTt2YXIgcix1LGMscyxkPShyPWZ1bmN0aW9uKCl7bT1mPHdpbmRvdy5wYWdlWU9mZnNldCxmPXdpbmRvdy5wYWdlWU9mZnNldCxtJiZuLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2V0dGluZ3MueTxpK2YmJiExPT09dC5zZXR0aW5ncy5pbml0aWFsaXplZH0pKS5mb3JFYWNoKGEpLDA9PT1vJiZ3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLGQsITEpfSx1PWUuZGVib3VuY2UsZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9YXJndW1lbnRzLG49ZnVuY3Rpb24oKXtzPW51bGwsY3x8ci5hcHBseSh0LGUpfSxpPWMmJiFzO2NsZWFyVGltZW91dChzKSxzPXNldFRpbWVvdXQobix1KSxpJiZyLmFwcGx5KHQsZSl9KSxmPTAsbT0hMTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLGQsITEpfWZ1bmN0aW9uIGModCxpKXtpZih0LmlmcmFtZT1mdW5jdGlvbih0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO3QudmVuZG9yJiYodC5zcmM9by5zcmNbdC52ZW5kb3JdKHQpKTtuLnNldEF0dHJpYnV0ZShcImlkXCIsXCJsYXp5ZnJhbWUtXCIuY29uY2F0KHQuaWQpKSxuLnNldEF0dHJpYnV0ZShcInNyY1wiLHQuc3JjKSxuLnNldEF0dHJpYnV0ZShcImZyYW1lYm9yZGVyXCIsMCksbi5zZXRBdHRyaWJ1dGUoXCJhbGxvd2Z1bGxzY3JlZW5cIixcIlwiKSx0LmF1dG9wbGF5JiYobi5hbGxvdz1cImFjY2VsZXJvbWV0ZXI7IGF1dG9wbGF5OyBlbmNyeXB0ZWQtbWVkaWE7IGd5cm9zY29wZTsgcGljdHVyZS1pbi1waWN0dXJlXCIpO3JldHVybiBlLmFwcGVuZENoaWxkKG4pLGV9KHQuc2V0dGluZ3MpLHQuc2V0dGluZ3MudGh1bWJuYWlsJiZpJiYodC5lbC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9XCJ1cmwoXCIuY29uY2F0KHQuc2V0dGluZ3MudGh1bWJuYWlsLFwiKVwiKSksdC5zZXR0aW5ncy50aXRsZSYmMD09PXQuZWwuY2hpbGRyZW4ubGVuZ3RoKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtyLmNsYXNzTmFtZT1cImxhenlmcmFtZV9fdGl0bGVcIixyLmlubmVySFRNTD10LnNldHRpbmdzLnRpdGxlLGEuYXBwZW5kQ2hpbGQociksdC5lbC5hcHBlbmRDaGlsZChhKX1lLmxhenlsb2FkfHwodC5lbC5jbGFzc0xpc3QuYWRkKFwibGF6eWZyYW1lLS1sb2FkZWRcIiksdC5zZXR0aW5ncy5vbkxvYWQuY2FsbCh0aGlzLHQpLG4ucHVzaCh0KSksdC5zZXR0aW5ncy5pbml0aWFsaXplZHx8bi5wdXNoKHQpfXJldHVybiBmdW5jdGlvbihuKXtpZihlPXQoe30saSxhcmd1bWVudHMubGVuZ3RoPD0xP3ZvaWQgMDphcmd1bWVudHNbMV0pLFwic3RyaW5nXCI9PXR5cGVvZiBuKWZvcih2YXIgbz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKG4pLHI9MDtyPG8ubGVuZ3RoO3IrKylhKG9bcl0pO2Vsc2UgaWYodm9pZCAwPT09bi5sZW5ndGgpYShuKTtlbHNlIGZvcih2YXIgbD0wO2w8bi5sZW5ndGg7bCsrKWEobltsXSk7ZS5sYXp5bG9hZCYmdSgpfX0oKX0pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxhenlmcmFtZS5taW4uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5524\n')}},__webpack_module_cache__={},deferred,leafPrototypes,getProto;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=function(e,t,n,I){if(!t){var c=1/0;for(d=0;d<deferred.length;d++){t=deferred[d][0],n=deferred[d][1],I=deferred[d][2];for(var i=!0,g=0;g<t.length;g++)(!1&I||c>=I)&&Object.keys(__webpack_require__.O).every((function(e){return __webpack_require__.O[e](t[g])}))?t.splice(g--,1):(i=!1,I<c&&(c=I));if(i){deferred.splice(d--,1);var l=n();void 0!==l&&(e=l)}}return e}I=I||0;for(var d=deferred.length;d>0&&deferred[d-1][2]>I;d--)deferred[d]=deferred[d-1];deferred[d]=[t,n,I]},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var n=Object.create(null);__webpack_require__.r(n);var I={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var c=2&t&&e;"object"==typeof c&&!~leafPrototypes.indexOf(c);c=getProto(c))Object.getOwnPropertyNames(c).forEach((function(t){I[t]=function(){return e[t]}}));return I.default=function(){return e},__webpack_require__.d(n,I),n},__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},__webpack_require__.j=472,function(){var e={472:0};__webpack_require__.O.j=function(t){return 0===e[t]};var t=function(t,n){var I,c,i=n[0],g=n[1],l=n[2],d=0;if(i.some((function(t){return 0!==e[t]}))){for(I in g)__webpack_require__.o(g,I)&&(__webpack_require__.m[I]=g[I]);if(l)var a=l(__webpack_require__)}for(t&&t(n);d<i.length;d++)c=i[d],__webpack_require__.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return __webpack_require__.O(a)},n=self.webpackChunkwpmudev_videos=self.webpackChunkwpmudev_videos||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var __webpack_exports__=__webpack_require__.O(void 0,[504,996],(function(){return __webpack_require__(4283)}));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();