(function(){var __webpack_modules__={135:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Bt: function() { return /* reexport safe */ _ListThumb__WEBPACK_IMPORTED_MODULE_8__.B; },\n/* harmony export */   E0: function() { return /* reexport safe */ _ImageTag__WEBPACK_IMPORTED_MODULE_0__.E; },\n/* harmony export */   Sy: function() { return /* reexport safe */ _VideoIframe__WEBPACK_IMPORTED_MODULE_9__.S; },\n/* harmony export */   kS: function() { return /* reexport safe */ _VideoSearchForm__WEBPACK_IMPORTED_MODULE_12__.k; }\n/* harmony export */ });\n/* harmony import */ var _ImageTag__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8844);\n/* harmony import */ var _WhiteLabelBanner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6057);\n/* harmony import */ var _PageFooter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(5132);\n/* harmony import */ var _UpgradeNotice__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(837);\n/* harmony import */ var _ExpiredNotice__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(3778);\n/* harmony import */ var _DashNotice__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(1319);\n/* harmony import */ var _UserRoles__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(7122);\n/* harmony import */ var _SortableElements__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(3423);\n/* harmony import */ var _ListThumb__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(3603);\n/* harmony import */ var _VideoIframe__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(5841);\n/* harmony import */ var _GoTopButton__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(4460);\n/* harmony import */ var _UploadThumb__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(5320);\n/* harmony import */ var _VideoSearchForm__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(5498);\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM1LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvY29tcG9uZW50cy9pbmRleC5qcz8yZDRmIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vSW1hZ2VUYWcnO1xuZXhwb3J0ICogZnJvbSAnLi9XaGl0ZUxhYmVsQmFubmVyJztcbmV4cG9ydCAqIGZyb20gJy4vUGFnZUZvb3Rlcic7XG5leHBvcnQgKiBmcm9tICcuL1VwZ3JhZGVOb3RpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9FeHBpcmVkTm90aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vRGFzaE5vdGljZSc7XG5leHBvcnQgKiBmcm9tICcuL1VzZXJSb2xlcyc7XG5leHBvcnQgKiBmcm9tICcuL1NvcnRhYmxlRWxlbWVudHMnO1xuZXhwb3J0ICogZnJvbSAnLi9MaXN0VGh1bWInO1xuZXhwb3J0ICogZnJvbSAnLi9WaWRlb0lmcmFtZSc7XG5leHBvcnQgKiBmcm9tICcuL0dvVG9wQnV0dG9uJztcbmV4cG9ydCAqIGZyb20gJy4vVXBsb2FkVGh1bWInO1xuZXhwb3J0ICogZnJvbSAnLi9WaWRlb1NlYXJjaEZvcm0nOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///135\n")},9571:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $n: function() { return /* reexport safe */ _Button__WEBPACK_IMPORTED_MODULE_11__.$; },\n/* harmony export */   In: function() { return /* reexport safe */ _Icon__WEBPACK_IMPORTED_MODULE_0__.I; },\n/* harmony export */   JU: function() { return /* reexport safe */ _Label__WEBPACK_IMPORTED_MODULE_22__.J; },\n/* harmony export */   K0: function() { return /* reexport safe */ _IconButton__WEBPACK_IMPORTED_MODULE_26__.K; },\n/* harmony export */   Q8: function() { return /* reexport safe */ _MediaUpload__WEBPACK_IMPORTED_MODULE_24__.Q; },\n/* harmony export */   Sc: function() { return /* reexport safe */ _Checkbox__WEBPACK_IMPORTED_MODULE_12__.S; },\n/* harmony export */   az: function() { return /* reexport safe */ _Box__WEBPACK_IMPORTED_MODULE_7__.a; },\n/* harmony export */   l6: function() { return /* reexport safe */ _Select__WEBPACK_IMPORTED_MODULE_3__.l; },\n/* harmony export */   pd: function() { return /* reexport safe */ _Input__WEBPACK_IMPORTED_MODULE_10__.p; },\n/* harmony export */   wi: function() { return /* reexport safe */ _Footer__WEBPACK_IMPORTED_MODULE_2__.w; }\n/* harmony export */ });\n/* harmony import */ var _Icon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7028);\n/* harmony import */ var _Header__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7347);\n/* harmony import */ var _Footer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(5528);\n/* harmony import */ var _Select__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8216);\n/* harmony import */ var _TopNotice__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(3564);\n/* harmony import */ var _MobileNav__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(6386);\n/* harmony import */ var _SideNav__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(3734);\n/* harmony import */ var _Box__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(9907);\n/* harmony import */ var _Toggle__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(4377);\n/* harmony import */ var _BorderFrame__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(2740);\n/* harmony import */ var _Input__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(2546);\n/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(9590);\n/* harmony import */ var _Checkbox__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(4268);\n/* harmony import */ var _FileUpload__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(8811);\n/* harmony import */ var _Modal__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(6744);\n/* harmony import */ var _StaticNotice__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(9906);\n/* harmony import */ var _ProgressBar__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(4113);\n/* harmony import */ var _RadioTabs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(7385);\n/* harmony import */ var _WhiteLabelSummary__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(5390);\n/* harmony import */ var _List__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(7735);\n/* harmony import */ var _Accordion__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(3057);\n/* harmony import */ var _Table__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(7670);\n/* harmony import */ var _Label__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(6686);\n/* harmony import */ var _Textarea__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(2868);\n/* harmony import */ var _MediaUpload__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(9847);\n/* harmony import */ var _Portal__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(5071);\n/* harmony import */ var _IconButton__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(9850);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTU3MS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL2xpYi9jb21wb25lbnRzL2luZGV4LmpzP2FhM2MiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9JY29uJztcbmV4cG9ydCAqIGZyb20gJy4vSGVhZGVyJztcbmV4cG9ydCAqIGZyb20gJy4vRm9vdGVyJztcbmV4cG9ydCAqIGZyb20gJy4vU2VsZWN0JztcbmV4cG9ydCAqIGZyb20gJy4vVG9wTm90aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vTW9iaWxlTmF2JztcbmV4cG9ydCAqIGZyb20gJy4vU2lkZU5hdic7XG5leHBvcnQgKiBmcm9tICcuL0JveCc7XG5leHBvcnQgKiBmcm9tICcuL1RvZ2dsZSc7XG5leHBvcnQgKiBmcm9tICcuL0JvcmRlckZyYW1lJztcbmV4cG9ydCAqIGZyb20gJy4vSW5wdXQnO1xuZXhwb3J0ICogZnJvbSAnLi9CdXR0b24nO1xuZXhwb3J0ICogZnJvbSAnLi9DaGVja2JveCc7XG5leHBvcnQgKiBmcm9tICcuL0ZpbGVVcGxvYWQnO1xuZXhwb3J0ICogZnJvbSAnLi9Nb2RhbCc7XG5leHBvcnQgKiBmcm9tICcuL1N0YXRpY05vdGljZSc7XG5leHBvcnQgKiBmcm9tICcuL1Byb2dyZXNzQmFyJztcbmV4cG9ydCAqIGZyb20gJy4vUmFkaW9UYWJzJztcbmV4cG9ydCAqIGZyb20gJy4vV2hpdGVMYWJlbFN1bW1hcnknO1xuZXhwb3J0ICogZnJvbSAnLi9MaXN0JztcbmV4cG9ydCAqIGZyb20gJy4vQWNjb3JkaW9uJztcbmV4cG9ydCAqIGZyb20gJy4vVGFibGUnO1xuZXhwb3J0ICogZnJvbSAnLi9MYWJlbCc7XG5leHBvcnQgKiBmcm9tICcuL1RleHRhcmVhJztcbmV4cG9ydCAqIGZyb20gJy4vTWVkaWFVcGxvYWQnO1xuZXhwb3J0ICogZnJvbSAnLi9Qb3J0YWwnO1xuZXhwb3J0ICogZnJvbSAnLi9JY29uQnV0dG9uJzsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9571\n")},2015:function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(6540);\n// EXTERNAL MODULE: ./node_modules/react-dom/client.js\nvar client = __webpack_require__(5338);\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 11 modules\nvar es = __webpack_require__(7040);\n// EXTERNAL MODULE: ./app/src/store/store.js\nvar store = __webpack_require__(9457);\n// EXTERNAL MODULE: ./node_modules/react-router-dom/dist/index.js\nvar dist = __webpack_require__(4976);\n// EXTERNAL MODULE: ./app/src/lib/components/index.js\nvar components = __webpack_require__(9571);\n// EXTERNAL MODULE: ./app/src/components/PageFooter/index.js + 1 modules\nvar PageFooter = __webpack_require__(5132);\n// EXTERNAL MODULE: ./node_modules/@wordpress/i18n/build-module/index.js + 10 modules\nvar build_module = __webpack_require__(4214);\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(4848);\n;// CONCATENATED MODULE: ./app/src/pages/tutorials/partials/Header/Header.js\n/**\n * Library dependencies\n */\n\n\n/**\n * External dependencies\n */\n\n\nfunction Header() {\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Header, {\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Box */.az.Title, {\n      id: "wpmudev-videos-navigation--label",\n      children: (0,build_module.__)(\'Video Tutorials\', \'wpmudev_vids\')\n    })\n  });\n}\n/* harmony default export */ var Header_Header = ((/* unused pure expression or super */ null && (Header)));\n;// CONCATENATED MODULE: ./app/src/pages/tutorials/partials/Header/index.js\n\n// EXTERNAL MODULE: ./app/src/store/slices/playlists.js\nvar slices_playlists = __webpack_require__(9317);\n// EXTERNAL MODULE: ./app/src/store/slices/videos.js\nvar slices_videos = __webpack_require__(4084);\n;// CONCATENATED MODULE: ./app/src/pages/tutorials/components/MenuLoader/MenuLoader.js\n\nfunction MenuLoader() {\n  return /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n    role: "navigation",\n    "aria-labelledby": "wpmudev-videos-navigation--label",\n    "aria-hidden": "true",\n    className: "wpmudev-videos-section--menu-group",\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)("ul", {\n      role: "menu",\n      className: "wpmudev-videos-section--menu",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)("li", {\n        role: "none",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)("a", {\n          role: "menuitem"\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("li", {\n        role: "none",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)("a", {\n          role: "menuitem"\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("li", {\n        role: "none",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)("a", {\n          role: "menuitem"\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("li", {\n        role: "none",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)("a", {\n          role: "menuitem"\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("li", {\n        role: "none",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)("a", {\n          role: "menuitem"\n        })\n      })]\n    })\n  });\n}\n/* harmony default export */ var MenuLoader_MenuLoader = ((/* unused pure expression or super */ null && (MenuLoader)));\n;// CONCATENATED MODULE: ./app/src/pages/tutorials/components/MenuLoader/index.js\n\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\nvar classnames = __webpack_require__(6942);\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n;// CONCATENATED MODULE: ./app/src/pages/tutorials/components/StickyMenu/StickyMenu.js\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Library dependencies\n */\n\n\n/**\n * External dependencies\n */\n\n\n\nfunction StickyMenu(_ref) {\n  var playlists = _ref.playlists;\n  var _useState = (0,react.useState)(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    sticky = _useState2[0],\n    setSticky = _useState2[1];\n  var _useState3 = (0,react.useState)(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    disableRight = _useState4[0],\n    setDisableRight = _useState4[1];\n  var _useState5 = (0,react.useState)(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    disableLeft = _useState6[0],\n    setDisableLeft = _useState6[1];\n  var _useState7 = (0,react.useState)(0),\n    _useState8 = _slicedToArray(_useState7, 2),\n    offsetTop = _useState8[0],\n    setOffsetTop = _useState8[1];\n  var menuRef = (0,react.useRef)();\n  var wrapperRef = (0,react.useRef)();\n  var navClasses = classnames_default()({\n    \'wpmudev-videos-section--menu-group\': true,\n    \'wpmudev-videos-sticky\': sticky\n  });\n\n  /**\n   * Set the offset position of the menu.\n   */\n  (0,react.useEffect)(function () {\n    // Menu element.\n    var menu = wrapperRef.current;\n    var rect = menu.getBoundingClientRect();\n    var scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n    setOffsetTop(rect.top + scrollTop);\n  }, []);\n  (0,react.useEffect)(function () {\n    // Start listening to scroll and resize events only after offsetTop is set\n    if (offsetTop > 0) {\n      // Handle scroll event.\n      window.addEventListener(\'scroll\', handleScroll);\n\n      // Handle resize event.\n      window.addEventListener(\'resize\', updateArrows);\n\n      // Remove event listners when unmount\n      return function () {\n        window.removeEventListener(\'scroll\', handleScroll);\n        window.removeEventListener(\'resize\', updateArrows);\n      };\n    }\n  }, [offsetTop]);\n\n  /**\n   * Handle the window scroll event.\n   *\n   * Check if we need to apply sticky class.\n   *\n   * @return {void}\n   */\n  var handleScroll = function handleScroll() {\n    // When the page offset is higher than menu.\n    setSticky(window.pageYOffset > offsetTop);\n  };\n\n  /**\n   * Update navigation arrows when required.\n   *\n   * Call when widnow is resized, items changed.\n   *\n   * @return {void}\n   */\n  var updateArrows = function updateArrows() {\n    // Menu element.\n    var el = menuRef.current;\n    var maxScroll = el.scrollWidth - el.clientWidth;\n    setDisableRight(el.scrollLeft <= 0);\n    setDisableLeft(el.scrollLeft >= maxScroll);\n  };\n\n  /**\n   * Slide menu elements to new position.\n   *\n   * We slide 30px on each click.\n   *\n   * @param {int} offset Slide position value.\n   *\n   */\n  var slideMenu = function slideMenu(offset) {\n    // Menu element.\n    var el = menuRef.current;\n\n    // Scroll.\n    el.scroll({\n      left: el.scrollLeft + offset,\n      behavior: \'auto\'\n    });\n\n    // Update the arrows.\n    updateArrows();\n  };\n\n  /**\n   * Get offset of the element.\n   *\n   * @param {object} el Element.\n   *\n   * @return {*}\n   */\n  var getElementOffset = function getElementOffset(el) {\n    var top = 0;\n    var left = 0;\n    var element = document.getElementById(el);\n    if (element !== null) {\n      do {\n        top += element.offsetTop || 0;\n        left += element.offsetLeft || 0;\n        element = element.offsetParent;\n      } while (element);\n    }\n    return {\n      top: top,\n      left: left\n    };\n  };\n\n  /**\n   * Scroll to a section in the page.\n   *\n   * @param {string} id Element ID.\n   * @param {object} event Event.\n   *\n   */\n  var goToSection = function goToSection(id, event) {\n    var blockId = "section-playlist-".concat(id);\n    var blockPos = getElementOffset(blockId);\n    var floatNav = 120;\n    window.scrollTo({\n      top: blockPos.top - floatNav,\n      left: 0,\n      behavior: \'smooth\'\n    });\n    var i;\n    var navEl = event.target;\n    var navLi = navEl.parentElement.parentElement.querySelectorAll(\'li > a\');\n    for (i = 0; i < navLi.length; ++i) {\n      if (navLi[i].classList.contains(\'active\')) {\n        navLi[i].classList.remove(\'active\');\n      }\n    }\n    navEl.classList.add(\'active\');\n    event.preventDefault();\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n    role: "navigation",\n    "aria-labelledby": "wpmudev-videos-navigation--label",\n    "aria-hidden": "true",\n    className: navClasses,\n    ref: wrapperRef,\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n      className: "wpmudev-videos-section--menu-nav",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)("button", {\n        className: "prev",\n        disabled: disableRight,\n        onClick: function onClick() {\n          return slideMenu(-20);\n        },\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n          icon: "chevron-left",\n          size: "md"\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("button", {\n        className: "next",\n        disabled: disableLeft,\n        onClick: function onClick() {\n          return slideMenu(20);\n        },\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n          icon: "chevron-right",\n          size: "md"\n        })\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)("ul", {\n      ref: menuRef,\n      role: "menu",\n      className: "wpmudev-videos-section--menu",\n      children: playlists.map(function (playlist) {\n        return /*#__PURE__*/(0,jsx_runtime.jsx)("li", {\n          role: "none",\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)("a", {\n            role: "menuitem",\n            className: 2 === playlist.id ? \'active\' : \'\',\n            onClick: function onClick(event) {\n              return goToSection(playlist.id, event);\n            },\n            children: playlist.title\n          })\n        }, playlist.id);\n      })\n    })]\n  });\n}\n/* harmony default export */ var StickyMenu_StickyMenu = ((/* unused pure expression or super */ null && (StickyMenu)));\n;// CONCATENATED MODULE: ./app/src/pages/tutorials/components/StickyMenu/index.js\n\n;// CONCATENATED MODULE: ./app/src/pages/tutorials/components/VideosLoader/VideosLoader.js\n\nfunction VideosLoader() {\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n      className: "wpmudev-videos-loader--block",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n        className: "wpmudev-videos-loader--title"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n        className: "wpmudev-videos-loader--description"\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n        className: "wpmudev-videos-loader--videos",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n          className: "wpmudev-videos-loader--video"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n          className: "wpmudev-videos-loader--video"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n          className: "wpmudev-videos-loader--video"\n        })]\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n      className: "wpmudev-videos-loader--block",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n        className: "wpmudev-videos-loader--title"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n        className: "wpmudev-videos-loader--description"\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n        className: "wpmudev-videos-loader--videos",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n          className: "wpmudev-videos-loader--video"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n          className: "wpmudev-videos-loader--video"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n          className: "wpmudev-videos-loader--video"\n        })]\n      })]\n    })]\n  });\n}\n/* harmony default export */ var VideosLoader_VideosLoader = ((/* unused pure expression or super */ null && (VideosLoader)));\n;// CONCATENATED MODULE: ./app/src/pages/tutorials/components/VideosLoader/index.js\n\n;// CONCATENATED MODULE: ./app/src/pages/tutorials/components/SinglePlaylist/SinglePlaylist.js\nfunction SinglePlaylist_slicedToArray(r, e) { return SinglePlaylist_arrayWithHoles(r) || SinglePlaylist_iterableToArrayLimit(r, e) || SinglePlaylist_unsupportedIterableToArray(r, e) || SinglePlaylist_nonIterableRest(); }\nfunction SinglePlaylist_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction SinglePlaylist_unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return SinglePlaylist_arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? SinglePlaylist_arrayLikeToArray(r, a) : void 0; } }\nfunction SinglePlaylist_arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction SinglePlaylist_iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction SinglePlaylist_arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n/**\n * External dependencies\n */\n\n\n\n\nfunction SinglePlaylist(_ref) {\n  var playlist = _ref.playlist,\n    selected = _ref.selected,\n    setSelected = _ref.setSelected;\n  var _useState = (0,react.useState)(false),\n    _useState2 = SinglePlaylist_slicedToArray(_useState, 2),\n    disableRight = _useState2[0],\n    setDisableRight = _useState2[1];\n  var _useState3 = (0,react.useState)(false),\n    _useState4 = SinglePlaylist_slicedToArray(_useState3, 2),\n    disableLeft = _useState4[0],\n    setDisableLeft = _useState4[1];\n  var _useState5 = (0,react.useState)(false),\n    _useState6 = SinglePlaylist_slicedToArray(_useState5, 2),\n    fullView = _useState6[0],\n    setFullView = _useState6[1];\n  var id = playlist.id,\n    title = playlist.title,\n    description = playlist.description,\n    videos = playlist.videos;\n  var videosList = (0,react.useRef)();\n  var videosObject = (0,es/* useSelector */.d4)(function (state) {\n    return (0,slices_videos/* getVideos */.fY)(state, videos);\n  });\n\n  /**\n   * Check if the current section is selected.\n   *\n   * If the selected video is within the current section (playlist).\n   *\n   * @returns {boolean}\n   */\n  var isSelected = function isSelected() {\n    return id === parseInt(selected.playlist) && playlist.videos.includes(parseInt(selected.video));\n  };\n  var wrapperClasses = classnames_default()({\n    \'wpmudev-videos-section--block\': true,\n    \'wpmudev-videos-active\': isSelected()\n  });\n  var btnPrevClasses = classnames_default()(\'sui-button-icon\', \'sui-button-blue\', \'prev\');\n  var btnNextClasses = classnames_default()(\'sui-button-icon\', \'sui-button-blue\', \'next\');\n  var videoSectionClasses = classnames_default()({\n    \'wpmudev-videos-section--videos\': true,\n    \'wpmudev-videos-sm\': fullView\n  });\n\n  /**\n   * Toggle the full view flag.\n   *\n   * @returns {void}\n   *\n   */\n  var toggleFullView = function toggleFullView() {\n    setFullView(!fullView);\n  };\n\n  /**\n   * Update the arrows if required.\n   *\n   * If there is a scope for scrolling, show arrows.\n   */\n  var updateArrows = function updateArrows() {\n    var el = videosList.current;\n    var maxScroll = el.scrollWidth - el.clientWidth;\n    setDisableRight(el.scrollLeft <= 0);\n    setDisableLeft(el.scrollLeft >= maxScroll);\n  };\n\n  /**\n   * Slide menu elements to new position.\n   *\n   * We slide 30px on each click.\n   *\n   * @param {int} offset Slide position value.\n   *\n   */\n  var slideMenu = function slideMenu(offset) {\n    // Videos list.\n    var el = videosList.current;\n\n    // Scroll.\n    el.scroll({\n      left: el.scrollLeft + offset,\n      behavior: \'auto\'\n    });\n\n    // Update the arrows.\n    updateArrows();\n  };\n\n  // Update arrows on mout\n  (0,react.useEffect)(function () {\n    updateArrows();\n\n    // Handle resize event.\n    window.addEventListener(\'resize\', updateArrows);\n    return function () {\n      // Handle resize event.\n      window.removeEventListener(\'resize\', updateArrows);\n    };\n  }, []);\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n    tabIndex: "0",\n    id: "section-playlist-".concat(id),\n    className: wrapperClasses,\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n      className: "wpmudev-videos-section--videos-list-header",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n        className: "wpmudev-videos-section--videos-list-content",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)("h2", {\n          className: "wpmudev-videos-section--block-title",\n          children: title\n        }), description && /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n          className: "wpmudev-videos-section--block-description",\n          children: description\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n        className: "wpmudev-videos-section--videos-list-navigator",\n        "aria-hidden": "true",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)("button", {\n          className: btnPrevClasses,\n          disabled: disableRight,\n          onClick: function onClick() {\n            return slideMenu(-40);\n          },\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n            icon: "chevron-left",\n            size: "sm"\n          })\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)("button", {\n          className: btnNextClasses,\n          disabled: disableLeft,\n          onClick: function onClick() {\n            return slideMenu(40);\n          },\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n            icon: "chevron-right",\n            size: "sm"\n          })\n        })]\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n      className: videoSectionClasses,\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* IconButton */.K0, {\n        className: "wpmudev-videos-section--videos-list-handler",\n        "aria-hidden": true,\n        icon: "chevron-right",\n        tabIndex: "-1",\n        outlined: false,\n        onClick: toggleFullView\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n        role: "tablist",\n        className: "wpmudev-videos-section--videos-list",\n        ref: videosList,\n        children: Object.keys(videosObject).map(function (videoID) {\n          return /*#__PURE__*/(0,jsx_runtime.jsx)(VideoItem, {\n            setSelected: setSelected,\n            selected: selected,\n            playlistId: id,\n            video: videosObject[videoID]\n          }, videoID);\n        })\n      }), isSelected() && /*#__PURE__*/(0,jsx_runtime.jsx)(VideoPlayer, {\n        videoId: selected.video,\n        playlistId: id,\n        isSelected: isSelected(),\n        setSelected: setSelected\n      })]\n    })]\n  });\n}\n/* harmony default export */ var SinglePlaylist_SinglePlaylist = ((/* unused pure expression or super */ null && (SinglePlaylist)));\n;// CONCATENATED MODULE: ./app/src/pages/tutorials/components/SinglePlaylist/index.js\n\n// EXTERNAL MODULE: ./app/src/components/index.js\nvar src_components = __webpack_require__(135);\n// EXTERNAL MODULE: ./node_modules/react-router/dist/index.js\nvar react_router_dist = __webpack_require__(7767);\n;// CONCATENATED MODULE: ./app/src/pages/tutorials/components/VideoItem/VideoItem.js\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n/**\n * External dependencies\n */\n\n\n\n\nfunction VideoItem(_ref) {\n  var playlistId = _ref.playlistId,\n    video = _ref.video,\n    selected = _ref.selected,\n    setSelected = _ref.setSelected;\n  var id = video.id,\n    video_title = video.video_title,\n    thumbnail = video.thumbnail,\n    video_type = video.video_type,\n    video_slug = video.video_slug,\n    video_duration = video.video_duration;\n  var navigate = (0,react_router_dist/* useNavigate */.Zp)();\n\n  /**\n   * Check if current video is the selected one.\n   *\n   * @returns {boolean}\n   */\n  var isSelected = function isSelected() {\n    return playlistId === parseInt(selected.playlist) && id === parseInt(selected.video);\n  };\n  var url = (thumbnail === null || thumbnail === void 0 ? void 0 : thumbnail.url) || null;\n  var showPreview = function showPreview() {\n    // Change route\n    navigate("/view/".concat(playlistId, "/").concat(id));\n\n    // Update selected object\n    setSelected({\n      playlist: playlistId,\n      video: id\n    });\n  };\n  var btnClasses = classnames_default()({\n    \'wpmudev-videos-section--video\': true,\n    \'wpmudev-videos-active\': isSelected()\n  });\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)("button", {\n    role: "tab",\n    className: btnClasses,\n    tabIndex: isSelected() ? false : \'-1\',\n    "aria-selected": isSelected() ? \'true\' : \'false\',\n    id: "tab--playlist-".concat(playlistId, "-video-").concat(id),\n    "aria-controls": "tab-content--playlist-".concat(playlistId, "-video-").concat(id),\n    onClick: showPreview,\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)("span", {\n      className: "sui-screen-reader-text",\n      children: [(0,build_module.__)(\'Click to open\', \'wpmudev_vids\'), " ", video_title]\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)("span", {\n      className: "wpmudev-videos-section--video-head",\n      "aria-hidden": "true",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n        className: "video-thumbnail",\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)("span", {\n          className: "video-thumbnail-content",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(src_components/* ListThumb */.Bt, {\n            url: url,\n            isCustom: \'custom\' === video_type,\n            icon: video_slug,\n            className: "video-thumb",\n            tag: "span"\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n            className: "video-thumbnail-name",\n            children: video_title\n          })]\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n        icon: "play",\n        size: "sm"\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)("span", {\n      className: "wpmudev-videos-section--video-body",\n      "aria-hidden": "true",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n        className: "video-title",\n        children: video_title\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n        className: "video-duration",\n        children: video_duration || \'\'\n      })]\n    })]\n  });\n}\n/* harmony default export */ var VideoItem_VideoItem = ((/* unused pure expression or super */ null && (VideoItem)));\n;// CONCATENATED MODULE: ./app/src/pages/tutorials/components/VideoItem/index.js\n\n// EXTERNAL MODULE: ./app/src/helpers/api/index.js + 1 modules\nvar api = __webpack_require__(9331);\n;// CONCATENATED MODULE: ./app/src/pages/tutorials/components/VideoPlayer/VideoPlayer.js\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator.return && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, catch: function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\nfunction VideoPlayer_slicedToArray(r, e) { return VideoPlayer_arrayWithHoles(r) || VideoPlayer_iterableToArrayLimit(r, e) || VideoPlayer_unsupportedIterableToArray(r, e) || VideoPlayer_nonIterableRest(); }\nfunction VideoPlayer_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction VideoPlayer_unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return VideoPlayer_arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? VideoPlayer_arrayLikeToArray(r, a) : void 0; } }\nfunction VideoPlayer_arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction VideoPlayer_iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction VideoPlayer_arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\n/**\n * External dependencies\n */\n\n\n\n\n\nfunction VideoPlayer(_ref) {\n  var videoId = _ref.videoId,\n    playlistId = _ref.playlistId,\n    isSelected = _ref.isSelected,\n    setSelected = _ref.setSelected;\n  var _useState = (0,react.useState)(),\n    _useState2 = VideoPlayer_slicedToArray(_useState, 2),\n    embed = _useState2[0],\n    setEmbed = _useState2[1];\n  var _useState3 = (0,react.useState)(false),\n    _useState4 = VideoPlayer_slicedToArray(_useState3, 2),\n    isUpdating = _useState4[0],\n    setIsUpdating = _useState4[1];\n  var video = (0,es/* useSelector */.d4)(function (state) {\n    return (0,slices_videos/* getVideos */.fY)(state, videoId);\n  });\n  var _ref2 = video !== null && video !== void 0 ? video : {},\n    id = _ref2.id,\n    video_title = _ref2.video_title,\n    video_type = _ref2.video_type;\n  var navigate = (0,react_router_dist/* useNavigate */.Zp)();\n\n  // Get embed on mount and when video id changes\n  (0,react.useEffect)(function () {\n    if (id) {\n      getEmbed();\n    }\n  }, [id]);\n\n  /**\n   * get embed.\n   *\n   * We need to pass the custom thumbnail and\n   * start/end time strings.\n   *\n   */\n  var getEmbed = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            if (!isUpdating) {\n              _context.next = 2;\n              break;\n            }\n            return _context.abrupt("return");\n          case 2:\n            setIsUpdating(true);\n            (0,api/* restGet */.B8)({\n              path: "videos/".concat(id, "/embed")\n            }).then(function (response) {\n              if (response.success && response.data) {\n                // Update the embed.\n                setEmbed(response.data);\n                setIsUpdating(false);\n              }\n            });\n          case 4:\n          case "end":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return function getEmbed() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  /**\n   * Handle the video preview hide event.\n   */\n  var hidePreview = function hidePreview() {\n    navigate(\'/\');\n    setSelected({\n      playlist: \'\',\n      video: \'\'\n    });\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n    role: "tabpanel",\n    className: "wpmudev-videos-section--videos-panel",\n    "aria-live": "polite",\n    tabindex: "0",\n    hidden: !isSelected,\n    id: "tab-content--playlist-".concat(playlistId, "-video-").concat(id),\n    "aria-labelledby": isSelected ? "tab--playlist-".concat(playlistId, "-video-").concat(id) : \'\',\n    children: isSelected && /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)("h3", {\n        className: "video-title",\n        children: video_title\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(src_components/* VideoIframe */.Sy, {\n        embed: embed === null || embed === void 0 ? void 0 : embed.html,\n        type: video_type\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)("button", {\n        className: "video-close",\n        onClick: hidePreview,\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components/* Icon */.In, {\n          icon: "close",\n          size: "sm"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n          className: "sui-screen-reader-text",\n          children: (0,build_module.__)(\'Close video\', \'wpmudev_vids\')\n        })]\n      })]\n    })\n  });\n}\n/* harmony default export */ var VideoPlayer_VideoPlayer = ((/* unused pure expression or super */ null && (VideoPlayer)));\n;// CONCATENATED MODULE: ./app/src/pages/tutorials/components/VideoPlayer/index.js\n\n;// CONCATENATED MODULE: ./app/src/pages/tutorials/components/index.js\n\n\n\n\n\n\n// EXTERNAL MODULE: ./app/src/helpers/utils/utils.js\nvar utils = __webpack_require__(7755);\n;// CONCATENATED MODULE: ./app/src/pages/tutorials/partials/VideosList/VideosList.js\nfunction VideosList_typeof(o) { "@babel/helpers - typeof"; return VideosList_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, VideosList_typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == VideosList_typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != VideosList_typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != VideosList_typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\nfunction VideosList_slicedToArray(r, e) { return VideosList_arrayWithHoles(r) || VideosList_iterableToArrayLimit(r, e) || VideosList_unsupportedIterableToArray(r, e) || VideosList_nonIterableRest(); }\nfunction VideosList_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction VideosList_unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return VideosList_arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? VideosList_arrayLikeToArray(r, a) : void 0; } }\nfunction VideosList_arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction VideosList_iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction VideosList_arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Internal dependencies\n */\n\n\n\n\n\n\n\n\n/**\n * External dependencies\n */\n\n\n\n\n\n\nfunction VideosList(_ref) {\n  var searchMsgType = _ref.searchMsgType,\n    hideMessage = _ref.hideMessage,\n    resultsCount = _ref.resultsCount;\n  // Url parameters for current opened video\n  var _useParams = (0,react_router_dist/* useParams */.g)(),\n    action = _useParams.action,\n    playlist = _useParams.playlist,\n    video = _useParams.video;\n\n  // Selcted video state based on url params\n  var _useState = (0,react.useState)({\n      playlist: \'\',\n      video: \'\'\n    }),\n    _useState2 = VideosList_slicedToArray(_useState, 2),\n    selected = _useState2[0],\n    setSelected = _useState2[1];\n\n  // We always use sorted playlists\n  var _useState3 = (0,react.useState)([]),\n    _useState4 = VideosList_slicedToArray(_useState3, 2),\n    playlistsLists = _useState4[0],\n    setPlaylistsLists = _useState4[1];\n\n  // Playlists to display in the sticky menu\n  var _useState5 = (0,react.useState)([]),\n    _useState6 = VideosList_slicedToArray(_useState5, 2),\n    displayedPlaylists = _useState6[0],\n    setDisplayedPlaylists = _useState6[1];\n\n  // Playlists object from the store\n  var playlists = (0,es/* useSelector */.d4)(function (state) {\n    return (0,slices_playlists/* getPlaylists */.Eo)(state);\n  });\n\n  // Filtered playlists ids\n  var filteredPlaylists = (0,es/* useSelector */.d4)(function (state) {\n    return (0,slices_playlists/* getFiltered */.A1)(state);\n  });\n\n  // VideosObject from the store\n  var videosObject = (0,es/* useSelector */.d4)(function (state) {\n    return (0,slices_videos/* getVideos */.fY)(state);\n  });\n\n  // Filtered videos ids from the store\n  var filteredVideosIds = (0,es/* useSelector */.d4)(function (state) {\n    return (0,slices_videos/* getFilteredIds */.Q6)(state);\n  });\n  var areVideosLoading = (0,es/* useSelector */.d4)(function (state) {\n    return (0,slices_videos/* getLoadingStatus */.H)(state);\n  });\n  var arePlaylistsLoading = (0,es/* useSelector */.d4)(function (state) {\n    return (0,slices_playlists/* getLoadingStatus */.H)(state);\n  });\n\n  // When both videos and playlists are loading\n  var isLoading = areVideosLoading && arePlaylistsLoading;\n\n  // To show default videos or not\n  var showDefault = (0,utils/* validMember */.xH)();\n\n  // Set selected state based on url params\n  (0,react.useEffect)(function () {\n    if (action !== \'\' && parseInt(playlist) > 0 && parseInt(video) > 0) {\n      setSelected({\n        playlist: playlist,\n        video: video\n      });\n    }\n  }, []);\n\n  // Set playlistsLists on mount\n  (0,react.useEffect)(function () {\n    var newPlaylists = [];\n    filteredPlaylists.forEach(function (id) {\n      if (playlists[id]) {\n        newPlaylists.push(playlists[id]);\n      }\n    });\n    setPlaylistsLists(newPlaylists);\n  }, [playlists, filteredPlaylists]);\n\n  // Set displayedPlaylists on mount\n  (0,react.useEffect)(function () {\n    var filtered = [];\n\n    // Only if there\'re videos to display\n    if (filteredVideosIds.length > 0) {\n      // Loop through all sorted playlists\n      playlistsLists.forEach(function (playlist) {\n        // Videos ids that can be displayed based on certain conditions\n        var displayedVideos = [];\n        if (playlist.videos && playlist.videos.length > 0) {\n          // Loop through each video id in the playlist\n          playlist.videos.forEach(function (videoID) {\n            // Check if video is available in filtered list.\n            if (filteredVideosIds.includes(videoID)) {\n              {\n                // Check if the use is authorized to see the video\n                if (videosObject[videoID].video_type === \'custom\' || videosObject[videoID].video_type === \'default\' && showDefault) {\n                  displayedVideos.push(videoID);\n                }\n              }\n            }\n          });\n        }\n        // Add the playlist with the new filtered videos if it has at least one video that fullfill the conditions\n        if (displayedVideos.length > 0) {\n          filtered.push(_objectSpread(_objectSpread({}, playlist), {}, {\n            videos: displayedVideos\n          }));\n        }\n      });\n    }\n\n    // Update the state\n    setDisplayedPlaylists(filtered);\n  }, [filteredVideosIds, playlistsLists, filteredVideosIds]);\n  var wrapperClasses = classnames_default()({\n    \'wpmudev-videos-section\': true,\n    loading: isLoading\n  });\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n    className: wrapperClasses,\n    children: [isLoading && /*#__PURE__*/(0,jsx_runtime.jsx)(MenuLoader, {}), !isLoading && /*#__PURE__*/(0,jsx_runtime.jsx)(StickyMenu, {\n      playlists: displayedPlaylists\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n      role: "alert",\n      "aria-live": "polite",\n      className: "sui-screen-reader-text",\n      hidden: hideMessage,\n      children: [!hideMessage && searchMsgType === \'clear\' && /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n        children: (0,build_module.__)(\'Search cleared successfully.\', \'wpmudev_vids\')\n      }), !hideMessage && searchMsgType === \'search\' && /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n        children: (0,build_module/* sprintf */.nv)((0,build_module.__)(\'We found %s videos for your search.\', \'wpmudev_vids\'), resultsCount)\n      })]\n    }), isLoading && /*#__PURE__*/(0,jsx_runtime.jsx)(VideosLoader, {}), !isLoading && displayedPlaylists.map(function (playlist) {\n      return /*#__PURE__*/(0,jsx_runtime.jsx)(SinglePlaylist, {\n        selected: selected,\n        setSelected: setSelected,\n        playlist: playlist\n      }, playlist.id);\n    })]\n  });\n}\n/* harmony default export */ var VideosList_VideosList = ((/* unused pure expression or super */ null && (VideosList)));\n;// CONCATENATED MODULE: ./app/src/pages/tutorials/partials/VideosList/index.js\n\n;// CONCATENATED MODULE: ./app/src/pages/tutorials/partials/VideosSearch/VideosSearch.js\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n/**\n * External dependencies\n */\n\n\nfunction VideosSearch(_ref) {\n  var search = _ref.search,\n    setSearch = _ref.setSearch,\n    onSearch = _ref.onSearch,\n    onClear = _ref.onClear;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az.Body, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n      children: (0,build_module.__)(\'Use these in-depth video tutorials to master all aspects of the WordPress platform.\', \'wpmudev_vids\')\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(src_components/* VideoSearchForm */.kS, {\n      search: search,\n      onSearch: onSearch,\n      onClear: onClear,\n      setSearch: setSearch,\n      onLoadingText: (0,build_module.__)(\'Searching\', \'wpmudev_vids\')\n    })]\n  });\n}\n/* harmony default export */ var VideosSearch_VideosSearch = ((/* unused pure expression or super */ null && (VideosSearch)));\n;// CONCATENATED MODULE: ./app/src/pages/tutorials/partials/VideosSearch/index.js\n\n;// CONCATENATED MODULE: ./app/src/pages/tutorials/partials/index.js\n\n\n\n;// CONCATENATED MODULE: ./app/src/pages/tutorials/App.js\nfunction App_slicedToArray(r, e) { return App_arrayWithHoles(r) || App_iterableToArrayLimit(r, e) || App_unsupportedIterableToArray(r, e) || App_nonIterableRest(); }\nfunction App_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction App_unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return App_arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? App_arrayLikeToArray(r, a) : void 0; } }\nfunction App_arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction App_iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction App_arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/**\n * Library dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\n\n\n/**\n * External dependencies\n */\n\n\n\n\nfunction App() {\n  var _useState = (0,react.useState)(\'\'),\n    _useState2 = App_slicedToArray(_useState, 2),\n    search = _useState2[0],\n    setSearch = _useState2[1];\n  var _useState3 = (0,react.useState)(\'clear\'),\n    _useState4 = App_slicedToArray(_useState3, 2),\n    searchMsgType = _useState4[0],\n    setSearchMsgType = _useState4[1];\n  var _useState5 = (0,react.useState)(0),\n    _useState6 = App_slicedToArray(_useState5, 2),\n    resultsCount = _useState6[0],\n    setResultsCount = _useState6[1];\n  var _useState7 = (0,react.useState)(true),\n    _useState8 = App_slicedToArray(_useState7, 2),\n    hideMessage = _useState8[0],\n    setHideMessage = _useState8[1];\n  var dispatch = (0,es/* useDispatch */.wA)();\n\n  // Load playlists and videos on mount\n  (0,react.useEffect)(function () {\n    dispatch((0,slices_playlists/* initPlaylists */.cM)());\n    dispatch((0,slices_videos/* initVideos */.r2)());\n  }, []);\n\n  /**\n   * When getting search results\n   *\n   * @return {void}\n   */\n  var showAlert = function showAlert() {\n    // Show message\n    setHideMessage(false);\n\n    // Hide again after 3 seconds.\n    setTimeout(function () {\n      setHideMessage(true);\n    }, 3000);\n  };\n\n  /**\n   * When getting search results\n   *\n   * @return {voind}\n   */\n  var onSearch = function onSearch(ids) {\n    setResultsCount(ids.length);\n    setSearchMsgType(\'search\');\n\n    // Show Alert\n    showAlert();\n  };\n\n  /**\n   * When search is cleared\n   *\n   * @return {void}\n   */\n  var onClear = function onClear() {\n    setSearchMsgType(\'clear\');\n\n    // Show Alert\n    showAlert();\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n    className: "sui-wrap",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(components/* Box */.az, {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(Header, {}), /*#__PURE__*/(0,jsx_runtime.jsx)(VideosSearch, {\n        onSearch: onSearch,\n        onClear: onClear,\n        search: search,\n        setSearch: setSearch\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(react_router_dist/* Routes */.BV, {\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, {\n          exact: true,\n          path: "/:action?/:playlist?/:video?",\n          element: /*#__PURE__*/(0,jsx_runtime.jsx)(VideosList, {\n            searchMsgType: searchMsgType,\n            hideMessage: hideMessage,\n            resultsCount: resultsCount\n          })\n        })\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(PageFooter/* PageFooter */.F, {})]\n  });\n}\n/* harmony default export */ var tutorials_App = (App);\n;// CONCATENATED MODULE: ./app/src/pages/tutorials/main.js\n\n\n\n\n\n\n\nvar root = client.createRoot(document.getElementById(\'wpmudev-videos-tutorials-app\'));\nroot.render( /*#__PURE__*/(0,jsx_runtime.jsx)(react.StrictMode, {\n  children: /*#__PURE__*/(0,jsx_runtime.jsx)(es/* Provider */.Kq, {\n    store: store/* default */.A,\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(dist/* HashRouter */.I9, {\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(tutorials_App, {})\n    })\n  })\n}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAxNS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBRWxCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBRXZDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUUxTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FFdENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBRW5NQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FFbkdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBRXpJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBRW5MQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUVoQ0E7QUFDQTs7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy90dXRvcmlhbHMvcGFydGlhbHMvSGVhZGVyL0hlYWRlci5qcz9kMDVjIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy90dXRvcmlhbHMvcGFydGlhbHMvSGVhZGVyL2luZGV4LmpzPzliNmIiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL3R1dG9yaWFscy9jb21wb25lbnRzL01lbnVMb2FkZXIvTWVudUxvYWRlci5qcz9kOGM4Iiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy90dXRvcmlhbHMvY29tcG9uZW50cy9NZW51TG9hZGVyL2luZGV4LmpzP2VkZTEiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL3R1dG9yaWFscy9jb21wb25lbnRzL1N0aWNreU1lbnUvU3RpY2t5TWVudS5qcz9hNzVmIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy90dXRvcmlhbHMvY29tcG9uZW50cy9TdGlja3lNZW51L2luZGV4LmpzPzg5NTQiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL3R1dG9yaWFscy9jb21wb25lbnRzL1ZpZGVvc0xvYWRlci9WaWRlb3NMb2FkZXIuanM/MGNkOSIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvdHV0b3JpYWxzL2NvbXBvbmVudHMvVmlkZW9zTG9hZGVyL2luZGV4LmpzPzk5N2QiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL3R1dG9yaWFscy9jb21wb25lbnRzL1NpbmdsZVBsYXlsaXN0L1NpbmdsZVBsYXlsaXN0LmpzP2Q1MjEiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL3R1dG9yaWFscy9jb21wb25lbnRzL1NpbmdsZVBsYXlsaXN0L2luZGV4LmpzPzczMWEiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL3R1dG9yaWFscy9jb21wb25lbnRzL1ZpZGVvSXRlbS9WaWRlb0l0ZW0uanM/YzJlNSIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvdHV0b3JpYWxzL2NvbXBvbmVudHMvVmlkZW9JdGVtL2luZGV4LmpzPzA5MmUiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL3R1dG9yaWFscy9jb21wb25lbnRzL1ZpZGVvUGxheWVyL1ZpZGVvUGxheWVyLmpzPzhjZjMiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL3R1dG9yaWFscy9jb21wb25lbnRzL1ZpZGVvUGxheWVyL2luZGV4LmpzPzk5ZjUiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL3R1dG9yaWFscy9jb21wb25lbnRzL2luZGV4LmpzPzMwMDAiLCJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3BhZ2VzL3R1dG9yaWFscy9wYXJ0aWFscy9WaWRlb3NMaXN0L1ZpZGVvc0xpc3QuanM/OWUyMCIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvdHV0b3JpYWxzL3BhcnRpYWxzL1ZpZGVvc0xpc3QvaW5kZXguanM/MTU0OCIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvdHV0b3JpYWxzL3BhcnRpYWxzL1ZpZGVvc1NlYXJjaC9WaWRlb3NTZWFyY2guanM/YTE4ZiIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvdHV0b3JpYWxzL3BhcnRpYWxzL1ZpZGVvc1NlYXJjaC9pbmRleC5qcz82ZmFlIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy90dXRvcmlhbHMvcGFydGlhbHMvaW5kZXguanM/NWY1ZCIsIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvcGFnZXMvdHV0b3JpYWxzL0FwcC5qcz8yMjFkIiwid2VicGFjazovL3dwbXVkZXYtdmlkZW9zLy4vYXBwL3NyYy9wYWdlcy90dXRvcmlhbHMvbWFpbi5qcz85ZWNiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTGlicmFyeSBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vLi4vLi4vLi4vbGliL2NvbXBvbmVudHMnO1xuXG4vKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBfXyB9IGZyb20gJ0B3b3JkcHJlc3MvaTE4bic7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZXhwb3J0IGZ1bmN0aW9uIEhlYWRlcigpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4KEJveC5IZWFkZXIsIHtcbiAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goQm94LlRpdGxlLCB7XG4gICAgICBpZDogXCJ3cG11ZGV2LXZpZGVvcy1uYXZpZ2F0aW9uLS1sYWJlbFwiLFxuICAgICAgY2hpbGRyZW46IF9fKCdWaWRlbyBUdXRvcmlhbHMnLCAnd3BtdWRldl92aWRzJylcbiAgICB9KVxuICB9KTtcbn1cbmV4cG9ydCBkZWZhdWx0IEhlYWRlcjsiLCJleHBvcnQgKiBmcm9tICcuL0hlYWRlcic7IiwiaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmV4cG9ydCBmdW5jdGlvbiBNZW51TG9hZGVyKCkge1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3goXCJkaXZcIiwge1xuICAgIHJvbGU6IFwibmF2aWdhdGlvblwiLFxuICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IFwid3BtdWRldi12aWRlb3MtbmF2aWdhdGlvbi0tbGFiZWxcIixcbiAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLFxuICAgIGNsYXNzTmFtZTogXCJ3cG11ZGV2LXZpZGVvcy1zZWN0aW9uLS1tZW51LWdyb3VwXCIsXG4gICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4cyhcInVsXCIsIHtcbiAgICAgIHJvbGU6IFwibWVudVwiLFxuICAgICAgY2xhc3NOYW1lOiBcIndwbXVkZXYtdmlkZW9zLXNlY3Rpb24tLW1lbnVcIixcbiAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goXCJsaVwiLCB7XG4gICAgICAgIHJvbGU6IFwibm9uZVwiLFxuICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goXCJhXCIsIHtcbiAgICAgICAgICByb2xlOiBcIm1lbnVpdGVtXCJcbiAgICAgICAgfSlcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcImxpXCIsIHtcbiAgICAgICAgcm9sZTogXCJub25lXCIsXG4gICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChcImFcIiwge1xuICAgICAgICAgIHJvbGU6IFwibWVudWl0ZW1cIlxuICAgICAgICB9KVxuICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwibGlcIiwge1xuICAgICAgICByb2xlOiBcIm5vbmVcIixcbiAgICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KFwiYVwiLCB7XG4gICAgICAgICAgcm9sZTogXCJtZW51aXRlbVwiXG4gICAgICAgIH0pXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJsaVwiLCB7XG4gICAgICAgIHJvbGU6IFwibm9uZVwiLFxuICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goXCJhXCIsIHtcbiAgICAgICAgICByb2xlOiBcIm1lbnVpdGVtXCJcbiAgICAgICAgfSlcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcImxpXCIsIHtcbiAgICAgICAgcm9sZTogXCJub25lXCIsXG4gICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChcImFcIiwge1xuICAgICAgICAgIHJvbGU6IFwibWVudWl0ZW1cIlxuICAgICAgICB9KVxuICAgICAgfSldXG4gICAgfSlcbiAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCBNZW51TG9hZGVyOyIsImV4cG9ydCAqIGZyb20gJy4vTWVudUxvYWRlcic7IiwiZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkociwgZSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKHIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBlKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgZSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkgeyBpZiAocikgeyBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gXCJPYmplY3RcIiA9PT0gdCAmJiByLmNvbnN0cnVjdG9yICYmICh0ID0gci5jb25zdHJ1Y3Rvci5uYW1lKSwgXCJNYXBcIiA9PT0gdCB8fCBcIlNldFwiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6IFwiQXJndW1lbnRzXCIgPT09IHQgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkgPyBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSA6IHZvaWQgMDsgfSB9XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQociwgbCkgeyB2YXIgdCA9IG51bGwgPT0gciA/IG51bGwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgcltTeW1ib2wuaXRlcmF0b3JdIHx8IHJbXCJAQGl0ZXJhdG9yXCJdOyBpZiAobnVsbCAhPSB0KSB7IHZhciBlLCBuLCBpLCB1LCBhID0gW10sIGYgPSAhMCwgbyA9ICExOyB0cnkgeyBpZiAoaSA9ICh0ID0gdC5jYWxsKHIpKS5uZXh0LCAwID09PSBsKSB7IGlmIChPYmplY3QodCkgIT09IHQpIHJldHVybjsgZiA9ICExOyB9IGVsc2UgZm9yICg7ICEoZiA9IChlID0gaS5jYWxsKHQpKS5kb25lKSAmJiAoYS5wdXNoKGUudmFsdWUpLCBhLmxlbmd0aCAhPT0gbCk7IGYgPSAhMCk7IH0gY2F0Y2ggKHIpIHsgbyA9ICEwLCBuID0gcjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFmICYmIG51bGwgIT0gdC5yZXR1cm4gJiYgKHUgPSB0LnJldHVybigpLCBPYmplY3QodSkgIT09IHUpKSByZXR1cm47IH0gZmluYWxseSB7IGlmIChvKSB0aHJvdyBuOyB9IH0gcmV0dXJuIGE7IH0gfVxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKHIpIHsgaWYgKEFycmF5LmlzQXJyYXkocikpIHJldHVybiByOyB9XG4vKipcbiAqIExpYnJhcnkgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IEljb24gfSBmcm9tICcuLi8uLi8uLi8uLi9saWIvY29tcG9uZW50cyc7XG5cbi8qKlxuICogRXh0ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmV4cG9ydCBmdW5jdGlvbiBTdGlja3lNZW51KF9yZWYpIHtcbiAgdmFyIHBsYXlsaXN0cyA9IF9yZWYucGxheWxpc3RzO1xuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoZmFsc2UpLFxuICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgIHN0aWNreSA9IF91c2VTdGF0ZTJbMF0sXG4gICAgc2V0U3RpY2t5ID0gX3VzZVN0YXRlMlsxXTtcbiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZSh0cnVlKSxcbiAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksXG4gICAgZGlzYWJsZVJpZ2h0ID0gX3VzZVN0YXRlNFswXSxcbiAgICBzZXREaXNhYmxlUmlnaHQgPSBfdXNlU3RhdGU0WzFdO1xuICB2YXIgX3VzZVN0YXRlNSA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICBfdXNlU3RhdGU2ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNSwgMiksXG4gICAgZGlzYWJsZUxlZnQgPSBfdXNlU3RhdGU2WzBdLFxuICAgIHNldERpc2FibGVMZWZ0ID0gX3VzZVN0YXRlNlsxXTtcbiAgdmFyIF91c2VTdGF0ZTcgPSB1c2VTdGF0ZSgwKSxcbiAgICBfdXNlU3RhdGU4ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNywgMiksXG4gICAgb2Zmc2V0VG9wID0gX3VzZVN0YXRlOFswXSxcbiAgICBzZXRPZmZzZXRUb3AgPSBfdXNlU3RhdGU4WzFdO1xuICB2YXIgbWVudVJlZiA9IHVzZVJlZigpO1xuICB2YXIgd3JhcHBlclJlZiA9IHVzZVJlZigpO1xuICB2YXIgbmF2Q2xhc3NlcyA9IGNsYXNzbmFtZXMoe1xuICAgICd3cG11ZGV2LXZpZGVvcy1zZWN0aW9uLS1tZW51LWdyb3VwJzogdHJ1ZSxcbiAgICAnd3BtdWRldi12aWRlb3Mtc3RpY2t5Jzogc3RpY2t5XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIG9mZnNldCBwb3NpdGlvbiBvZiB0aGUgbWVudS5cbiAgICovXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgLy8gTWVudSBlbGVtZW50LlxuICAgIHZhciBtZW51ID0gd3JhcHBlclJlZi5jdXJyZW50O1xuICAgIHZhciByZWN0ID0gbWVudS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB2YXIgc2Nyb2xsVG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgc2V0T2Zmc2V0VG9wKHJlY3QudG9wICsgc2Nyb2xsVG9wKTtcbiAgfSwgW10pO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIC8vIFN0YXJ0IGxpc3RlbmluZyB0byBzY3JvbGwgYW5kIHJlc2l6ZSBldmVudHMgb25seSBhZnRlciBvZmZzZXRUb3AgaXMgc2V0XG4gICAgaWYgKG9mZnNldFRvcCA+IDApIHtcbiAgICAgIC8vIEhhbmRsZSBzY3JvbGwgZXZlbnQuXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlU2Nyb2xsKTtcblxuICAgICAgLy8gSGFuZGxlIHJlc2l6ZSBldmVudC5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVBcnJvd3MpO1xuXG4gICAgICAvLyBSZW1vdmUgZXZlbnQgbGlzdG5lcnMgd2hlbiB1bm1vdW50XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlU2Nyb2xsKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZGF0ZUFycm93cyk7XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW29mZnNldFRvcF0pO1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgdGhlIHdpbmRvdyBzY3JvbGwgZXZlbnQuXG4gICAqXG4gICAqIENoZWNrIGlmIHdlIG5lZWQgdG8gYXBwbHkgc3RpY2t5IGNsYXNzLlxuICAgKlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgdmFyIGhhbmRsZVNjcm9sbCA9IGZ1bmN0aW9uIGhhbmRsZVNjcm9sbCgpIHtcbiAgICAvLyBXaGVuIHRoZSBwYWdlIG9mZnNldCBpcyBoaWdoZXIgdGhhbiBtZW51LlxuICAgIHNldFN0aWNreSh3aW5kb3cucGFnZVlPZmZzZXQgPiBvZmZzZXRUb3ApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGUgbmF2aWdhdGlvbiBhcnJvd3Mgd2hlbiByZXF1aXJlZC5cbiAgICpcbiAgICogQ2FsbCB3aGVuIHdpZG5vdyBpcyByZXNpemVkLCBpdGVtcyBjaGFuZ2VkLlxuICAgKlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgdmFyIHVwZGF0ZUFycm93cyA9IGZ1bmN0aW9uIHVwZGF0ZUFycm93cygpIHtcbiAgICAvLyBNZW51IGVsZW1lbnQuXG4gICAgdmFyIGVsID0gbWVudVJlZi5jdXJyZW50O1xuICAgIHZhciBtYXhTY3JvbGwgPSBlbC5zY3JvbGxXaWR0aCAtIGVsLmNsaWVudFdpZHRoO1xuICAgIHNldERpc2FibGVSaWdodChlbC5zY3JvbGxMZWZ0IDw9IDApO1xuICAgIHNldERpc2FibGVMZWZ0KGVsLnNjcm9sbExlZnQgPj0gbWF4U2Nyb2xsKTtcbiAgfTtcblxuICAvKipcbiAgICogU2xpZGUgbWVudSBlbGVtZW50cyB0byBuZXcgcG9zaXRpb24uXG4gICAqXG4gICAqIFdlIHNsaWRlIDMwcHggb24gZWFjaCBjbGljay5cbiAgICpcbiAgICogQHBhcmFtIHtpbnR9IG9mZnNldCBTbGlkZSBwb3NpdGlvbiB2YWx1ZS5cbiAgICpcbiAgICovXG4gIHZhciBzbGlkZU1lbnUgPSBmdW5jdGlvbiBzbGlkZU1lbnUob2Zmc2V0KSB7XG4gICAgLy8gTWVudSBlbGVtZW50LlxuICAgIHZhciBlbCA9IG1lbnVSZWYuY3VycmVudDtcblxuICAgIC8vIFNjcm9sbC5cbiAgICBlbC5zY3JvbGwoe1xuICAgICAgbGVmdDogZWwuc2Nyb2xsTGVmdCArIG9mZnNldCxcbiAgICAgIGJlaGF2aW9yOiAnYXV0bydcbiAgICB9KTtcblxuICAgIC8vIFVwZGF0ZSB0aGUgYXJyb3dzLlxuICAgIHVwZGF0ZUFycm93cygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgb2Zmc2V0IG9mIHRoZSBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZWwgRWxlbWVudC5cbiAgICpcbiAgICogQHJldHVybiB7Kn1cbiAgICovXG4gIHZhciBnZXRFbGVtZW50T2Zmc2V0ID0gZnVuY3Rpb24gZ2V0RWxlbWVudE9mZnNldChlbCkge1xuICAgIHZhciB0b3AgPSAwO1xuICAgIHZhciBsZWZ0ID0gMDtcbiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsKTtcbiAgICBpZiAoZWxlbWVudCAhPT0gbnVsbCkge1xuICAgICAgZG8ge1xuICAgICAgICB0b3AgKz0gZWxlbWVudC5vZmZzZXRUb3AgfHwgMDtcbiAgICAgICAgbGVmdCArPSBlbGVtZW50Lm9mZnNldExlZnQgfHwgMDtcbiAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50O1xuICAgICAgfSB3aGlsZSAoZWxlbWVudCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0b3A6IHRvcCxcbiAgICAgIGxlZnQ6IGxlZnRcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBTY3JvbGwgdG8gYSBzZWN0aW9uIGluIHRoZSBwYWdlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgRWxlbWVudCBJRC5cbiAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50IEV2ZW50LlxuICAgKlxuICAgKi9cbiAgdmFyIGdvVG9TZWN0aW9uID0gZnVuY3Rpb24gZ29Ub1NlY3Rpb24oaWQsIGV2ZW50KSB7XG4gICAgdmFyIGJsb2NrSWQgPSBcInNlY3Rpb24tcGxheWxpc3QtXCIuY29uY2F0KGlkKTtcbiAgICB2YXIgYmxvY2tQb3MgPSBnZXRFbGVtZW50T2Zmc2V0KGJsb2NrSWQpO1xuICAgIHZhciBmbG9hdE5hdiA9IDEyMDtcbiAgICB3aW5kb3cuc2Nyb2xsVG8oe1xuICAgICAgdG9wOiBibG9ja1Bvcy50b3AgLSBmbG9hdE5hdixcbiAgICAgIGxlZnQ6IDAsXG4gICAgICBiZWhhdmlvcjogJ3Ntb290aCdcbiAgICB9KTtcbiAgICB2YXIgaTtcbiAgICB2YXIgbmF2RWwgPSBldmVudC50YXJnZXQ7XG4gICAgdmFyIG5hdkxpID0gbmF2RWwucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpID4gYScpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBuYXZMaS5sZW5ndGg7ICsraSkge1xuICAgICAgaWYgKG5hdkxpW2ldLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgICAgbmF2TGlbaV0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICB9XG4gICAgfVxuICAgIG5hdkVsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH07XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeHMoXCJkaXZcIiwge1xuICAgIHJvbGU6IFwibmF2aWdhdGlvblwiLFxuICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IFwid3BtdWRldi12aWRlb3MtbmF2aWdhdGlvbi0tbGFiZWxcIixcbiAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLFxuICAgIGNsYXNzTmFtZTogbmF2Q2xhc3NlcyxcbiAgICByZWY6IHdyYXBwZXJSZWYsXG4gICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeHMoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcIndwbXVkZXYtdmlkZW9zLXNlY3Rpb24tLW1lbnUtbmF2XCIsXG4gICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInByZXZcIixcbiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVSaWdodCxcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICByZXR1cm4gc2xpZGVNZW51KC0yMCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChJY29uLCB7XG4gICAgICAgICAgaWNvbjogXCJjaGV2cm9uLWxlZnRcIixcbiAgICAgICAgICBzaXplOiBcIm1kXCJcbiAgICAgICAgfSlcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcImJ1dHRvblwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJuZXh0XCIsXG4gICAgICAgIGRpc2FibGVkOiBkaXNhYmxlTGVmdCxcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICByZXR1cm4gc2xpZGVNZW51KDIwKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KEljb24sIHtcbiAgICAgICAgICBpY29uOiBcImNoZXZyb24tcmlnaHRcIixcbiAgICAgICAgICBzaXplOiBcIm1kXCJcbiAgICAgICAgfSlcbiAgICAgIH0pXVxuICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcInVsXCIsIHtcbiAgICAgIHJlZjogbWVudVJlZixcbiAgICAgIHJvbGU6IFwibWVudVwiLFxuICAgICAgY2xhc3NOYW1lOiBcIndwbXVkZXYtdmlkZW9zLXNlY3Rpb24tLW1lbnVcIixcbiAgICAgIGNoaWxkcmVuOiBwbGF5bGlzdHMubWFwKGZ1bmN0aW9uIChwbGF5bGlzdCkge1xuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL19qc3goXCJsaVwiLCB7XG4gICAgICAgICAgcm9sZTogXCJub25lXCIsXG4gICAgICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KFwiYVwiLCB7XG4gICAgICAgICAgICByb2xlOiBcIm1lbnVpdGVtXCIsXG4gICAgICAgICAgICBjbGFzc05hbWU6IDIgPT09IHBsYXlsaXN0LmlkID8gJ2FjdGl2ZScgOiAnJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGdvVG9TZWN0aW9uKHBsYXlsaXN0LmlkLCBldmVudCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hpbGRyZW46IHBsYXlsaXN0LnRpdGxlXG4gICAgICAgICAgfSlcbiAgICAgICAgfSwgcGxheWxpc3QuaWQpO1xuICAgICAgfSlcbiAgICB9KV1cbiAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCBTdGlja3lNZW51OyIsImV4cG9ydCAqIGZyb20gJy4vU3RpY2t5TWVudSc7IiwiaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMsIEZyYWdtZW50IGFzIF9GcmFnbWVudCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZXhwb3J0IGZ1bmN0aW9uIFZpZGVvc0xvYWRlcigpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fanN4cyhfRnJhZ21lbnQsIHtcbiAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4cyhcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwid3BtdWRldi12aWRlb3MtbG9hZGVyLS1ibG9ja1wiLFxuICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJ3cG11ZGV2LXZpZGVvcy1sb2FkZXItLXRpdGxlXCJcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJ3cG11ZGV2LXZpZGVvcy1sb2FkZXItLWRlc2NyaXB0aW9uXCJcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeHMoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwid3BtdWRldi12aWRlb3MtbG9hZGVyLS12aWRlb3NcIixcbiAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChcImRpdlwiLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcIndwbXVkZXYtdmlkZW9zLWxvYWRlci0tdmlkZW9cIlxuICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJkaXZcIiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJ3cG11ZGV2LXZpZGVvcy1sb2FkZXItLXZpZGVvXCJcbiAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwiZGl2XCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwid3BtdWRldi12aWRlb3MtbG9hZGVyLS12aWRlb1wiXG4gICAgICAgIH0pXVxuICAgICAgfSldXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4cyhcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwid3BtdWRldi12aWRlb3MtbG9hZGVyLS1ibG9ja1wiLFxuICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJ3cG11ZGV2LXZpZGVvcy1sb2FkZXItLXRpdGxlXCJcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJ3cG11ZGV2LXZpZGVvcy1sb2FkZXItLWRlc2NyaXB0aW9uXCJcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeHMoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwid3BtdWRldi12aWRlb3MtbG9hZGVyLS12aWRlb3NcIixcbiAgICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChcImRpdlwiLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcIndwbXVkZXYtdmlkZW9zLWxvYWRlci0tdmlkZW9cIlxuICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJkaXZcIiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJ3cG11ZGV2LXZpZGVvcy1sb2FkZXItLXZpZGVvXCJcbiAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwiZGl2XCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwid3BtdWRldi12aWRlb3MtbG9hZGVyLS12aWRlb1wiXG4gICAgICAgIH0pXVxuICAgICAgfSldXG4gICAgfSldXG4gIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgVmlkZW9zTG9hZGVyOyIsImV4cG9ydCAqIGZyb20gJy4vVmlkZW9zTG9hZGVyJzsiLCJmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShyLCBlKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMocikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGUpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBlKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBhKSB7IGlmIChyKSB7IGlmIChcInN0cmluZ1wiID09IHR5cGVvZiByKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkociwgYSk7IHZhciB0ID0ge30udG9TdHJpbmcuY2FsbChyKS5zbGljZSg4LCAtMSk7IHJldHVybiBcIk9iamVjdFwiID09PSB0ICYmIHIuY29uc3RydWN0b3IgJiYgKHQgPSByLmNvbnN0cnVjdG9yLm5hbWUpLCBcIk1hcFwiID09PSB0IHx8IFwiU2V0XCIgPT09IHQgPyBBcnJheS5mcm9tKHIpIDogXCJBcmd1bWVudHNcIiA9PT0gdCB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSA/IF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIDogdm9pZCAwOyB9IH1cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIHsgKG51bGwgPT0gYSB8fCBhID4gci5sZW5ndGgpICYmIChhID0gci5sZW5ndGgpOyBmb3IgKHZhciBlID0gMCwgbiA9IEFycmF5KGEpOyBlIDwgYTsgZSsrKSBuW2VdID0gcltlXTsgcmV0dXJuIG47IH1cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBsKSB7IHZhciB0ID0gbnVsbCA9PSByID8gbnVsbCA6IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiByW1N5bWJvbC5pdGVyYXRvcl0gfHwgcltcIkBAaXRlcmF0b3JcIl07IGlmIChudWxsICE9IHQpIHsgdmFyIGUsIG4sIGksIHUsIGEgPSBbXSwgZiA9ICEwLCBvID0gITE7IHRyeSB7IGlmIChpID0gKHQgPSB0LmNhbGwocikpLm5leHQsIDAgPT09IGwpIHsgaWYgKE9iamVjdCh0KSAhPT0gdCkgcmV0dXJuOyBmID0gITE7IH0gZWxzZSBmb3IgKDsgIShmID0gKGUgPSBpLmNhbGwodCkpLmRvbmUpICYmIChhLnB1c2goZS52YWx1ZSksIGEubGVuZ3RoICE9PSBsKTsgZiA9ICEwKTsgfSBjYXRjaCAocikgeyBvID0gITAsIG4gPSByOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIWYgJiYgbnVsbCAhPSB0LnJldHVybiAmJiAodSA9IHQucmV0dXJuKCksIE9iamVjdCh1KSAhPT0gdSkpIHJldHVybjsgfSBmaW5hbGx5IHsgaWYgKG8pIHRocm93IG47IH0gfSByZXR1cm4gYTsgfSB9XG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMocikgeyBpZiAoQXJyYXkuaXNBcnJheShyKSkgcmV0dXJuIHI7IH1cbi8qKlxuICogTGlicmFyeSBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgSWNvbiwgSWNvbkJ1dHRvbiB9IGZyb20gJy4uLy4uLy4uLy4uL2xpYi9jb21wb25lbnRzJztcblxuLyoqXG4gKiBJbnRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgVmlkZW9JdGVtLCBWaWRlb1BsYXllciB9IGZyb20gJy4uLyc7XG5pbXBvcnQgeyBnZXRWaWRlb3MgfSBmcm9tICcuLi8uLi8uLi8uLi9zdG9yZS9zbGljZXMvdmlkZW9zJztcblxuLyoqXG4gKiBFeHRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VTZWxlY3RvciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5leHBvcnQgZnVuY3Rpb24gU2luZ2xlUGxheWxpc3QoX3JlZikge1xuICB2YXIgcGxheWxpc3QgPSBfcmVmLnBsYXlsaXN0LFxuICAgIHNlbGVjdGVkID0gX3JlZi5zZWxlY3RlZCxcbiAgICBzZXRTZWxlY3RlZCA9IF9yZWYuc2V0U2VsZWN0ZWQ7XG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShmYWxzZSksXG4gICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksXG4gICAgZGlzYWJsZVJpZ2h0ID0gX3VzZVN0YXRlMlswXSxcbiAgICBzZXREaXNhYmxlUmlnaHQgPSBfdXNlU3RhdGUyWzFdO1xuICB2YXIgX3VzZVN0YXRlMyA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksXG4gICAgZGlzYWJsZUxlZnQgPSBfdXNlU3RhdGU0WzBdLFxuICAgIHNldERpc2FibGVMZWZ0ID0gX3VzZVN0YXRlNFsxXTtcbiAgdmFyIF91c2VTdGF0ZTUgPSB1c2VTdGF0ZShmYWxzZSksXG4gICAgX3VzZVN0YXRlNiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTUsIDIpLFxuICAgIGZ1bGxWaWV3ID0gX3VzZVN0YXRlNlswXSxcbiAgICBzZXRGdWxsVmlldyA9IF91c2VTdGF0ZTZbMV07XG4gIHZhciBpZCA9IHBsYXlsaXN0LmlkLFxuICAgIHRpdGxlID0gcGxheWxpc3QudGl0bGUsXG4gICAgZGVzY3JpcHRpb24gPSBwbGF5bGlzdC5kZXNjcmlwdGlvbixcbiAgICB2aWRlb3MgPSBwbGF5bGlzdC52aWRlb3M7XG4gIHZhciB2aWRlb3NMaXN0ID0gdXNlUmVmKCk7XG4gIHZhciB2aWRlb3NPYmplY3QgPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4gZ2V0VmlkZW9zKHN0YXRlLCB2aWRlb3MpO1xuICB9KTtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIGN1cnJlbnQgc2VjdGlvbiBpcyBzZWxlY3RlZC5cbiAgICpcbiAgICogSWYgdGhlIHNlbGVjdGVkIHZpZGVvIGlzIHdpdGhpbiB0aGUgY3VycmVudCBzZWN0aW9uIChwbGF5bGlzdCkuXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgdmFyIGlzU2VsZWN0ZWQgPSBmdW5jdGlvbiBpc1NlbGVjdGVkKCkge1xuICAgIHJldHVybiBpZCA9PT0gcGFyc2VJbnQoc2VsZWN0ZWQucGxheWxpc3QpICYmIHBsYXlsaXN0LnZpZGVvcy5pbmNsdWRlcyhwYXJzZUludChzZWxlY3RlZC52aWRlbykpO1xuICB9O1xuICB2YXIgd3JhcHBlckNsYXNzZXMgPSBjbGFzc25hbWVzKHtcbiAgICAnd3BtdWRldi12aWRlb3Mtc2VjdGlvbi0tYmxvY2snOiB0cnVlLFxuICAgICd3cG11ZGV2LXZpZGVvcy1hY3RpdmUnOiBpc1NlbGVjdGVkKClcbiAgfSk7XG4gIHZhciBidG5QcmV2Q2xhc3NlcyA9IGNsYXNzbmFtZXMoJ3N1aS1idXR0b24taWNvbicsICdzdWktYnV0dG9uLWJsdWUnLCAncHJldicpO1xuICB2YXIgYnRuTmV4dENsYXNzZXMgPSBjbGFzc25hbWVzKCdzdWktYnV0dG9uLWljb24nLCAnc3VpLWJ1dHRvbi1ibHVlJywgJ25leHQnKTtcbiAgdmFyIHZpZGVvU2VjdGlvbkNsYXNzZXMgPSBjbGFzc25hbWVzKHtcbiAgICAnd3BtdWRldi12aWRlb3Mtc2VjdGlvbi0tdmlkZW9zJzogdHJ1ZSxcbiAgICAnd3BtdWRldi12aWRlb3Mtc20nOiBmdWxsVmlld1xuICB9KTtcblxuICAvKipcbiAgICogVG9nZ2xlIHRoZSBmdWxsIHZpZXcgZmxhZy5cbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqXG4gICAqL1xuICB2YXIgdG9nZ2xlRnVsbFZpZXcgPSBmdW5jdGlvbiB0b2dnbGVGdWxsVmlldygpIHtcbiAgICBzZXRGdWxsVmlldyghZnVsbFZpZXcpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGFycm93cyBpZiByZXF1aXJlZC5cbiAgICpcbiAgICogSWYgdGhlcmUgaXMgYSBzY29wZSBmb3Igc2Nyb2xsaW5nLCBzaG93IGFycm93cy5cbiAgICovXG4gIHZhciB1cGRhdGVBcnJvd3MgPSBmdW5jdGlvbiB1cGRhdGVBcnJvd3MoKSB7XG4gICAgdmFyIGVsID0gdmlkZW9zTGlzdC5jdXJyZW50O1xuICAgIHZhciBtYXhTY3JvbGwgPSBlbC5zY3JvbGxXaWR0aCAtIGVsLmNsaWVudFdpZHRoO1xuICAgIHNldERpc2FibGVSaWdodChlbC5zY3JvbGxMZWZ0IDw9IDApO1xuICAgIHNldERpc2FibGVMZWZ0KGVsLnNjcm9sbExlZnQgPj0gbWF4U2Nyb2xsKTtcbiAgfTtcblxuICAvKipcbiAgICogU2xpZGUgbWVudSBlbGVtZW50cyB0byBuZXcgcG9zaXRpb24uXG4gICAqXG4gICAqIFdlIHNsaWRlIDMwcHggb24gZWFjaCBjbGljay5cbiAgICpcbiAgICogQHBhcmFtIHtpbnR9IG9mZnNldCBTbGlkZSBwb3NpdGlvbiB2YWx1ZS5cbiAgICpcbiAgICovXG4gIHZhciBzbGlkZU1lbnUgPSBmdW5jdGlvbiBzbGlkZU1lbnUob2Zmc2V0KSB7XG4gICAgLy8gVmlkZW9zIGxpc3QuXG4gICAgdmFyIGVsID0gdmlkZW9zTGlzdC5jdXJyZW50O1xuXG4gICAgLy8gU2Nyb2xsLlxuICAgIGVsLnNjcm9sbCh7XG4gICAgICBsZWZ0OiBlbC5zY3JvbGxMZWZ0ICsgb2Zmc2V0LFxuICAgICAgYmVoYXZpb3I6ICdhdXRvJ1xuICAgIH0pO1xuXG4gICAgLy8gVXBkYXRlIHRoZSBhcnJvd3MuXG4gICAgdXBkYXRlQXJyb3dzKCk7XG4gIH07XG5cbiAgLy8gVXBkYXRlIGFycm93cyBvbiBtb3V0XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdXBkYXRlQXJyb3dzKCk7XG5cbiAgICAvLyBIYW5kbGUgcmVzaXplIGV2ZW50LlxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVBcnJvd3MpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBIYW5kbGUgcmVzaXplIGV2ZW50LlxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZGF0ZUFycm93cyk7XG4gICAgfTtcbiAgfSwgW10pO1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3hzKFwiZGl2XCIsIHtcbiAgICB0YWJJbmRleDogXCIwXCIsXG4gICAgaWQ6IFwic2VjdGlvbi1wbGF5bGlzdC1cIi5jb25jYXQoaWQpLFxuICAgIGNsYXNzTmFtZTogd3JhcHBlckNsYXNzZXMsXG4gICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeHMoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcIndwbXVkZXYtdmlkZW9zLXNlY3Rpb24tLXZpZGVvcy1saXN0LWhlYWRlclwiLFxuICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeHMoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwid3BtdWRldi12aWRlb3Mtc2VjdGlvbi0tdmlkZW9zLWxpc3QtY29udGVudFwiLFxuICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFwiaDJcIiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJ3cG11ZGV2LXZpZGVvcy1zZWN0aW9uLS1ibG9jay10aXRsZVwiLFxuICAgICAgICAgIGNoaWxkcmVuOiB0aXRsZVxuICAgICAgICB9KSwgZGVzY3JpcHRpb24gJiYgLyojX19QVVJFX18qL19qc3goXCJwXCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwid3BtdWRldi12aWRlb3Mtc2VjdGlvbi0tYmxvY2stZGVzY3JpcHRpb25cIixcbiAgICAgICAgICBjaGlsZHJlbjogZGVzY3JpcHRpb25cbiAgICAgICAgfSldXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3hzKFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcIndwbXVkZXYtdmlkZW9zLXNlY3Rpb24tLXZpZGVvcy1saXN0LW5hdmlnYXRvclwiLFxuICAgICAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLFxuICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IGJ0blByZXZDbGFzc2VzLFxuICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlUmlnaHQsXG4gICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgIHJldHVybiBzbGlkZU1lbnUoLTQwKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChJY29uLCB7XG4gICAgICAgICAgICBpY29uOiBcImNoZXZyb24tbGVmdFwiLFxuICAgICAgICAgICAgc2l6ZTogXCJzbVwiXG4gICAgICAgICAgfSlcbiAgICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwiYnV0dG9uXCIsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IGJ0bk5leHRDbGFzc2VzLFxuICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlTGVmdCxcbiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNsaWRlTWVudSg0MCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goSWNvbiwge1xuICAgICAgICAgICAgaWNvbjogXCJjaGV2cm9uLXJpZ2h0XCIsXG4gICAgICAgICAgICBzaXplOiBcInNtXCJcbiAgICAgICAgICB9KVxuICAgICAgICB9KV1cbiAgICAgIH0pXVxuICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeHMoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiB2aWRlb1NlY3Rpb25DbGFzc2VzLFxuICAgICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChJY29uQnV0dG9uLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJ3cG11ZGV2LXZpZGVvcy1zZWN0aW9uLS12aWRlb3MtbGlzdC1oYW5kbGVyXCIsXG4gICAgICAgIFwiYXJpYS1oaWRkZW5cIjogdHJ1ZSxcbiAgICAgICAgaWNvbjogXCJjaGV2cm9uLXJpZ2h0XCIsXG4gICAgICAgIHRhYkluZGV4OiBcIi0xXCIsXG4gICAgICAgIG91dGxpbmVkOiBmYWxzZSxcbiAgICAgICAgb25DbGljazogdG9nZ2xlRnVsbFZpZXdcbiAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcImRpdlwiLCB7XG4gICAgICAgIHJvbGU6IFwidGFibGlzdFwiLFxuICAgICAgICBjbGFzc05hbWU6IFwid3BtdWRldi12aWRlb3Mtc2VjdGlvbi0tdmlkZW9zLWxpc3RcIixcbiAgICAgICAgcmVmOiB2aWRlb3NMaXN0LFxuICAgICAgICBjaGlsZHJlbjogT2JqZWN0LmtleXModmlkZW9zT2JqZWN0KS5tYXAoZnVuY3Rpb24gKHZpZGVvSUQpIHtcbiAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL19qc3goVmlkZW9JdGVtLCB7XG4gICAgICAgICAgICBzZXRTZWxlY3RlZDogc2V0U2VsZWN0ZWQsXG4gICAgICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWQsXG4gICAgICAgICAgICBwbGF5bGlzdElkOiBpZCxcbiAgICAgICAgICAgIHZpZGVvOiB2aWRlb3NPYmplY3RbdmlkZW9JRF1cbiAgICAgICAgICB9LCB2aWRlb0lEKTtcbiAgICAgICAgfSlcbiAgICAgIH0pLCBpc1NlbGVjdGVkKCkgJiYgLyojX19QVVJFX18qL19qc3goVmlkZW9QbGF5ZXIsIHtcbiAgICAgICAgdmlkZW9JZDogc2VsZWN0ZWQudmlkZW8sXG4gICAgICAgIHBsYXlsaXN0SWQ6IGlkLFxuICAgICAgICBpc1NlbGVjdGVkOiBpc1NlbGVjdGVkKCksXG4gICAgICAgIHNldFNlbGVjdGVkOiBzZXRTZWxlY3RlZFxuICAgICAgfSldXG4gICAgfSldXG4gIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgU2luZ2xlUGxheWxpc3Q7IiwiZXhwb3J0ICogZnJvbSAnLi9TaW5nbGVQbGF5bGlzdCc7IiwiLyoqXG4gKiBMaWJyYXJ5IGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnLi4vLi4vLi4vLi4vbGliL2NvbXBvbmVudHMnO1xuXG4vKipcbiAqIEludGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBMaXN0VGh1bWIgfSBmcm9tICcuLi8uLi8uLi8uLi9jb21wb25lbnRzJztcblxuLyoqXG4gKiBFeHRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgeyB1c2VOYXZpZ2F0ZSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IHsgX18gfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuaW1wb3J0IHsganN4cyBhcyBfanN4cywganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmV4cG9ydCBmdW5jdGlvbiBWaWRlb0l0ZW0oX3JlZikge1xuICB2YXIgcGxheWxpc3RJZCA9IF9yZWYucGxheWxpc3RJZCxcbiAgICB2aWRlbyA9IF9yZWYudmlkZW8sXG4gICAgc2VsZWN0ZWQgPSBfcmVmLnNlbGVjdGVkLFxuICAgIHNldFNlbGVjdGVkID0gX3JlZi5zZXRTZWxlY3RlZDtcbiAgdmFyIGlkID0gdmlkZW8uaWQsXG4gICAgdmlkZW9fdGl0bGUgPSB2aWRlby52aWRlb190aXRsZSxcbiAgICB0aHVtYm5haWwgPSB2aWRlby50aHVtYm5haWwsXG4gICAgdmlkZW9fdHlwZSA9IHZpZGVvLnZpZGVvX3R5cGUsXG4gICAgdmlkZW9fc2x1ZyA9IHZpZGVvLnZpZGVvX3NsdWcsXG4gICAgdmlkZW9fZHVyYXRpb24gPSB2aWRlby52aWRlb19kdXJhdGlvbjtcbiAgdmFyIG5hdmlnYXRlID0gdXNlTmF2aWdhdGUoKTtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgY3VycmVudCB2aWRlbyBpcyB0aGUgc2VsZWN0ZWQgb25lLlxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHZhciBpc1NlbGVjdGVkID0gZnVuY3Rpb24gaXNTZWxlY3RlZCgpIHtcbiAgICByZXR1cm4gcGxheWxpc3RJZCA9PT0gcGFyc2VJbnQoc2VsZWN0ZWQucGxheWxpc3QpICYmIGlkID09PSBwYXJzZUludChzZWxlY3RlZC52aWRlbyk7XG4gIH07XG4gIHZhciB1cmwgPSAodGh1bWJuYWlsID09PSBudWxsIHx8IHRodW1ibmFpbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGh1bWJuYWlsLnVybCkgfHwgbnVsbDtcbiAgdmFyIHNob3dQcmV2aWV3ID0gZnVuY3Rpb24gc2hvd1ByZXZpZXcoKSB7XG4gICAgLy8gQ2hhbmdlIHJvdXRlXG4gICAgbmF2aWdhdGUoXCIvdmlldy9cIi5jb25jYXQocGxheWxpc3RJZCwgXCIvXCIpLmNvbmNhdChpZCkpO1xuXG4gICAgLy8gVXBkYXRlIHNlbGVjdGVkIG9iamVjdFxuICAgIHNldFNlbGVjdGVkKHtcbiAgICAgIHBsYXlsaXN0OiBwbGF5bGlzdElkLFxuICAgICAgdmlkZW86IGlkXG4gICAgfSk7XG4gIH07XG4gIHZhciBidG5DbGFzc2VzID0gY2xhc3NuYW1lcyh7XG4gICAgJ3dwbXVkZXYtdmlkZW9zLXNlY3Rpb24tLXZpZGVvJzogdHJ1ZSxcbiAgICAnd3BtdWRldi12aWRlb3MtYWN0aXZlJzogaXNTZWxlY3RlZCgpXG4gIH0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3hzKFwiYnV0dG9uXCIsIHtcbiAgICByb2xlOiBcInRhYlwiLFxuICAgIGNsYXNzTmFtZTogYnRuQ2xhc3NlcyxcbiAgICB0YWJJbmRleDogaXNTZWxlY3RlZCgpID8gZmFsc2UgOiAnLTEnLFxuICAgIFwiYXJpYS1zZWxlY3RlZFwiOiBpc1NlbGVjdGVkKCkgPyAndHJ1ZScgOiAnZmFsc2UnLFxuICAgIGlkOiBcInRhYi0tcGxheWxpc3QtXCIuY29uY2F0KHBsYXlsaXN0SWQsIFwiLXZpZGVvLVwiKS5jb25jYXQoaWQpLFxuICAgIFwiYXJpYS1jb250cm9sc1wiOiBcInRhYi1jb250ZW50LS1wbGF5bGlzdC1cIi5jb25jYXQocGxheWxpc3RJZCwgXCItdmlkZW8tXCIpLmNvbmNhdChpZCksXG4gICAgb25DbGljazogc2hvd1ByZXZpZXcsXG4gICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeHMoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJzdWktc2NyZWVuLXJlYWRlci10ZXh0XCIsXG4gICAgICBjaGlsZHJlbjogW19fKCdDbGljayB0byBvcGVuJywgJ3dwbXVkZXZfdmlkcycpLCBcIiBcIiwgdmlkZW9fdGl0bGVdXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4cyhcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBcIndwbXVkZXYtdmlkZW9zLXNlY3Rpb24tLXZpZGVvLWhlYWRcIixcbiAgICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsXG4gICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFwic3BhblwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJ2aWRlby10aHVtYm5haWxcIixcbiAgICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4cyhcInNwYW5cIiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJ2aWRlby10aHVtYm5haWwtY29udGVudFwiLFxuICAgICAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goTGlzdFRodW1iLCB7XG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIGlzQ3VzdG9tOiAnY3VzdG9tJyA9PT0gdmlkZW9fdHlwZSxcbiAgICAgICAgICAgIGljb246IHZpZGVvX3NsdWcsXG4gICAgICAgICAgICBjbGFzc05hbWU6IFwidmlkZW8tdGh1bWJcIixcbiAgICAgICAgICAgIHRhZzogXCJzcGFuXCJcbiAgICAgICAgICB9KSwgLyojX19QVVJFX18qL19qc3goXCJzcGFuXCIsIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJ2aWRlby10aHVtYm5haWwtbmFtZVwiLFxuICAgICAgICAgICAgY2hpbGRyZW46IHZpZGVvX3RpdGxlXG4gICAgICAgICAgfSldXG4gICAgICAgIH0pXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3goSWNvbiwge1xuICAgICAgICBpY29uOiBcInBsYXlcIixcbiAgICAgICAgc2l6ZTogXCJzbVwiXG4gICAgICB9KV1cbiAgICB9KSwgLyojX19QVVJFX18qL19qc3hzKFwic3BhblwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwid3BtdWRldi12aWRlb3Mtc2VjdGlvbi0tdmlkZW8tYm9keVwiLFxuICAgICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIixcbiAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goXCJzcGFuXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInZpZGVvLXRpdGxlXCIsXG4gICAgICAgIGNoaWxkcmVuOiB2aWRlb190aXRsZVxuICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFwic3BhblwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJ2aWRlby1kdXJhdGlvblwiLFxuICAgICAgICBjaGlsZHJlbjogdmlkZW9fZHVyYXRpb24gfHwgJydcbiAgICAgIH0pXVxuICAgIH0pXVxuICB9KTtcbn1cbmV4cG9ydCBkZWZhdWx0IFZpZGVvSXRlbTsiLCJleHBvcnQgKiBmcm9tICcuL1ZpZGVvSXRlbSc7IiwiZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuZnVuY3Rpb24gX3JlZ2VuZXJhdG9yUnVudGltZSgpIHsgXCJ1c2Ugc3RyaWN0XCI7IC8qISByZWdlbmVyYXRvci1ydW50aW1lIC0tIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLiAtLSBsaWNlbnNlIChNSVQpOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvYmxvYi9tYWluL0xJQ0VOU0UgKi8gX3JlZ2VuZXJhdG9yUnVudGltZSA9IGZ1bmN0aW9uIF9yZWdlbmVyYXRvclJ1bnRpbWUoKSB7IHJldHVybiBlOyB9OyB2YXIgdCwgZSA9IHt9LCByID0gT2JqZWN0LnByb3RvdHlwZSwgbiA9IHIuaGFzT3duUHJvcGVydHksIG8gPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgfHwgZnVuY3Rpb24gKHQsIGUsIHIpIHsgdFtlXSA9IHIudmFsdWU7IH0sIGkgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCA/IFN5bWJvbCA6IHt9LCBhID0gaS5pdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIiwgYyA9IGkuYXN5bmNJdGVyYXRvciB8fCBcIkBAYXN5bmNJdGVyYXRvclwiLCB1ID0gaS50b1N0cmluZ1RhZyB8fCBcIkBAdG9TdHJpbmdUYWdcIjsgZnVuY3Rpb24gZGVmaW5lKHQsIGUsIHIpIHsgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBlLCB7IHZhbHVlOiByLCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pLCB0W2VdOyB9IHRyeSB7IGRlZmluZSh7fSwgXCJcIik7IH0gY2F0Y2ggKHQpIHsgZGVmaW5lID0gZnVuY3Rpb24gZGVmaW5lKHQsIGUsIHIpIHsgcmV0dXJuIHRbZV0gPSByOyB9OyB9IGZ1bmN0aW9uIHdyYXAodCwgZSwgciwgbikgeyB2YXIgaSA9IGUgJiYgZS5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBlIDogR2VuZXJhdG9yLCBhID0gT2JqZWN0LmNyZWF0ZShpLnByb3RvdHlwZSksIGMgPSBuZXcgQ29udGV4dChuIHx8IFtdKTsgcmV0dXJuIG8oYSwgXCJfaW52b2tlXCIsIHsgdmFsdWU6IG1ha2VJbnZva2VNZXRob2QodCwgciwgYykgfSksIGE7IH0gZnVuY3Rpb24gdHJ5Q2F0Y2godCwgZSwgcikgeyB0cnkgeyByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IHQuY2FsbChlLCByKSB9OyB9IGNhdGNoICh0KSB7IHJldHVybiB7IHR5cGU6IFwidGhyb3dcIiwgYXJnOiB0IH07IH0gfSBlLndyYXAgPSB3cmFwOyB2YXIgaCA9IFwic3VzcGVuZGVkU3RhcnRcIiwgbCA9IFwic3VzcGVuZGVkWWllbGRcIiwgZiA9IFwiZXhlY3V0aW5nXCIsIHMgPSBcImNvbXBsZXRlZFwiLCB5ID0ge307IGZ1bmN0aW9uIEdlbmVyYXRvcigpIHt9IGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge30gZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fSB2YXIgcCA9IHt9OyBkZWZpbmUocCwgYSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSk7IHZhciBkID0gT2JqZWN0LmdldFByb3RvdHlwZU9mLCB2ID0gZCAmJiBkKGQodmFsdWVzKFtdKSkpOyB2ICYmIHYgIT09IHIgJiYgbi5jYWxsKHYsIGEpICYmIChwID0gdik7IHZhciBnID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID0gR2VuZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUocCk7IGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyh0KSB7IFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7IGRlZmluZSh0LCBlLCBmdW5jdGlvbiAodCkgeyByZXR1cm4gdGhpcy5faW52b2tlKGUsIHQpOyB9KTsgfSk7IH0gZnVuY3Rpb24gQXN5bmNJdGVyYXRvcih0LCBlKSB7IGZ1bmN0aW9uIGludm9rZShyLCBvLCBpLCBhKSB7IHZhciBjID0gdHJ5Q2F0Y2godFtyXSwgdCwgbyk7IGlmIChcInRocm93XCIgIT09IGMudHlwZSkgeyB2YXIgdSA9IGMuYXJnLCBoID0gdS52YWx1ZTsgcmV0dXJuIGggJiYgXCJvYmplY3RcIiA9PSBfdHlwZW9mKGgpICYmIG4uY2FsbChoLCBcIl9fYXdhaXRcIikgPyBlLnJlc29sdmUoaC5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uICh0KSB7IGludm9rZShcIm5leHRcIiwgdCwgaSwgYSk7IH0sIGZ1bmN0aW9uICh0KSB7IGludm9rZShcInRocm93XCIsIHQsIGksIGEpOyB9KSA6IGUucmVzb2x2ZShoKS50aGVuKGZ1bmN0aW9uICh0KSB7IHUudmFsdWUgPSB0LCBpKHUpOyB9LCBmdW5jdGlvbiAodCkgeyByZXR1cm4gaW52b2tlKFwidGhyb3dcIiwgdCwgaSwgYSk7IH0pOyB9IGEoYy5hcmcpOyB9IHZhciByOyBvKHRoaXMsIFwiX2ludm9rZVwiLCB7IHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSh0LCBuKSB7IGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkgeyByZXR1cm4gbmV3IGUoZnVuY3Rpb24gKGUsIHIpIHsgaW52b2tlKHQsIG4sIGUsIHIpOyB9KTsgfSByZXR1cm4gciA9IHIgPyByLnRoZW4oY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7IH0gfSk7IH0gZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChlLCByLCBuKSB7IHZhciBvID0gaDsgcmV0dXJuIGZ1bmN0aW9uIChpLCBhKSB7IGlmIChvID09PSBmKSB0aHJvdyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7IGlmIChvID09PSBzKSB7IGlmIChcInRocm93XCIgPT09IGkpIHRocm93IGE7IHJldHVybiB7IHZhbHVlOiB0LCBkb25lOiAhMCB9OyB9IGZvciAobi5tZXRob2QgPSBpLCBuLmFyZyA9IGE7OykgeyB2YXIgYyA9IG4uZGVsZWdhdGU7IGlmIChjKSB7IHZhciB1ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShjLCBuKTsgaWYgKHUpIHsgaWYgKHUgPT09IHkpIGNvbnRpbnVlOyByZXR1cm4gdTsgfSB9IGlmIChcIm5leHRcIiA9PT0gbi5tZXRob2QpIG4uc2VudCA9IG4uX3NlbnQgPSBuLmFyZztlbHNlIGlmIChcInRocm93XCIgPT09IG4ubWV0aG9kKSB7IGlmIChvID09PSBoKSB0aHJvdyBvID0gcywgbi5hcmc7IG4uZGlzcGF0Y2hFeGNlcHRpb24obi5hcmcpOyB9IGVsc2UgXCJyZXR1cm5cIiA9PT0gbi5tZXRob2QgJiYgbi5hYnJ1cHQoXCJyZXR1cm5cIiwgbi5hcmcpOyBvID0gZjsgdmFyIHAgPSB0cnlDYXRjaChlLCByLCBuKTsgaWYgKFwibm9ybWFsXCIgPT09IHAudHlwZSkgeyBpZiAobyA9IG4uZG9uZSA/IHMgOiBsLCBwLmFyZyA9PT0geSkgY29udGludWU7IHJldHVybiB7IHZhbHVlOiBwLmFyZywgZG9uZTogbi5kb25lIH07IH0gXCJ0aHJvd1wiID09PSBwLnR5cGUgJiYgKG8gPSBzLCBuLm1ldGhvZCA9IFwidGhyb3dcIiwgbi5hcmcgPSBwLmFyZyk7IH0gfTsgfSBmdW5jdGlvbiBtYXliZUludm9rZURlbGVnYXRlKGUsIHIpIHsgdmFyIG4gPSByLm1ldGhvZCwgbyA9IGUuaXRlcmF0b3Jbbl07IGlmIChvID09PSB0KSByZXR1cm4gci5kZWxlZ2F0ZSA9IG51bGwsIFwidGhyb3dcIiA9PT0gbiAmJiBlLml0ZXJhdG9yLnJldHVybiAmJiAoci5tZXRob2QgPSBcInJldHVyblwiLCByLmFyZyA9IHQsIG1heWJlSW52b2tlRGVsZWdhdGUoZSwgciksIFwidGhyb3dcIiA9PT0gci5tZXRob2QpIHx8IFwicmV0dXJuXCIgIT09IG4gJiYgKHIubWV0aG9kID0gXCJ0aHJvd1wiLCByLmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICdcIiArIG4gKyBcIicgbWV0aG9kXCIpKSwgeTsgdmFyIGkgPSB0cnlDYXRjaChvLCBlLml0ZXJhdG9yLCByLmFyZyk7IGlmIChcInRocm93XCIgPT09IGkudHlwZSkgcmV0dXJuIHIubWV0aG9kID0gXCJ0aHJvd1wiLCByLmFyZyA9IGkuYXJnLCByLmRlbGVnYXRlID0gbnVsbCwgeTsgdmFyIGEgPSBpLmFyZzsgcmV0dXJuIGEgPyBhLmRvbmUgPyAocltlLnJlc3VsdE5hbWVdID0gYS52YWx1ZSwgci5uZXh0ID0gZS5uZXh0TG9jLCBcInJldHVyblwiICE9PSByLm1ldGhvZCAmJiAoci5tZXRob2QgPSBcIm5leHRcIiwgci5hcmcgPSB0KSwgci5kZWxlZ2F0ZSA9IG51bGwsIHkpIDogYSA6IChyLm1ldGhvZCA9IFwidGhyb3dcIiwgci5hcmcgPSBuZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIiksIHIuZGVsZWdhdGUgPSBudWxsLCB5KTsgfSBmdW5jdGlvbiBwdXNoVHJ5RW50cnkodCkgeyB2YXIgZSA9IHsgdHJ5TG9jOiB0WzBdIH07IDEgaW4gdCAmJiAoZS5jYXRjaExvYyA9IHRbMV0pLCAyIGluIHQgJiYgKGUuZmluYWxseUxvYyA9IHRbMl0sIGUuYWZ0ZXJMb2MgPSB0WzNdKSwgdGhpcy50cnlFbnRyaWVzLnB1c2goZSk7IH0gZnVuY3Rpb24gcmVzZXRUcnlFbnRyeSh0KSB7IHZhciBlID0gdC5jb21wbGV0aW9uIHx8IHt9OyBlLnR5cGUgPSBcIm5vcm1hbFwiLCBkZWxldGUgZS5hcmcsIHQuY29tcGxldGlvbiA9IGU7IH0gZnVuY3Rpb24gQ29udGV4dCh0KSB7IHRoaXMudHJ5RW50cmllcyA9IFt7IHRyeUxvYzogXCJyb290XCIgfV0sIHQuZm9yRWFjaChwdXNoVHJ5RW50cnksIHRoaXMpLCB0aGlzLnJlc2V0KCEwKTsgfSBmdW5jdGlvbiB2YWx1ZXMoZSkgeyBpZiAoZSB8fCBcIlwiID09PSBlKSB7IHZhciByID0gZVthXTsgaWYgKHIpIHJldHVybiByLmNhbGwoZSk7IGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUubmV4dCkgcmV0dXJuIGU7IGlmICghaXNOYU4oZS5sZW5ndGgpKSB7IHZhciBvID0gLTEsIGkgPSBmdW5jdGlvbiBuZXh0KCkgeyBmb3IgKDsgKytvIDwgZS5sZW5ndGg7KSBpZiAobi5jYWxsKGUsIG8pKSByZXR1cm4gbmV4dC52YWx1ZSA9IGVbb10sIG5leHQuZG9uZSA9ICExLCBuZXh0OyByZXR1cm4gbmV4dC52YWx1ZSA9IHQsIG5leHQuZG9uZSA9ICEwLCBuZXh0OyB9OyByZXR1cm4gaS5uZXh0ID0gaTsgfSB9IHRocm93IG5ldyBUeXBlRXJyb3IoX3R5cGVvZihlKSArIFwiIGlzIG5vdCBpdGVyYWJsZVwiKTsgfSByZXR1cm4gR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIG8oZywgXCJjb25zdHJ1Y3RvclwiLCB7IHZhbHVlOiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgY29uZmlndXJhYmxlOiAhMCB9KSwgbyhHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgXCJjb25zdHJ1Y3RvclwiLCB7IHZhbHVlOiBHZW5lcmF0b3JGdW5jdGlvbiwgY29uZmlndXJhYmxlOiAhMCB9KSwgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBkZWZpbmUoR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIHUsIFwiR2VuZXJhdG9yRnVuY3Rpb25cIiksIGUuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uICh0KSB7IHZhciBlID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiB0ICYmIHQuY29uc3RydWN0b3I7IHJldHVybiAhIWUgJiYgKGUgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8IFwiR2VuZXJhdG9yRnVuY3Rpb25cIiA9PT0gKGUuZGlzcGxheU5hbWUgfHwgZS5uYW1lKSk7IH0sIGUubWFyayA9IGZ1bmN0aW9uICh0KSB7IHJldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YodCwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpIDogKHQuX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIGRlZmluZSh0LCB1LCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpKSwgdC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGcpLCB0OyB9LCBlLmF3cmFwID0gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHsgX19hd2FpdDogdCB9OyB9LCBkZWZpbmVJdGVyYXRvck1ldGhvZHMoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUpLCBkZWZpbmUoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUsIGMsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pLCBlLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yLCBlLmFzeW5jID0gZnVuY3Rpb24gKHQsIHIsIG4sIG8sIGkpIHsgdm9pZCAwID09PSBpICYmIChpID0gUHJvbWlzZSk7IHZhciBhID0gbmV3IEFzeW5jSXRlcmF0b3Iod3JhcCh0LCByLCBuLCBvKSwgaSk7IHJldHVybiBlLmlzR2VuZXJhdG9yRnVuY3Rpb24ocikgPyBhIDogYS5uZXh0KCkudGhlbihmdW5jdGlvbiAodCkgeyByZXR1cm4gdC5kb25lID8gdC52YWx1ZSA6IGEubmV4dCgpOyB9KTsgfSwgZGVmaW5lSXRlcmF0b3JNZXRob2RzKGcpLCBkZWZpbmUoZywgdSwgXCJHZW5lcmF0b3JcIiksIGRlZmluZShnLCBhLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSwgZGVmaW5lKGcsIFwidG9TdHJpbmdcIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjsgfSksIGUua2V5cyA9IGZ1bmN0aW9uICh0KSB7IHZhciBlID0gT2JqZWN0KHQpLCByID0gW107IGZvciAodmFyIG4gaW4gZSkgci5wdXNoKG4pOyByZXR1cm4gci5yZXZlcnNlKCksIGZ1bmN0aW9uIG5leHQoKSB7IGZvciAoOyByLmxlbmd0aDspIHsgdmFyIHQgPSByLnBvcCgpOyBpZiAodCBpbiBlKSByZXR1cm4gbmV4dC52YWx1ZSA9IHQsIG5leHQuZG9uZSA9ICExLCBuZXh0OyB9IHJldHVybiBuZXh0LmRvbmUgPSAhMCwgbmV4dDsgfTsgfSwgZS52YWx1ZXMgPSB2YWx1ZXMsIENvbnRleHQucHJvdG90eXBlID0geyBjb25zdHJ1Y3RvcjogQ29udGV4dCwgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KGUpIHsgaWYgKHRoaXMucHJldiA9IDAsIHRoaXMubmV4dCA9IDAsIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB0LCB0aGlzLmRvbmUgPSAhMSwgdGhpcy5kZWxlZ2F0ZSA9IG51bGwsIHRoaXMubWV0aG9kID0gXCJuZXh0XCIsIHRoaXMuYXJnID0gdCwgdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSksICFlKSBmb3IgKHZhciByIGluIHRoaXMpIFwidFwiID09PSByLmNoYXJBdCgwKSAmJiBuLmNhbGwodGhpcywgcikgJiYgIWlzTmFOKCtyLnNsaWNlKDEpKSAmJiAodGhpc1tyXSA9IHQpOyB9LCBzdG9wOiBmdW5jdGlvbiBzdG9wKCkgeyB0aGlzLmRvbmUgPSAhMDsgdmFyIHQgPSB0aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjsgaWYgKFwidGhyb3dcIiA9PT0gdC50eXBlKSB0aHJvdyB0LmFyZzsgcmV0dXJuIHRoaXMucnZhbDsgfSwgZGlzcGF0Y2hFeGNlcHRpb246IGZ1bmN0aW9uIGRpc3BhdGNoRXhjZXB0aW9uKGUpIHsgaWYgKHRoaXMuZG9uZSkgdGhyb3cgZTsgdmFyIHIgPSB0aGlzOyBmdW5jdGlvbiBoYW5kbGUobiwgbykgeyByZXR1cm4gYS50eXBlID0gXCJ0aHJvd1wiLCBhLmFyZyA9IGUsIHIubmV4dCA9IG4sIG8gJiYgKHIubWV0aG9kID0gXCJuZXh0XCIsIHIuYXJnID0gdCksICEhbzsgfSBmb3IgKHZhciBvID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IG8gPj0gMDsgLS1vKSB7IHZhciBpID0gdGhpcy50cnlFbnRyaWVzW29dLCBhID0gaS5jb21wbGV0aW9uOyBpZiAoXCJyb290XCIgPT09IGkudHJ5TG9jKSByZXR1cm4gaGFuZGxlKFwiZW5kXCIpOyBpZiAoaS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7IHZhciBjID0gbi5jYWxsKGksIFwiY2F0Y2hMb2NcIiksIHUgPSBuLmNhbGwoaSwgXCJmaW5hbGx5TG9jXCIpOyBpZiAoYyAmJiB1KSB7IGlmICh0aGlzLnByZXYgPCBpLmNhdGNoTG9jKSByZXR1cm4gaGFuZGxlKGkuY2F0Y2hMb2MsICEwKTsgaWYgKHRoaXMucHJldiA8IGkuZmluYWxseUxvYykgcmV0dXJuIGhhbmRsZShpLmZpbmFsbHlMb2MpOyB9IGVsc2UgaWYgKGMpIHsgaWYgKHRoaXMucHJldiA8IGkuY2F0Y2hMb2MpIHJldHVybiBoYW5kbGUoaS5jYXRjaExvYywgITApOyB9IGVsc2UgeyBpZiAoIXUpIHRocm93IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7IGlmICh0aGlzLnByZXYgPCBpLmZpbmFsbHlMb2MpIHJldHVybiBoYW5kbGUoaS5maW5hbGx5TG9jKTsgfSB9IH0gfSwgYWJydXB0OiBmdW5jdGlvbiBhYnJ1cHQodCwgZSkgeyBmb3IgKHZhciByID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IHIgPj0gMDsgLS1yKSB7IHZhciBvID0gdGhpcy50cnlFbnRyaWVzW3JdOyBpZiAoby50cnlMb2MgPD0gdGhpcy5wcmV2ICYmIG4uY2FsbChvLCBcImZpbmFsbHlMb2NcIikgJiYgdGhpcy5wcmV2IDwgby5maW5hbGx5TG9jKSB7IHZhciBpID0gbzsgYnJlYWs7IH0gfSBpICYmIChcImJyZWFrXCIgPT09IHQgfHwgXCJjb250aW51ZVwiID09PSB0KSAmJiBpLnRyeUxvYyA8PSBlICYmIGUgPD0gaS5maW5hbGx5TG9jICYmIChpID0gbnVsbCk7IHZhciBhID0gaSA/IGkuY29tcGxldGlvbiA6IHt9OyByZXR1cm4gYS50eXBlID0gdCwgYS5hcmcgPSBlLCBpID8gKHRoaXMubWV0aG9kID0gXCJuZXh0XCIsIHRoaXMubmV4dCA9IGkuZmluYWxseUxvYywgeSkgOiB0aGlzLmNvbXBsZXRlKGEpOyB9LCBjb21wbGV0ZTogZnVuY3Rpb24gY29tcGxldGUodCwgZSkgeyBpZiAoXCJ0aHJvd1wiID09PSB0LnR5cGUpIHRocm93IHQuYXJnOyByZXR1cm4gXCJicmVha1wiID09PSB0LnR5cGUgfHwgXCJjb250aW51ZVwiID09PSB0LnR5cGUgPyB0aGlzLm5leHQgPSB0LmFyZyA6IFwicmV0dXJuXCIgPT09IHQudHlwZSA/ICh0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHQuYXJnLCB0aGlzLm1ldGhvZCA9IFwicmV0dXJuXCIsIHRoaXMubmV4dCA9IFwiZW5kXCIpIDogXCJub3JtYWxcIiA9PT0gdC50eXBlICYmIGUgJiYgKHRoaXMubmV4dCA9IGUpLCB5OyB9LCBmaW5pc2g6IGZ1bmN0aW9uIGZpbmlzaCh0KSB7IGZvciAodmFyIGUgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgZSA+PSAwOyAtLWUpIHsgdmFyIHIgPSB0aGlzLnRyeUVudHJpZXNbZV07IGlmIChyLmZpbmFsbHlMb2MgPT09IHQpIHJldHVybiB0aGlzLmNvbXBsZXRlKHIuY29tcGxldGlvbiwgci5hZnRlckxvYyksIHJlc2V0VHJ5RW50cnkociksIHk7IH0gfSwgY2F0Y2g6IGZ1bmN0aW9uIF9jYXRjaCh0KSB7IGZvciAodmFyIGUgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgZSA+PSAwOyAtLWUpIHsgdmFyIHIgPSB0aGlzLnRyeUVudHJpZXNbZV07IGlmIChyLnRyeUxvYyA9PT0gdCkgeyB2YXIgbiA9IHIuY29tcGxldGlvbjsgaWYgKFwidGhyb3dcIiA9PT0gbi50eXBlKSB7IHZhciBvID0gbi5hcmc7IHJlc2V0VHJ5RW50cnkocik7IH0gcmV0dXJuIG87IH0gfSB0aHJvdyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKTsgfSwgZGVsZWdhdGVZaWVsZDogZnVuY3Rpb24gZGVsZWdhdGVZaWVsZChlLCByLCBuKSB7IHJldHVybiB0aGlzLmRlbGVnYXRlID0geyBpdGVyYXRvcjogdmFsdWVzKGUpLCByZXN1bHROYW1lOiByLCBuZXh0TG9jOiBuIH0sIFwibmV4dFwiID09PSB0aGlzLm1ldGhvZCAmJiAodGhpcy5hcmcgPSB0KSwgeTsgfSB9LCBlOyB9XG5mdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAobiwgdCwgZSwgciwgbywgYSwgYykgeyB0cnkgeyB2YXIgaSA9IG5bYV0oYyksIHUgPSBpLnZhbHVlOyB9IGNhdGNoIChuKSB7IHJldHVybiB2b2lkIGUobik7IH0gaS5kb25lID8gdCh1KSA6IFByb21pc2UucmVzb2x2ZSh1KS50aGVuKHIsIG8pOyB9XG5mdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciB0ID0gdGhpcywgZSA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyLCBvKSB7IHZhciBhID0gbi5hcHBseSh0LCBlKTsgZnVuY3Rpb24gX25leHQobikgeyBhc3luY0dlbmVyYXRvclN0ZXAoYSwgciwgbywgX25leHQsIF90aHJvdywgXCJuZXh0XCIsIG4pOyB9IGZ1bmN0aW9uIF90aHJvdyhuKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChhLCByLCBvLCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIG4pOyB9IF9uZXh0KHZvaWQgMCk7IH0pOyB9OyB9XG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShyLCBlKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMocikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGUpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBlKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBhKSB7IGlmIChyKSB7IGlmIChcInN0cmluZ1wiID09IHR5cGVvZiByKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkociwgYSk7IHZhciB0ID0ge30udG9TdHJpbmcuY2FsbChyKS5zbGljZSg4LCAtMSk7IHJldHVybiBcIk9iamVjdFwiID09PSB0ICYmIHIuY29uc3RydWN0b3IgJiYgKHQgPSByLmNvbnN0cnVjdG9yLm5hbWUpLCBcIk1hcFwiID09PSB0IHx8IFwiU2V0XCIgPT09IHQgPyBBcnJheS5mcm9tKHIpIDogXCJBcmd1bWVudHNcIiA9PT0gdCB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSA/IF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIDogdm9pZCAwOyB9IH1cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIHsgKG51bGwgPT0gYSB8fCBhID4gci5sZW5ndGgpICYmIChhID0gci5sZW5ndGgpOyBmb3IgKHZhciBlID0gMCwgbiA9IEFycmF5KGEpOyBlIDwgYTsgZSsrKSBuW2VdID0gcltlXTsgcmV0dXJuIG47IH1cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBsKSB7IHZhciB0ID0gbnVsbCA9PSByID8gbnVsbCA6IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiByW1N5bWJvbC5pdGVyYXRvcl0gfHwgcltcIkBAaXRlcmF0b3JcIl07IGlmIChudWxsICE9IHQpIHsgdmFyIGUsIG4sIGksIHUsIGEgPSBbXSwgZiA9ICEwLCBvID0gITE7IHRyeSB7IGlmIChpID0gKHQgPSB0LmNhbGwocikpLm5leHQsIDAgPT09IGwpIHsgaWYgKE9iamVjdCh0KSAhPT0gdCkgcmV0dXJuOyBmID0gITE7IH0gZWxzZSBmb3IgKDsgIShmID0gKGUgPSBpLmNhbGwodCkpLmRvbmUpICYmIChhLnB1c2goZS52YWx1ZSksIGEubGVuZ3RoICE9PSBsKTsgZiA9ICEwKTsgfSBjYXRjaCAocikgeyBvID0gITAsIG4gPSByOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIWYgJiYgbnVsbCAhPSB0LnJldHVybiAmJiAodSA9IHQucmV0dXJuKCksIE9iamVjdCh1KSAhPT0gdSkpIHJldHVybjsgfSBmaW5hbGx5IHsgaWYgKG8pIHRocm93IG47IH0gfSByZXR1cm4gYTsgfSB9XG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMocikgeyBpZiAoQXJyYXkuaXNBcnJheShyKSkgcmV0dXJuIHI7IH1cbi8qKlxuICogTGlicmFyeSBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgSWNvbiB9IGZyb20gJy4uLy4uLy4uLy4uL2xpYi9jb21wb25lbnRzJztcblxuLyoqXG4gKiBJbnRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgVmlkZW9JZnJhbWUgfSBmcm9tICcuLi8uLi8uLi8uLi9jb21wb25lbnRzJztcbmltcG9ydCB7IGdldFZpZGVvcyB9IGZyb20gJy4uLy4uLy4uLy4uL3N0b3JlL3NsaWNlcy92aWRlb3MnO1xuaW1wb3J0IHsgcmVzdEdldCB9IGZyb20gJy4uLy4uLy4uLy4uL2hlbHBlcnMvYXBpJztcblxuLyoqXG4gKiBFeHRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgdXNlTmF2aWdhdGUgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCB7IF9fIH0gZnJvbSAnQHdvcmRwcmVzcy9pMThuJztcbmltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzLCBGcmFnbWVudCBhcyBfRnJhZ21lbnQgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmV4cG9ydCBmdW5jdGlvbiBWaWRlb1BsYXllcihfcmVmKSB7XG4gIHZhciB2aWRlb0lkID0gX3JlZi52aWRlb0lkLFxuICAgIHBsYXlsaXN0SWQgPSBfcmVmLnBsYXlsaXN0SWQsXG4gICAgaXNTZWxlY3RlZCA9IF9yZWYuaXNTZWxlY3RlZCxcbiAgICBzZXRTZWxlY3RlZCA9IF9yZWYuc2V0U2VsZWN0ZWQ7XG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZSgpLFxuICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgIGVtYmVkID0gX3VzZVN0YXRlMlswXSxcbiAgICBzZXRFbWJlZCA9IF91c2VTdGF0ZTJbMV07XG4gIHZhciBfdXNlU3RhdGUzID0gdXNlU3RhdGUoZmFsc2UpLFxuICAgIF91c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUzLCAyKSxcbiAgICBpc1VwZGF0aW5nID0gX3VzZVN0YXRlNFswXSxcbiAgICBzZXRJc1VwZGF0aW5nID0gX3VzZVN0YXRlNFsxXTtcbiAgdmFyIHZpZGVvID0gdXNlU2VsZWN0b3IoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgcmV0dXJuIGdldFZpZGVvcyhzdGF0ZSwgdmlkZW9JZCk7XG4gIH0pO1xuICB2YXIgX3JlZjIgPSB2aWRlbyAhPT0gbnVsbCAmJiB2aWRlbyAhPT0gdm9pZCAwID8gdmlkZW8gOiB7fSxcbiAgICBpZCA9IF9yZWYyLmlkLFxuICAgIHZpZGVvX3RpdGxlID0gX3JlZjIudmlkZW9fdGl0bGUsXG4gICAgdmlkZW9fdHlwZSA9IF9yZWYyLnZpZGVvX3R5cGU7XG4gIHZhciBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XG5cbiAgLy8gR2V0IGVtYmVkIG9uIG1vdW50IGFuZCB3aGVuIHZpZGVvIGlkIGNoYW5nZXNcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoaWQpIHtcbiAgICAgIGdldEVtYmVkKCk7XG4gICAgfVxuICB9LCBbaWRdKTtcblxuICAvKipcbiAgICogZ2V0IGVtYmVkLlxuICAgKlxuICAgKiBXZSBuZWVkIHRvIHBhc3MgdGhlIGN1c3RvbSB0aHVtYm5haWwgYW5kXG4gICAqIHN0YXJ0L2VuZCB0aW1lIHN0cmluZ3MuXG4gICAqXG4gICAqL1xuICB2YXIgZ2V0RW1iZWQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIHZhciBfcmVmMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHtcbiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGlmICghaXNVcGRhdGluZykge1xuICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIpO1xuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHNldElzVXBkYXRpbmcodHJ1ZSk7XG4gICAgICAgICAgICByZXN0R2V0KHtcbiAgICAgICAgICAgICAgcGF0aDogXCJ2aWRlb3MvXCIuY29uY2F0KGlkLCBcIi9lbWJlZFwiKVxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MgJiYgcmVzcG9uc2UuZGF0YSkge1xuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgZW1iZWQuXG4gICAgICAgICAgICAgICAgc2V0RW1iZWQocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgc2V0SXNVcGRhdGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9LCBfY2FsbGVlKTtcbiAgICB9KSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGdldEVtYmVkKCkge1xuICAgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfSgpO1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgdGhlIHZpZGVvIHByZXZpZXcgaGlkZSBldmVudC5cbiAgICovXG4gIHZhciBoaWRlUHJldmlldyA9IGZ1bmN0aW9uIGhpZGVQcmV2aWV3KCkge1xuICAgIG5hdmlnYXRlKCcvJyk7XG4gICAgc2V0U2VsZWN0ZWQoe1xuICAgICAgcGxheWxpc3Q6ICcnLFxuICAgICAgdmlkZW86ICcnXG4gICAgfSk7XG4gIH07XG4gIHJldHVybiAvKiNfX1BVUkVfXyovX2pzeChcImRpdlwiLCB7XG4gICAgcm9sZTogXCJ0YWJwYW5lbFwiLFxuICAgIGNsYXNzTmFtZTogXCJ3cG11ZGV2LXZpZGVvcy1zZWN0aW9uLS12aWRlb3MtcGFuZWxcIixcbiAgICBcImFyaWEtbGl2ZVwiOiBcInBvbGl0ZVwiLFxuICAgIHRhYmluZGV4OiBcIjBcIixcbiAgICBoaWRkZW46ICFpc1NlbGVjdGVkLFxuICAgIGlkOiBcInRhYi1jb250ZW50LS1wbGF5bGlzdC1cIi5jb25jYXQocGxheWxpc3RJZCwgXCItdmlkZW8tXCIpLmNvbmNhdChpZCksXG4gICAgXCJhcmlhLWxhYmVsbGVkYnlcIjogaXNTZWxlY3RlZCA/IFwidGFiLS1wbGF5bGlzdC1cIi5jb25jYXQocGxheWxpc3RJZCwgXCItdmlkZW8tXCIpLmNvbmNhdChpZCkgOiAnJyxcbiAgICBjaGlsZHJlbjogaXNTZWxlY3RlZCAmJiAvKiNfX1BVUkVfXyovX2pzeHMoX0ZyYWdtZW50LCB7XG4gICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KFwiaDNcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwidmlkZW8tdGl0bGVcIixcbiAgICAgICAgY2hpbGRyZW46IHZpZGVvX3RpdGxlXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3goVmlkZW9JZnJhbWUsIHtcbiAgICAgICAgZW1iZWQ6IGVtYmVkID09PSBudWxsIHx8IGVtYmVkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbWJlZC5odG1sLFxuICAgICAgICB0eXBlOiB2aWRlb190eXBlXG4gICAgICB9KSwgLyojX19QVVJFX18qL19qc3hzKFwiYnV0dG9uXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcInZpZGVvLWNsb3NlXCIsXG4gICAgICAgIG9uQ2xpY2s6IGhpZGVQcmV2aWV3LFxuICAgICAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4KEljb24sIHtcbiAgICAgICAgICBpY29uOiBcImNsb3NlXCIsXG4gICAgICAgICAgc2l6ZTogXCJzbVwiXG4gICAgICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChcInNwYW5cIiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJzdWktc2NyZWVuLXJlYWRlci10ZXh0XCIsXG4gICAgICAgICAgY2hpbGRyZW46IF9fKCdDbG9zZSB2aWRlbycsICd3cG11ZGV2X3ZpZHMnKVxuICAgICAgICB9KV1cbiAgICAgIH0pXVxuICAgIH0pXG4gIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgVmlkZW9QbGF5ZXI7IiwiZXhwb3J0ICogZnJvbSAnLi9WaWRlb1BsYXllcic7IiwiZXhwb3J0ICogZnJvbSAnLi9NZW51TG9hZGVyJztcbmV4cG9ydCAqIGZyb20gJy4vU3RpY2t5TWVudSc7XG5leHBvcnQgKiBmcm9tICcuL1ZpZGVvc0xvYWRlcic7XG5leHBvcnQgKiBmcm9tICcuL1NpbmdsZVBsYXlsaXN0JztcbmV4cG9ydCAqIGZyb20gJy4vVmlkZW9JdGVtJztcbmV4cG9ydCAqIGZyb20gJy4vVmlkZW9QbGF5ZXInOyIsImZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfVxuZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KGUsIHIsIHQpIHsgcmV0dXJuIChyID0gX3RvUHJvcGVydHlLZXkocikpIGluIGUgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgeyB2YWx1ZTogdCwgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9KSA6IGVbcl0gPSB0LCBlOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleSh0KSB7IHZhciBpID0gX3RvUHJpbWl0aXZlKHQsIFwic3RyaW5nXCIpOyByZXR1cm4gXCJzeW1ib2xcIiA9PSBfdHlwZW9mKGkpID8gaSA6IGkgKyBcIlwiOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikgeyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKHQpIHx8ICF0KSByZXR1cm4gdDsgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmICh2b2lkIDAgIT09IGUpIHsgdmFyIGkgPSBlLmNhbGwodCwgciB8fCBcImRlZmF1bHRcIik7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YoaSkpIHJldHVybiBpOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsgfVxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkociwgZSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKHIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBlKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgZSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkgeyBpZiAocikgeyBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gXCJPYmplY3RcIiA9PT0gdCAmJiByLmNvbnN0cnVjdG9yICYmICh0ID0gci5jb25zdHJ1Y3Rvci5uYW1lKSwgXCJNYXBcIiA9PT0gdCB8fCBcIlNldFwiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6IFwiQXJndW1lbnRzXCIgPT09IHQgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkgPyBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSA6IHZvaWQgMDsgfSB9XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQociwgbCkgeyB2YXIgdCA9IG51bGwgPT0gciA/IG51bGwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgcltTeW1ib2wuaXRlcmF0b3JdIHx8IHJbXCJAQGl0ZXJhdG9yXCJdOyBpZiAobnVsbCAhPSB0KSB7IHZhciBlLCBuLCBpLCB1LCBhID0gW10sIGYgPSAhMCwgbyA9ICExOyB0cnkgeyBpZiAoaSA9ICh0ID0gdC5jYWxsKHIpKS5uZXh0LCAwID09PSBsKSB7IGlmIChPYmplY3QodCkgIT09IHQpIHJldHVybjsgZiA9ICExOyB9IGVsc2UgZm9yICg7ICEoZiA9IChlID0gaS5jYWxsKHQpKS5kb25lKSAmJiAoYS5wdXNoKGUudmFsdWUpLCBhLmxlbmd0aCAhPT0gbCk7IGYgPSAhMCk7IH0gY2F0Y2ggKHIpIHsgbyA9ICEwLCBuID0gcjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFmICYmIG51bGwgIT0gdC5yZXR1cm4gJiYgKHUgPSB0LnJldHVybigpLCBPYmplY3QodSkgIT09IHUpKSByZXR1cm47IH0gZmluYWxseSB7IGlmIChvKSB0aHJvdyBuOyB9IH0gcmV0dXJuIGE7IH0gfVxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKHIpIHsgaWYgKEFycmF5LmlzQXJyYXkocikpIHJldHVybiByOyB9XG4vKipcbiAqIEludGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBnZXRQbGF5bGlzdHMsIGdldExvYWRpbmdTdGF0dXMgYXMgZ2V0UGxheWxpc3RzTG9hZGluZywgZ2V0RmlsdGVyZWQgfSBmcm9tICcuLi8uLi8uLi8uLi9zdG9yZS9zbGljZXMvcGxheWxpc3RzJztcbmltcG9ydCB7IGdldEZpbHRlcmVkSWRzLCBnZXRWaWRlb3MgfSBmcm9tICcuLi8uLi8uLi8uLi9zdG9yZS9zbGljZXMvdmlkZW9zJztcbmltcG9ydCB7IGdldExvYWRpbmdTdGF0dXMgfSBmcm9tICcuLi8uLi8uLi8uLi9zdG9yZS9zbGljZXMvdmlkZW9zJztcbmltcG9ydCB7IE1lbnVMb2FkZXIsIFZpZGVvc0xvYWRlciB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMnO1xuaW1wb3J0IHsgU3RpY2t5TWVudSB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvJztcbmltcG9ydCB7IFNpbmdsZVBsYXlsaXN0IH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cyc7XG5pbXBvcnQgeyB2YWxpZE1lbWJlciB9IGZyb20gJy4uLy4uLy4uLy4uL2hlbHBlcnMvdXRpbHMnO1xuXG4vKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyB1c2VTZWxlY3RvciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBfXywgc3ByaW50ZiB9IGZyb20gJ0B3b3JkcHJlc3MvaTE4bic7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB7IHVzZVBhcmFtcyB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmV4cG9ydCBmdW5jdGlvbiBWaWRlb3NMaXN0KF9yZWYpIHtcbiAgdmFyIHNlYXJjaE1zZ1R5cGUgPSBfcmVmLnNlYXJjaE1zZ1R5cGUsXG4gICAgaGlkZU1lc3NhZ2UgPSBfcmVmLmhpZGVNZXNzYWdlLFxuICAgIHJlc3VsdHNDb3VudCA9IF9yZWYucmVzdWx0c0NvdW50O1xuICAvLyBVcmwgcGFyYW1ldGVycyBmb3IgY3VycmVudCBvcGVuZWQgdmlkZW9cbiAgdmFyIF91c2VQYXJhbXMgPSB1c2VQYXJhbXMoKSxcbiAgICBhY3Rpb24gPSBfdXNlUGFyYW1zLmFjdGlvbixcbiAgICBwbGF5bGlzdCA9IF91c2VQYXJhbXMucGxheWxpc3QsXG4gICAgdmlkZW8gPSBfdXNlUGFyYW1zLnZpZGVvO1xuXG4gIC8vIFNlbGN0ZWQgdmlkZW8gc3RhdGUgYmFzZWQgb24gdXJsIHBhcmFtc1xuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoe1xuICAgICAgcGxheWxpc3Q6ICcnLFxuICAgICAgdmlkZW86ICcnXG4gICAgfSksXG4gICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksXG4gICAgc2VsZWN0ZWQgPSBfdXNlU3RhdGUyWzBdLFxuICAgIHNldFNlbGVjdGVkID0gX3VzZVN0YXRlMlsxXTtcblxuICAvLyBXZSBhbHdheXMgdXNlIHNvcnRlZCBwbGF5bGlzdHNcbiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZShbXSksXG4gICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLFxuICAgIHBsYXlsaXN0c0xpc3RzID0gX3VzZVN0YXRlNFswXSxcbiAgICBzZXRQbGF5bGlzdHNMaXN0cyA9IF91c2VTdGF0ZTRbMV07XG5cbiAgLy8gUGxheWxpc3RzIHRvIGRpc3BsYXkgaW4gdGhlIHN0aWNreSBtZW51XG4gIHZhciBfdXNlU3RhdGU1ID0gdXNlU3RhdGUoW10pLFxuICAgIF91c2VTdGF0ZTYgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU1LCAyKSxcbiAgICBkaXNwbGF5ZWRQbGF5bGlzdHMgPSBfdXNlU3RhdGU2WzBdLFxuICAgIHNldERpc3BsYXllZFBsYXlsaXN0cyA9IF91c2VTdGF0ZTZbMV07XG5cbiAgLy8gUGxheWxpc3RzIG9iamVjdCBmcm9tIHRoZSBzdG9yZVxuICB2YXIgcGxheWxpc3RzID0gdXNlU2VsZWN0b3IoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgcmV0dXJuIGdldFBsYXlsaXN0cyhzdGF0ZSk7XG4gIH0pO1xuXG4gIC8vIEZpbHRlcmVkIHBsYXlsaXN0cyBpZHNcbiAgdmFyIGZpbHRlcmVkUGxheWxpc3RzID0gdXNlU2VsZWN0b3IoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgcmV0dXJuIGdldEZpbHRlcmVkKHN0YXRlKTtcbiAgfSk7XG5cbiAgLy8gVmlkZW9zT2JqZWN0IGZyb20gdGhlIHN0b3JlXG4gIHZhciB2aWRlb3NPYmplY3QgPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4gZ2V0VmlkZW9zKHN0YXRlKTtcbiAgfSk7XG5cbiAgLy8gRmlsdGVyZWQgdmlkZW9zIGlkcyBmcm9tIHRoZSBzdG9yZVxuICB2YXIgZmlsdGVyZWRWaWRlb3NJZHMgPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4gZ2V0RmlsdGVyZWRJZHMoc3RhdGUpO1xuICB9KTtcbiAgdmFyIGFyZVZpZGVvc0xvYWRpbmcgPSB1c2VTZWxlY3RvcihmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICByZXR1cm4gZ2V0TG9hZGluZ1N0YXR1cyhzdGF0ZSk7XG4gIH0pO1xuICB2YXIgYXJlUGxheWxpc3RzTG9hZGluZyA9IHVzZVNlbGVjdG9yKGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBnZXRQbGF5bGlzdHNMb2FkaW5nKHN0YXRlKTtcbiAgfSk7XG5cbiAgLy8gV2hlbiBib3RoIHZpZGVvcyBhbmQgcGxheWxpc3RzIGFyZSBsb2FkaW5nXG4gIHZhciBpc0xvYWRpbmcgPSBhcmVWaWRlb3NMb2FkaW5nICYmIGFyZVBsYXlsaXN0c0xvYWRpbmc7XG5cbiAgLy8gVG8gc2hvdyBkZWZhdWx0IHZpZGVvcyBvciBub3RcbiAgdmFyIHNob3dEZWZhdWx0ID0gdmFsaWRNZW1iZXIoKTtcblxuICAvLyBTZXQgc2VsZWN0ZWQgc3RhdGUgYmFzZWQgb24gdXJsIHBhcmFtc1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChhY3Rpb24gIT09ICcnICYmIHBhcnNlSW50KHBsYXlsaXN0KSA+IDAgJiYgcGFyc2VJbnQodmlkZW8pID4gMCkge1xuICAgICAgc2V0U2VsZWN0ZWQoe1xuICAgICAgICBwbGF5bGlzdDogcGxheWxpc3QsXG4gICAgICAgIHZpZGVvOiB2aWRlb1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8gU2V0IHBsYXlsaXN0c0xpc3RzIG9uIG1vdW50XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG5ld1BsYXlsaXN0cyA9IFtdO1xuICAgIGZpbHRlcmVkUGxheWxpc3RzLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7XG4gICAgICBpZiAocGxheWxpc3RzW2lkXSkge1xuICAgICAgICBuZXdQbGF5bGlzdHMucHVzaChwbGF5bGlzdHNbaWRdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzZXRQbGF5bGlzdHNMaXN0cyhuZXdQbGF5bGlzdHMpO1xuICB9LCBbcGxheWxpc3RzLCBmaWx0ZXJlZFBsYXlsaXN0c10pO1xuXG4gIC8vIFNldCBkaXNwbGF5ZWRQbGF5bGlzdHMgb24gbW91bnRcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZmlsdGVyZWQgPSBbXTtcblxuICAgIC8vIE9ubHkgaWYgdGhlcmUncmUgdmlkZW9zIHRvIGRpc3BsYXlcbiAgICBpZiAoZmlsdGVyZWRWaWRlb3NJZHMubGVuZ3RoID4gMCkge1xuICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBzb3J0ZWQgcGxheWxpc3RzXG4gICAgICBwbGF5bGlzdHNMaXN0cy5mb3JFYWNoKGZ1bmN0aW9uIChwbGF5bGlzdCkge1xuICAgICAgICAvLyBWaWRlb3MgaWRzIHRoYXQgY2FuIGJlIGRpc3BsYXllZCBiYXNlZCBvbiBjZXJ0YWluIGNvbmRpdGlvbnNcbiAgICAgICAgdmFyIGRpc3BsYXllZFZpZGVvcyA9IFtdO1xuICAgICAgICBpZiAocGxheWxpc3QudmlkZW9zICYmIHBsYXlsaXN0LnZpZGVvcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGVhY2ggdmlkZW8gaWQgaW4gdGhlIHBsYXlsaXN0XG4gICAgICAgICAgcGxheWxpc3QudmlkZW9zLmZvckVhY2goZnVuY3Rpb24gKHZpZGVvSUQpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHZpZGVvIGlzIGF2YWlsYWJsZSBpbiBmaWx0ZXJlZCBsaXN0LlxuICAgICAgICAgICAgaWYgKGZpbHRlcmVkVmlkZW9zSWRzLmluY2x1ZGVzKHZpZGVvSUQpKSB7XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgdXNlIGlzIGF1dGhvcml6ZWQgdG8gc2VlIHRoZSB2aWRlb1xuICAgICAgICAgICAgICAgIGlmICh2aWRlb3NPYmplY3RbdmlkZW9JRF0udmlkZW9fdHlwZSA9PT0gJ2N1c3RvbScgfHwgdmlkZW9zT2JqZWN0W3ZpZGVvSURdLnZpZGVvX3R5cGUgPT09ICdkZWZhdWx0JyAmJiBzaG93RGVmYXVsdCkge1xuICAgICAgICAgICAgICAgICAgZGlzcGxheWVkVmlkZW9zLnB1c2godmlkZW9JRCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIHRoZSBwbGF5bGlzdCB3aXRoIHRoZSBuZXcgZmlsdGVyZWQgdmlkZW9zIGlmIGl0IGhhcyBhdCBsZWFzdCBvbmUgdmlkZW8gdGhhdCBmdWxsZmlsbCB0aGUgY29uZGl0aW9uc1xuICAgICAgICBpZiAoZGlzcGxheWVkVmlkZW9zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBmaWx0ZXJlZC5wdXNoKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcGxheWxpc3QpLCB7fSwge1xuICAgICAgICAgICAgdmlkZW9zOiBkaXNwbGF5ZWRWaWRlb3NcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgc3RhdGVcbiAgICBzZXREaXNwbGF5ZWRQbGF5bGlzdHMoZmlsdGVyZWQpO1xuICB9LCBbZmlsdGVyZWRWaWRlb3NJZHMsIHBsYXlsaXN0c0xpc3RzLCBmaWx0ZXJlZFZpZGVvc0lkc10pO1xuICB2YXIgd3JhcHBlckNsYXNzZXMgPSBjbGFzc25hbWVzKHtcbiAgICAnd3BtdWRldi12aWRlb3Mtc2VjdGlvbic6IHRydWUsXG4gICAgbG9hZGluZzogaXNMb2FkaW5nXG4gIH0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3hzKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IHdyYXBwZXJDbGFzc2VzLFxuICAgIGNoaWxkcmVuOiBbaXNMb2FkaW5nICYmIC8qI19fUFVSRV9fKi9fanN4KE1lbnVMb2FkZXIsIHt9KSwgIWlzTG9hZGluZyAmJiAvKiNfX1BVUkVfXyovX2pzeChTdGlja3lNZW51LCB7XG4gICAgICBwbGF5bGlzdHM6IGRpc3BsYXllZFBsYXlsaXN0c1xuICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeHMoXCJkaXZcIiwge1xuICAgICAgcm9sZTogXCJhbGVydFwiLFxuICAgICAgXCJhcmlhLWxpdmVcIjogXCJwb2xpdGVcIixcbiAgICAgIGNsYXNzTmFtZTogXCJzdWktc2NyZWVuLXJlYWRlci10ZXh0XCIsXG4gICAgICBoaWRkZW46IGhpZGVNZXNzYWdlLFxuICAgICAgY2hpbGRyZW46IFshaGlkZU1lc3NhZ2UgJiYgc2VhcmNoTXNnVHlwZSA9PT0gJ2NsZWFyJyAmJiAvKiNfX1BVUkVfXyovX2pzeChcInBcIiwge1xuICAgICAgICBjaGlsZHJlbjogX18oJ1NlYXJjaCBjbGVhcmVkIHN1Y2Nlc3NmdWxseS4nLCAnd3BtdWRldl92aWRzJylcbiAgICAgIH0pLCAhaGlkZU1lc3NhZ2UgJiYgc2VhcmNoTXNnVHlwZSA9PT0gJ3NlYXJjaCcgJiYgLyojX19QVVJFX18qL19qc3goXCJwXCIsIHtcbiAgICAgICAgY2hpbGRyZW46IHNwcmludGYoX18oJ1dlIGZvdW5kICVzIHZpZGVvcyBmb3IgeW91ciBzZWFyY2guJywgJ3dwbXVkZXZfdmlkcycpLCByZXN1bHRzQ291bnQpXG4gICAgICB9KV1cbiAgICB9KSwgaXNMb2FkaW5nICYmIC8qI19fUFVSRV9fKi9fanN4KFZpZGVvc0xvYWRlciwge30pLCAhaXNMb2FkaW5nICYmIGRpc3BsYXllZFBsYXlsaXN0cy5tYXAoZnVuY3Rpb24gKHBsYXlsaXN0KSB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL19qc3goU2luZ2xlUGxheWxpc3QsIHtcbiAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkLFxuICAgICAgICBzZXRTZWxlY3RlZDogc2V0U2VsZWN0ZWQsXG4gICAgICAgIHBsYXlsaXN0OiBwbGF5bGlzdFxuICAgICAgfSwgcGxheWxpc3QuaWQpO1xuICAgIH0pXVxuICB9KTtcbn1cbmV4cG9ydCBkZWZhdWx0IFZpZGVvc0xpc3Q7IiwiZXhwb3J0ICogZnJvbSAnLi9WaWRlb3NMaXN0JzsiLCIvKipcbiAqIExpYnJhcnkgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IEJveCB9IGZyb20gJy4uLy4uLy4uLy4uL2xpYi9jb21wb25lbnRzJztcblxuLyoqXG4gKiBJbnRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgVmlkZW9TZWFyY2hGb3JtIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cyc7XG5cbi8qKlxuICogRXh0ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IF9fIH0gZnJvbSAnQHdvcmRwcmVzcy9pMThuJztcbmltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5leHBvcnQgZnVuY3Rpb24gVmlkZW9zU2VhcmNoKF9yZWYpIHtcbiAgdmFyIHNlYXJjaCA9IF9yZWYuc2VhcmNoLFxuICAgIHNldFNlYXJjaCA9IF9yZWYuc2V0U2VhcmNoLFxuICAgIG9uU2VhcmNoID0gX3JlZi5vblNlYXJjaCxcbiAgICBvbkNsZWFyID0gX3JlZi5vbkNsZWFyO1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3hzKEJveC5Cb2R5LCB7XG4gICAgY2hpbGRyZW46IFsvKiNfX1BVUkVfXyovX2pzeChcInBcIiwge1xuICAgICAgY2hpbGRyZW46IF9fKCdVc2UgdGhlc2UgaW4tZGVwdGggdmlkZW8gdHV0b3JpYWxzIHRvIG1hc3RlciBhbGwgYXNwZWN0cyBvZiB0aGUgV29yZFByZXNzIHBsYXRmb3JtLicsICd3cG11ZGV2X3ZpZHMnKVxuICAgIH0pLCAvKiNfX1BVUkVfXyovX2pzeChWaWRlb1NlYXJjaEZvcm0sIHtcbiAgICAgIHNlYXJjaDogc2VhcmNoLFxuICAgICAgb25TZWFyY2g6IG9uU2VhcmNoLFxuICAgICAgb25DbGVhcjogb25DbGVhcixcbiAgICAgIHNldFNlYXJjaDogc2V0U2VhcmNoLFxuICAgICAgb25Mb2FkaW5nVGV4dDogX18oJ1NlYXJjaGluZycsICd3cG11ZGV2X3ZpZHMnKVxuICAgIH0pXVxuICB9KTtcbn1cbmV4cG9ydCBkZWZhdWx0IFZpZGVvc1NlYXJjaDsiLCJleHBvcnQgKiBmcm9tICcuL1ZpZGVvc1NlYXJjaCc7IiwiZXhwb3J0ICogZnJvbSAnLi9IZWFkZXInO1xuZXhwb3J0ICogZnJvbSAnLi9WaWRlb3NMaXN0JztcbmV4cG9ydCAqIGZyb20gJy4vVmlkZW9zU2VhcmNoJzsiLCJmdW5jdGlvbiBfc2xpY2VkVG9BcnJheShyLCBlKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMocikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGUpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBlKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBhKSB7IGlmIChyKSB7IGlmIChcInN0cmluZ1wiID09IHR5cGVvZiByKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkociwgYSk7IHZhciB0ID0ge30udG9TdHJpbmcuY2FsbChyKS5zbGljZSg4LCAtMSk7IHJldHVybiBcIk9iamVjdFwiID09PSB0ICYmIHIuY29uc3RydWN0b3IgJiYgKHQgPSByLmNvbnN0cnVjdG9yLm5hbWUpLCBcIk1hcFwiID09PSB0IHx8IFwiU2V0XCIgPT09IHQgPyBBcnJheS5mcm9tKHIpIDogXCJBcmd1bWVudHNcIiA9PT0gdCB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSA/IF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIDogdm9pZCAwOyB9IH1cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIHsgKG51bGwgPT0gYSB8fCBhID4gci5sZW5ndGgpICYmIChhID0gci5sZW5ndGgpOyBmb3IgKHZhciBlID0gMCwgbiA9IEFycmF5KGEpOyBlIDwgYTsgZSsrKSBuW2VdID0gcltlXTsgcmV0dXJuIG47IH1cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBsKSB7IHZhciB0ID0gbnVsbCA9PSByID8gbnVsbCA6IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiByW1N5bWJvbC5pdGVyYXRvcl0gfHwgcltcIkBAaXRlcmF0b3JcIl07IGlmIChudWxsICE9IHQpIHsgdmFyIGUsIG4sIGksIHUsIGEgPSBbXSwgZiA9ICEwLCBvID0gITE7IHRyeSB7IGlmIChpID0gKHQgPSB0LmNhbGwocikpLm5leHQsIDAgPT09IGwpIHsgaWYgKE9iamVjdCh0KSAhPT0gdCkgcmV0dXJuOyBmID0gITE7IH0gZWxzZSBmb3IgKDsgIShmID0gKGUgPSBpLmNhbGwodCkpLmRvbmUpICYmIChhLnB1c2goZS52YWx1ZSksIGEubGVuZ3RoICE9PSBsKTsgZiA9ICEwKTsgfSBjYXRjaCAocikgeyBvID0gITAsIG4gPSByOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIWYgJiYgbnVsbCAhPSB0LnJldHVybiAmJiAodSA9IHQucmV0dXJuKCksIE9iamVjdCh1KSAhPT0gdSkpIHJldHVybjsgfSBmaW5hbGx5IHsgaWYgKG8pIHRocm93IG47IH0gfSByZXR1cm4gYTsgfSB9XG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMocikgeyBpZiAoQXJyYXkuaXNBcnJheShyKSkgcmV0dXJuIHI7IH1cbi8qKlxuICogTGlicmFyeSBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vLi4vbGliL2NvbXBvbmVudHMnO1xuXG4vKipcbiAqIEludGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBQYWdlRm9vdGVyIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9QYWdlRm9vdGVyJztcbmltcG9ydCB7IEhlYWRlciwgVmlkZW9zU2VhcmNoLCBWaWRlb3NMaXN0IH0gZnJvbSAnLi9wYXJ0aWFscyc7XG5pbXBvcnQgJy4vc3R5bGVzL21haW4uc2Nzcyc7XG5pbXBvcnQgeyBpbml0UGxheWxpc3RzIH0gZnJvbSAnLi4vLi4vc3RvcmUvc2xpY2VzL3BsYXlsaXN0cyc7XG5pbXBvcnQgeyBpbml0VmlkZW9zIH0gZnJvbSAnLi4vLi4vc3RvcmUvc2xpY2VzL3ZpZGVvcyc7XG5cbi8qKlxuICogRXh0ZXJuYWwgZGVwZW5kZW5jaWVzXG4gKi9cbmltcG9ydCB7IHVzZURpc3BhdGNoIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFJvdXRlcywgUm91dGUgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5leHBvcnQgZnVuY3Rpb24gQXBwKCkge1xuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoJycpLFxuICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgIHNlYXJjaCA9IF91c2VTdGF0ZTJbMF0sXG4gICAgc2V0U2VhcmNoID0gX3VzZVN0YXRlMlsxXTtcbiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZSgnY2xlYXInKSxcbiAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksXG4gICAgc2VhcmNoTXNnVHlwZSA9IF91c2VTdGF0ZTRbMF0sXG4gICAgc2V0U2VhcmNoTXNnVHlwZSA9IF91c2VTdGF0ZTRbMV07XG4gIHZhciBfdXNlU3RhdGU1ID0gdXNlU3RhdGUoMCksXG4gICAgX3VzZVN0YXRlNiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTUsIDIpLFxuICAgIHJlc3VsdHNDb3VudCA9IF91c2VTdGF0ZTZbMF0sXG4gICAgc2V0UmVzdWx0c0NvdW50ID0gX3VzZVN0YXRlNlsxXTtcbiAgdmFyIF91c2VTdGF0ZTcgPSB1c2VTdGF0ZSh0cnVlKSxcbiAgICBfdXNlU3RhdGU4ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNywgMiksXG4gICAgaGlkZU1lc3NhZ2UgPSBfdXNlU3RhdGU4WzBdLFxuICAgIHNldEhpZGVNZXNzYWdlID0gX3VzZVN0YXRlOFsxXTtcbiAgdmFyIGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcblxuICAvLyBMb2FkIHBsYXlsaXN0cyBhbmQgdmlkZW9zIG9uIG1vdW50XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgZGlzcGF0Y2goaW5pdFBsYXlsaXN0cygpKTtcbiAgICBkaXNwYXRjaChpbml0VmlkZW9zKCkpO1xuICB9LCBbXSk7XG5cbiAgLyoqXG4gICAqIFdoZW4gZ2V0dGluZyBzZWFyY2ggcmVzdWx0c1xuICAgKlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgdmFyIHNob3dBbGVydCA9IGZ1bmN0aW9uIHNob3dBbGVydCgpIHtcbiAgICAvLyBTaG93IG1lc3NhZ2VcbiAgICBzZXRIaWRlTWVzc2FnZShmYWxzZSk7XG5cbiAgICAvLyBIaWRlIGFnYWluIGFmdGVyIDMgc2Vjb25kcy5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHNldEhpZGVNZXNzYWdlKHRydWUpO1xuICAgIH0sIDMwMDApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXaGVuIGdldHRpbmcgc2VhcmNoIHJlc3VsdHNcbiAgICpcbiAgICogQHJldHVybiB7dm9pbmR9XG4gICAqL1xuICB2YXIgb25TZWFyY2ggPSBmdW5jdGlvbiBvblNlYXJjaChpZHMpIHtcbiAgICBzZXRSZXN1bHRzQ291bnQoaWRzLmxlbmd0aCk7XG4gICAgc2V0U2VhcmNoTXNnVHlwZSgnc2VhcmNoJyk7XG5cbiAgICAvLyBTaG93IEFsZXJ0XG4gICAgc2hvd0FsZXJ0KCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFdoZW4gc2VhcmNoIGlzIGNsZWFyZWRcbiAgICpcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHZhciBvbkNsZWFyID0gZnVuY3Rpb24gb25DbGVhcigpIHtcbiAgICBzZXRTZWFyY2hNc2dUeXBlKCdjbGVhcicpO1xuXG4gICAgLy8gU2hvdyBBbGVydFxuICAgIHNob3dBbGVydCgpO1xuICB9O1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3hzKFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwic3VpLXdyYXBcIixcbiAgICBjaGlsZHJlbjogWy8qI19fUFVSRV9fKi9fanN4cyhCb3gsIHtcbiAgICAgIGNoaWxkcmVuOiBbLyojX19QVVJFX18qL19qc3goSGVhZGVyLCB7fSksIC8qI19fUFVSRV9fKi9fanN4KFZpZGVvc1NlYXJjaCwge1xuICAgICAgICBvblNlYXJjaDogb25TZWFyY2gsXG4gICAgICAgIG9uQ2xlYXI6IG9uQ2xlYXIsXG4gICAgICAgIHNlYXJjaDogc2VhcmNoLFxuICAgICAgICBzZXRTZWFyY2g6IHNldFNlYXJjaFxuICAgICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFJvdXRlcywge1xuICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goUm91dGUsIHtcbiAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICBwYXRoOiBcIi86YWN0aW9uPy86cGxheWxpc3Q/Lzp2aWRlbz9cIixcbiAgICAgICAgICBlbGVtZW50OiAvKiNfX1BVUkVfXyovX2pzeChWaWRlb3NMaXN0LCB7XG4gICAgICAgICAgICBzZWFyY2hNc2dUeXBlOiBzZWFyY2hNc2dUeXBlLFxuICAgICAgICAgICAgaGlkZU1lc3NhZ2U6IGhpZGVNZXNzYWdlLFxuICAgICAgICAgICAgcmVzdWx0c0NvdW50OiByZXN1bHRzQ291bnRcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfSldXG4gICAgfSksIC8qI19fUFVSRV9fKi9fanN4KFBhZ2VGb290ZXIsIHt9KV1cbiAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCBBcHA7IiwiaW1wb3J0IHsgU3RyaWN0TW9kZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20vY2xpZW50JztcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHN0b3JlIGZyb20gJy4uLy4uL3N0b3JlL3N0b3JlJztcbmltcG9ydCB7IEhhc2hSb3V0ZXIgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCBBcHAgZnJvbSAnLi9BcHAnO1xuaW1wb3J0IHsganN4IGFzIF9qc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciByb290ID0gUmVhY3RET00uY3JlYXRlUm9vdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd3BtdWRldi12aWRlb3MtdHV0b3JpYWxzLWFwcCcpKTtcbnJvb3QucmVuZGVyKCAvKiNfX1BVUkVfXyovX2pzeChTdHJpY3RNb2RlLCB7XG4gIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovX2pzeChQcm92aWRlciwge1xuICAgIHN0b3JlOiBzdG9yZSxcbiAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL19qc3goSGFzaFJvdXRlciwge1xuICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9fanN4KEFwcCwge30pXG4gICAgfSlcbiAgfSlcbn0pKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2015\n')},9317:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A1: function() { return /* binding */ getFiltered; },\n/* harmony export */   Eo: function() { return /* binding */ getPlaylists; },\n/* harmony export */   H: function() { return /* binding */ getLoadingStatus; },\n/* harmony export */   cM: function() { return /* binding */ initPlaylists; }\n/* harmony export */ });\n/* unused harmony exports savePlaylist, createPlaylist, orderChange, deletePlaylist, bulkDelete, isPlaylistSelected, isVideoSelected, areAllSelected, getSelectedPlaylists, setPlaylist, updatePlaylistKey, togglePlaylist, toggleVideo, toggleAll */\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8740);\n/* harmony import */ var _helpers_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9331);\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4214);\n/* harmony import */ var reselect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1081);\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator.return && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, catch: function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\n\n\n\n\n\n/***************************************************\n *\n * Asynchronous Requests\n *\n * *************************************************/\n/**\n * Initialize the playlist list\n *\n * @return {Promise}\n */\nvar initPlaylists = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'playlists/init\',\n// Redux action type\nfunction (params) {\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restGet */ .B8)({\n    path: \'playlists\',\n    params: params\n  });\n});\n\n/**\n * Save a single playlist changes to database\n *\n * @return {Promise}\n */\nvar savePlaylist = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'playlists/updateSinglePlaylist\',\n// Redux action type\nfunction (data) {\n  var playlist = data.playlist,\n    id = data.id;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restPost */ .J8)({\n    path: "playlists/".concat(id),\n    data: playlist\n  });\n});\n\n/**\n * Create a new playlist\n *\n * @return {Promise}\n */\nvar createPlaylist = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'playlists/createPlaylist\',\n/*#__PURE__*/\n// Redux action type\nfunction () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(data, _ref) {\n    var rejectWithValue, playlist;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          rejectWithValue = _ref.rejectWithValue;\n          playlist = data.playlist;\n          _context.prev = 2;\n          _context.next = 5;\n          return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restPost */ .J8)({\n            path: "playlists",\n            data: playlist\n          });\n        case 5:\n          return _context.abrupt("return", _context.sent);\n        case 8:\n          _context.prev = 8;\n          _context.t0 = _context["catch"](2);\n          return _context.abrupt("return", rejectWithValue(_context.t0));\n        case 11:\n        case "end":\n          return _context.stop();\n      }\n    }, _callee, null, [[2, 8]]);\n  }));\n  return function (_x, _x2) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n/**\n * Change Playlist Order\n *\n * @return {void}\n */\nvar orderChange = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'playlists/changePlaylistOrder\',\n// Redux action type\n\nfunction (data) {\n  var playlistID = data.playlistID,\n    oldIndex = data.oldIndex,\n    newIndex = data.newIndex;\n  if (playlistID > 0 && oldIndex !== newIndex) {\n    (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restGet */ .B8)({\n      path: \'playlists/reorder\',\n      params: {\n        playlist: playlistID,\n        from: oldIndex,\n        to: newIndex\n      }\n    });\n  }\n});\n\n/**\n * Delete a playlist\n *\n * @return {Promise}\n */\nvar deletePlaylist = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'playlists/deletePlaylist\',\n// Redux action type\nfunction (data) {\n  var id = data.id;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restDelete */ ._8)({\n    path: "playlists/".concat(id)\n  });\n});\n\n/**\n * Bulk delete playlists & videos\n *\n * @return {Promise}\n */\nvar bulkDelete = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'playlists/bulkDelete\',\n// Redux action type\nfunction (data) {\n  var selected = data.selected;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restPost */ .J8)({\n    path: "playlists/bulk-actions",\n    data: {\n      action: \'delete\',\n      items: selected\n    }\n  });\n});\n\n/***************************************************\n *\n * Playlists Slice\n *\n * *************************************************/\nvar playlistsSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createSlice */ .Z0)({\n  name: \'playlists\',\n  /***************************************************\n   *\n   * Initial State\n   *\n   * *************************************************/\n\n  initialState: {\n    playlists: {},\n    filtered: [],\n    selected: {},\n    isLoading: false\n  },\n  /***************************************************\n   *\n   * Reducers\n   *\n   * *************************************************/\n  reducers: {\n    /**\n     * Update a single playlist in the playlists list\n     *\n     * If playlist exist, it will replace the playlist object,\n     * if not, it will add the playlist object.\n     *\n     * @param {object} state Current state.\n     * @param {object} action action data.\n     */\n    setPlaylist: function setPlaylist(state, action) {\n      var playlist = action.payload.playlist;\n      var playlists = state.playlists;\n      var newPlaylists = _objectSpread(_objectSpread({}, playlists), {}, _defineProperty({}, playlist.id, playlist));\n      return _objectSpread(_objectSpread({}, state), {}, {\n        playlists: newPlaylists\n      });\n    },\n    /**\n     * Select or deselect a playlist ( checkbox )\n     *\n     * @return {void}\n     */\n    togglePlaylist: function togglePlaylist(state, action) {\n      var _state$playlists, _selected$id;\n      var _action$payload = action.payload,\n        checked = _action$payload.checked,\n        id = _action$payload.id;\n      var allVideos = (_state$playlists = state.playlists) === null || _state$playlists === void 0 || (_state$playlists = _state$playlists[id]) === null || _state$playlists === void 0 ? void 0 : _state$playlists.videos;\n\n      // The new selected object\n      var selected = _objectSpread(_objectSpread({}, state.selected), {}, _defineProperty({}, id, {\n        selected: checked,\n        videos: checked && allVideos || []\n      }));\n\n      // If playlist is not selected and no videos are selected,\n      // remove the playlist\n      if ((selected === null || selected === void 0 || (_selected$id = selected[id]) === null || _selected$id === void 0 || (_selected$id = _selected$id.videos) === null || _selected$id === void 0 ? void 0 : _selected$id.length) === 0 && !checked) {\n        delete selected[id];\n      }\n      return _objectSpread(_objectSpread({}, state), {}, {\n        selected: selected\n      });\n    },\n    /**\n     * Select or de-select all playlists and videos ( checkbox )\n     *\n     * @return {void}\n     */\n    toggleAll: function toggleAll(state, action) {\n      var checked = action.payload.checked;\n      var playlists = state.playlists;\n\n      // The new selected object\n      var newSelected = {};\n      if (checked === true) {\n        Object.keys(playlists).forEach(function (id) {\n          newSelected[id] = {\n            selected: true,\n            videos: (playlists === null || playlists === void 0 ? void 0 : playlists[id].videos) || []\n          };\n        });\n      }\n      return _objectSpread(_objectSpread({}, state), {}, {\n        selected: newSelected\n      });\n    },\n    /**\n     * Update selected videos list ( checkbox )\n     *\n     * @return {void}\n     */\n    toggleVideo: function toggleVideo(state, action) {\n      var _selected$playlistID, _selected$playlistID2;\n      var _action$payload2 = action.payload,\n        videoID = _action$payload2.videoID,\n        playlistID = _action$payload2.playlistID;\n      var selected = state.selected;\n      var videos = (selected === null || selected === void 0 || (_selected$playlistID = selected[playlistID]) === null || _selected$playlistID === void 0 ? void 0 : _selected$playlistID.videos) || [];\n\n      // The new selected object\n      var newSelected = {};\n\n      // The new videos array\n      var newVideos = [];\n\n      // Toggle video\n      if (videos.includes(videoID)) {\n        // Remove video if it exists\n        newVideos = videos.filter(function (el) {\n          return el !== videoID;\n        });\n      } else {\n        // Add video if it doesn\'t exist\n        newVideos = [].concat(_toConsumableArray(videos), [videoID]);\n      }\n      var isPlaylistSelected = (selected === null || selected === void 0 || (_selected$playlistID2 = selected[playlistID]) === null || _selected$playlistID2 === void 0 ? void 0 : _selected$playlistID2.selected) || false;\n\n      // Update selected object\n      newSelected = _objectSpread(_objectSpread({}, selected), {}, _defineProperty({}, playlistID, {\n        selected: isPlaylistSelected,\n        videos: newVideos\n      }));\n\n      /* If playlist is not selected and no video is selected,\n      remove the playlist */\n      if (newVideos.length === 0 && !isPlaylistSelected) {\n        delete newSelected[playlistID];\n      }\n\n      // Set the state\n      return _objectSpread(_objectSpread({}, state), {}, {\n        selected: newSelected\n      });\n    }\n  },\n  /***************************************************\n   *\n   * Extra Reducers\n   *\n   * Manage of asynchronous requests states\n   *\n   * *************************************************/\n  extraReducers: function extraReducers(builder) {\n    builder\n    // Playlists Init\n    .addCase(initPlaylists.pending, function (state) {\n      state.isLoading = true;\n    }).addCase(initPlaylists.fulfilled, function (state, action) {\n      state.isLoading = false;\n      var payload = action.payload;\n      if (payload.success && payload.data) {\n        var playlists = {};\n        var filtered = [];\n\n        // Setup the list data.\n        payload.data.forEach(function (playlist) {\n          playlists[playlist.id] = playlist;\n          filtered.push(playlist.id);\n        });\n\n        // update the state\n        state.playlists = playlists;\n        state.filtered = filtered;\n      }\n    }).addCase(initPlaylists.rejected, function (state) {\n      state.isLoading = false;\n    })\n    // Save Playlist\n    .addCase(savePlaylist.pending, function (state) {\n      state.isLoading = true;\n    }).addCase(savePlaylist.fulfilled, function (state, action) {\n      var data = action.payload.data;\n      var playlists = state.playlists;\n      var newPlaylists = _objectSpread(_objectSpread({}, playlists), {}, _defineProperty({}, data.id, data));\n      state.isLoading = false;\n      state.playlists = newPlaylists;\n    }).addCase(savePlaylist.rejected, function (state) {\n      state.isLoading = false;\n    })\n    // Create Playlist\n    .addCase(createPlaylist.pending, function (state) {\n      state.isLoading = true;\n    }).addCase(createPlaylist.fulfilled, function (state, action) {\n      var _action$payload3 = action.payload,\n        data = _action$payload3.data,\n        success = _action$payload3.success;\n      if (success && data) {\n        var playlists = state.playlists,\n          filtered = state.filtered;\n        // update the list in the store\n        state.playlists = _objectSpread(_objectSpread({}, playlists), {}, _defineProperty({}, data.id, data));\n        state.filtered = [].concat(_toConsumableArray(filtered), [data.id]);\n      }\n      state.isLoading = false;\n    }).addCase(createPlaylist.rejected, function (state) {\n      state.isLoading = false;\n    })\n    // Delete Playlist\n    .addCase(deletePlaylist.pending, function (state) {\n      state.isLoading = true;\n    }).addCase(deletePlaylist.fulfilled, function (state, action) {\n      var id = action.meta.arg.id,\n        success = action.payload.success;\n\n      // Remove the playlist if success\n      if (success === true) {\n        var playlists = state.playlists,\n          filtered = state.filtered;\n        var newPlaylists = _objectSpread({}, playlists);\n        delete newPlaylists[id];\n        // update the list in the store\n        state.playlists = _objectSpread({}, newPlaylists);\n        state.filtered = filtered.filter(function (item) {\n          return item !== id;\n        });\n      }\n      state.isLoading = false;\n    }).addCase(deletePlaylist.rejected, function (state) {\n      state.isLoading = false;\n    })\n    // Bulk Delete\n    .addCase(bulkDelete.pending, function (state) {\n      state.isLoading = true;\n    }).addCase(bulkDelete.fulfilled, function (state) {\n      state.isLoading = false;\n\n      // Empty the selected list\n      state.selected = [];\n    }).addCase(bulkDelete.rejected, function (state) {\n      state.isLoading = false;\n\n      // Empty the selected list\n      state.selected = [];\n    });\n  }\n});\n\n/***************************************************\n *\n * Selectors\n *\n * *************************************************/\n\nvar playlistsState = function playlistsState(state) {\n  return state.playlists;\n};\n\n/**\n * Get playlists object\n *\n * @param {object} playlistsState the playlists object.\n *\n * @return {object}\n */\nvar getPlaylists = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(playlistsState, function (playlistsState) {\n  return playlistsState.playlists;\n});\n\n/**\n * Get filtered array\n *\n * @param {object} playlistsState the playlists object.\n *\n * @return {array}\n */\nvar getFiltered = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(playlistsState, function (playlistsState) {\n  return playlistsState.filtered;\n});\n\n/**\n * Checks if the playlist is selected\n *\n * @param {object} playlistsState the playlists object.\n * @param {number} id playlist id\n *\n * @return {boolean}\n */\nvar isPlaylistSelected = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(playlistsState, function (_, id) {\n  return id;\n}, function (playlistsState, id) {\n  var _playlistsState$selec;\n  return (_playlistsState$selec = playlistsState.selected) === null || _playlistsState$selec === void 0 || (_playlistsState$selec = _playlistsState$selec[id]) === null || _playlistsState$selec === void 0 ? void 0 : _playlistsState$selec.selected;\n});\n\n/**\n * Checks if video is selected\n *\n * @param {object} playlistsState the playlists object.\n * @param {object} ids playlistID & videoID\n *\n * @return {boolean}\n */\nvar isVideoSelected = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(playlistsState, function (_, ids) {\n  return ids;\n}, function (playlistsState, ids) {\n  var _playlistsState$selec2;\n  var _ref3 = ids !== null && ids !== void 0 ? ids : {},\n    playlistID = _ref3.playlistID,\n    videoID = _ref3.videoID;\n  var videos = ((_playlistsState$selec2 = playlistsState.selected) === null || _playlistsState$selec2 === void 0 || (_playlistsState$selec2 = _playlistsState$selec2[playlistID]) === null || _playlistsState$selec2 === void 0 ? void 0 : _playlistsState$selec2.videos) || [];\n  return videos.includes(videoID);\n});\n\n/**\n * Check of all videos and playlists are selected\n *\n * @param {object} playlistsState the playlists object.\n * @return {boolean}\n *\n */\nvar areAllSelected = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(playlistsState, function (playlistsState) {\n  var playlists = playlistsState.playlists,\n    selected = playlistsState.selected;\n\n  // return false if at least one playlist is not selected\n  for (var playlistId in playlists) {\n    var _selected$playlistId, _playlists$playlistId, _selected$playlistId2;\n    var isSelected = (selected === null || selected === void 0 || (_selected$playlistId = selected[playlistId]) === null || _selected$playlistId === void 0 ? void 0 : _selected$playlistId.selected) || false;\n    if (!isSelected) {\n      return false;\n    }\n\n    // return false if at least one video is not selected\n    var allVideos = (playlists === null || playlists === void 0 || (_playlists$playlistId = playlists[playlistId]) === null || _playlists$playlistId === void 0 ? void 0 : _playlists$playlistId.videos) || [];\n    var selectedVideos = (selected === null || selected === void 0 || (_selected$playlistId2 = selected[playlistId]) === null || _selected$playlistId2 === void 0 ? void 0 : _selected$playlistId2.videos) || [];\n\n    // It suffices to compare lengths only\n    if (allVideos.length !== selectedVideos.length) {\n      return false;\n    }\n  }\n  return Object.keys(playlists).length > 0;\n});\n\n/**\n * Get selected Playlists & videos\n *\n * @param {object} playlistsState the playlists object.\n *\n * @return {object}\n */\nvar getSelectedPlaylists = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(playlistsState, function (playlistsState) {\n  return playlistsState.selected;\n});\n\n/**\n * Get Loading status\n *\n * @param {object} playlistsState the playlists object.\n *\n * @return {*}\n */\nvar getLoadingStatus = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(playlistsState, function (playlistsState) {\n  return playlistsState.isLoading;\n});\n\n// Export actions\nvar _playlistsSlice$actio = playlistsSlice.actions,\n  setPlaylist = _playlistsSlice$actio.setPlaylist,\n  updatePlaylistKey = _playlistsSlice$actio.updatePlaylistKey,\n  togglePlaylist = _playlistsSlice$actio.togglePlaylist,\n  toggleVideo = _playlistsSlice$actio.toggleVideo,\n  toggleAll = _playlistsSlice$actio.toggleAll;\n\n/* harmony default export */ __webpack_exports__.Ay = (playlistsSlice.reducer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTMxNy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93cG11ZGV2LXZpZGVvcy8uL2FwcC9zcmMvc3RvcmUvc2xpY2VzL3BsYXlsaXN0cy5qcz80MDRiIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMocikgfHwgX2l0ZXJhYmxlVG9BcnJheShyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkocikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBhKSB7IGlmIChyKSB7IGlmIChcInN0cmluZ1wiID09IHR5cGVvZiByKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkociwgYSk7IHZhciB0ID0ge30udG9TdHJpbmcuY2FsbChyKS5zbGljZSg4LCAtMSk7IHJldHVybiBcIk9iamVjdFwiID09PSB0ICYmIHIuY29uc3RydWN0b3IgJiYgKHQgPSByLmNvbnN0cnVjdG9yLm5hbWUpLCBcIk1hcFwiID09PSB0IHx8IFwiU2V0XCIgPT09IHQgPyBBcnJheS5mcm9tKHIpIDogXCJBcmd1bWVudHNcIiA9PT0gdCB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSA/IF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIDogdm9pZCAwOyB9IH1cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkocikgeyBpZiAoXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIG51bGwgIT0gcltTeW1ib2wuaXRlcmF0b3JdIHx8IG51bGwgIT0gcltcIkBAaXRlcmF0b3JcIl0pIHJldHVybiBBcnJheS5mcm9tKHIpOyB9XG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMocikgeyBpZiAoQXJyYXkuaXNBcnJheShyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIpOyB9XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9XG5mdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0KSB7IHJldHVybiAociA9IF90b1Byb3BlcnR5S2V5KHIpKSBpbiBlID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIHsgdmFsdWU6IHQsIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAgfSkgOiBlW3JdID0gdCwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgXCJcIjsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbmZ1bmN0aW9uIF9yZWdlbmVyYXRvclJ1bnRpbWUoKSB7IFwidXNlIHN0cmljdFwiOyAvKiEgcmVnZW5lcmF0b3ItcnVudGltZSAtLSBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy4gLS0gbGljZW5zZSAoTUlUKTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2Jsb2IvbWFpbi9MSUNFTlNFICovIF9yZWdlbmVyYXRvclJ1bnRpbWUgPSBmdW5jdGlvbiBfcmVnZW5lcmF0b3JSdW50aW1lKCkgeyByZXR1cm4gZTsgfTsgdmFyIHQsIGUgPSB7fSwgciA9IE9iamVjdC5wcm90b3R5cGUsIG4gPSByLmhhc093blByb3BlcnR5LCBvID0gT2JqZWN0LmRlZmluZVByb3BlcnR5IHx8IGZ1bmN0aW9uICh0LCBlLCByKSB7IHRbZV0gPSByLnZhbHVlOyB9LCBpID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgPyBTeW1ib2wgOiB7fSwgYSA9IGkuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCIsIGMgPSBpLmFzeW5jSXRlcmF0b3IgfHwgXCJAQGFzeW5jSXRlcmF0b3JcIiwgdSA9IGkudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7IGZ1bmN0aW9uIGRlZmluZSh0LCBlLCByKSB7IHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgZSwgeyB2YWx1ZTogciwgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9KSwgdFtlXTsgfSB0cnkgeyBkZWZpbmUoe30sIFwiXCIpOyB9IGNhdGNoICh0KSB7IGRlZmluZSA9IGZ1bmN0aW9uIGRlZmluZSh0LCBlLCByKSB7IHJldHVybiB0W2VdID0gcjsgfTsgfSBmdW5jdGlvbiB3cmFwKHQsIGUsIHIsIG4pIHsgdmFyIGkgPSBlICYmIGUucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gZSA6IEdlbmVyYXRvciwgYSA9IE9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpLCBjID0gbmV3IENvbnRleHQobiB8fCBbXSk7IHJldHVybiBvKGEsIFwiX2ludm9rZVwiLCB7IHZhbHVlOiBtYWtlSW52b2tlTWV0aG9kKHQsIHIsIGMpIH0pLCBhOyB9IGZ1bmN0aW9uIHRyeUNhdGNoKHQsIGUsIHIpIHsgdHJ5IHsgcmV0dXJuIHsgdHlwZTogXCJub3JtYWxcIiwgYXJnOiB0LmNhbGwoZSwgcikgfTsgfSBjYXRjaCAodCkgeyByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogdCB9OyB9IH0gZS53cmFwID0gd3JhcDsgdmFyIGggPSBcInN1c3BlbmRlZFN0YXJ0XCIsIGwgPSBcInN1c3BlbmRlZFlpZWxkXCIsIGYgPSBcImV4ZWN1dGluZ1wiLCBzID0gXCJjb21wbGV0ZWRcIiwgeSA9IHt9OyBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fSBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvbigpIHt9IGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge30gdmFyIHAgPSB7fTsgZGVmaW5lKHAsIGEsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pOyB2YXIgZCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiwgdiA9IGQgJiYgZChkKHZhbHVlcyhbXSkpKTsgdiAmJiB2ICE9PSByICYmIG4uY2FsbCh2LCBhKSAmJiAocCA9IHYpOyB2YXIgZyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9IEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHApOyBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHModCkgeyBbXCJuZXh0XCIsIFwidGhyb3dcIiwgXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbiAoZSkgeyBkZWZpbmUodCwgZSwgZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHRoaXMuX2ludm9rZShlLCB0KTsgfSk7IH0pOyB9IGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IodCwgZSkgeyBmdW5jdGlvbiBpbnZva2UociwgbywgaSwgYSkgeyB2YXIgYyA9IHRyeUNhdGNoKHRbcl0sIHQsIG8pOyBpZiAoXCJ0aHJvd1wiICE9PSBjLnR5cGUpIHsgdmFyIHUgPSBjLmFyZywgaCA9IHUudmFsdWU7IHJldHVybiBoICYmIFwib2JqZWN0XCIgPT0gX3R5cGVvZihoKSAmJiBuLmNhbGwoaCwgXCJfX2F3YWl0XCIpID8gZS5yZXNvbHZlKGguX19hd2FpdCkudGhlbihmdW5jdGlvbiAodCkgeyBpbnZva2UoXCJuZXh0XCIsIHQsIGksIGEpOyB9LCBmdW5jdGlvbiAodCkgeyBpbnZva2UoXCJ0aHJvd1wiLCB0LCBpLCBhKTsgfSkgOiBlLnJlc29sdmUoaCkudGhlbihmdW5jdGlvbiAodCkgeyB1LnZhbHVlID0gdCwgaSh1KTsgfSwgZnVuY3Rpb24gKHQpIHsgcmV0dXJuIGludm9rZShcInRocm93XCIsIHQsIGksIGEpOyB9KTsgfSBhKGMuYXJnKTsgfSB2YXIgcjsgbyh0aGlzLCBcIl9pbnZva2VcIiwgeyB2YWx1ZTogZnVuY3Rpb24gdmFsdWUodCwgbikgeyBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHsgcmV0dXJuIG5ldyBlKGZ1bmN0aW9uIChlLCByKSB7IGludm9rZSh0LCBuLCBlLCByKTsgfSk7IH0gcmV0dXJuIHIgPSByID8gci50aGVuKGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLCBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZykgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpOyB9IH0pOyB9IGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoZSwgciwgbikgeyB2YXIgbyA9IGg7IHJldHVybiBmdW5jdGlvbiAoaSwgYSkgeyBpZiAobyA9PT0gZikgdGhyb3cgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpOyBpZiAobyA9PT0gcykgeyBpZiAoXCJ0aHJvd1wiID09PSBpKSB0aHJvdyBhOyByZXR1cm4geyB2YWx1ZTogdCwgZG9uZTogITAgfTsgfSBmb3IgKG4ubWV0aG9kID0gaSwgbi5hcmcgPSBhOzspIHsgdmFyIGMgPSBuLmRlbGVnYXRlOyBpZiAoYykgeyB2YXIgdSA9IG1heWJlSW52b2tlRGVsZWdhdGUoYywgbik7IGlmICh1KSB7IGlmICh1ID09PSB5KSBjb250aW51ZTsgcmV0dXJuIHU7IH0gfSBpZiAoXCJuZXh0XCIgPT09IG4ubWV0aG9kKSBuLnNlbnQgPSBuLl9zZW50ID0gbi5hcmc7ZWxzZSBpZiAoXCJ0aHJvd1wiID09PSBuLm1ldGhvZCkgeyBpZiAobyA9PT0gaCkgdGhyb3cgbyA9IHMsIG4uYXJnOyBuLmRpc3BhdGNoRXhjZXB0aW9uKG4uYXJnKTsgfSBlbHNlIFwicmV0dXJuXCIgPT09IG4ubWV0aG9kICYmIG4uYWJydXB0KFwicmV0dXJuXCIsIG4uYXJnKTsgbyA9IGY7IHZhciBwID0gdHJ5Q2F0Y2goZSwgciwgbik7IGlmIChcIm5vcm1hbFwiID09PSBwLnR5cGUpIHsgaWYgKG8gPSBuLmRvbmUgPyBzIDogbCwgcC5hcmcgPT09IHkpIGNvbnRpbnVlOyByZXR1cm4geyB2YWx1ZTogcC5hcmcsIGRvbmU6IG4uZG9uZSB9OyB9IFwidGhyb3dcIiA9PT0gcC50eXBlICYmIChvID0gcywgbi5tZXRob2QgPSBcInRocm93XCIsIG4uYXJnID0gcC5hcmcpOyB9IH07IH0gZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShlLCByKSB7IHZhciBuID0gci5tZXRob2QsIG8gPSBlLml0ZXJhdG9yW25dOyBpZiAobyA9PT0gdCkgcmV0dXJuIHIuZGVsZWdhdGUgPSBudWxsLCBcInRocm93XCIgPT09IG4gJiYgZS5pdGVyYXRvci5yZXR1cm4gJiYgKHIubWV0aG9kID0gXCJyZXR1cm5cIiwgci5hcmcgPSB0LCBtYXliZUludm9rZURlbGVnYXRlKGUsIHIpLCBcInRocm93XCIgPT09IHIubWV0aG9kKSB8fCBcInJldHVyblwiICE9PSBuICYmIChyLm1ldGhvZCA9IFwidGhyb3dcIiwgci5hcmcgPSBuZXcgVHlwZUVycm9yKFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnXCIgKyBuICsgXCInIG1ldGhvZFwiKSksIHk7IHZhciBpID0gdHJ5Q2F0Y2gobywgZS5pdGVyYXRvciwgci5hcmcpOyBpZiAoXCJ0aHJvd1wiID09PSBpLnR5cGUpIHJldHVybiByLm1ldGhvZCA9IFwidGhyb3dcIiwgci5hcmcgPSBpLmFyZywgci5kZWxlZ2F0ZSA9IG51bGwsIHk7IHZhciBhID0gaS5hcmc7IHJldHVybiBhID8gYS5kb25lID8gKHJbZS5yZXN1bHROYW1lXSA9IGEudmFsdWUsIHIubmV4dCA9IGUubmV4dExvYywgXCJyZXR1cm5cIiAhPT0gci5tZXRob2QgJiYgKHIubWV0aG9kID0gXCJuZXh0XCIsIHIuYXJnID0gdCksIHIuZGVsZWdhdGUgPSBudWxsLCB5KSA6IGEgOiAoci5tZXRob2QgPSBcInRocm93XCIsIHIuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpLCByLmRlbGVnYXRlID0gbnVsbCwgeSk7IH0gZnVuY3Rpb24gcHVzaFRyeUVudHJ5KHQpIHsgdmFyIGUgPSB7IHRyeUxvYzogdFswXSB9OyAxIGluIHQgJiYgKGUuY2F0Y2hMb2MgPSB0WzFdKSwgMiBpbiB0ICYmIChlLmZpbmFsbHlMb2MgPSB0WzJdLCBlLmFmdGVyTG9jID0gdFszXSksIHRoaXMudHJ5RW50cmllcy5wdXNoKGUpOyB9IGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkodCkgeyB2YXIgZSA9IHQuY29tcGxldGlvbiB8fCB7fTsgZS50eXBlID0gXCJub3JtYWxcIiwgZGVsZXRlIGUuYXJnLCB0LmNvbXBsZXRpb24gPSBlOyB9IGZ1bmN0aW9uIENvbnRleHQodCkgeyB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dLCB0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKSwgdGhpcy5yZXNldCghMCk7IH0gZnVuY3Rpb24gdmFsdWVzKGUpIHsgaWYgKGUgfHwgXCJcIiA9PT0gZSkgeyB2YXIgciA9IGVbYV07IGlmIChyKSByZXR1cm4gci5jYWxsKGUpOyBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBlLm5leHQpIHJldHVybiBlOyBpZiAoIWlzTmFOKGUubGVuZ3RoKSkgeyB2YXIgbyA9IC0xLCBpID0gZnVuY3Rpb24gbmV4dCgpIHsgZm9yICg7ICsrbyA8IGUubGVuZ3RoOykgaWYgKG4uY2FsbChlLCBvKSkgcmV0dXJuIG5leHQudmFsdWUgPSBlW29dLCBuZXh0LmRvbmUgPSAhMSwgbmV4dDsgcmV0dXJuIG5leHQudmFsdWUgPSB0LCBuZXh0LmRvbmUgPSAhMCwgbmV4dDsgfTsgcmV0dXJuIGkubmV4dCA9IGk7IH0gfSB0aHJvdyBuZXcgVHlwZUVycm9yKF90eXBlb2YoZSkgKyBcIiBpcyBub3QgaXRlcmFibGVcIik7IH0gcmV0dXJuIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBvKGcsIFwiY29uc3RydWN0b3JcIiwgeyB2YWx1ZTogR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIGNvbmZpZ3VyYWJsZTogITAgfSksIG8oR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIFwiY29uc3RydWN0b3JcIiwgeyB2YWx1ZTogR2VuZXJhdG9yRnVuY3Rpb24sIGNvbmZpZ3VyYWJsZTogITAgfSksIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gZGVmaW5lKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCB1LCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpLCBlLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbiAodCkgeyB2YXIgZSA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdCAmJiB0LmNvbnN0cnVjdG9yOyByZXR1cm4gISFlICYmIChlID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIgPT09IChlLmRpc3BsYXlOYW1lIHx8IGUubmFtZSkpOyB9LCBlLm1hcmsgPSBmdW5jdGlvbiAodCkgeyByZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHQsIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKSA6ICh0Ll9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBkZWZpbmUodCwgdSwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKSksIHQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShnKSwgdDsgfSwgZS5hd3JhcCA9IGZ1bmN0aW9uICh0KSB7IHJldHVybiB7IF9fYXdhaXQ6IHQgfTsgfSwgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKSwgZGVmaW5lKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlLCBjLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSwgZS5Bc3luY0l0ZXJhdG9yID0gQXN5bmNJdGVyYXRvciwgZS5hc3luYyA9IGZ1bmN0aW9uICh0LCByLCBuLCBvLCBpKSB7IHZvaWQgMCA9PT0gaSAmJiAoaSA9IFByb21pc2UpOyB2YXIgYSA9IG5ldyBBc3luY0l0ZXJhdG9yKHdyYXAodCwgciwgbiwgbyksIGkpOyByZXR1cm4gZS5pc0dlbmVyYXRvckZ1bmN0aW9uKHIpID8gYSA6IGEubmV4dCgpLnRoZW4oZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQuZG9uZSA/IHQudmFsdWUgOiBhLm5leHQoKTsgfSk7IH0sIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhnKSwgZGVmaW5lKGcsIHUsIFwiR2VuZXJhdG9yXCIpLCBkZWZpbmUoZywgYSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSksIGRlZmluZShnLCBcInRvU3RyaW5nXCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7IH0pLCBlLmtleXMgPSBmdW5jdGlvbiAodCkgeyB2YXIgZSA9IE9iamVjdCh0KSwgciA9IFtdOyBmb3IgKHZhciBuIGluIGUpIHIucHVzaChuKTsgcmV0dXJuIHIucmV2ZXJzZSgpLCBmdW5jdGlvbiBuZXh0KCkgeyBmb3IgKDsgci5sZW5ndGg7KSB7IHZhciB0ID0gci5wb3AoKTsgaWYgKHQgaW4gZSkgcmV0dXJuIG5leHQudmFsdWUgPSB0LCBuZXh0LmRvbmUgPSAhMSwgbmV4dDsgfSByZXR1cm4gbmV4dC5kb25lID0gITAsIG5leHQ7IH07IH0sIGUudmFsdWVzID0gdmFsdWVzLCBDb250ZXh0LnByb3RvdHlwZSA9IHsgY29uc3RydWN0b3I6IENvbnRleHQsIHJlc2V0OiBmdW5jdGlvbiByZXNldChlKSB7IGlmICh0aGlzLnByZXYgPSAwLCB0aGlzLm5leHQgPSAwLCB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdCwgdGhpcy5kb25lID0gITEsIHRoaXMuZGVsZWdhdGUgPSBudWxsLCB0aGlzLm1ldGhvZCA9IFwibmV4dFwiLCB0aGlzLmFyZyA9IHQsIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpLCAhZSkgZm9yICh2YXIgciBpbiB0aGlzKSBcInRcIiA9PT0gci5jaGFyQXQoMCkgJiYgbi5jYWxsKHRoaXMsIHIpICYmICFpc05hTigrci5zbGljZSgxKSkgJiYgKHRoaXNbcl0gPSB0KTsgfSwgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHsgdGhpcy5kb25lID0gITA7IHZhciB0ID0gdGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247IGlmIChcInRocm93XCIgPT09IHQudHlwZSkgdGhyb3cgdC5hcmc7IHJldHVybiB0aGlzLnJ2YWw7IH0sIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbiBkaXNwYXRjaEV4Y2VwdGlvbihlKSB7IGlmICh0aGlzLmRvbmUpIHRocm93IGU7IHZhciByID0gdGhpczsgZnVuY3Rpb24gaGFuZGxlKG4sIG8pIHsgcmV0dXJuIGEudHlwZSA9IFwidGhyb3dcIiwgYS5hcmcgPSBlLCByLm5leHQgPSBuLCBvICYmIChyLm1ldGhvZCA9IFwibmV4dFwiLCByLmFyZyA9IHQpLCAhIW87IH0gZm9yICh2YXIgbyA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBvID49IDA7IC0tbykgeyB2YXIgaSA9IHRoaXMudHJ5RW50cmllc1tvXSwgYSA9IGkuY29tcGxldGlvbjsgaWYgKFwicm9vdFwiID09PSBpLnRyeUxvYykgcmV0dXJuIGhhbmRsZShcImVuZFwiKTsgaWYgKGkudHJ5TG9jIDw9IHRoaXMucHJldikgeyB2YXIgYyA9IG4uY2FsbChpLCBcImNhdGNoTG9jXCIpLCB1ID0gbi5jYWxsKGksIFwiZmluYWxseUxvY1wiKTsgaWYgKGMgJiYgdSkgeyBpZiAodGhpcy5wcmV2IDwgaS5jYXRjaExvYykgcmV0dXJuIGhhbmRsZShpLmNhdGNoTG9jLCAhMCk7IGlmICh0aGlzLnByZXYgPCBpLmZpbmFsbHlMb2MpIHJldHVybiBoYW5kbGUoaS5maW5hbGx5TG9jKTsgfSBlbHNlIGlmIChjKSB7IGlmICh0aGlzLnByZXYgPCBpLmNhdGNoTG9jKSByZXR1cm4gaGFuZGxlKGkuY2F0Y2hMb2MsICEwKTsgfSBlbHNlIHsgaWYgKCF1KSB0aHJvdyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpOyBpZiAodGhpcy5wcmV2IDwgaS5maW5hbGx5TG9jKSByZXR1cm4gaGFuZGxlKGkuZmluYWxseUxvYyk7IH0gfSB9IH0sIGFicnVwdDogZnVuY3Rpb24gYWJydXB0KHQsIGUpIHsgZm9yICh2YXIgciA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyByID49IDA7IC0tcikgeyB2YXIgbyA9IHRoaXMudHJ5RW50cmllc1tyXTsgaWYgKG8udHJ5TG9jIDw9IHRoaXMucHJldiAmJiBuLmNhbGwobywgXCJmaW5hbGx5TG9jXCIpICYmIHRoaXMucHJldiA8IG8uZmluYWxseUxvYykgeyB2YXIgaSA9IG87IGJyZWFrOyB9IH0gaSAmJiAoXCJicmVha1wiID09PSB0IHx8IFwiY29udGludWVcIiA9PT0gdCkgJiYgaS50cnlMb2MgPD0gZSAmJiBlIDw9IGkuZmluYWxseUxvYyAmJiAoaSA9IG51bGwpOyB2YXIgYSA9IGkgPyBpLmNvbXBsZXRpb24gOiB7fTsgcmV0dXJuIGEudHlwZSA9IHQsIGEuYXJnID0gZSwgaSA/ICh0aGlzLm1ldGhvZCA9IFwibmV4dFwiLCB0aGlzLm5leHQgPSBpLmZpbmFsbHlMb2MsIHkpIDogdGhpcy5jb21wbGV0ZShhKTsgfSwgY29tcGxldGU6IGZ1bmN0aW9uIGNvbXBsZXRlKHQsIGUpIHsgaWYgKFwidGhyb3dcIiA9PT0gdC50eXBlKSB0aHJvdyB0LmFyZzsgcmV0dXJuIFwiYnJlYWtcIiA9PT0gdC50eXBlIHx8IFwiY29udGludWVcIiA9PT0gdC50eXBlID8gdGhpcy5uZXh0ID0gdC5hcmcgOiBcInJldHVyblwiID09PSB0LnR5cGUgPyAodGhpcy5ydmFsID0gdGhpcy5hcmcgPSB0LmFyZywgdGhpcy5tZXRob2QgPSBcInJldHVyblwiLCB0aGlzLm5leHQgPSBcImVuZFwiKSA6IFwibm9ybWFsXCIgPT09IHQudHlwZSAmJiBlICYmICh0aGlzLm5leHQgPSBlKSwgeTsgfSwgZmluaXNoOiBmdW5jdGlvbiBmaW5pc2godCkgeyBmb3IgKHZhciBlID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGUgPj0gMDsgLS1lKSB7IHZhciByID0gdGhpcy50cnlFbnRyaWVzW2VdOyBpZiAoci5maW5hbGx5TG9jID09PSB0KSByZXR1cm4gdGhpcy5jb21wbGV0ZShyLmNvbXBsZXRpb24sIHIuYWZ0ZXJMb2MpLCByZXNldFRyeUVudHJ5KHIpLCB5OyB9IH0sIGNhdGNoOiBmdW5jdGlvbiBfY2F0Y2godCkgeyBmb3IgKHZhciBlID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGUgPj0gMDsgLS1lKSB7IHZhciByID0gdGhpcy50cnlFbnRyaWVzW2VdOyBpZiAoci50cnlMb2MgPT09IHQpIHsgdmFyIG4gPSByLmNvbXBsZXRpb247IGlmIChcInRocm93XCIgPT09IG4udHlwZSkgeyB2YXIgbyA9IG4uYXJnOyByZXNldFRyeUVudHJ5KHIpOyB9IHJldHVybiBvOyB9IH0gdGhyb3cgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7IH0sIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uIGRlbGVnYXRlWWllbGQoZSwgciwgbikgeyByZXR1cm4gdGhpcy5kZWxlZ2F0ZSA9IHsgaXRlcmF0b3I6IHZhbHVlcyhlKSwgcmVzdWx0TmFtZTogciwgbmV4dExvYzogbiB9LCBcIm5leHRcIiA9PT0gdGhpcy5tZXRob2QgJiYgKHRoaXMuYXJnID0gdCksIHk7IH0gfSwgZTsgfVxuZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKG4sIHQsIGUsIHIsIG8sIGEsIGMpIHsgdHJ5IHsgdmFyIGkgPSBuW2FdKGMpLCB1ID0gaS52YWx1ZTsgfSBjYXRjaCAobikgeyByZXR1cm4gdm9pZCBlKG4pOyB9IGkuZG9uZSA/IHQodSkgOiBQcm9taXNlLnJlc29sdmUodSkudGhlbihyLCBvKTsgfVxuZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IobikgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgdCA9IHRoaXMsIGUgPSBhcmd1bWVudHM7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAociwgbykgeyB2YXIgYSA9IG4uYXBwbHkodCwgZSk7IGZ1bmN0aW9uIF9uZXh0KG4pIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGEsIHIsIG8sIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCBuKTsgfSBmdW5jdGlvbiBfdGhyb3cobikgeyBhc3luY0dlbmVyYXRvclN0ZXAoYSwgciwgbywgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBuKTsgfSBfbmV4dCh2b2lkIDApOyB9KTsgfTsgfVxuaW1wb3J0IHsgY3JlYXRlU2xpY2UsIGNyZWF0ZUFzeW5jVGh1bmsgfSBmcm9tICdAcmVkdXhqcy90b29sa2l0JztcbmltcG9ydCB7IHJlc3RQb3N0LCByZXN0R2V0LCByZXN0RGVsZXRlIH0gZnJvbSAnLi4vLi4vaGVscGVycy9hcGknO1xuaW1wb3J0IHsgX18gfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuaW1wb3J0IHsgY3JlYXRlU2VsZWN0b3IgfSBmcm9tICdyZXNlbGVjdCc7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqXG4gKiBBc3luY2hyb25vdXMgUmVxdWVzdHNcbiAqXG4gKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqXG4gKiBJbml0aWFsaXplIHRoZSBwbGF5bGlzdCBsaXN0XG4gKlxuICogQHJldHVybiB7UHJvbWlzZX1cbiAqL1xuZXhwb3J0IHZhciBpbml0UGxheWxpc3RzID0gY3JlYXRlQXN5bmNUaHVuaygncGxheWxpc3RzL2luaXQnLFxuLy8gUmVkdXggYWN0aW9uIHR5cGVcbmZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgcmV0dXJuIHJlc3RHZXQoe1xuICAgIHBhdGg6ICdwbGF5bGlzdHMnLFxuICAgIHBhcmFtczogcGFyYW1zXG4gIH0pO1xufSk7XG5cbi8qKlxuICogU2F2ZSBhIHNpbmdsZSBwbGF5bGlzdCBjaGFuZ2VzIHRvIGRhdGFiYXNlXG4gKlxuICogQHJldHVybiB7UHJvbWlzZX1cbiAqL1xuZXhwb3J0IHZhciBzYXZlUGxheWxpc3QgPSBjcmVhdGVBc3luY1RodW5rKCdwbGF5bGlzdHMvdXBkYXRlU2luZ2xlUGxheWxpc3QnLFxuLy8gUmVkdXggYWN0aW9uIHR5cGVcbmZ1bmN0aW9uIChkYXRhKSB7XG4gIHZhciBwbGF5bGlzdCA9IGRhdGEucGxheWxpc3QsXG4gICAgaWQgPSBkYXRhLmlkO1xuICByZXR1cm4gcmVzdFBvc3Qoe1xuICAgIHBhdGg6IFwicGxheWxpc3RzL1wiLmNvbmNhdChpZCksXG4gICAgZGF0YTogcGxheWxpc3RcbiAgfSk7XG59KTtcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgcGxheWxpc3RcbiAqXG4gKiBAcmV0dXJuIHtQcm9taXNlfVxuICovXG5leHBvcnQgdmFyIGNyZWF0ZVBsYXlsaXN0ID0gY3JlYXRlQXN5bmNUaHVuaygncGxheWxpc3RzL2NyZWF0ZVBsYXlsaXN0Jyxcbi8qI19fUFVSRV9fKi9cbi8vIFJlZHV4IGFjdGlvbiB0eXBlXG5mdW5jdGlvbiAoKSB7XG4gIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShkYXRhLCBfcmVmKSB7XG4gICAgdmFyIHJlamVjdFdpdGhWYWx1ZSwgcGxheWxpc3Q7XG4gICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgcmVqZWN0V2l0aFZhbHVlID0gX3JlZi5yZWplY3RXaXRoVmFsdWU7XG4gICAgICAgICAgcGxheWxpc3QgPSBkYXRhLnBsYXlsaXN0O1xuICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyO1xuICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1O1xuICAgICAgICAgIHJldHVybiByZXN0UG9zdCh7XG4gICAgICAgICAgICBwYXRoOiBcInBsYXlsaXN0c1wiLFxuICAgICAgICAgICAgZGF0YTogcGxheWxpc3RcbiAgICAgICAgICB9KTtcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQuc2VudCk7XG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgICBfY29udGV4dC5wcmV2ID0gODtcbiAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0W1wiY2F0Y2hcIl0oMik7XG4gICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCByZWplY3RXaXRoVmFsdWUoX2NvbnRleHQudDApKTtcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICB9XG4gICAgfSwgX2NhbGxlZSwgbnVsbCwgW1syLCA4XV0pO1xuICB9KSk7XG4gIHJldHVybiBmdW5jdGlvbiAoX3gsIF94Mikge1xuICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufSgpKTtcblxuLyoqXG4gKiBDaGFuZ2UgUGxheWxpc3QgT3JkZXJcbiAqXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgdmFyIG9yZGVyQ2hhbmdlID0gY3JlYXRlQXN5bmNUaHVuaygncGxheWxpc3RzL2NoYW5nZVBsYXlsaXN0T3JkZXInLFxuLy8gUmVkdXggYWN0aW9uIHR5cGVcblxuZnVuY3Rpb24gKGRhdGEpIHtcbiAgdmFyIHBsYXlsaXN0SUQgPSBkYXRhLnBsYXlsaXN0SUQsXG4gICAgb2xkSW5kZXggPSBkYXRhLm9sZEluZGV4LFxuICAgIG5ld0luZGV4ID0gZGF0YS5uZXdJbmRleDtcbiAgaWYgKHBsYXlsaXN0SUQgPiAwICYmIG9sZEluZGV4ICE9PSBuZXdJbmRleCkge1xuICAgIHJlc3RHZXQoe1xuICAgICAgcGF0aDogJ3BsYXlsaXN0cy9yZW9yZGVyJyxcbiAgICAgIHBhcmFtczoge1xuICAgICAgICBwbGF5bGlzdDogcGxheWxpc3RJRCxcbiAgICAgICAgZnJvbTogb2xkSW5kZXgsXG4gICAgICAgIHRvOiBuZXdJbmRleFxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcblxuLyoqXG4gKiBEZWxldGUgYSBwbGF5bGlzdFxuICpcbiAqIEByZXR1cm4ge1Byb21pc2V9XG4gKi9cbmV4cG9ydCB2YXIgZGVsZXRlUGxheWxpc3QgPSBjcmVhdGVBc3luY1RodW5rKCdwbGF5bGlzdHMvZGVsZXRlUGxheWxpc3QnLFxuLy8gUmVkdXggYWN0aW9uIHR5cGVcbmZ1bmN0aW9uIChkYXRhKSB7XG4gIHZhciBpZCA9IGRhdGEuaWQ7XG4gIHJldHVybiByZXN0RGVsZXRlKHtcbiAgICBwYXRoOiBcInBsYXlsaXN0cy9cIi5jb25jYXQoaWQpXG4gIH0pO1xufSk7XG5cbi8qKlxuICogQnVsayBkZWxldGUgcGxheWxpc3RzICYgdmlkZW9zXG4gKlxuICogQHJldHVybiB7UHJvbWlzZX1cbiAqL1xuZXhwb3J0IHZhciBidWxrRGVsZXRlID0gY3JlYXRlQXN5bmNUaHVuaygncGxheWxpc3RzL2J1bGtEZWxldGUnLFxuLy8gUmVkdXggYWN0aW9uIHR5cGVcbmZ1bmN0aW9uIChkYXRhKSB7XG4gIHZhciBzZWxlY3RlZCA9IGRhdGEuc2VsZWN0ZWQ7XG4gIHJldHVybiByZXN0UG9zdCh7XG4gICAgcGF0aDogXCJwbGF5bGlzdHMvYnVsay1hY3Rpb25zXCIsXG4gICAgZGF0YToge1xuICAgICAgYWN0aW9uOiAnZGVsZXRlJyxcbiAgICAgIGl0ZW1zOiBzZWxlY3RlZFxuICAgIH1cbiAgfSk7XG59KTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICpcbiAqIFBsYXlsaXN0cyBTbGljZVxuICpcbiAqICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG52YXIgcGxheWxpc3RzU2xpY2UgPSBjcmVhdGVTbGljZSh7XG4gIG5hbWU6ICdwbGF5bGlzdHMnLFxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAqXG4gICAqIEluaXRpYWwgU3RhdGVcbiAgICpcbiAgICogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICBpbml0aWFsU3RhdGU6IHtcbiAgICBwbGF5bGlzdHM6IHt9LFxuICAgIGZpbHRlcmVkOiBbXSxcbiAgICBzZWxlY3RlZDoge30sXG4gICAgaXNMb2FkaW5nOiBmYWxzZVxuICB9LFxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAqXG4gICAqIFJlZHVjZXJzXG4gICAqXG4gICAqICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIHJlZHVjZXJzOiB7XG4gICAgLyoqXG4gICAgICogVXBkYXRlIGEgc2luZ2xlIHBsYXlsaXN0IGluIHRoZSBwbGF5bGlzdHMgbGlzdFxuICAgICAqXG4gICAgICogSWYgcGxheWxpc3QgZXhpc3QsIGl0IHdpbGwgcmVwbGFjZSB0aGUgcGxheWxpc3Qgb2JqZWN0LFxuICAgICAqIGlmIG5vdCwgaXQgd2lsbCBhZGQgdGhlIHBsYXlsaXN0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzdGF0ZSBDdXJyZW50IHN0YXRlLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBhY3Rpb24gYWN0aW9uIGRhdGEuXG4gICAgICovXG4gICAgc2V0UGxheWxpc3Q6IGZ1bmN0aW9uIHNldFBsYXlsaXN0KHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgIHZhciBwbGF5bGlzdCA9IGFjdGlvbi5wYXlsb2FkLnBsYXlsaXN0O1xuICAgICAgdmFyIHBsYXlsaXN0cyA9IHN0YXRlLnBsYXlsaXN0cztcbiAgICAgIHZhciBuZXdQbGF5bGlzdHMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHBsYXlsaXN0cyksIHt9LCBfZGVmaW5lUHJvcGVydHkoe30sIHBsYXlsaXN0LmlkLCBwbGF5bGlzdCkpO1xuICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc3RhdGUpLCB7fSwge1xuICAgICAgICBwbGF5bGlzdHM6IG5ld1BsYXlsaXN0c1xuICAgICAgfSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBTZWxlY3Qgb3IgZGVzZWxlY3QgYSBwbGF5bGlzdCAoIGNoZWNrYm94IClcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgdG9nZ2xlUGxheWxpc3Q6IGZ1bmN0aW9uIHRvZ2dsZVBsYXlsaXN0KHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgIHZhciBfc3RhdGUkcGxheWxpc3RzLCBfc2VsZWN0ZWQkaWQ7XG4gICAgICB2YXIgX2FjdGlvbiRwYXlsb2FkID0gYWN0aW9uLnBheWxvYWQsXG4gICAgICAgIGNoZWNrZWQgPSBfYWN0aW9uJHBheWxvYWQuY2hlY2tlZCxcbiAgICAgICAgaWQgPSBfYWN0aW9uJHBheWxvYWQuaWQ7XG4gICAgICB2YXIgYWxsVmlkZW9zID0gKF9zdGF0ZSRwbGF5bGlzdHMgPSBzdGF0ZS5wbGF5bGlzdHMpID09PSBudWxsIHx8IF9zdGF0ZSRwbGF5bGlzdHMgPT09IHZvaWQgMCB8fCAoX3N0YXRlJHBsYXlsaXN0cyA9IF9zdGF0ZSRwbGF5bGlzdHNbaWRdKSA9PT0gbnVsbCB8fCBfc3RhdGUkcGxheWxpc3RzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc3RhdGUkcGxheWxpc3RzLnZpZGVvcztcblxuICAgICAgLy8gVGhlIG5ldyBzZWxlY3RlZCBvYmplY3RcbiAgICAgIHZhciBzZWxlY3RlZCA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc3RhdGUuc2VsZWN0ZWQpLCB7fSwgX2RlZmluZVByb3BlcnR5KHt9LCBpZCwge1xuICAgICAgICBzZWxlY3RlZDogY2hlY2tlZCxcbiAgICAgICAgdmlkZW9zOiBjaGVja2VkICYmIGFsbFZpZGVvcyB8fCBbXVxuICAgICAgfSkpO1xuXG4gICAgICAvLyBJZiBwbGF5bGlzdCBpcyBub3Qgc2VsZWN0ZWQgYW5kIG5vIHZpZGVvcyBhcmUgc2VsZWN0ZWQsXG4gICAgICAvLyByZW1vdmUgdGhlIHBsYXlsaXN0XG4gICAgICBpZiAoKHNlbGVjdGVkID09PSBudWxsIHx8IHNlbGVjdGVkID09PSB2b2lkIDAgfHwgKF9zZWxlY3RlZCRpZCA9IHNlbGVjdGVkW2lkXSkgPT09IG51bGwgfHwgX3NlbGVjdGVkJGlkID09PSB2b2lkIDAgfHwgKF9zZWxlY3RlZCRpZCA9IF9zZWxlY3RlZCRpZC52aWRlb3MpID09PSBudWxsIHx8IF9zZWxlY3RlZCRpZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3NlbGVjdGVkJGlkLmxlbmd0aCkgPT09IDAgJiYgIWNoZWNrZWQpIHtcbiAgICAgICAgZGVsZXRlIHNlbGVjdGVkW2lkXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHN0YXRlKSwge30sIHtcbiAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkXG4gICAgICB9KTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFNlbGVjdCBvciBkZS1zZWxlY3QgYWxsIHBsYXlsaXN0cyBhbmQgdmlkZW9zICggY2hlY2tib3ggKVxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICB0b2dnbGVBbGw6IGZ1bmN0aW9uIHRvZ2dsZUFsbChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICB2YXIgY2hlY2tlZCA9IGFjdGlvbi5wYXlsb2FkLmNoZWNrZWQ7XG4gICAgICB2YXIgcGxheWxpc3RzID0gc3RhdGUucGxheWxpc3RzO1xuXG4gICAgICAvLyBUaGUgbmV3IHNlbGVjdGVkIG9iamVjdFxuICAgICAgdmFyIG5ld1NlbGVjdGVkID0ge307XG4gICAgICBpZiAoY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICBPYmplY3Qua2V5cyhwbGF5bGlzdHMpLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgbmV3U2VsZWN0ZWRbaWRdID0ge1xuICAgICAgICAgICAgc2VsZWN0ZWQ6IHRydWUsXG4gICAgICAgICAgICB2aWRlb3M6IChwbGF5bGlzdHMgPT09IG51bGwgfHwgcGxheWxpc3RzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwbGF5bGlzdHNbaWRdLnZpZGVvcykgfHwgW11cbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHN0YXRlKSwge30sIHtcbiAgICAgICAgc2VsZWN0ZWQ6IG5ld1NlbGVjdGVkXG4gICAgICB9KTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBzZWxlY3RlZCB2aWRlb3MgbGlzdCAoIGNoZWNrYm94IClcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgdG9nZ2xlVmlkZW86IGZ1bmN0aW9uIHRvZ2dsZVZpZGVvKHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgIHZhciBfc2VsZWN0ZWQkcGxheWxpc3RJRCwgX3NlbGVjdGVkJHBsYXlsaXN0SUQyO1xuICAgICAgdmFyIF9hY3Rpb24kcGF5bG9hZDIgPSBhY3Rpb24ucGF5bG9hZCxcbiAgICAgICAgdmlkZW9JRCA9IF9hY3Rpb24kcGF5bG9hZDIudmlkZW9JRCxcbiAgICAgICAgcGxheWxpc3RJRCA9IF9hY3Rpb24kcGF5bG9hZDIucGxheWxpc3RJRDtcbiAgICAgIHZhciBzZWxlY3RlZCA9IHN0YXRlLnNlbGVjdGVkO1xuICAgICAgdmFyIHZpZGVvcyA9IChzZWxlY3RlZCA9PT0gbnVsbCB8fCBzZWxlY3RlZCA9PT0gdm9pZCAwIHx8IChfc2VsZWN0ZWQkcGxheWxpc3RJRCA9IHNlbGVjdGVkW3BsYXlsaXN0SURdKSA9PT0gbnVsbCB8fCBfc2VsZWN0ZWQkcGxheWxpc3RJRCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3NlbGVjdGVkJHBsYXlsaXN0SUQudmlkZW9zKSB8fCBbXTtcblxuICAgICAgLy8gVGhlIG5ldyBzZWxlY3RlZCBvYmplY3RcbiAgICAgIHZhciBuZXdTZWxlY3RlZCA9IHt9O1xuXG4gICAgICAvLyBUaGUgbmV3IHZpZGVvcyBhcnJheVxuICAgICAgdmFyIG5ld1ZpZGVvcyA9IFtdO1xuXG4gICAgICAvLyBUb2dnbGUgdmlkZW9cbiAgICAgIGlmICh2aWRlb3MuaW5jbHVkZXModmlkZW9JRCkpIHtcbiAgICAgICAgLy8gUmVtb3ZlIHZpZGVvIGlmIGl0IGV4aXN0c1xuICAgICAgICBuZXdWaWRlb3MgPSB2aWRlb3MuZmlsdGVyKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgIHJldHVybiBlbCAhPT0gdmlkZW9JRDtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBBZGQgdmlkZW8gaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAgICBuZXdWaWRlb3MgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHZpZGVvcyksIFt2aWRlb0lEXSk7XG4gICAgICB9XG4gICAgICB2YXIgaXNQbGF5bGlzdFNlbGVjdGVkID0gKHNlbGVjdGVkID09PSBudWxsIHx8IHNlbGVjdGVkID09PSB2b2lkIDAgfHwgKF9zZWxlY3RlZCRwbGF5bGlzdElEMiA9IHNlbGVjdGVkW3BsYXlsaXN0SURdKSA9PT0gbnVsbCB8fCBfc2VsZWN0ZWQkcGxheWxpc3RJRDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zZWxlY3RlZCRwbGF5bGlzdElEMi5zZWxlY3RlZCkgfHwgZmFsc2U7XG5cbiAgICAgIC8vIFVwZGF0ZSBzZWxlY3RlZCBvYmplY3RcbiAgICAgIG5ld1NlbGVjdGVkID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzZWxlY3RlZCksIHt9LCBfZGVmaW5lUHJvcGVydHkoe30sIHBsYXlsaXN0SUQsIHtcbiAgICAgICAgc2VsZWN0ZWQ6IGlzUGxheWxpc3RTZWxlY3RlZCxcbiAgICAgICAgdmlkZW9zOiBuZXdWaWRlb3NcbiAgICAgIH0pKTtcblxuICAgICAgLyogSWYgcGxheWxpc3QgaXMgbm90IHNlbGVjdGVkIGFuZCBubyB2aWRlbyBpcyBzZWxlY3RlZCxcbiAgICAgIHJlbW92ZSB0aGUgcGxheWxpc3QgKi9cbiAgICAgIGlmIChuZXdWaWRlb3MubGVuZ3RoID09PSAwICYmICFpc1BsYXlsaXN0U2VsZWN0ZWQpIHtcbiAgICAgICAgZGVsZXRlIG5ld1NlbGVjdGVkW3BsYXlsaXN0SURdO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXQgdGhlIHN0YXRlXG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZSksIHt9LCB7XG4gICAgICAgIHNlbGVjdGVkOiBuZXdTZWxlY3RlZFxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAqXG4gICAqIEV4dHJhIFJlZHVjZXJzXG4gICAqXG4gICAqIE1hbmFnZSBvZiBhc3luY2hyb25vdXMgcmVxdWVzdHMgc3RhdGVzXG4gICAqXG4gICAqICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIGV4dHJhUmVkdWNlcnM6IGZ1bmN0aW9uIGV4dHJhUmVkdWNlcnMoYnVpbGRlcikge1xuICAgIGJ1aWxkZXJcbiAgICAvLyBQbGF5bGlzdHMgSW5pdFxuICAgIC5hZGRDYXNlKGluaXRQbGF5bGlzdHMucGVuZGluZywgZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSB0cnVlO1xuICAgIH0pLmFkZENhc2UoaW5pdFBsYXlsaXN0cy5mdWxmaWxsZWQsIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgIHZhciBwYXlsb2FkID0gYWN0aW9uLnBheWxvYWQ7XG4gICAgICBpZiAocGF5bG9hZC5zdWNjZXNzICYmIHBheWxvYWQuZGF0YSkge1xuICAgICAgICB2YXIgcGxheWxpc3RzID0ge307XG4gICAgICAgIHZhciBmaWx0ZXJlZCA9IFtdO1xuXG4gICAgICAgIC8vIFNldHVwIHRoZSBsaXN0IGRhdGEuXG4gICAgICAgIHBheWxvYWQuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChwbGF5bGlzdCkge1xuICAgICAgICAgIHBsYXlsaXN0c1twbGF5bGlzdC5pZF0gPSBwbGF5bGlzdDtcbiAgICAgICAgICBmaWx0ZXJlZC5wdXNoKHBsYXlsaXN0LmlkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gdXBkYXRlIHRoZSBzdGF0ZVxuICAgICAgICBzdGF0ZS5wbGF5bGlzdHMgPSBwbGF5bGlzdHM7XG4gICAgICAgIHN0YXRlLmZpbHRlcmVkID0gZmlsdGVyZWQ7XG4gICAgICB9XG4gICAgfSkuYWRkQ2FzZShpbml0UGxheWxpc3RzLnJlamVjdGVkLCBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgIHN0YXRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgIH0pXG4gICAgLy8gU2F2ZSBQbGF5bGlzdFxuICAgIC5hZGRDYXNlKHNhdmVQbGF5bGlzdC5wZW5kaW5nLCBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgIHN0YXRlLmlzTG9hZGluZyA9IHRydWU7XG4gICAgfSkuYWRkQ2FzZShzYXZlUGxheWxpc3QuZnVsZmlsbGVkLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgICAgdmFyIGRhdGEgPSBhY3Rpb24ucGF5bG9hZC5kYXRhO1xuICAgICAgdmFyIHBsYXlsaXN0cyA9IHN0YXRlLnBsYXlsaXN0cztcbiAgICAgIHZhciBuZXdQbGF5bGlzdHMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHBsYXlsaXN0cyksIHt9LCBfZGVmaW5lUHJvcGVydHkoe30sIGRhdGEuaWQsIGRhdGEpKTtcbiAgICAgIHN0YXRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgc3RhdGUucGxheWxpc3RzID0gbmV3UGxheWxpc3RzO1xuICAgIH0pLmFkZENhc2Uoc2F2ZVBsYXlsaXN0LnJlamVjdGVkLCBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgIHN0YXRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgIH0pXG4gICAgLy8gQ3JlYXRlIFBsYXlsaXN0XG4gICAgLmFkZENhc2UoY3JlYXRlUGxheWxpc3QucGVuZGluZywgZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSB0cnVlO1xuICAgIH0pLmFkZENhc2UoY3JlYXRlUGxheWxpc3QuZnVsZmlsbGVkLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgICAgdmFyIF9hY3Rpb24kcGF5bG9hZDMgPSBhY3Rpb24ucGF5bG9hZCxcbiAgICAgICAgZGF0YSA9IF9hY3Rpb24kcGF5bG9hZDMuZGF0YSxcbiAgICAgICAgc3VjY2VzcyA9IF9hY3Rpb24kcGF5bG9hZDMuc3VjY2VzcztcbiAgICAgIGlmIChzdWNjZXNzICYmIGRhdGEpIHtcbiAgICAgICAgdmFyIHBsYXlsaXN0cyA9IHN0YXRlLnBsYXlsaXN0cyxcbiAgICAgICAgICBmaWx0ZXJlZCA9IHN0YXRlLmZpbHRlcmVkO1xuICAgICAgICAvLyB1cGRhdGUgdGhlIGxpc3QgaW4gdGhlIHN0b3JlXG4gICAgICAgIHN0YXRlLnBsYXlsaXN0cyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcGxheWxpc3RzKSwge30sIF9kZWZpbmVQcm9wZXJ0eSh7fSwgZGF0YS5pZCwgZGF0YSkpO1xuICAgICAgICBzdGF0ZS5maWx0ZXJlZCA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoZmlsdGVyZWQpLCBbZGF0YS5pZF0pO1xuICAgICAgfVxuICAgICAgc3RhdGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgfSkuYWRkQ2FzZShjcmVhdGVQbGF5bGlzdC5yZWplY3RlZCwgZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICB9KVxuICAgIC8vIERlbGV0ZSBQbGF5bGlzdFxuICAgIC5hZGRDYXNlKGRlbGV0ZVBsYXlsaXN0LnBlbmRpbmcsIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgc3RhdGUuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICB9KS5hZGRDYXNlKGRlbGV0ZVBsYXlsaXN0LmZ1bGZpbGxlZCwgZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgIHZhciBpZCA9IGFjdGlvbi5tZXRhLmFyZy5pZCxcbiAgICAgICAgc3VjY2VzcyA9IGFjdGlvbi5wYXlsb2FkLnN1Y2Nlc3M7XG5cbiAgICAgIC8vIFJlbW92ZSB0aGUgcGxheWxpc3QgaWYgc3VjY2Vzc1xuICAgICAgaWYgKHN1Y2Nlc3MgPT09IHRydWUpIHtcbiAgICAgICAgdmFyIHBsYXlsaXN0cyA9IHN0YXRlLnBsYXlsaXN0cyxcbiAgICAgICAgICBmaWx0ZXJlZCA9IHN0YXRlLmZpbHRlcmVkO1xuICAgICAgICB2YXIgbmV3UGxheWxpc3RzID0gX29iamVjdFNwcmVhZCh7fSwgcGxheWxpc3RzKTtcbiAgICAgICAgZGVsZXRlIG5ld1BsYXlsaXN0c1tpZF07XG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgbGlzdCBpbiB0aGUgc3RvcmVcbiAgICAgICAgc3RhdGUucGxheWxpc3RzID0gX29iamVjdFNwcmVhZCh7fSwgbmV3UGxheWxpc3RzKTtcbiAgICAgICAgc3RhdGUuZmlsdGVyZWQgPSBmaWx0ZXJlZC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gaXRlbSAhPT0gaWQ7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgc3RhdGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgfSkuYWRkQ2FzZShkZWxldGVQbGF5bGlzdC5yZWplY3RlZCwgZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICB9KVxuICAgIC8vIEJ1bGsgRGVsZXRlXG4gICAgLmFkZENhc2UoYnVsa0RlbGV0ZS5wZW5kaW5nLCBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgIHN0YXRlLmlzTG9hZGluZyA9IHRydWU7XG4gICAgfSkuYWRkQ2FzZShidWxrRGVsZXRlLmZ1bGZpbGxlZCwgZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICBzdGF0ZS5pc0xvYWRpbmcgPSBmYWxzZTtcblxuICAgICAgLy8gRW1wdHkgdGhlIHNlbGVjdGVkIGxpc3RcbiAgICAgIHN0YXRlLnNlbGVjdGVkID0gW107XG4gICAgfSkuYWRkQ2FzZShidWxrRGVsZXRlLnJlamVjdGVkLCBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgIHN0YXRlLmlzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAvLyBFbXB0eSB0aGUgc2VsZWN0ZWQgbGlzdFxuICAgICAgc3RhdGUuc2VsZWN0ZWQgPSBbXTtcbiAgICB9KTtcbiAgfVxufSk7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqXG4gKiBTZWxlY3RvcnNcbiAqXG4gKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG52YXIgcGxheWxpc3RzU3RhdGUgPSBmdW5jdGlvbiBwbGF5bGlzdHNTdGF0ZShzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUucGxheWxpc3RzO1xufTtcblxuLyoqXG4gKiBHZXQgcGxheWxpc3RzIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBwbGF5bGlzdHNTdGF0ZSB0aGUgcGxheWxpc3RzIG9iamVjdC5cbiAqXG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKi9cbmV4cG9ydCB2YXIgZ2V0UGxheWxpc3RzID0gY3JlYXRlU2VsZWN0b3IocGxheWxpc3RzU3RhdGUsIGZ1bmN0aW9uIChwbGF5bGlzdHNTdGF0ZSkge1xuICByZXR1cm4gcGxheWxpc3RzU3RhdGUucGxheWxpc3RzO1xufSk7XG5cbi8qKlxuICogR2V0IGZpbHRlcmVkIGFycmF5XG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHBsYXlsaXN0c1N0YXRlIHRoZSBwbGF5bGlzdHMgb2JqZWN0LlxuICpcbiAqIEByZXR1cm4ge2FycmF5fVxuICovXG5leHBvcnQgdmFyIGdldEZpbHRlcmVkID0gY3JlYXRlU2VsZWN0b3IocGxheWxpc3RzU3RhdGUsIGZ1bmN0aW9uIChwbGF5bGlzdHNTdGF0ZSkge1xuICByZXR1cm4gcGxheWxpc3RzU3RhdGUuZmlsdGVyZWQ7XG59KTtcblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIHBsYXlsaXN0IGlzIHNlbGVjdGVkXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHBsYXlsaXN0c1N0YXRlIHRoZSBwbGF5bGlzdHMgb2JqZWN0LlxuICogQHBhcmFtIHtudW1iZXJ9IGlkIHBsYXlsaXN0IGlkXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IHZhciBpc1BsYXlsaXN0U2VsZWN0ZWQgPSBjcmVhdGVTZWxlY3RvcihwbGF5bGlzdHNTdGF0ZSwgZnVuY3Rpb24gKF8sIGlkKSB7XG4gIHJldHVybiBpZDtcbn0sIGZ1bmN0aW9uIChwbGF5bGlzdHNTdGF0ZSwgaWQpIHtcbiAgdmFyIF9wbGF5bGlzdHNTdGF0ZSRzZWxlYztcbiAgcmV0dXJuIChfcGxheWxpc3RzU3RhdGUkc2VsZWMgPSBwbGF5bGlzdHNTdGF0ZS5zZWxlY3RlZCkgPT09IG51bGwgfHwgX3BsYXlsaXN0c1N0YXRlJHNlbGVjID09PSB2b2lkIDAgfHwgKF9wbGF5bGlzdHNTdGF0ZSRzZWxlYyA9IF9wbGF5bGlzdHNTdGF0ZSRzZWxlY1tpZF0pID09PSBudWxsIHx8IF9wbGF5bGlzdHNTdGF0ZSRzZWxlYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3BsYXlsaXN0c1N0YXRlJHNlbGVjLnNlbGVjdGVkO1xufSk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIHZpZGVvIGlzIHNlbGVjdGVkXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHBsYXlsaXN0c1N0YXRlIHRoZSBwbGF5bGlzdHMgb2JqZWN0LlxuICogQHBhcmFtIHtvYmplY3R9IGlkcyBwbGF5bGlzdElEICYgdmlkZW9JRFxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCB2YXIgaXNWaWRlb1NlbGVjdGVkID0gY3JlYXRlU2VsZWN0b3IocGxheWxpc3RzU3RhdGUsIGZ1bmN0aW9uIChfLCBpZHMpIHtcbiAgcmV0dXJuIGlkcztcbn0sIGZ1bmN0aW9uIChwbGF5bGlzdHNTdGF0ZSwgaWRzKSB7XG4gIHZhciBfcGxheWxpc3RzU3RhdGUkc2VsZWMyO1xuICB2YXIgX3JlZjMgPSBpZHMgIT09IG51bGwgJiYgaWRzICE9PSB2b2lkIDAgPyBpZHMgOiB7fSxcbiAgICBwbGF5bGlzdElEID0gX3JlZjMucGxheWxpc3RJRCxcbiAgICB2aWRlb0lEID0gX3JlZjMudmlkZW9JRDtcbiAgdmFyIHZpZGVvcyA9ICgoX3BsYXlsaXN0c1N0YXRlJHNlbGVjMiA9IHBsYXlsaXN0c1N0YXRlLnNlbGVjdGVkKSA9PT0gbnVsbCB8fCBfcGxheWxpc3RzU3RhdGUkc2VsZWMyID09PSB2b2lkIDAgfHwgKF9wbGF5bGlzdHNTdGF0ZSRzZWxlYzIgPSBfcGxheWxpc3RzU3RhdGUkc2VsZWMyW3BsYXlsaXN0SURdKSA9PT0gbnVsbCB8fCBfcGxheWxpc3RzU3RhdGUkc2VsZWMyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcGxheWxpc3RzU3RhdGUkc2VsZWMyLnZpZGVvcykgfHwgW107XG4gIHJldHVybiB2aWRlb3MuaW5jbHVkZXModmlkZW9JRCk7XG59KTtcblxuLyoqXG4gKiBDaGVjayBvZiBhbGwgdmlkZW9zIGFuZCBwbGF5bGlzdHMgYXJlIHNlbGVjdGVkXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHBsYXlsaXN0c1N0YXRlIHRoZSBwbGF5bGlzdHMgb2JqZWN0LlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqXG4gKi9cbmV4cG9ydCB2YXIgYXJlQWxsU2VsZWN0ZWQgPSBjcmVhdGVTZWxlY3RvcihwbGF5bGlzdHNTdGF0ZSwgZnVuY3Rpb24gKHBsYXlsaXN0c1N0YXRlKSB7XG4gIHZhciBwbGF5bGlzdHMgPSBwbGF5bGlzdHNTdGF0ZS5wbGF5bGlzdHMsXG4gICAgc2VsZWN0ZWQgPSBwbGF5bGlzdHNTdGF0ZS5zZWxlY3RlZDtcblxuICAvLyByZXR1cm4gZmFsc2UgaWYgYXQgbGVhc3Qgb25lIHBsYXlsaXN0IGlzIG5vdCBzZWxlY3RlZFxuICBmb3IgKHZhciBwbGF5bGlzdElkIGluIHBsYXlsaXN0cykge1xuICAgIHZhciBfc2VsZWN0ZWQkcGxheWxpc3RJZCwgX3BsYXlsaXN0cyRwbGF5bGlzdElkLCBfc2VsZWN0ZWQkcGxheWxpc3RJZDI7XG4gICAgdmFyIGlzU2VsZWN0ZWQgPSAoc2VsZWN0ZWQgPT09IG51bGwgfHwgc2VsZWN0ZWQgPT09IHZvaWQgMCB8fCAoX3NlbGVjdGVkJHBsYXlsaXN0SWQgPSBzZWxlY3RlZFtwbGF5bGlzdElkXSkgPT09IG51bGwgfHwgX3NlbGVjdGVkJHBsYXlsaXN0SWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zZWxlY3RlZCRwbGF5bGlzdElkLnNlbGVjdGVkKSB8fCBmYWxzZTtcbiAgICBpZiAoIWlzU2VsZWN0ZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyByZXR1cm4gZmFsc2UgaWYgYXQgbGVhc3Qgb25lIHZpZGVvIGlzIG5vdCBzZWxlY3RlZFxuICAgIHZhciBhbGxWaWRlb3MgPSAocGxheWxpc3RzID09PSBudWxsIHx8IHBsYXlsaXN0cyA9PT0gdm9pZCAwIHx8IChfcGxheWxpc3RzJHBsYXlsaXN0SWQgPSBwbGF5bGlzdHNbcGxheWxpc3RJZF0pID09PSBudWxsIHx8IF9wbGF5bGlzdHMkcGxheWxpc3RJZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3BsYXlsaXN0cyRwbGF5bGlzdElkLnZpZGVvcykgfHwgW107XG4gICAgdmFyIHNlbGVjdGVkVmlkZW9zID0gKHNlbGVjdGVkID09PSBudWxsIHx8IHNlbGVjdGVkID09PSB2b2lkIDAgfHwgKF9zZWxlY3RlZCRwbGF5bGlzdElkMiA9IHNlbGVjdGVkW3BsYXlsaXN0SWRdKSA9PT0gbnVsbCB8fCBfc2VsZWN0ZWQkcGxheWxpc3RJZDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zZWxlY3RlZCRwbGF5bGlzdElkMi52aWRlb3MpIHx8IFtdO1xuXG4gICAgLy8gSXQgc3VmZmljZXMgdG8gY29tcGFyZSBsZW5ndGhzIG9ubHlcbiAgICBpZiAoYWxsVmlkZW9zLmxlbmd0aCAhPT0gc2VsZWN0ZWRWaWRlb3MubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiBPYmplY3Qua2V5cyhwbGF5bGlzdHMpLmxlbmd0aCA+IDA7XG59KTtcblxuLyoqXG4gKiBHZXQgc2VsZWN0ZWQgUGxheWxpc3RzICYgdmlkZW9zXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHBsYXlsaXN0c1N0YXRlIHRoZSBwbGF5bGlzdHMgb2JqZWN0LlxuICpcbiAqIEByZXR1cm4ge29iamVjdH1cbiAqL1xuZXhwb3J0IHZhciBnZXRTZWxlY3RlZFBsYXlsaXN0cyA9IGNyZWF0ZVNlbGVjdG9yKHBsYXlsaXN0c1N0YXRlLCBmdW5jdGlvbiAocGxheWxpc3RzU3RhdGUpIHtcbiAgcmV0dXJuIHBsYXlsaXN0c1N0YXRlLnNlbGVjdGVkO1xufSk7XG5cbi8qKlxuICogR2V0IExvYWRpbmcgc3RhdHVzXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHBsYXlsaXN0c1N0YXRlIHRoZSBwbGF5bGlzdHMgb2JqZWN0LlxuICpcbiAqIEByZXR1cm4geyp9XG4gKi9cbmV4cG9ydCB2YXIgZ2V0TG9hZGluZ1N0YXR1cyA9IGNyZWF0ZVNlbGVjdG9yKHBsYXlsaXN0c1N0YXRlLCBmdW5jdGlvbiAocGxheWxpc3RzU3RhdGUpIHtcbiAgcmV0dXJuIHBsYXlsaXN0c1N0YXRlLmlzTG9hZGluZztcbn0pO1xuXG4vLyBFeHBvcnQgYWN0aW9uc1xudmFyIF9wbGF5bGlzdHNTbGljZSRhY3RpbyA9IHBsYXlsaXN0c1NsaWNlLmFjdGlvbnMsXG4gIHNldFBsYXlsaXN0ID0gX3BsYXlsaXN0c1NsaWNlJGFjdGlvLnNldFBsYXlsaXN0LFxuICB1cGRhdGVQbGF5bGlzdEtleSA9IF9wbGF5bGlzdHNTbGljZSRhY3Rpby51cGRhdGVQbGF5bGlzdEtleSxcbiAgdG9nZ2xlUGxheWxpc3QgPSBfcGxheWxpc3RzU2xpY2UkYWN0aW8udG9nZ2xlUGxheWxpc3QsXG4gIHRvZ2dsZVZpZGVvID0gX3BsYXlsaXN0c1NsaWNlJGFjdGlvLnRvZ2dsZVZpZGVvLFxuICB0b2dnbGVBbGwgPSBfcGxheWxpc3RzU2xpY2UkYWN0aW8udG9nZ2xlQWxsO1xuZXhwb3J0IHsgc2V0UGxheWxpc3QsIHVwZGF0ZVBsYXlsaXN0S2V5LCB0b2dnbGVQbGF5bGlzdCwgdG9nZ2xlVmlkZW8sIHRvZ2dsZUFsbCB9O1xuZXhwb3J0IGRlZmF1bHQgcGxheWxpc3RzU2xpY2UucmVkdWNlcjsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9317\n')},4084:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DH: function() { return /* binding */ searchVideos; },\n/* harmony export */   H: function() { return /* binding */ getLoadingStatus; },\n/* harmony export */   Q6: function() { return /* binding */ getFilteredIds; },\n/* harmony export */   fY: function() { return /* binding */ getVideos; },\n/* harmony export */   r2: function() { return /* binding */ initVideos; }\n/* harmony export */ });\n/* unused harmony exports deleteVideo, unAssignVideo, fetchEmbed, createVideo, updateVideo, getEmbed, setFiltered */\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8740);\n/* harmony import */ var _helpers_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9331);\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4214);\n/* harmony import */ var reselect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1081);\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator.return && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, catch: function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\n\n\n\n\n\n/**\n * Re-initialize the videos list\n *\n * @return {Promise}\n */\nvar initVideos = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'videos/init\',\n// Redux action type\nfunction (params) {\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restGet */ .B8)({\n    path: \'videos\',\n    params: params\n  });\n});\n\n/**\n * Deletes a video\n *\n * @return {Promise}\n */\nvar deleteVideo = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'videos/delete\',\n// Redux action type\nfunction (data) {\n  var id = data.id;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restDelete */ ._8)({\n    path: "videos/".concat(id)\n  });\n});\n\n/**\n * Delete a video from playlist\n *\n * @return {Promise}\n */\nvar unAssignVideo = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'videos/delete\',\n// Redux action type\nfunction (_ref) {\n  var playlistID = _ref.playlistID,\n    videoID = _ref.videoID;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restDelete */ ._8)({\n    path: "playlists/".concat(playlistID, "/videos"),\n    data: {\n      videos: [videoID]\n    }\n  });\n});\n\n/**\n * Fetch a single embed object using API.\n *\n * Use this only if the embed is not already\n * found in state.\n *\n * @param {object} data Video ID and other args.\n *\n * @return {Promise}\n */\nvar fetchEmbed = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'videos/fetchEmbed\', /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(data) {\n    var response;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          if (!(data.id && data.id > 0)) {\n            _context.next = 6;\n            break;\n          }\n          _context.next = 3;\n          return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restGet */ .B8)({\n            path: "videos/".concat(data.id, "/embed"),\n            params: data\n          });\n        case 3:\n          response = _context.sent;\n          // Include the id in response\n          response.id = data.id;\n          return _context.abrupt("return", response);\n        case 6:\n        case "end":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}());\n\n/**\n * Create a video\n *\n * @param {object} video Video object\n *\n * @return {Promise}\n */\nvar createVideo = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'videos/create\', function (data) {\n  var video = data.video;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restPost */ .J8)({\n    path: \'videos\',\n    data: video\n  });\n});\n\n/**\n * Update a video\n *\n * @param {object} video Video object\n *\n * @return {Promise}\n */\nvar updateVideo = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'videos/update\', function (data) {\n  var video = data.video,\n    id = data.id;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restPost */ .J8)({\n    path: "videos/".concat(id),\n    data: video\n  });\n});\n\n/**\n * Search Videos\n *\n * @param {object} search search string\n *\n * @return {Promise}\n */\nvar searchVideos = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createAsyncThunk */ .zD)(\'videos/search\', function (data) {\n  var search = data.search;\n  return (0,_helpers_api__WEBPACK_IMPORTED_MODULE_0__/* .restGet */ .B8)({\n    path: "videos",\n    params: {\n      search: search,\n      field: \'ids\'\n    }\n  });\n});\nvar videosSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createSlice */ .Z0)({\n  name: \'videos\',\n  initialState: {\n    videos: {},\n    embeds: {},\n    filtered: [],\n    isLoading: false\n  },\n  reducers: {\n    /**\n     * Set a filtered video ids in state.\n     *\n     * It replaces the filtered list with the provided one\n     *\n     * @param {state} state object\n     * @param {object} action object\n     *\n     * @return {object} New State Object\n     */\n    setFiltered: function setFiltered(state, action) {\n      var ids = action.payload.ids;\n      return _objectSpread(_objectSpread({}, state), {}, {\n        filtered: ids\n      });\n    }\n  },\n  extraReducers: function extraReducers(builder) {\n    builder\n    // Handling initVideos status\n    .addCase(initVideos.pending, function (state) {\n      // Set Loading\n      state.isLoading = true;\n    }).addCase(initVideos.fulfilled, function (state, action) {\n      state.isLoading = false;\n      var payload = action.payload;\n      if (payload.success && payload.data) {\n        var videos = {};\n        var filtered = [];\n\n        // Setup the list data.\n        payload.data.forEach(function (video) {\n          videos[video.id] = video;\n          filtered.push(video.id);\n        });\n\n        // update the state\n        state.videos = videos;\n        state.filtered = filtered;\n      }\n      state.status = \'success\';\n    }).addCase(initVideos.rejected, function (state) {\n      // Update Status\n      state.status = \'error\';\n    })\n\n    // Handling fetchEmbed\n    .addCase(fetchEmbed.fulfilled, function (state, action) {\n      var embed = {};\n\n      // Update state\n      var payload = action.payload;\n      if (payload !== null && payload !== void 0 && payload.success && payload !== null && payload !== void 0 && payload.data && payload !== null && payload !== void 0 && payload.data.html) {\n        embed = payload.data;\n        var newData = _objectSpread({}, payload.data);\n        newData.id = payload.id;\n\n        // Update the state\n        state.embeds[payload.id] = newData;\n      }\n    })\n\n    // Handling Video Create\n    .addCase(createVideo.fulfilled, function (state, action) {\n      // Update state\n      var payload = action.payload;\n      if (payload !== null && payload !== void 0 && payload.success) {\n        var video = payload.data;\n\n        // Add video to state\n        if (video.id && video.id > 0) {\n          state.videos = _objectSpread(_objectSpread({}, state.videos), {}, _defineProperty({}, video.id, video));\n\n          // Add the id to the filtered list so the video will be displayed\n          state.filtered = [].concat(_toConsumableArray(state.filtered), [video.id]);\n        }\n      }\n    })\n\n    // Handeling Video Update\n    .addCase(updateVideo.fulfilled, function (state, action) {\n      var payload = action.payload;\n      var newVideo = payload.data;\n      if (payload !== null && payload !== void 0 && payload.success) {\n        // Update videos state\n        state.videos = _objectSpread(_objectSpread({}, state.videos), {}, _defineProperty({}, newVideo.id, newVideo));\n      }\n    })\n\n    // Handeling Video Delete\n    .addCase(deleteVideo.fulfilled, function (state, action) {\n      var id = action.meta.arg.id,\n        success = action.payload.success;\n      if (success === true) {\n        var videos = state.videos,\n          filtered = state.filtered;\n\n        // Remove from filtered list\n        state.filtered = filtered.filter(function (item) {\n          return id !== item;\n        });\n\n        // Delete the video from the videos object\n        var newVideos = _objectSpread({}, videos);\n        delete newVideos[id];\n        state.videos = newVideos;\n      }\n    })\n\n    // Handeling Video Search\n    .addCase(searchVideos.pending, function (state, action) {\n      // Set Loading\n      state.isLoading = true;\n    }).addCase(searchVideos.fulfilled, function (state, action) {\n      var _action$payload;\n      var ids = (action === null || action === void 0 || (_action$payload = action.payload) === null || _action$payload === void 0 ? void 0 : _action$payload.data) || [];\n      state.filtered = ids;\n\n      // Set Loading\n      state.isLoading = false;\n    }).addCase(searchVideos.rejected, function (state, action) {\n      state.isLoading = false;\n    });\n  }\n});\n\n// Selectors\nvar videosState = function videosState(state) {\n  return state.videos;\n};\n\n/**\n * Get video(s) object(s) by id(s)\n *\n * @param {object} videosState\n * @param {array|string} ids videos ids\n *\n * @return {array|object|false}\n */\nvar getVideos = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(videosState, function (_, ids) {\n  return ids;\n}, function (videosState, ids) {\n  var videos = [];\n  if (Array.isArray(ids)) {\n    ids.forEach(function (id) {\n      if (videosState.videos[id]) {\n        videos.push(videosState.videos[id]);\n      }\n    });\n    return videos;\n  } else if (typeof ids === \'string\' || typeof ids === \'number\') {\n    return videosState.videos[ids];\n  } else {\n    // If ids is not provided get all videos\n    return videosState.videos;\n  }\n});\n\n/**\n * Get Filtered IDs\n *\n * @param {object} videosState\n *\n * @return {array}\n */\nvar getFilteredIds = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(videosState, function (videosState) {\n  return videosState.filtered;\n});\n\n/**\n * Get a single embed object\n *\n * @param {object} videosState\n * @param {number} videoId\n *\n * @return {array}\n */\nvar getEmbed = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(videosState, function (_, id) {\n  return id;\n}, function (videosState, id) {\n  return videosState.embeds[id] || false;\n});\n\n/**\n * Get loading status\n *\n * @param {object} videosState the videos state object.\n *\n * @return {boolean}\n */\nvar getLoadingStatus = (0,reselect__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(videosState, function (videosState) {\n  return videosState.isLoading;\n});\n\n// Export actions\nvar setFiltered = videosSlice.actions.setFiltered;\n\n/* harmony default export */ __webpack_exports__.Ay = (videosSlice.reducer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDA4NC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9hcHAvc3JjL3N0b3JlL3NsaWNlcy92aWRlb3MuanM/MWIwYyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkocikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKHIpIHx8IF9pdGVyYWJsZVRvQXJyYXkocikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkgeyBpZiAocikgeyBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gXCJPYmplY3RcIiA9PT0gdCAmJiByLmNvbnN0cnVjdG9yICYmICh0ID0gci5jb25zdHJ1Y3Rvci5uYW1lKSwgXCJNYXBcIiA9PT0gdCB8fCBcIlNldFwiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6IFwiQXJndW1lbnRzXCIgPT09IHQgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkgPyBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSA6IHZvaWQgMDsgfSB9XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KHIpIHsgaWYgKFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiBudWxsICE9IHJbU3ltYm9sLml0ZXJhdG9yXSB8fCBudWxsICE9IHJbXCJAQGl0ZXJhdG9yXCJdKSByZXR1cm4gQXJyYXkuZnJvbShyKTsgfVxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKHIpIHsgaWYgKEFycmF5LmlzQXJyYXkocikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyKTsgfVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfVxuZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkoZSwgciwgdCkgeyByZXR1cm4gKHIgPSBfdG9Qcm9wZXJ0eUtleShyKSkgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCB7IHZhbHVlOiB0LCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pIDogZVtyXSA9IHQsIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG5mdW5jdGlvbiBfcmVnZW5lcmF0b3JSdW50aW1lKCkgeyBcInVzZSBzdHJpY3RcIjsgLyohIHJlZ2VuZXJhdG9yLXJ1bnRpbWUgLS0gQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuIC0tIGxpY2Vuc2UgKE1JVCk6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9ibG9iL21haW4vTElDRU5TRSAqLyBfcmVnZW5lcmF0b3JSdW50aW1lID0gZnVuY3Rpb24gX3JlZ2VuZXJhdG9yUnVudGltZSgpIHsgcmV0dXJuIGU7IH07IHZhciB0LCBlID0ge30sIHIgPSBPYmplY3QucHJvdG90eXBlLCBuID0gci5oYXNPd25Qcm9wZXJ0eSwgbyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB8fCBmdW5jdGlvbiAodCwgZSwgcikgeyB0W2VdID0gci52YWx1ZTsgfSwgaSA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sID8gU3ltYm9sIDoge30sIGEgPSBpLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiLCBjID0gaS5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCIsIHUgPSBpLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiOyBmdW5jdGlvbiBkZWZpbmUodCwgZSwgcikgeyByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIGUsIHsgdmFsdWU6IHIsIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAgfSksIHRbZV07IH0gdHJ5IHsgZGVmaW5lKHt9LCBcIlwiKTsgfSBjYXRjaCAodCkgeyBkZWZpbmUgPSBmdW5jdGlvbiBkZWZpbmUodCwgZSwgcikgeyByZXR1cm4gdFtlXSA9IHI7IH07IH0gZnVuY3Rpb24gd3JhcCh0LCBlLCByLCBuKSB7IHZhciBpID0gZSAmJiBlLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvciA/IGUgOiBHZW5lcmF0b3IsIGEgPSBPYmplY3QuY3JlYXRlKGkucHJvdG90eXBlKSwgYyA9IG5ldyBDb250ZXh0KG4gfHwgW10pOyByZXR1cm4gbyhhLCBcIl9pbnZva2VcIiwgeyB2YWx1ZTogbWFrZUludm9rZU1ldGhvZCh0LCByLCBjKSB9KSwgYTsgfSBmdW5jdGlvbiB0cnlDYXRjaCh0LCBlLCByKSB7IHRyeSB7IHJldHVybiB7IHR5cGU6IFwibm9ybWFsXCIsIGFyZzogdC5jYWxsKGUsIHIpIH07IH0gY2F0Y2ggKHQpIHsgcmV0dXJuIHsgdHlwZTogXCJ0aHJvd1wiLCBhcmc6IHQgfTsgfSB9IGUud3JhcCA9IHdyYXA7IHZhciBoID0gXCJzdXNwZW5kZWRTdGFydFwiLCBsID0gXCJzdXNwZW5kZWRZaWVsZFwiLCBmID0gXCJleGVjdXRpbmdcIiwgcyA9IFwiY29tcGxldGVkXCIsIHkgPSB7fTsgZnVuY3Rpb24gR2VuZXJhdG9yKCkge30gZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fSBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9IHZhciBwID0ge307IGRlZmluZShwLCBhLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KTsgdmFyIGQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YsIHYgPSBkICYmIGQoZCh2YWx1ZXMoW10pKSk7IHYgJiYgdiAhPT0gciAmJiBuLmNhbGwodiwgYSkgJiYgKHAgPSB2KTsgdmFyIGcgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPSBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShwKTsgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHQpIHsgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24gKGUpIHsgZGVmaW5lKHQsIGUsIGZ1bmN0aW9uICh0KSB7IHJldHVybiB0aGlzLl9pbnZva2UoZSwgdCk7IH0pOyB9KTsgfSBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKHQsIGUpIHsgZnVuY3Rpb24gaW52b2tlKHIsIG8sIGksIGEpIHsgdmFyIGMgPSB0cnlDYXRjaCh0W3JdLCB0LCBvKTsgaWYgKFwidGhyb3dcIiAhPT0gYy50eXBlKSB7IHZhciB1ID0gYy5hcmcsIGggPSB1LnZhbHVlOyByZXR1cm4gaCAmJiBcIm9iamVjdFwiID09IF90eXBlb2YoaCkgJiYgbi5jYWxsKGgsIFwiX19hd2FpdFwiKSA/IGUucmVzb2x2ZShoLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24gKHQpIHsgaW52b2tlKFwibmV4dFwiLCB0LCBpLCBhKTsgfSwgZnVuY3Rpb24gKHQpIHsgaW52b2tlKFwidGhyb3dcIiwgdCwgaSwgYSk7IH0pIDogZS5yZXNvbHZlKGgpLnRoZW4oZnVuY3Rpb24gKHQpIHsgdS52YWx1ZSA9IHQsIGkodSk7IH0sIGZ1bmN0aW9uICh0KSB7IHJldHVybiBpbnZva2UoXCJ0aHJvd1wiLCB0LCBpLCBhKTsgfSk7IH0gYShjLmFyZyk7IH0gdmFyIHI7IG8odGhpcywgXCJfaW52b2tlXCIsIHsgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKHQsIG4pIHsgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7IHJldHVybiBuZXcgZShmdW5jdGlvbiAoZSwgcikgeyBpbnZva2UodCwgbiwgZSwgcik7IH0pOyB9IHJldHVybiByID0gciA/IHIudGhlbihjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZywgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcpIDogY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKTsgfSB9KTsgfSBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGUsIHIsIG4pIHsgdmFyIG8gPSBoOyByZXR1cm4gZnVuY3Rpb24gKGksIGEpIHsgaWYgKG8gPT09IGYpIHRocm93IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTsgaWYgKG8gPT09IHMpIHsgaWYgKFwidGhyb3dcIiA9PT0gaSkgdGhyb3cgYTsgcmV0dXJuIHsgdmFsdWU6IHQsIGRvbmU6ICEwIH07IH0gZm9yIChuLm1ldGhvZCA9IGksIG4uYXJnID0gYTs7KSB7IHZhciBjID0gbi5kZWxlZ2F0ZTsgaWYgKGMpIHsgdmFyIHUgPSBtYXliZUludm9rZURlbGVnYXRlKGMsIG4pOyBpZiAodSkgeyBpZiAodSA9PT0geSkgY29udGludWU7IHJldHVybiB1OyB9IH0gaWYgKFwibmV4dFwiID09PSBuLm1ldGhvZCkgbi5zZW50ID0gbi5fc2VudCA9IG4uYXJnO2Vsc2UgaWYgKFwidGhyb3dcIiA9PT0gbi5tZXRob2QpIHsgaWYgKG8gPT09IGgpIHRocm93IG8gPSBzLCBuLmFyZzsgbi5kaXNwYXRjaEV4Y2VwdGlvbihuLmFyZyk7IH0gZWxzZSBcInJldHVyblwiID09PSBuLm1ldGhvZCAmJiBuLmFicnVwdChcInJldHVyblwiLCBuLmFyZyk7IG8gPSBmOyB2YXIgcCA9IHRyeUNhdGNoKGUsIHIsIG4pOyBpZiAoXCJub3JtYWxcIiA9PT0gcC50eXBlKSB7IGlmIChvID0gbi5kb25lID8gcyA6IGwsIHAuYXJnID09PSB5KSBjb250aW51ZTsgcmV0dXJuIHsgdmFsdWU6IHAuYXJnLCBkb25lOiBuLmRvbmUgfTsgfSBcInRocm93XCIgPT09IHAudHlwZSAmJiAobyA9IHMsIG4ubWV0aG9kID0gXCJ0aHJvd1wiLCBuLmFyZyA9IHAuYXJnKTsgfSB9OyB9IGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZSwgcikgeyB2YXIgbiA9IHIubWV0aG9kLCBvID0gZS5pdGVyYXRvcltuXTsgaWYgKG8gPT09IHQpIHJldHVybiByLmRlbGVnYXRlID0gbnVsbCwgXCJ0aHJvd1wiID09PSBuICYmIGUuaXRlcmF0b3IucmV0dXJuICYmIChyLm1ldGhvZCA9IFwicmV0dXJuXCIsIHIuYXJnID0gdCwgbWF5YmVJbnZva2VEZWxlZ2F0ZShlLCByKSwgXCJ0aHJvd1wiID09PSByLm1ldGhvZCkgfHwgXCJyZXR1cm5cIiAhPT0gbiAmJiAoci5tZXRob2QgPSBcInRocm93XCIsIHIuYXJnID0gbmV3IFR5cGVFcnJvcihcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ1wiICsgbiArIFwiJyBtZXRob2RcIikpLCB5OyB2YXIgaSA9IHRyeUNhdGNoKG8sIGUuaXRlcmF0b3IsIHIuYXJnKTsgaWYgKFwidGhyb3dcIiA9PT0gaS50eXBlKSByZXR1cm4gci5tZXRob2QgPSBcInRocm93XCIsIHIuYXJnID0gaS5hcmcsIHIuZGVsZWdhdGUgPSBudWxsLCB5OyB2YXIgYSA9IGkuYXJnOyByZXR1cm4gYSA/IGEuZG9uZSA/IChyW2UucmVzdWx0TmFtZV0gPSBhLnZhbHVlLCByLm5leHQgPSBlLm5leHRMb2MsIFwicmV0dXJuXCIgIT09IHIubWV0aG9kICYmIChyLm1ldGhvZCA9IFwibmV4dFwiLCByLmFyZyA9IHQpLCByLmRlbGVnYXRlID0gbnVsbCwgeSkgOiBhIDogKHIubWV0aG9kID0gXCJ0aHJvd1wiLCByLmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKSwgci5kZWxlZ2F0ZSA9IG51bGwsIHkpOyB9IGZ1bmN0aW9uIHB1c2hUcnlFbnRyeSh0KSB7IHZhciBlID0geyB0cnlMb2M6IHRbMF0gfTsgMSBpbiB0ICYmIChlLmNhdGNoTG9jID0gdFsxXSksIDIgaW4gdCAmJiAoZS5maW5hbGx5TG9jID0gdFsyXSwgZS5hZnRlckxvYyA9IHRbM10pLCB0aGlzLnRyeUVudHJpZXMucHVzaChlKTsgfSBmdW5jdGlvbiByZXNldFRyeUVudHJ5KHQpIHsgdmFyIGUgPSB0LmNvbXBsZXRpb24gfHwge307IGUudHlwZSA9IFwibm9ybWFsXCIsIGRlbGV0ZSBlLmFyZywgdC5jb21wbGV0aW9uID0gZTsgfSBmdW5jdGlvbiBDb250ZXh0KHQpIHsgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XSwgdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyksIHRoaXMucmVzZXQoITApOyB9IGZ1bmN0aW9uIHZhbHVlcyhlKSB7IGlmIChlIHx8IFwiXCIgPT09IGUpIHsgdmFyIHIgPSBlW2FdOyBpZiAocikgcmV0dXJuIHIuY2FsbChlKTsgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZS5uZXh0KSByZXR1cm4gZTsgaWYgKCFpc05hTihlLmxlbmd0aCkpIHsgdmFyIG8gPSAtMSwgaSA9IGZ1bmN0aW9uIG5leHQoKSB7IGZvciAoOyArK28gPCBlLmxlbmd0aDspIGlmIChuLmNhbGwoZSwgbykpIHJldHVybiBuZXh0LnZhbHVlID0gZVtvXSwgbmV4dC5kb25lID0gITEsIG5leHQ7IHJldHVybiBuZXh0LnZhbHVlID0gdCwgbmV4dC5kb25lID0gITAsIG5leHQ7IH07IHJldHVybiBpLm5leHQgPSBpOyB9IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihfdHlwZW9mKGUpICsgXCIgaXMgbm90IGl0ZXJhYmxlXCIpOyB9IHJldHVybiBHZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgbyhnLCBcImNvbnN0cnVjdG9yXCIsIHsgdmFsdWU6IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBjb25maWd1cmFibGU6ICEwIH0pLCBvKEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLCBcImNvbnN0cnVjdG9yXCIsIHsgdmFsdWU6IEdlbmVyYXRvckZ1bmN0aW9uLCBjb25maWd1cmFibGU6ICEwIH0pLCBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IGRlZmluZShHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgdSwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKSwgZS5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24gKHQpIHsgdmFyIGUgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHQgJiYgdC5jb25zdHJ1Y3RvcjsgcmV0dXJuICEhZSAmJiAoZSA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHwgXCJHZW5lcmF0b3JGdW5jdGlvblwiID09PSAoZS5kaXNwbGF5TmFtZSB8fCBlLm5hbWUpKTsgfSwgZS5tYXJrID0gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZih0LCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSkgOiAodC5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgZGVmaW5lKHQsIHUsIFwiR2VuZXJhdG9yRnVuY3Rpb25cIikpLCB0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoZyksIHQ7IH0sIGUuYXdyYXAgPSBmdW5jdGlvbiAodCkgeyByZXR1cm4geyBfX2F3YWl0OiB0IH07IH0sIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSksIGRlZmluZShBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSwgYywgZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSksIGUuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3IsIGUuYXN5bmMgPSBmdW5jdGlvbiAodCwgciwgbiwgbywgaSkgeyB2b2lkIDAgPT09IGkgJiYgKGkgPSBQcm9taXNlKTsgdmFyIGEgPSBuZXcgQXN5bmNJdGVyYXRvcih3cmFwKHQsIHIsIG4sIG8pLCBpKTsgcmV0dXJuIGUuaXNHZW5lcmF0b3JGdW5jdGlvbihyKSA/IGEgOiBhLm5leHQoKS50aGVuKGZ1bmN0aW9uICh0KSB7IHJldHVybiB0LmRvbmUgPyB0LnZhbHVlIDogYS5uZXh0KCk7IH0pOyB9LCBkZWZpbmVJdGVyYXRvck1ldGhvZHMoZyksIGRlZmluZShnLCB1LCBcIkdlbmVyYXRvclwiKSwgZGVmaW5lKGcsIGEsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pLCBkZWZpbmUoZywgXCJ0b1N0cmluZ1wiLCBmdW5jdGlvbiAoKSB7IHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiOyB9KSwgZS5rZXlzID0gZnVuY3Rpb24gKHQpIHsgdmFyIGUgPSBPYmplY3QodCksIHIgPSBbXTsgZm9yICh2YXIgbiBpbiBlKSByLnB1c2gobik7IHJldHVybiByLnJldmVyc2UoKSwgZnVuY3Rpb24gbmV4dCgpIHsgZm9yICg7IHIubGVuZ3RoOykgeyB2YXIgdCA9IHIucG9wKCk7IGlmICh0IGluIGUpIHJldHVybiBuZXh0LnZhbHVlID0gdCwgbmV4dC5kb25lID0gITEsIG5leHQ7IH0gcmV0dXJuIG5leHQuZG9uZSA9ICEwLCBuZXh0OyB9OyB9LCBlLnZhbHVlcyA9IHZhbHVlcywgQ29udGV4dC5wcm90b3R5cGUgPSB7IGNvbnN0cnVjdG9yOiBDb250ZXh0LCByZXNldDogZnVuY3Rpb24gcmVzZXQoZSkgeyBpZiAodGhpcy5wcmV2ID0gMCwgdGhpcy5uZXh0ID0gMCwgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IHQsIHRoaXMuZG9uZSA9ICExLCB0aGlzLmRlbGVnYXRlID0gbnVsbCwgdGhpcy5tZXRob2QgPSBcIm5leHRcIiwgdGhpcy5hcmcgPSB0LCB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KSwgIWUpIGZvciAodmFyIHIgaW4gdGhpcykgXCJ0XCIgPT09IHIuY2hhckF0KDApICYmIG4uY2FsbCh0aGlzLCByKSAmJiAhaXNOYU4oK3Iuc2xpY2UoMSkpICYmICh0aGlzW3JdID0gdCk7IH0sIHN0b3A6IGZ1bmN0aW9uIHN0b3AoKSB7IHRoaXMuZG9uZSA9ICEwOyB2YXIgdCA9IHRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uOyBpZiAoXCJ0aHJvd1wiID09PSB0LnR5cGUpIHRocm93IHQuYXJnOyByZXR1cm4gdGhpcy5ydmFsOyB9LCBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24gZGlzcGF0Y2hFeGNlcHRpb24oZSkgeyBpZiAodGhpcy5kb25lKSB0aHJvdyBlOyB2YXIgciA9IHRoaXM7IGZ1bmN0aW9uIGhhbmRsZShuLCBvKSB7IHJldHVybiBhLnR5cGUgPSBcInRocm93XCIsIGEuYXJnID0gZSwgci5uZXh0ID0gbiwgbyAmJiAoci5tZXRob2QgPSBcIm5leHRcIiwgci5hcmcgPSB0KSwgISFvOyB9IGZvciAodmFyIG8gPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgbyA+PSAwOyAtLW8pIHsgdmFyIGkgPSB0aGlzLnRyeUVudHJpZXNbb10sIGEgPSBpLmNvbXBsZXRpb247IGlmIChcInJvb3RcIiA9PT0gaS50cnlMb2MpIHJldHVybiBoYW5kbGUoXCJlbmRcIik7IGlmIChpLnRyeUxvYyA8PSB0aGlzLnByZXYpIHsgdmFyIGMgPSBuLmNhbGwoaSwgXCJjYXRjaExvY1wiKSwgdSA9IG4uY2FsbChpLCBcImZpbmFsbHlMb2NcIik7IGlmIChjICYmIHUpIHsgaWYgKHRoaXMucHJldiA8IGkuY2F0Y2hMb2MpIHJldHVybiBoYW5kbGUoaS5jYXRjaExvYywgITApOyBpZiAodGhpcy5wcmV2IDwgaS5maW5hbGx5TG9jKSByZXR1cm4gaGFuZGxlKGkuZmluYWxseUxvYyk7IH0gZWxzZSBpZiAoYykgeyBpZiAodGhpcy5wcmV2IDwgaS5jYXRjaExvYykgcmV0dXJuIGhhbmRsZShpLmNhdGNoTG9jLCAhMCk7IH0gZWxzZSB7IGlmICghdSkgdGhyb3cgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTsgaWYgKHRoaXMucHJldiA8IGkuZmluYWxseUxvYykgcmV0dXJuIGhhbmRsZShpLmZpbmFsbHlMb2MpOyB9IH0gfSB9LCBhYnJ1cHQ6IGZ1bmN0aW9uIGFicnVwdCh0LCBlKSB7IGZvciAodmFyIHIgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgciA+PSAwOyAtLXIpIHsgdmFyIG8gPSB0aGlzLnRyeUVudHJpZXNbcl07IGlmIChvLnRyeUxvYyA8PSB0aGlzLnByZXYgJiYgbi5jYWxsKG8sIFwiZmluYWxseUxvY1wiKSAmJiB0aGlzLnByZXYgPCBvLmZpbmFsbHlMb2MpIHsgdmFyIGkgPSBvOyBicmVhazsgfSB9IGkgJiYgKFwiYnJlYWtcIiA9PT0gdCB8fCBcImNvbnRpbnVlXCIgPT09IHQpICYmIGkudHJ5TG9jIDw9IGUgJiYgZSA8PSBpLmZpbmFsbHlMb2MgJiYgKGkgPSBudWxsKTsgdmFyIGEgPSBpID8gaS5jb21wbGV0aW9uIDoge307IHJldHVybiBhLnR5cGUgPSB0LCBhLmFyZyA9IGUsIGkgPyAodGhpcy5tZXRob2QgPSBcIm5leHRcIiwgdGhpcy5uZXh0ID0gaS5maW5hbGx5TG9jLCB5KSA6IHRoaXMuY29tcGxldGUoYSk7IH0sIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZSh0LCBlKSB7IGlmIChcInRocm93XCIgPT09IHQudHlwZSkgdGhyb3cgdC5hcmc7IHJldHVybiBcImJyZWFrXCIgPT09IHQudHlwZSB8fCBcImNvbnRpbnVlXCIgPT09IHQudHlwZSA/IHRoaXMubmV4dCA9IHQuYXJnIDogXCJyZXR1cm5cIiA9PT0gdC50eXBlID8gKHRoaXMucnZhbCA9IHRoaXMuYXJnID0gdC5hcmcsIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIiwgdGhpcy5uZXh0ID0gXCJlbmRcIikgOiBcIm5vcm1hbFwiID09PSB0LnR5cGUgJiYgZSAmJiAodGhpcy5uZXh0ID0gZSksIHk7IH0sIGZpbmlzaDogZnVuY3Rpb24gZmluaXNoKHQpIHsgZm9yICh2YXIgZSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBlID49IDA7IC0tZSkgeyB2YXIgciA9IHRoaXMudHJ5RW50cmllc1tlXTsgaWYgKHIuZmluYWxseUxvYyA9PT0gdCkgcmV0dXJuIHRoaXMuY29tcGxldGUoci5jb21wbGV0aW9uLCByLmFmdGVyTG9jKSwgcmVzZXRUcnlFbnRyeShyKSwgeTsgfSB9LCBjYXRjaDogZnVuY3Rpb24gX2NhdGNoKHQpIHsgZm9yICh2YXIgZSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBlID49IDA7IC0tZSkgeyB2YXIgciA9IHRoaXMudHJ5RW50cmllc1tlXTsgaWYgKHIudHJ5TG9jID09PSB0KSB7IHZhciBuID0gci5jb21wbGV0aW9uOyBpZiAoXCJ0aHJvd1wiID09PSBuLnR5cGUpIHsgdmFyIG8gPSBuLmFyZzsgcmVzZXRUcnlFbnRyeShyKTsgfSByZXR1cm4gbzsgfSB9IHRocm93IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpOyB9LCBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbiBkZWxlZ2F0ZVlpZWxkKGUsIHIsIG4pIHsgcmV0dXJuIHRoaXMuZGVsZWdhdGUgPSB7IGl0ZXJhdG9yOiB2YWx1ZXMoZSksIHJlc3VsdE5hbWU6IHIsIG5leHRMb2M6IG4gfSwgXCJuZXh0XCIgPT09IHRoaXMubWV0aG9kICYmICh0aGlzLmFyZyA9IHQpLCB5OyB9IH0sIGU7IH1cbmZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChuLCB0LCBlLCByLCBvLCBhLCBjKSB7IHRyeSB7IHZhciBpID0gblthXShjKSwgdSA9IGkudmFsdWU7IH0gY2F0Y2ggKG4pIHsgcmV0dXJuIHZvaWQgZShuKTsgfSBpLmRvbmUgPyB0KHUpIDogUHJvbWlzZS5yZXNvbHZlKHUpLnRoZW4ociwgbyk7IH1cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgdmFyIHQgPSB0aGlzLCBlID0gYXJndW1lbnRzOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHIsIG8pIHsgdmFyIGEgPSBuLmFwcGx5KHQsIGUpOyBmdW5jdGlvbiBfbmV4dChuKSB7IGFzeW5jR2VuZXJhdG9yU3RlcChhLCByLCBvLCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgbik7IH0gZnVuY3Rpb24gX3Rocm93KG4pIHsgYXN5bmNHZW5lcmF0b3JTdGVwKGEsIHIsIG8sIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgbik7IH0gX25leHQodm9pZCAwKTsgfSk7IH07IH1cbmltcG9ydCB7IGNyZWF0ZVNsaWNlLCBjcmVhdGVBc3luY1RodW5rIH0gZnJvbSAnQHJlZHV4anMvdG9vbGtpdCc7XG5pbXBvcnQgeyByZXN0UG9zdCwgcmVzdERlbGV0ZSwgcmVzdEdldCB9IGZyb20gJy4uLy4uL2hlbHBlcnMvYXBpJztcbmltcG9ydCB7IF9fIH0gZnJvbSAnQHdvcmRwcmVzcy9pMThuJztcbmltcG9ydCB7IGNyZWF0ZVNlbGVjdG9yIH0gZnJvbSAncmVzZWxlY3QnO1xuXG4vKipcbiAqIFJlLWluaXRpYWxpemUgdGhlIHZpZGVvcyBsaXN0XG4gKlxuICogQHJldHVybiB7UHJvbWlzZX1cbiAqL1xuZXhwb3J0IHZhciBpbml0VmlkZW9zID0gY3JlYXRlQXN5bmNUaHVuaygndmlkZW9zL2luaXQnLFxuLy8gUmVkdXggYWN0aW9uIHR5cGVcbmZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgcmV0dXJuIHJlc3RHZXQoe1xuICAgIHBhdGg6ICd2aWRlb3MnLFxuICAgIHBhcmFtczogcGFyYW1zXG4gIH0pO1xufSk7XG5cbi8qKlxuICogRGVsZXRlcyBhIHZpZGVvXG4gKlxuICogQHJldHVybiB7UHJvbWlzZX1cbiAqL1xuZXhwb3J0IHZhciBkZWxldGVWaWRlbyA9IGNyZWF0ZUFzeW5jVGh1bmsoJ3ZpZGVvcy9kZWxldGUnLFxuLy8gUmVkdXggYWN0aW9uIHR5cGVcbmZ1bmN0aW9uIChkYXRhKSB7XG4gIHZhciBpZCA9IGRhdGEuaWQ7XG4gIHJldHVybiByZXN0RGVsZXRlKHtcbiAgICBwYXRoOiBcInZpZGVvcy9cIi5jb25jYXQoaWQpXG4gIH0pO1xufSk7XG5cbi8qKlxuICogRGVsZXRlIGEgdmlkZW8gZnJvbSBwbGF5bGlzdFxuICpcbiAqIEByZXR1cm4ge1Byb21pc2V9XG4gKi9cbmV4cG9ydCB2YXIgdW5Bc3NpZ25WaWRlbyA9IGNyZWF0ZUFzeW5jVGh1bmsoJ3ZpZGVvcy9kZWxldGUnLFxuLy8gUmVkdXggYWN0aW9uIHR5cGVcbmZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBwbGF5bGlzdElEID0gX3JlZi5wbGF5bGlzdElELFxuICAgIHZpZGVvSUQgPSBfcmVmLnZpZGVvSUQ7XG4gIHJldHVybiByZXN0RGVsZXRlKHtcbiAgICBwYXRoOiBcInBsYXlsaXN0cy9cIi5jb25jYXQocGxheWxpc3RJRCwgXCIvdmlkZW9zXCIpLFxuICAgIGRhdGE6IHtcbiAgICAgIHZpZGVvczogW3ZpZGVvSURdXG4gICAgfVxuICB9KTtcbn0pO1xuXG4vKipcbiAqIEZldGNoIGEgc2luZ2xlIGVtYmVkIG9iamVjdCB1c2luZyBBUEkuXG4gKlxuICogVXNlIHRoaXMgb25seSBpZiB0aGUgZW1iZWQgaXMgbm90IGFscmVhZHlcbiAqIGZvdW5kIGluIHN0YXRlLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIFZpZGVvIElEIGFuZCBvdGhlciBhcmdzLlxuICpcbiAqIEByZXR1cm4ge1Byb21pc2V9XG4gKi9cbmV4cG9ydCB2YXIgZmV0Y2hFbWJlZCA9IGNyZWF0ZUFzeW5jVGh1bmsoJ3ZpZGVvcy9mZXRjaEVtYmVkJywgLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKGRhdGEpIHtcbiAgICB2YXIgcmVzcG9uc2U7XG4gICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgaWYgKCEoZGF0YS5pZCAmJiBkYXRhLmlkID4gMCkpIHtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzO1xuICAgICAgICAgIHJldHVybiByZXN0R2V0KHtcbiAgICAgICAgICAgIHBhdGg6IFwidmlkZW9zL1wiLmNvbmNhdChkYXRhLmlkLCBcIi9lbWJlZFwiKSxcbiAgICAgICAgICAgIHBhcmFtczogZGF0YVxuICAgICAgICAgIH0pO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50O1xuICAgICAgICAgIC8vIEluY2x1ZGUgdGhlIGlkIGluIHJlc3BvbnNlXG4gICAgICAgICAgcmVzcG9uc2UuaWQgPSBkYXRhLmlkO1xuICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzcG9uc2UpO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgfVxuICAgIH0sIF9jYWxsZWUpO1xuICB9KSk7XG4gIHJldHVybiBmdW5jdGlvbiAoX3gpIHtcbiAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn0oKSk7XG5cbi8qKlxuICogQ3JlYXRlIGEgdmlkZW9cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gdmlkZW8gVmlkZW8gb2JqZWN0XG4gKlxuICogQHJldHVybiB7UHJvbWlzZX1cbiAqL1xuZXhwb3J0IHZhciBjcmVhdGVWaWRlbyA9IGNyZWF0ZUFzeW5jVGh1bmsoJ3ZpZGVvcy9jcmVhdGUnLCBmdW5jdGlvbiAoZGF0YSkge1xuICB2YXIgdmlkZW8gPSBkYXRhLnZpZGVvO1xuICByZXR1cm4gcmVzdFBvc3Qoe1xuICAgIHBhdGg6ICd2aWRlb3MnLFxuICAgIGRhdGE6IHZpZGVvXG4gIH0pO1xufSk7XG5cbi8qKlxuICogVXBkYXRlIGEgdmlkZW9cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gdmlkZW8gVmlkZW8gb2JqZWN0XG4gKlxuICogQHJldHVybiB7UHJvbWlzZX1cbiAqL1xuZXhwb3J0IHZhciB1cGRhdGVWaWRlbyA9IGNyZWF0ZUFzeW5jVGh1bmsoJ3ZpZGVvcy91cGRhdGUnLCBmdW5jdGlvbiAoZGF0YSkge1xuICB2YXIgdmlkZW8gPSBkYXRhLnZpZGVvLFxuICAgIGlkID0gZGF0YS5pZDtcbiAgcmV0dXJuIHJlc3RQb3N0KHtcbiAgICBwYXRoOiBcInZpZGVvcy9cIi5jb25jYXQoaWQpLFxuICAgIGRhdGE6IHZpZGVvXG4gIH0pO1xufSk7XG5cbi8qKlxuICogU2VhcmNoIFZpZGVvc1xuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBzZWFyY2ggc2VhcmNoIHN0cmluZ1xuICpcbiAqIEByZXR1cm4ge1Byb21pc2V9XG4gKi9cbmV4cG9ydCB2YXIgc2VhcmNoVmlkZW9zID0gY3JlYXRlQXN5bmNUaHVuaygndmlkZW9zL3NlYXJjaCcsIGZ1bmN0aW9uIChkYXRhKSB7XG4gIHZhciBzZWFyY2ggPSBkYXRhLnNlYXJjaDtcbiAgcmV0dXJuIHJlc3RHZXQoe1xuICAgIHBhdGg6IFwidmlkZW9zXCIsXG4gICAgcGFyYW1zOiB7XG4gICAgICBzZWFyY2g6IHNlYXJjaCxcbiAgICAgIGZpZWxkOiAnaWRzJ1xuICAgIH1cbiAgfSk7XG59KTtcbnZhciB2aWRlb3NTbGljZSA9IGNyZWF0ZVNsaWNlKHtcbiAgbmFtZTogJ3ZpZGVvcycsXG4gIGluaXRpYWxTdGF0ZToge1xuICAgIHZpZGVvczoge30sXG4gICAgZW1iZWRzOiB7fSxcbiAgICBmaWx0ZXJlZDogW10sXG4gICAgaXNMb2FkaW5nOiBmYWxzZVxuICB9LFxuICByZWR1Y2Vyczoge1xuICAgIC8qKlxuICAgICAqIFNldCBhIGZpbHRlcmVkIHZpZGVvIGlkcyBpbiBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEl0IHJlcGxhY2VzIHRoZSBmaWx0ZXJlZCBsaXN0IHdpdGggdGhlIHByb3ZpZGVkIG9uZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdGF0ZX0gc3RhdGUgb2JqZWN0XG4gICAgICogQHBhcmFtIHtvYmplY3R9IGFjdGlvbiBvYmplY3RcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge29iamVjdH0gTmV3IFN0YXRlIE9iamVjdFxuICAgICAqL1xuICAgIHNldEZpbHRlcmVkOiBmdW5jdGlvbiBzZXRGaWx0ZXJlZChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICB2YXIgaWRzID0gYWN0aW9uLnBheWxvYWQuaWRzO1xuICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc3RhdGUpLCB7fSwge1xuICAgICAgICBmaWx0ZXJlZDogaWRzXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIGV4dHJhUmVkdWNlcnM6IGZ1bmN0aW9uIGV4dHJhUmVkdWNlcnMoYnVpbGRlcikge1xuICAgIGJ1aWxkZXJcbiAgICAvLyBIYW5kbGluZyBpbml0VmlkZW9zIHN0YXR1c1xuICAgIC5hZGRDYXNlKGluaXRWaWRlb3MucGVuZGluZywgZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAvLyBTZXQgTG9hZGluZ1xuICAgICAgc3RhdGUuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICB9KS5hZGRDYXNlKGluaXRWaWRlb3MuZnVsZmlsbGVkLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgICAgc3RhdGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICB2YXIgcGF5bG9hZCA9IGFjdGlvbi5wYXlsb2FkO1xuICAgICAgaWYgKHBheWxvYWQuc3VjY2VzcyAmJiBwYXlsb2FkLmRhdGEpIHtcbiAgICAgICAgdmFyIHZpZGVvcyA9IHt9O1xuICAgICAgICB2YXIgZmlsdGVyZWQgPSBbXTtcblxuICAgICAgICAvLyBTZXR1cCB0aGUgbGlzdCBkYXRhLlxuICAgICAgICBwYXlsb2FkLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAodmlkZW8pIHtcbiAgICAgICAgICB2aWRlb3NbdmlkZW8uaWRdID0gdmlkZW87XG4gICAgICAgICAgZmlsdGVyZWQucHVzaCh2aWRlby5pZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgc3RhdGVcbiAgICAgICAgc3RhdGUudmlkZW9zID0gdmlkZW9zO1xuICAgICAgICBzdGF0ZS5maWx0ZXJlZCA9IGZpbHRlcmVkO1xuICAgICAgfVxuICAgICAgc3RhdGUuc3RhdHVzID0gJ3N1Y2Nlc3MnO1xuICAgIH0pLmFkZENhc2UoaW5pdFZpZGVvcy5yZWplY3RlZCwgZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAvLyBVcGRhdGUgU3RhdHVzXG4gICAgICBzdGF0ZS5zdGF0dXMgPSAnZXJyb3InO1xuICAgIH0pXG5cbiAgICAvLyBIYW5kbGluZyBmZXRjaEVtYmVkXG4gICAgLmFkZENhc2UoZmV0Y2hFbWJlZC5mdWxmaWxsZWQsIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICB2YXIgZW1iZWQgPSB7fTtcblxuICAgICAgLy8gVXBkYXRlIHN0YXRlXG4gICAgICB2YXIgcGF5bG9hZCA9IGFjdGlvbi5wYXlsb2FkO1xuICAgICAgaWYgKHBheWxvYWQgIT09IG51bGwgJiYgcGF5bG9hZCAhPT0gdm9pZCAwICYmIHBheWxvYWQuc3VjY2VzcyAmJiBwYXlsb2FkICE9PSBudWxsICYmIHBheWxvYWQgIT09IHZvaWQgMCAmJiBwYXlsb2FkLmRhdGEgJiYgcGF5bG9hZCAhPT0gbnVsbCAmJiBwYXlsb2FkICE9PSB2b2lkIDAgJiYgcGF5bG9hZC5kYXRhLmh0bWwpIHtcbiAgICAgICAgZW1iZWQgPSBwYXlsb2FkLmRhdGE7XG4gICAgICAgIHZhciBuZXdEYXRhID0gX29iamVjdFNwcmVhZCh7fSwgcGF5bG9hZC5kYXRhKTtcbiAgICAgICAgbmV3RGF0YS5pZCA9IHBheWxvYWQuaWQ7XG5cbiAgICAgICAgLy8gVXBkYXRlIHRoZSBzdGF0ZVxuICAgICAgICBzdGF0ZS5lbWJlZHNbcGF5bG9hZC5pZF0gPSBuZXdEYXRhO1xuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBIYW5kbGluZyBWaWRlbyBDcmVhdGVcbiAgICAuYWRkQ2FzZShjcmVhdGVWaWRlby5mdWxmaWxsZWQsIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICAvLyBVcGRhdGUgc3RhdGVcbiAgICAgIHZhciBwYXlsb2FkID0gYWN0aW9uLnBheWxvYWQ7XG4gICAgICBpZiAocGF5bG9hZCAhPT0gbnVsbCAmJiBwYXlsb2FkICE9PSB2b2lkIDAgJiYgcGF5bG9hZC5zdWNjZXNzKSB7XG4gICAgICAgIHZhciB2aWRlbyA9IHBheWxvYWQuZGF0YTtcblxuICAgICAgICAvLyBBZGQgdmlkZW8gdG8gc3RhdGVcbiAgICAgICAgaWYgKHZpZGVvLmlkICYmIHZpZGVvLmlkID4gMCkge1xuICAgICAgICAgIHN0YXRlLnZpZGVvcyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc3RhdGUudmlkZW9zKSwge30sIF9kZWZpbmVQcm9wZXJ0eSh7fSwgdmlkZW8uaWQsIHZpZGVvKSk7XG5cbiAgICAgICAgICAvLyBBZGQgdGhlIGlkIHRvIHRoZSBmaWx0ZXJlZCBsaXN0IHNvIHRoZSB2aWRlbyB3aWxsIGJlIGRpc3BsYXllZFxuICAgICAgICAgIHN0YXRlLmZpbHRlcmVkID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShzdGF0ZS5maWx0ZXJlZCksIFt2aWRlby5pZF0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIEhhbmRlbGluZyBWaWRlbyBVcGRhdGVcbiAgICAuYWRkQ2FzZSh1cGRhdGVWaWRlby5mdWxmaWxsZWQsIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICB2YXIgcGF5bG9hZCA9IGFjdGlvbi5wYXlsb2FkO1xuICAgICAgdmFyIG5ld1ZpZGVvID0gcGF5bG9hZC5kYXRhO1xuICAgICAgaWYgKHBheWxvYWQgIT09IG51bGwgJiYgcGF5bG9hZCAhPT0gdm9pZCAwICYmIHBheWxvYWQuc3VjY2Vzcykge1xuICAgICAgICAvLyBVcGRhdGUgdmlkZW9zIHN0YXRlXG4gICAgICAgIHN0YXRlLnZpZGVvcyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc3RhdGUudmlkZW9zKSwge30sIF9kZWZpbmVQcm9wZXJ0eSh7fSwgbmV3VmlkZW8uaWQsIG5ld1ZpZGVvKSk7XG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIEhhbmRlbGluZyBWaWRlbyBEZWxldGVcbiAgICAuYWRkQ2FzZShkZWxldGVWaWRlby5mdWxmaWxsZWQsIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICB2YXIgaWQgPSBhY3Rpb24ubWV0YS5hcmcuaWQsXG4gICAgICAgIHN1Y2Nlc3MgPSBhY3Rpb24ucGF5bG9hZC5zdWNjZXNzO1xuICAgICAgaWYgKHN1Y2Nlc3MgPT09IHRydWUpIHtcbiAgICAgICAgdmFyIHZpZGVvcyA9IHN0YXRlLnZpZGVvcyxcbiAgICAgICAgICBmaWx0ZXJlZCA9IHN0YXRlLmZpbHRlcmVkO1xuXG4gICAgICAgIC8vIFJlbW92ZSBmcm9tIGZpbHRlcmVkIGxpc3RcbiAgICAgICAgc3RhdGUuZmlsdGVyZWQgPSBmaWx0ZXJlZC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gaWQgIT09IGl0ZW07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIERlbGV0ZSB0aGUgdmlkZW8gZnJvbSB0aGUgdmlkZW9zIG9iamVjdFxuICAgICAgICB2YXIgbmV3VmlkZW9zID0gX29iamVjdFNwcmVhZCh7fSwgdmlkZW9zKTtcbiAgICAgICAgZGVsZXRlIG5ld1ZpZGVvc1tpZF07XG4gICAgICAgIHN0YXRlLnZpZGVvcyA9IG5ld1ZpZGVvcztcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gSGFuZGVsaW5nIFZpZGVvIFNlYXJjaFxuICAgIC5hZGRDYXNlKHNlYXJjaFZpZGVvcy5wZW5kaW5nLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgICAgLy8gU2V0IExvYWRpbmdcbiAgICAgIHN0YXRlLmlzTG9hZGluZyA9IHRydWU7XG4gICAgfSkuYWRkQ2FzZShzZWFyY2hWaWRlb3MuZnVsZmlsbGVkLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgICAgdmFyIF9hY3Rpb24kcGF5bG9hZDtcbiAgICAgIHZhciBpZHMgPSAoYWN0aW9uID09PSBudWxsIHx8IGFjdGlvbiA9PT0gdm9pZCAwIHx8IChfYWN0aW9uJHBheWxvYWQgPSBhY3Rpb24ucGF5bG9hZCkgPT09IG51bGwgfHwgX2FjdGlvbiRwYXlsb2FkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYWN0aW9uJHBheWxvYWQuZGF0YSkgfHwgW107XG4gICAgICBzdGF0ZS5maWx0ZXJlZCA9IGlkcztcblxuICAgICAgLy8gU2V0IExvYWRpbmdcbiAgICAgIHN0YXRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgIH0pLmFkZENhc2Uoc2VhcmNoVmlkZW9zLnJlamVjdGVkLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgICAgc3RhdGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgfSk7XG4gIH1cbn0pO1xuXG4vLyBTZWxlY3RvcnNcbnZhciB2aWRlb3NTdGF0ZSA9IGZ1bmN0aW9uIHZpZGVvc1N0YXRlKHN0YXRlKSB7XG4gIHJldHVybiBzdGF0ZS52aWRlb3M7XG59O1xuXG4vKipcbiAqIEdldCB2aWRlbyhzKSBvYmplY3QocykgYnkgaWQocylcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gdmlkZW9zU3RhdGVcbiAqIEBwYXJhbSB7YXJyYXl8c3RyaW5nfSBpZHMgdmlkZW9zIGlkc1xuICpcbiAqIEByZXR1cm4ge2FycmF5fG9iamVjdHxmYWxzZX1cbiAqL1xuZXhwb3J0IHZhciBnZXRWaWRlb3MgPSBjcmVhdGVTZWxlY3Rvcih2aWRlb3NTdGF0ZSwgZnVuY3Rpb24gKF8sIGlkcykge1xuICByZXR1cm4gaWRzO1xufSwgZnVuY3Rpb24gKHZpZGVvc1N0YXRlLCBpZHMpIHtcbiAgdmFyIHZpZGVvcyA9IFtdO1xuICBpZiAoQXJyYXkuaXNBcnJheShpZHMpKSB7XG4gICAgaWRzLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7XG4gICAgICBpZiAodmlkZW9zU3RhdGUudmlkZW9zW2lkXSkge1xuICAgICAgICB2aWRlb3MucHVzaCh2aWRlb3NTdGF0ZS52aWRlb3NbaWRdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdmlkZW9zO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBpZHMgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBpZHMgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZpZGVvc1N0YXRlLnZpZGVvc1tpZHNdO1xuICB9IGVsc2Uge1xuICAgIC8vIElmIGlkcyBpcyBub3QgcHJvdmlkZWQgZ2V0IGFsbCB2aWRlb3NcbiAgICByZXR1cm4gdmlkZW9zU3RhdGUudmlkZW9zO1xuICB9XG59KTtcblxuLyoqXG4gKiBHZXQgRmlsdGVyZWQgSURzXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHZpZGVvc1N0YXRlXG4gKlxuICogQHJldHVybiB7YXJyYXl9XG4gKi9cbmV4cG9ydCB2YXIgZ2V0RmlsdGVyZWRJZHMgPSBjcmVhdGVTZWxlY3Rvcih2aWRlb3NTdGF0ZSwgZnVuY3Rpb24gKHZpZGVvc1N0YXRlKSB7XG4gIHJldHVybiB2aWRlb3NTdGF0ZS5maWx0ZXJlZDtcbn0pO1xuXG4vKipcbiAqIEdldCBhIHNpbmdsZSBlbWJlZCBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gdmlkZW9zU3RhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSB2aWRlb0lkXG4gKlxuICogQHJldHVybiB7YXJyYXl9XG4gKi9cbmV4cG9ydCB2YXIgZ2V0RW1iZWQgPSBjcmVhdGVTZWxlY3Rvcih2aWRlb3NTdGF0ZSwgZnVuY3Rpb24gKF8sIGlkKSB7XG4gIHJldHVybiBpZDtcbn0sIGZ1bmN0aW9uICh2aWRlb3NTdGF0ZSwgaWQpIHtcbiAgcmV0dXJuIHZpZGVvc1N0YXRlLmVtYmVkc1tpZF0gfHwgZmFsc2U7XG59KTtcblxuLyoqXG4gKiBHZXQgbG9hZGluZyBzdGF0dXNcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gdmlkZW9zU3RhdGUgdGhlIHZpZGVvcyBzdGF0ZSBvYmplY3QuXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IHZhciBnZXRMb2FkaW5nU3RhdHVzID0gY3JlYXRlU2VsZWN0b3IodmlkZW9zU3RhdGUsIGZ1bmN0aW9uICh2aWRlb3NTdGF0ZSkge1xuICByZXR1cm4gdmlkZW9zU3RhdGUuaXNMb2FkaW5nO1xufSk7XG5cbi8vIEV4cG9ydCBhY3Rpb25zXG52YXIgc2V0RmlsdGVyZWQgPSB2aWRlb3NTbGljZS5hY3Rpb25zLnNldEZpbHRlcmVkO1xuZXhwb3J0IHsgc2V0RmlsdGVyZWQgfTtcbmV4cG9ydCBkZWZhdWx0IHZpZGVvc1NsaWNlLnJlZHVjZXI7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4084\n')},5524:function(module){eval('!function(t,e){ true?module.exports=e():0}(this,(function(){"use strict";function t(){return(t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}return function(){var e,n=[],i={vendor:void 0,id:void 0,src:void 0,thumbnail:void 0,title:void 0,initialized:!1,y:void 0,debounce:250,lazyload:!0,autoplay:!0,initinview:!1,onLoad:function(t){},onAppend:function(t){},onThumbnailLoad:function(t){}},o={regex:{youtube_nocookie:/(?:youtube-nocookie\\.com\\/\\S*(?:(?:\\/e(?:mbed))?\\/|watch\\?(?:\\S*?&?v\\=)))([a-zA-Z0-9_-]{6,11})/,youtube:/(?:youtube\\.com\\/\\S*(?:(?:\\/e(?:mbed))?\\/|watch\\?(?:\\S*?&?v\\=))|youtu\\.be\\/)([a-zA-Z0-9_-]{6,11})/,vimeo:/vimeo\\.com\\/(?:video\\/)?([0-9]*)(?:\\?|)/},condition:{youtube:function(t){return!(!t||11!=t[1].length)&&t[1]},youtube_nocookie:function(t){return!(!t||11!=t[1].length)&&t[1]},vimeo:function(t){return!!(t&&9===t[1].length||8===t[1].length)&&t[1]}},src:{youtube:function(t){return"https://www.youtube.com/embed/".concat(t.id,"/?autoplay=").concat(t.autoplay?"1":"0","&").concat(t.query)},youtube_nocookie:function(t){return"https://www.youtube-nocookie.com/embed/".concat(t.id,"/?autoplay=").concat(t.autoplay?"1":"0","&").concat(t.query)},vimeo:function(t){return"https://player.vimeo.com/video/".concat(t.id,"/?autoplay=").concat(t.autoplay?"1":"0","&").concat(t.query)}},endpoint:function(t){return"https://noembed.com/embed?url=".concat(t.src)},response:{title:function(t){return t.title},thumbnail:function(t){return t.thumbnail_url}}};function a(t){var n=this;if(t instanceof HTMLElement!=!1&&!t.classList.contains("lazyframe--loaded")){var i={el:t,settings:r(t)};i.el.addEventListener("click",(function(){i.el.appendChild(i.iframe);var e=t.querySelectorAll("iframe");i.settings.onAppend.call(n,e[0])})),e.lazyload?c(i):l(i,i.settings.thumbnail)}}function r(n){var i,a,r=Array.prototype.slice.apply(n.attributes).filter((function(t){return""!==t.value})).reduce((function(t,e){return t[0===e.name.indexOf("data-")?e.name.split("data-")[1]:e.name]=e.value,t}),{}),l=t({},e,r,{y:n.offsetTop,originalSrc:r.src,query:(i=r.src,a=i.split("?"),a[1]?a[1]:null)});if(l.vendor){var u=l.src.match(o.regex[l.vendor]);l.id=o.condition[l.vendor](u)}return l}function l(t){var e=this;!function(t){return!(!t.vendor||t.title&&t.thumbnail)}(t.settings)?c(t,!0):function(t,e){var n=o.endpoint(t.settings),i=new XMLHttpRequest;i.open("GET",n,!0),i.onload=function(){if(i.status>=200&&i.status<400){var n=JSON.parse(i.responseText);e(null,[n,t])}else e(!0)},i.onerror=function(){e(!0)},i.send()}(t,(function(n,i){if(!n){var a=i[0],r=i[1];if(r.settings.title||(r.settings.title=o.response.title(a)),!r.settings.thumbnail){var l=o.response.thumbnail(a);r.settings.thumbnail=l,t.settings.onThumbnailLoad.call(e,l)}c(r,!0)}}))}function u(){var t=this,i=window.innerHeight,o=n.length,a=function(e,n){e.settings.initialized=!0,e.el.classList.add("lazyframe--loaded"),o--,l(e),e.settings.initinview&&e.el.click(),e.settings.onLoad.call(t,e)};n.filter((function(t){return t.settings.y<i})).forEach(a);var r,u,c,s,d=(r=function(){m=f<window.pageYOffset,f=window.pageYOffset,m&&n.filter((function(t){return t.settings.y<i+f&&!1===t.settings.initialized})).forEach(a),0===o&&window.removeEventListener("scroll",d,!1)},u=e.debounce,function(){var t=this,e=arguments,n=function(){s=null,c||r.apply(t,e)},i=c&&!s;clearTimeout(s),s=setTimeout(n,u),i&&r.apply(t,e)}),f=0,m=!1;window.addEventListener("scroll",d,!1)}function c(t,i){if(t.iframe=function(t){var e=document.createDocumentFragment(),n=document.createElement("iframe");t.vendor&&(t.src=o.src[t.vendor](t));n.setAttribute("id","lazyframe-".concat(t.id)),n.setAttribute("src",t.src),n.setAttribute("frameborder",0),n.setAttribute("allowfullscreen",""),t.autoplay&&(n.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture");return e.appendChild(n),e}(t.settings),t.settings.thumbnail&&i&&(t.el.style.backgroundImage="url(".concat(t.settings.thumbnail,")")),t.settings.title&&0===t.el.children.length){var a=document.createDocumentFragment(),r=document.createElement("span");r.className="lazyframe__title",r.innerHTML=t.settings.title,a.appendChild(r),t.el.appendChild(a)}e.lazyload||(t.el.classList.add("lazyframe--loaded"),t.settings.onLoad.call(this,t),n.push(t)),t.settings.initialized||n.push(t)}return function(n){if(e=t({},i,arguments.length<=1?void 0:arguments[1]),"string"==typeof n)for(var o=document.querySelectorAll(n),r=0;r<o.length;r++)a(o[r]);else if(void 0===n.length)a(n);else for(var l=0;l<n.length;l++)a(n[l]);e.lazyload&&u()}}()}));\n//# sourceMappingURL=lazyframe.min.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTUyNC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd3BtdWRldi12aWRlb3MvLi9ub2RlX21vZHVsZXMvbGF6eWZyYW1lL2Rpc3QvbGF6eWZyYW1lLm1pbi5qcz9iZGRhIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGUpOih0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dHx8c2VsZikubGF6eWZyYW1lPWUoKX0odGhpcywoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KCl7cmV0dXJuKHQ9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdO2Zvcih2YXIgaSBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLGkpJiYodFtpXT1uW2ldKX1yZXR1cm4gdH0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gZnVuY3Rpb24oKXt2YXIgZSxuPVtdLGk9e3ZlbmRvcjp2b2lkIDAsaWQ6dm9pZCAwLHNyYzp2b2lkIDAsdGh1bWJuYWlsOnZvaWQgMCx0aXRsZTp2b2lkIDAsaW5pdGlhbGl6ZWQ6ITEseTp2b2lkIDAsZGVib3VuY2U6MjUwLGxhenlsb2FkOiEwLGF1dG9wbGF5OiEwLGluaXRpbnZpZXc6ITEsb25Mb2FkOmZ1bmN0aW9uKHQpe30sb25BcHBlbmQ6ZnVuY3Rpb24odCl7fSxvblRodW1ibmFpbExvYWQ6ZnVuY3Rpb24odCl7fX0sbz17cmVnZXg6e3lvdXR1YmVfbm9jb29raWU6Lyg/OnlvdXR1YmUtbm9jb29raWVcXC5jb21cXC9cXFMqKD86KD86XFwvZSg/Om1iZWQpKT9cXC98d2F0Y2hcXD8oPzpcXFMqPyY/dlxcPSkpKShbYS16QS1aMC05Xy1dezYsMTF9KS8seW91dHViZTovKD86eW91dHViZVxcLmNvbVxcL1xcUyooPzooPzpcXC9lKD86bWJlZCkpP1xcL3x3YXRjaFxcPyg/OlxcUyo/Jj92XFw9KSl8eW91dHVcXC5iZVxcLykoW2EtekEtWjAtOV8tXXs2LDExfSkvLHZpbWVvOi92aW1lb1xcLmNvbVxcLyg/OnZpZGVvXFwvKT8oWzAtOV0qKSg/OlxcP3wpL30sY29uZGl0aW9uOnt5b3V0dWJlOmZ1bmN0aW9uKHQpe3JldHVybiEoIXR8fDExIT10WzFdLmxlbmd0aCkmJnRbMV19LHlvdXR1YmVfbm9jb29raWU6ZnVuY3Rpb24odCl7cmV0dXJuISghdHx8MTEhPXRbMV0ubGVuZ3RoKSYmdFsxXX0sdmltZW86ZnVuY3Rpb24odCl7cmV0dXJuISEodCYmOT09PXRbMV0ubGVuZ3RofHw4PT09dFsxXS5sZW5ndGgpJiZ0WzFdfX0sc3JjOnt5b3V0dWJlOmZ1bmN0aW9uKHQpe3JldHVyblwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvXCIuY29uY2F0KHQuaWQsXCIvP2F1dG9wbGF5PVwiKS5jb25jYXQodC5hdXRvcGxheT9cIjFcIjpcIjBcIixcIiZcIikuY29uY2F0KHQucXVlcnkpfSx5b3V0dWJlX25vY29va2llOmZ1bmN0aW9uKHQpe3JldHVyblwiaHR0cHM6Ly93d3cueW91dHViZS1ub2Nvb2tpZS5jb20vZW1iZWQvXCIuY29uY2F0KHQuaWQsXCIvP2F1dG9wbGF5PVwiKS5jb25jYXQodC5hdXRvcGxheT9cIjFcIjpcIjBcIixcIiZcIikuY29uY2F0KHQucXVlcnkpfSx2aW1lbzpmdW5jdGlvbih0KXtyZXR1cm5cImh0dHBzOi8vcGxheWVyLnZpbWVvLmNvbS92aWRlby9cIi5jb25jYXQodC5pZCxcIi8/YXV0b3BsYXk9XCIpLmNvbmNhdCh0LmF1dG9wbGF5P1wiMVwiOlwiMFwiLFwiJlwiKS5jb25jYXQodC5xdWVyeSl9fSxlbmRwb2ludDpmdW5jdGlvbih0KXtyZXR1cm5cImh0dHBzOi8vbm9lbWJlZC5jb20vZW1iZWQ/dXJsPVwiLmNvbmNhdCh0LnNyYyl9LHJlc3BvbnNlOnt0aXRsZTpmdW5jdGlvbih0KXtyZXR1cm4gdC50aXRsZX0sdGh1bWJuYWlsOmZ1bmN0aW9uKHQpe3JldHVybiB0LnRodW1ibmFpbF91cmx9fX07ZnVuY3Rpb24gYSh0KXt2YXIgbj10aGlzO2lmKHQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCE9ITEmJiF0LmNsYXNzTGlzdC5jb250YWlucyhcImxhenlmcmFtZS0tbG9hZGVkXCIpKXt2YXIgaT17ZWw6dCxzZXR0aW5nczpyKHQpfTtpLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLChmdW5jdGlvbigpe2kuZWwuYXBwZW5kQ2hpbGQoaS5pZnJhbWUpO3ZhciBlPXQucXVlcnlTZWxlY3RvckFsbChcImlmcmFtZVwiKTtpLnNldHRpbmdzLm9uQXBwZW5kLmNhbGwobixlWzBdKX0pKSxlLmxhenlsb2FkP2MoaSk6bChpLGkuc2V0dGluZ3MudGh1bWJuYWlsKX19ZnVuY3Rpb24gcihuKXt2YXIgaSxhLHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KG4uYXR0cmlidXRlcykuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm5cIlwiIT09dC52YWx1ZX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMD09PWUubmFtZS5pbmRleE9mKFwiZGF0YS1cIik/ZS5uYW1lLnNwbGl0KFwiZGF0YS1cIilbMV06ZS5uYW1lXT1lLnZhbHVlLHR9KSx7fSksbD10KHt9LGUscix7eTpuLm9mZnNldFRvcCxvcmlnaW5hbFNyYzpyLnNyYyxxdWVyeTooaT1yLnNyYyxhPWkuc3BsaXQoXCI/XCIpLGFbMV0/YVsxXTpudWxsKX0pO2lmKGwudmVuZG9yKXt2YXIgdT1sLnNyYy5tYXRjaChvLnJlZ2V4W2wudmVuZG9yXSk7bC5pZD1vLmNvbmRpdGlvbltsLnZlbmRvcl0odSl9cmV0dXJuIGx9ZnVuY3Rpb24gbCh0KXt2YXIgZT10aGlzOyFmdW5jdGlvbih0KXtyZXR1cm4hKCF0LnZlbmRvcnx8dC50aXRsZSYmdC50aHVtYm5haWwpfSh0LnNldHRpbmdzKT9jKHQsITApOmZ1bmN0aW9uKHQsZSl7dmFyIG49by5lbmRwb2ludCh0LnNldHRpbmdzKSxpPW5ldyBYTUxIdHRwUmVxdWVzdDtpLm9wZW4oXCJHRVRcIixuLCEwKSxpLm9ubG9hZD1mdW5jdGlvbigpe2lmKGkuc3RhdHVzPj0yMDAmJmkuc3RhdHVzPDQwMCl7dmFyIG49SlNPTi5wYXJzZShpLnJlc3BvbnNlVGV4dCk7ZShudWxsLFtuLHRdKX1lbHNlIGUoITApfSxpLm9uZXJyb3I9ZnVuY3Rpb24oKXtlKCEwKX0saS5zZW5kKCl9KHQsKGZ1bmN0aW9uKG4saSl7aWYoIW4pe3ZhciBhPWlbMF0scj1pWzFdO2lmKHIuc2V0dGluZ3MudGl0bGV8fChyLnNldHRpbmdzLnRpdGxlPW8ucmVzcG9uc2UudGl0bGUoYSkpLCFyLnNldHRpbmdzLnRodW1ibmFpbCl7dmFyIGw9by5yZXNwb25zZS50aHVtYm5haWwoYSk7ci5zZXR0aW5ncy50aHVtYm5haWw9bCx0LnNldHRpbmdzLm9uVGh1bWJuYWlsTG9hZC5jYWxsKGUsbCl9YyhyLCEwKX19KSl9ZnVuY3Rpb24gdSgpe3ZhciB0PXRoaXMsaT13aW5kb3cuaW5uZXJIZWlnaHQsbz1uLmxlbmd0aCxhPWZ1bmN0aW9uKGUsbil7ZS5zZXR0aW5ncy5pbml0aWFsaXplZD0hMCxlLmVsLmNsYXNzTGlzdC5hZGQoXCJsYXp5ZnJhbWUtLWxvYWRlZFwiKSxvLS0sbChlKSxlLnNldHRpbmdzLmluaXRpbnZpZXcmJmUuZWwuY2xpY2soKSxlLnNldHRpbmdzLm9uTG9hZC5jYWxsKHQsZSl9O24uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zZXR0aW5ncy55PGl9KSkuZm9yRWFjaChhKTt2YXIgcix1LGMscyxkPShyPWZ1bmN0aW9uKCl7bT1mPHdpbmRvdy5wYWdlWU9mZnNldCxmPXdpbmRvdy5wYWdlWU9mZnNldCxtJiZuLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2V0dGluZ3MueTxpK2YmJiExPT09dC5zZXR0aW5ncy5pbml0aWFsaXplZH0pKS5mb3JFYWNoKGEpLDA9PT1vJiZ3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLGQsITEpfSx1PWUuZGVib3VuY2UsZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9YXJndW1lbnRzLG49ZnVuY3Rpb24oKXtzPW51bGwsY3x8ci5hcHBseSh0LGUpfSxpPWMmJiFzO2NsZWFyVGltZW91dChzKSxzPXNldFRpbWVvdXQobix1KSxpJiZyLmFwcGx5KHQsZSl9KSxmPTAsbT0hMTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLGQsITEpfWZ1bmN0aW9uIGModCxpKXtpZih0LmlmcmFtZT1mdW5jdGlvbih0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO3QudmVuZG9yJiYodC5zcmM9by5zcmNbdC52ZW5kb3JdKHQpKTtuLnNldEF0dHJpYnV0ZShcImlkXCIsXCJsYXp5ZnJhbWUtXCIuY29uY2F0KHQuaWQpKSxuLnNldEF0dHJpYnV0ZShcInNyY1wiLHQuc3JjKSxuLnNldEF0dHJpYnV0ZShcImZyYW1lYm9yZGVyXCIsMCksbi5zZXRBdHRyaWJ1dGUoXCJhbGxvd2Z1bGxzY3JlZW5cIixcIlwiKSx0LmF1dG9wbGF5JiYobi5hbGxvdz1cImFjY2VsZXJvbWV0ZXI7IGF1dG9wbGF5OyBlbmNyeXB0ZWQtbWVkaWE7IGd5cm9zY29wZTsgcGljdHVyZS1pbi1waWN0dXJlXCIpO3JldHVybiBlLmFwcGVuZENoaWxkKG4pLGV9KHQuc2V0dGluZ3MpLHQuc2V0dGluZ3MudGh1bWJuYWlsJiZpJiYodC5lbC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9XCJ1cmwoXCIuY29uY2F0KHQuc2V0dGluZ3MudGh1bWJuYWlsLFwiKVwiKSksdC5zZXR0aW5ncy50aXRsZSYmMD09PXQuZWwuY2hpbGRyZW4ubGVuZ3RoKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtyLmNsYXNzTmFtZT1cImxhenlmcmFtZV9fdGl0bGVcIixyLmlubmVySFRNTD10LnNldHRpbmdzLnRpdGxlLGEuYXBwZW5kQ2hpbGQociksdC5lbC5hcHBlbmRDaGlsZChhKX1lLmxhenlsb2FkfHwodC5lbC5jbGFzc0xpc3QuYWRkKFwibGF6eWZyYW1lLS1sb2FkZWRcIiksdC5zZXR0aW5ncy5vbkxvYWQuY2FsbCh0aGlzLHQpLG4ucHVzaCh0KSksdC5zZXR0aW5ncy5pbml0aWFsaXplZHx8bi5wdXNoKHQpfXJldHVybiBmdW5jdGlvbihuKXtpZihlPXQoe30saSxhcmd1bWVudHMubGVuZ3RoPD0xP3ZvaWQgMDphcmd1bWVudHNbMV0pLFwic3RyaW5nXCI9PXR5cGVvZiBuKWZvcih2YXIgbz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKG4pLHI9MDtyPG8ubGVuZ3RoO3IrKylhKG9bcl0pO2Vsc2UgaWYodm9pZCAwPT09bi5sZW5ndGgpYShuKTtlbHNlIGZvcih2YXIgbD0wO2w8bi5sZW5ndGg7bCsrKWEobltsXSk7ZS5sYXp5bG9hZCYmdSgpfX0oKX0pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxhenlmcmFtZS5taW4uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5524\n')}},__webpack_module_cache__={},deferred,leafPrototypes,getProto;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=function(e,t,n,l){if(!t){var I=1/0;for(d=0;d<deferred.length;d++){t=deferred[d][0],n=deferred[d][1],l=deferred[d][2];for(var i=!0,c=0;c<t.length;c++)(!1&l||I>=l)&&Object.keys(__webpack_require__.O).every((function(e){return __webpack_require__.O[e](t[c])}))?t.splice(c--,1):(i=!1,l<I&&(I=l));if(i){deferred.splice(d--,1);var g=n();void 0!==g&&(e=g)}}return e}l=l||0;for(var d=deferred.length;d>0&&deferred[d-1][2]>l;d--)deferred[d]=deferred[d-1];deferred[d]=[t,n,l]},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var n=Object.create(null);__webpack_require__.r(n);var l={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var I=2&t&&e;"object"==typeof I&&!~leafPrototypes.indexOf(I);I=getProto(I))Object.getOwnPropertyNames(I).forEach((function(t){l[t]=function(){return e[t]}}));return l.default=function(){return e},__webpack_require__.d(n,l),n},__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},__webpack_require__.j=316,function(){var e={316:0};__webpack_require__.O.j=function(t){return 0===e[t]};var t=function(t,n){var l,I,i=n[0],c=n[1],g=n[2],d=0;if(i.some((function(t){return 0!==e[t]}))){for(l in c)__webpack_require__.o(c,l)&&(__webpack_require__.m[l]=c[l]);if(g)var a=g(__webpack_require__)}for(t&&t(n);d<i.length;d++)I=i[d],__webpack_require__.o(e,I)&&e[I]&&e[I][0](),e[I]=0;return __webpack_require__.O(a)},n=self.webpackChunkwpmudev_videos=self.webpackChunkwpmudev_videos||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var __webpack_exports__=__webpack_require__.O(void 0,[504,996],(function(){return __webpack_require__(2015)}));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();