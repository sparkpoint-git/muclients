"use strict";(self.webpackChunkfl_assistant=self.webpackChunkfl_assistant||[]).push([[64],{2066:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ae});var n=a(8168),l=a(1594),s=a.n(l),r=a(9665),c=a(2405),o=a(6271),i=a(2470),m=a(6075);const d=({onClick:e=(()=>{})})=>{const{searchHistory:t}=(0,m.useSystemState)("searchHistory"),{resetSearchHistory:a}=(0,m.getSystemActions)();return 0<t.length&&s().createElement("div",{className:"fl-asst-home-search-suggestions"},s().createElement("div",{style:{marginBottom:10}},(0,i.__)("Recent Searches")),s().createElement("div",null,t.map((n=>s().createElement("span",{key:n,className:"fl-asst-home-search-item"},s().createElement(c.Button,{onClick:()=>e(n)},n),s().createElement(c.Button,{onClick:()=>(e=>{a(t.filter((t=>t!==e)))})(n)},s().createElement(c.Icon.CloseCompact,null)))))))},u=()=>{},p=({onClick:e=(()=>{})})=>{const{appearance:t}=(0,m.useSystemState)("appearance"),{setBrightness:a}=(0,m.getSystemActions)();return s().createElement(c.Menu.Item,{onClick:n=>{a("dark"===t.brightness?"light":"dark"),e(n.nativeEvent)}},"dark"===t.brightness?(0,i.__)("Light Color Scheme"):(0,i.__)("Dark Color Scheme"))},h=()=>{const[e,t]=(0,l.useState)(!1),a=()=>s().createElement(s().Fragment,null,s().createElement(p,{onClick:()=>t(!1)}));return s().createElement(c.Menu,{content:s().createElement(a,null),isShowing:e,onOutsideClick:()=>t(!1),style:{zIndex:9}},s().createElement(c.Button,{appearance:"transparent",shape:"round",style:{width:40,height:40},onClick:()=>t(!e)},s().createElement(c.Icon.More,null)))},g=({onFocus:e=u,onClear:t=u,onInput:a=u,onSuggestionClick:n=u,keyword:r=""})=>{const[o,p]=(0,l.useState)(!1),[g,E]=(0,l.useState)(!1),{adminURLs:f}=(0,m.getSystemConfig)(),y=()=>s().createElement("span",{className:"search-icon-wrapper"},s().createElement(c.Icon.Search,null)),b=()=>s().createElement(c.Button,{appearance:"transparent",className:"fl-asst-home-search-clear",onClick:()=>{p(!1),t()}},s().createElement(c.Icon.BackArrow,null));return s().createElement(s().Fragment,null,s().createElement("div",{className:"fl-asst-home-search-header fluid-sticky-element"},s().createElement(c.Form.Input,{className:"fl-asst-inset-element",before:""!==r?s().createElement(b,null):s().createElement(y,null),value:r,placeholder:(0,i.__)("Search WordPress"),onInput:e=>{a(e.target.value),""===e.target.value&&t()},onFocus:()=>{p(!0),e()},onChange:()=>{}}),s().createElement(c.Button,{appearance:"transparent",href:f.dashboard,shape:"round",target:"_blank",style:{width:40,height:40}},s().createElement(c.Icon.WordPress,null)),s().createElement(h,null)),(""!==r||o)&&s().createElement(d,{onClick:n}),g&&s().createElement(c.Widget.Library,{onClose:()=>E(!1)}))},E=(e={})=>{const{apps:t}=(0,m.getSystemStore)().getState(),a=[],n=[],l=[],s={priority:1e3,format:e=>e},{keyword:r,number:c,offset:i}=Object.assign({keyword:"",number:5,offset:0},e),d=e=>{const t=(0,o.addLeadingSlash)(e.route(r,c,i)),n=Object.assign({},s,e),{priority:l}=n;a[l]||(a[l]=[]),a[l].push({route:t,config:n})};return Object.entries(t).map((e=>{const t=e[1];t.search&&(Array.isArray(t.search)?t.search.map((e=>d(e))):d(t.search))})),a.map((e=>{e.map((e=>{l.push(e.route),n.push(e.config)}))})),{config:n,routes:l}},f=({item:e,defaultProps:t,config:a,baseURL:n})=>{const{configKey:l}=e,{detail:s}=a[l];let r={...t};return r.shouldAlwaysShowThumbnail=!0,r.thumbnailSize="sm",void 0!==e.label?r.label=e.label:void 0!==e.title&&(r.label=e.title),void 0!==e.thumbnail&&(r.thumbnail=e.thumbnail),s&&(r.to={pathname:n+(0,o.addLeadingSlash)(s.pathname(e)),state:{item:e}}),r},y=({children:e,label:t,...a})=>s().createElement("li",{style:{paddingBottom:20}},s().createElement(G,(0,n.A)({title:t,className:"fl-asst-search-results-card"},a),e)),b=({isLoading:e=!1,items:t,keyword:a,baseURL:n})=>{if(e)return s().createElement(c.List.Loading,null);const{config:l}=E({keyword:a});return s().createElement(c.Layout.Box,{padY:!1},s().createElement(c.List,{items:t,getSectionProps:(e,t)=>(({section:e,defaultProps:t,keyword:a,baseURL:n})=>{const{configKey:l}=e;let r={...t};return e.items.length>=5&&(r.actions=s().createElement(c.Button,{appearance:"transparent",to:{pathname:`${n}/all`,state:{keyword:a,configKey:l}}},(0,i.__)("View All"))),r})({section:e,defaultProps:t,keyword:a,baseURL:n}),getItemProps:(e,t)=>f({item:e,defaultProps:t,config:l,baseURL:n}),getItemComponent:(e,t,a)=>t?y:a}),s().createElement(c.Layout.Row,{padY:!0},s().createElement(c.Icon.Pencil,{size:45})))};var v=a(6923),C=a.n(v);const k=({tag:e="div",className:t,children:a,scrollBy:r=360,disabled:o=!1,...i})=>{const m=(0,l.useRef)(null),d=C()("fl-asst-swiper",{"is-disabled":!0===o},t);(0,l.useEffect)((()=>{if(m.current){const e=m.current,t=e=>{const{scrollLeft:t,scrollWidth:a,clientWidth:n,parentNode:l}=e,s=l.classList;0===t?(s.add("scroll-start"),s.remove("scroll-end")):a===t+n?(s.remove("scroll-start"),s.add("scroll-end")):(s.contains("scroll-start")&&s.remove("scroll-start"),s.contains("scroll-end")&&s.remove("scroll-end"))};t(e);const a=e=>t(e.target);return e.addEventListener("scroll",a),()=>e.removeEventListener("scroll",a)}}),[]);const u=(e=!1)=>{if(m.current){const t=m.current,a=e?t.scrollLeft-r:t.scrollLeft+r;t.scrollTo({left:a,behavior:"smooth"})}};return s().createElement(e,(0,n.A)({className:d},i),s().createElement("div",{className:"fl-asst-swiper-scroller",ref:m},a),!o&&s().createElement("div",{className:"fl-asst-swiper-nav"},s().createElement(c.Button,{appearance:"transparent",icon:s().createElement(c.Icon.CaretLeft,null),onClick:()=>u(!0)}),s().createElement(c.Button,{appearance:"transparent",icon:s().createElement(c.Icon.CaretRight,null),onClick:()=>u(!1)})))},w=({title:e,showCaret:t=!1,isExpanded:a=!0,toggleExpanded:l=(()=>{}),actions:r,...o})=>s().createElement("div",(0,n.A)({className:"fl-asst-feature-section-header"},o),s().createElement("div",{className:"gutter-space"},t&&s().createElement(c.Button,{onClick:l,icon:a?s().createElement(c.Icon.CaretDown,null):s().createElement(c.Icon.CaretRight,null),appearance:"transparent",size:"sm",shape:"round"})),s().createElement("div",{className:"title-text"},e),r&&s().createElement("div",{className:"header-actions"},r)),S=({tag:e="div",headerComponent:t=w,title:a,className:r,children:c,padContent:o=!0,canCollapse:i=!0,isCollapsed:m=!1,showHeader:d=!0,headerActions:u,description:p,footer:h,onToggle:g=(()=>{}),...E})=>{const[f,y]=(0,l.useState)(!m);(0,l.useEffect)((()=>{f===m&&y(!m)}),[m]);const b=C()("fl-asst-feature-section",{"pad-content":o},r);return s().createElement(e,(0,n.A)({className:b},E),d&&s().createElement(t,{title:a,showCaret:i,isExpanded:f,toggleExpanded:()=>{if(i){const e=!f;y(e),g(e)}},actions:u}),f&&s().createElement(s().Fragment,null,p&&s().createElement("div",{className:"section-description"},p),s().createElement("div",{className:"section-content"},c),h&&s().createElement("div",{className:"section-footer"},h)))},N=({isCollapsed:e,...t})=>{const{recentPostsQuery:a}=(0,m.useAppState)("fl-home"),{setRecentPostsQuery:l}=(0,m.getAppActions)("fl-home"),{contentTypes:r}=(0,m.getSystemConfig)(),o=r[a.post_type];let d="Posts";void 0!==o&&(d=o.labels.plural);const u=()=>s().createElement("select",{value:a.post_type,onChange:e=>{l({...a,post_type:e.target.value})}},Object.entries(r).map((([e,t])=>s().createElement("option",{key:e,value:e},t.labels.plural))));return s().createElement(S,(0,n.A)({title:(0,i.sprintf)("Recent %s",d),className:"recent-posts-feature-section",padContent:!1,headerActions:!e&&s().createElement(u,null),isCollapsed:e},t),s().createElement(c.List.Posts,{endcap:!1,query:a,getItemProps:(e,t)=>e.id?{...t,description:null,marks:[],to:{pathname:`/fl-content/post/${e.id}`,state:{item:e}}}:t}))},_=({children:e,...t})=>s().createElement(c.Button,(0,n.A)({appearance:"transparent"},t),e,s().createElement(c.Icon.ArrowRight,{style:{marginLeft:8}})),A=({headline:e,subtext:t,footer:a,...l})=>s().createElement("div",(0,n.A)({className:"fl-asst-swiper-item"},l),s().createElement("div",{className:"card-content"},e&&s().createElement(c.Text.Title,null,e),t&&s().createElement("p",null,t)),a&&s().createElement("div",{className:"card-bottom-toolbar"},a)),L=({...e})=>{const{pluginURL:t}=(0,m.getSystemConfig)(),a=`${t}/img/apps/fl-home/`;return s().createElement(S,(0,n.A)({className:"fl-asst-apps-feature-section",title:(0,i.__)("Get Started with Apps"),description:(0,i.__)("Assistant apps give you quick access to some of your most frequent tasks."),padContent:!1},e),s().createElement(k,null,s().createElement(A,{headline:s().createElement("div",null,"Share ",s().createElement("strong",null,"Assets")," across all your WordPress sites"),subtext:(0,i.__)("Get access to all your templates & assets on all your sites with Assistant Pro."),style:{"--card-bg":"var(--fl-brand-light-blue)","--card-color":"#125F77",backgroundImage:`url(${a}libraries-card.png)`},footer:s().createElement(_,{to:"/libraries"},(0,i.__)("Go To Libraries App"))}),s().createElement(A,{headline:s().createElement("div",null,"Find ",s().createElement("strong",null,"Content")," Fast"),subtext:(0,i.__)("The content app lets you find posts, pages and more with lightning speed."),style:{"--card-bg":"var(--fl-brand-dark-blue)",backgroundImage:`url(${a}content-card.png)`},footer:s().createElement(_,{to:"/fl-content"},(0,i.__)("Go To Content App"))}),s().createElement(A,{headline:s().createElement("div",null,s().createElement("strong",null,"Media")," At Your Fingertips"),subtext:(0,i.__)("The media app lets you quickly upload and find attachment info no matter where you are."),style:{"--card-bg":"var(--fl-brand-red)",backgroundImage:`url(${a}media-card.png)`},footer:s().createElement(_,{to:"/fl-media"},(0,i.__)("Go To Media App"))})))};var R=a(9489);const I=(e=[],t=12)=>{let a=[];if(t>e.length){const n=t-e.length;a=Array(n).fill(null,0,n)}return[...e,...a]},P=({items:e=[],type:t="image",types:a=[],setType:n=(()=>{})})=>{const{counts:l}=(0,m.useSystemState)("counts"),r=["image","video"],o=C()("media-section-grid",{[`media-grid-type-${t}`]:t});return s().createElement("div",{className:o},s().createElement("ul",{className:"media-grid-nav"},a.map((([e,a])=>{if(!r.includes(e))return null;let c=0;return void 0!==l[`attachment/${e}`]&&(c=l[`attachment/${e}`]),s().createElement("li",{key:e},s().createElement("button",{className:C()({"is-selected":t===e}),onClick:()=>n(e)},s().createElement("span",{className:"media-grid-type-label"},a),s().createElement("span",{className:"media-grid-type-count"},c)))}))),e.map(((e,t)=>{if(null===e)return s().createElement("div",{key:t});if(e instanceof File)return s().createElement("div",{key:t,src:URL.createObjectURL(e),alt:(0,i.sprintf)("Uploading %s",e.name),style:{paddingTop:0,filter:"contrast(0.5) brightness(80%)",backgroundImage:`url( ${URL.createObjectURL(e)} )`,backgroundSize:"cover",color:"white"}},s().createElement(c.Icon.Loading,null));const{type:a,subtype:n,thumbnail:l}=e,r=C()("media-grid-item",{[`media-grid-item-type-${a}`]:a});return s().createElement(c.Button,{key:t,className:r,to:{pathname:`/fl-media/attachment/${e.id}`,state:{item:e}},style:{borderRadius:0,backgroundImage:`url( ${l} )`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}},"audio"===a&&s().createElement(c.Icon.Audio,null),"video"===a&&s().createElement("video",{src:e.url},s().createElement("source",{type:`video/${n}`,src:e.url})))})))},B=()=>s().createElement("div",{className:"media-hover-display"},(0,i.__)("You can just drop that anywhere")),U=({...e})=>{const{attachmentTypes:t}=(0,m.getSystemConfig)(),{attachments:a}=(0,R.getWpRest)(),[r,o]=(0,l.useState)(!0),[d,u]=(0,l.useState)([]),[p,h]=(0,l.useState)("image"),{files:g=[],current:E}=c.Media.useMediaUploads(),f={post_mime_type:p,posts_per_page:36};(0,l.useEffect)((()=>{u([]),a().findWhere(f).then((({data:e})=>{e.items&&(u([...e.items]),o(!1))}))}),[p,E]);const y=()=>s().createElement(c.Button,{to:"/fl-media",appearance:"transparent"},(0,i.__)("Media App"));return s().createElement(S,(0,n.A)({title:(0,i.__)("Media"),headerActions:s().createElement(y,null),padContent:!1},e),s().createElement(c.Media.Uploader,{draggingView:s().createElement(B,null)},s().createElement(k,{disabled:r},s().createElement(P,{items:I([...g,...d]),type:p,types:Object.entries(t),setType:h}))))};var T=a(8566);const $=()=>{const{currentPageView:e}=(0,m.getSystemConfig)(),{id:t,intro:a,name:r,actions:o,isSingular:d,isAttachment:u}=e,p=(()=>{const e=(0,R.getWpRest)(),{currentPageView:t}=(0,m.getSystemConfig)(),{id:a,isSingular:n,isAttachment:s}=t,[r,c]=(0,l.useState)(null);return(0,l.useLayoutEffect)((()=>{s?e.attachments().findById(a).then((e=>{c(e.data)})):n&&e.posts().findById(a).then((e=>{c(e.data)}))}),[]),r})(),h=c.Env.use();let g=[...o];if(d){let e=`/fl-content/post/${t}`;u&&(e=`/fl-media/attachment/${t}`),g.push({handle:"detail",label:(0,i.__)("Edit Details"),to:{pathname:e,state:{item:p}}})}return g=(0,T.applyFilters)("fl-asst.currently-viewing-actions",g,{currentPageView:e,item:p,env:h}),s().createElement("div",{className:"fl-asst-swiper-item home-currently-viewing"},s().createElement("div",{style:{marginBottom:10}},s().createElement("div",{className:"home-currently-viewing-eyebrow"},s().createElement(O,null),a),s().createElement("div",{className:"home-currently-viewing-title"},r)),s().createElement("div",{className:"home-currently-viewing-actions"},g.map((({handle:e="",label:t,isEnabled:a=!0,...l},r)=>{if(!a)return null;const o={key:r,title:t,shape:"round",size:"lg",...l};switch(e){case"edit":return s().createElement(c.Button,o,s().createElement(c.Icon.Edit,null));case"detail":return s().createElement(c.Button,(0,n.A)({},o,{disabled:null===p}),null===p?s().createElement(c.Icon.Loading,null):s().createElement(c.Icon.ArrowRight,null));default:return s().createElement(c.Button,o,t)}}))))},x=()=>{const{counts:e}=(0,m.useSystemState)(),t=(0,m.getSystemConfig)(),a=[{label:t.contentTypes.post.labels.plural,count:e["content/post"]?e["content/post"]:0},{label:(0,i.__)("Comments"),count:e["comment/total"]?e["comment/total"]:0},{label:t.contentTypes.page.labels.plural,count:e["content/page"]?e["content/page"]:0},{label:(0,i.__)("Updates"),count:e["update/total"]?e["update/total"]:0}];return s().createElement("div",{className:"fl-asst-swiper-item home-stat-card"},a.map((({count:e,label:t},a)=>s().createElement("div",{className:"home-stat-count",key:a},s().createElement("div",{className:"home-stat-total"},e),s().createElement("div",{className:"home-stat-label"},t)))))},F=()=>{const{currentPageView:e,adminURLs:t}=(0,m.getSystemConfig)(),{name:a,screenshot:n,team:l,version:r}=e.theme;return void 0===t.switchThemes?null:s().createElement("a",{href:t.switchThemes,className:"fl-asst-swiper-item home-theme-card",target:"_blank",rel:"noreferrer"},s().createElement("div",{className:"theme-card-title"},(0,i.__)("Active Theme")),s().createElement("div",{className:"theme-details"},s().createElement("div",{className:"theme-thumbnail"},s().createElement(c.Layout.AspectBox,{ratio:"4:3",style:{background:`url(${n})`,backgroundSize:"cover"}})),s().createElement("div",{className:"theme-meta"},s().createElement("div",{className:"theme-title"},a),s().createElement("div",null,"Version: ",r),s().createElement("div",null,"Author: ",l))))},O=({size:e=20,...t})=>s().createElement("svg",(0,n.A)({width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),s().createElement("path",{d:"M10.0078 15.6562C10.3672 15.6562 10.8984 14.3125 10.8984 12.3672V7.44531C12.2578 7.0625 13.2344 5.80469 13.2344 4.33594C13.2344 2.54688 11.8047 1.09375 10.0078 1.09375C8.21094 1.09375 6.77344 2.54688 6.77344 4.33594C6.77344 5.80469 7.75781 7.05469 9.10156 7.44531V12.3672C9.10156 14.3047 9.64062 15.6562 10.0078 15.6562ZM9.09375 4.52344C8.50781 4.52344 7.99219 4 7.99219 3.40625C7.99219 2.80469 8.50781 2.30469 9.09375 2.30469C9.70312 2.30469 10.1953 2.80469 10.1953 3.40625C10.1953 4 9.70312 4.52344 9.09375 4.52344ZM10 18.9062C15.1719 18.9062 18.3516 17.2031 18.3516 15.1172C18.3516 12.9844 15.1719 11.5625 12.2734 11.3828V12.9766C14.2031 13.1016 16.4062 13.8906 16.4062 14.9922C16.4062 16.3359 13.7188 17.25 10 17.25C6.27344 17.25 3.58594 16.3438 3.58594 14.9922C3.58594 13.8906 5.79688 13.1016 7.71875 12.9766V11.3828C4.82812 11.5625 1.64844 12.9844 1.64844 15.1172C1.64844 17.2031 4.82812 18.9062 10 18.9062Z",fill:"currentColor"})),W=({...e})=>s().createElement(S,(0,n.A)({title:(0,i.__)("At A Glance"),className:"home-stats-section",padContent:!1},e),s().createElement(k,null,s().createElement($,null),s().createElement(x,null),s().createElement(F,null))),M=({...e})=>{const{pluginURL:t}=(0,m.getSystemConfig)(),a=`${t}/img/apps/fl-home/asst-pro-community-hero.jpg`,l={community:(0,i.__)("Search Community"),libraries:(0,i.__)("My Libraries")};return s().createElement(S,(0,n.A)({className:"home-pro-community-section",padContent:!1,canCollapse:!1,showHeader:!1},e),s().createElement("div",{style:{display:"flex",flexDirection:"column",height:276,backgroundColor:"#E7F9F9",backgroundImage:`url(${a})`,backgroundSize:"436px",backgroundRepeat:"no-repeat",backgroundPosition:"center"}},s().createElement("p",null,(0,i.__)("Discover templates and assets to make your website great with Assistant Pro Community!"))),s().createElement(c.Button.Group,{appearance:"buttons",style:{margin:10,justifyContent:"center",gap:5}},Object.entries(l).map((([e,t])=>s().createElement(c.Button,{to:`/${e}`,appearance:"pillbox"},t)))))},j=()=>{const{currentUser:e}=(0,m.getSystemConfig)();return(0,i.sprintf)("Welcome, %s",e.displayName)},D=()=>{const{collapsedSections:e}=(0,m.useAppState)("fl-home"),{setCollapsedSections:t}=(0,m.getAppActions)("fl-home");return[{handle:"community",render:M},{handle:"stats",render:e=>s().createElement(W,(0,n.A)({title:s().createElement(j,null)},e))},{handle:"media",render:U},{handle:"apps",render:L},{handle:"posts",render:N}].map((({handle:a,render:n,isHidden:l=!1})=>l?null:s().createElement(n,{key:a,isCollapsed:e.includes(a),onToggle:n=>{!1!==n||e.includes(a)||t([...e,a]),!0===n&&e.includes(a)&&t([...e.filter((e=>e!==a))])}})))},z=({baseURL:e})=>{const{keyword:t,setKeyword:a,results:n,clearResults:l,isLoading:r}=q();return s().createElement("div",{id:"cards"},s().createElement(g,{keyword:t,onClear:()=>{a(""),l()},onInput:e=>a(e),onSuggestionClick:e=>a(e)}),""!==t&&s().createElement(b,{items:n,isLoading:r,keyword:t,baseURL:e}),""===t&&s().createElement(s().Fragment,null,!1,s().createElement(D,null),!1))};var K=a(2505);const V=({baseURL:e})=>{const[t,a]=(0,l.useState)([]),{keyword:n,configKey:o}=(0,r.useLocation)().state,{config:m,routes:d}=E({keyword:n,number:20,offset:t.length}),{label:u,format:p}=m[o],h=d[o],g=(0,R.getWpRest)(),y=K.CancelToken.source();(0,l.useEffect)((()=>()=>y.cancel()),[]);return s().createElement(c.Page,{title:""===n?u:(0,i.sprintf)((0,i.__)('%s matching "%s"'),u,n),padX:!1},s().createElement(c.List.Scroller,{items:t,getItemProps:(t,a)=>f({item:t,defaultProps:a,config:m,baseURL:e}),loadItems:e=>{g.search(n,[h],{cancelToken:y.token}).then((n=>{a(t.concat(p(n.data[0].items).map((e=>({...e,configKey:o}))))),e(n.data.has_more)})).catch((e=>{(0,K.isCancel)(e)||console.log(e)}))}}))};var H=a(1880);const G=({tag:e=H.motion.div,className:t,children:a,title:l,eyebrow:r,subtitle:c,thumb:o,actions:i,padX:m=!1,contentProps:d={},footer:u,footerProps:p={},...h})=>{const{className:g,...E}=p,f=C()("fl-asst-card-footer",g),{className:y,...b}=d;return s().createElement(e,(0,n.A)({className:C()({"fl-asst-card":!0,"fl-asst-card-pad-x":m},t),layout:!0},h),s().createElement("div",{className:"fl-asst-card-header"},o&&s().createElement("div",{className:"fl-asst-card-thumbnail"},o),(l||r||c)&&s().createElement("div",{className:"fl-asst-card-title-area"},r&&s().createElement("div",{className:"fl-asst-card-eyebrow"},r),l&&s().createElement("div",{className:"fl-asst-card-title"},l),c&&s().createElement("div",{className:"fl-asst-card-subtitle"},c)),i&&s().createElement("div",{className:"fl-asst-card-actions"},i)),a&&s().createElement("div",(0,n.A)({className:C()("fl-asst-card-content",y)},b),a),u&&s().createElement("div",(0,n.A)({className:f},E),u))},q=()=>{const{keyword:e=""}=(0,m.useAppState)("fl-home"),{setKeyword:t}=(0,m.getAppActions)("fl-home"),[a,n]=(0,l.useState)(!1),[s,r]=(0,l.useState)(null),{setSearchHistory:c}=(0,m.getSystemActions)(),o=(0,R.getWpRest)();let i=K.CancelToken.source();const{config:d,routes:u}=E({keyword:e});return(0,l.useEffect)((()=>(i.cancel(),i=K.CancelToken.source(),""!==e&&(n(!0),r(null),o.search(e,u,{cancelToken:i.token}).then((t=>{const a=[];t.data.map(((e,t)=>{const{label:n,format:l}=d[t];e.items&&e.items.length&&a.push({label:n,configKey:t,items:l(e.items).map((e=>({...e,configKey:t})))})})),a.length&&""!==e&&c(e),r(a),n(!1)})).catch((e=>{(0,K.isCancel)(e)||console.log(e)}))),()=>i.cancel())),[e]),{results:s,clearResults:()=>r(null),isLoading:a,keyword:e,setKeyword:t}};var Y=a(7901);a.p=`${FL_ASSISTANT_CONFIG.pluginURL}/build/`;const Z=()=>s().createElement(s().Fragment,null,s().createElement(c.Icon.PencilOutline,{style:{marginRight:13}}),(0,i.__)("Assistant")),Q=({title:e,className:t,children:a,...l})=>{const r=C()("fl-asst-home-shell-sidebar-section",t);return s().createElement("div",(0,n.A)({className:r},l),e&&s().createElement("div",{className:"fl-asst-home-shell-sidebar-section-title"},e),s().createElement("div",null,a))},X=({baseURL:e=""})=>s().createElement(Q,null,s().createElement("ul",null,s().createElement("li",null,s().createElement(c.Button,{to:`${e}/`,appearance:"transparent",icon:s().createElement(c.Icon.Dashboard,null),isSelected:!0},(0,i.__)("Dashboard","assistant"))))),J=()=>{const e=(0,r.useHistory)();return s().createElement(Q,{title:(0,i.__)("Apps","assistant")},s().createElement(c.App.List,null,(({label:t,handle:a,icon:n,moveDown:l,moveUp:r})=>{const o={pathname:`/${a}`},i={icon:n,context:"sidebar"};return s().createElement(c.Button,{appearance:"transparent",title:t,icon:s().createElement(c.Icon.Safely,i),onClick:()=>{e.push(o)},onKeyDown:e=>{e.keyCode===Y.DOWN&&(l(),e.preventDefault()),e.keyCode===Y.UP&&(r(),e.preventDefault())}},t)})))},ee=()=>{const{adminURLs:e}=(0,m.getSystemConfig)(),t=[{label:(0,i.__)("WordPress Admin","assistant"),href:e.dashboard,icon:c.Icon.WordPress}];return 1>t.length?null:s().createElement(Q,{title:"Shortcuts",className:"fl-asst-home-shortcut-list"},s().createElement("ul",null,t.map((({label:e,href:t,icon:a=c.Icon.Placeholder})=>s().createElement("li",{key:t},s().createElement(c.Button,{href:t,target:"_blank",appearance:"transparent",icon:s().createElement(a,null)},e))))))},te=({className:e,children:t,baseURL:a,...l})=>{const r=C()("fluid-page","fl-asst-home-shell",e);return s().createElement("div",(0,n.A)({className:r},l),s().createElement("nav",{className:"fl-asst-home-shell-sidebar"},s().createElement("div",{style:{fontSize:18,minHeight:80,display:"flex",alignItems:"center",padding:20,paddingLeft:25}},s().createElement(Z,null)),s().createElement(X,{baseURL:a}),s().createElement(J,null),s().createElement(ee,null)),s().createElement("div",{className:"fl-asst-home-shell-content"},t))},ae=e=>{const{config:t}=E(),{baseURL:a}=e;return s().createElement(te,{baseURL:a},s().createElement(c.App.Config,(0,n.A)({pages:{default:z,all:V}},e),t.map((({detail:e},t)=>{if(e)return s().createElement(r.Route,{key:t,path:a+(0,o.addLeadingSlash)(e.path),component:e.component})})),t.map((({detail:e},t)=>{if(e)return s().createElement(r.Route,{key:t,path:`${a}/all`+(0,o.addLeadingSlash)(e.path),component:e.component})}))))}},8168:(e,t,a)=>{function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},n.apply(null,arguments)}a.d(t,{A:()=>n})}}]);