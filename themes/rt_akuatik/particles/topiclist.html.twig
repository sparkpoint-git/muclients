{% extends '@nucleus/partials/particle.html.twig' %}

{% block particle %}
    <div class="{{ particle.class|e }} g-topiclist">
        {% if not particle.source or particle.source == 'particle' %}
            <div class="g-topiclist-featured">
                {% for topic in particle.topics %}
                    {% if topic.featured == "yes" %}
                        <img src="{{ url(topic.image)|e }}" alt="{{ topic.title|e }}">
                        <div class="g-topiclist-featured-content">
                            {% if particle.title %}
                                <h3>{{ particle.title }}</h3>
                            {% endif %}
                            <a href="{{ topic.url }}" target="{{ topic.target|default('_self')|e }}">
                                {{ topic.title|e }}
                            </a>
                            <span>{{ topic.date|date(particle.date_format) }}</span>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
            <div class="g-topiclist-topics">
                {% for topic in particle.topics %}
                    {% if topic.featured == "no" %}
                        <div class="g-topiclist-topic">
                            <a href="{{ topic.url }}" target="{{ topic.target|default('_self')|e }}">
                                {{ topic.title|e }}
                            </a>
                            <span>{{ topic.date|date(particle.date_format) }}</span>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
        {% else %}
            {% include '@particles/topiclist-' ~ gantry.platform.name ~ '.html.twig' ignore missing %}
        {% endif %}
    </div>
{% endblock %}

